var typeScriptHelper=function(n,t){"use strict";function s(n){return n=n||{},typeof n.codeGenTarget=="string"&&(n.codeGenTarget=h(n.codeGenTarget)),f(f({},o),n)}function h(n){var t;switch(n){case"EcmaScript3":t=0;break;case"EcmaScript5":t=1;break;default:throw{name:"TypeError",message:i("ECMAScript target version '{0}' not supported.",n)};}return t}function f(n,t){var i;n=n||{};for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function i(){for(var u=arguments[0],t=u,i,r,f=arguments.length,n=0;n<f-1;n++)i=new RegExp("\\{"+n+"\\}","gm"),r=arguments[n+1],t=t.replace(i,r);return t}function r(n){return n.toLocaleUpperCase()}var u={},o={propagateEnumConstants:!1,removeComments:!1,watch:!1,noResolve:!1,allowAutomaticSemicolonInsertion:!0,noImplicitAny:!1,noLib:!1,codeGenTarget:0,moduleGenTarget:0,outFileOption:"",outDirOption:"",mapSourceFiles:!1,mapRoot:"",sourceRoot:"",generateDeclarationFiles:!1,useCaseSensitiveFileResolution:!1,gatherDiagnostics:!1,updateTC:!1},e=function(){function n(){}return n.prototype.Write=function(){},n.prototype.WriteLine=function(){},n.prototype.Close=function(){},n}(),c=function(){function n(n){this._files=n;this.newLine="\r\n";this.stderr=new e;this.stdout=new e}var u="Method 'IoHost.{0}' is not implemented.";return n.prototype.readFile=function(n){var u,f;if(u=r(n),typeof this._files[u]=="undefined")throw new Error(i("File '{0}' does not exist.",n));return f=this._files[u],new t(f.content,0)},n.prototype.writeFile=function(n,t){var i=r(n);this._files[i]={path:n,content:t}},n.prototype.deleteFile=function(n){var t=r(n);this._files[t]=undefined},n.prototype.dir=function(){throw new Error(i(u,"dir"));},n.prototype.fileExists=function(n){var t;return t=r(n),typeof this._files[t]!="undefined"},n.prototype.directoryExists=function(){throw new Error(i(u,"directoryExists"));},n.prototype.createDirectory=function(){throw new Error(i(u,"createDirectory"));},n.prototype.resolvePath=function(n){return n},n.prototype.dirName=function(){return""},n.prototype.findFile=function(){throw new Error(i(u,"findFile"));},n.prototype.print=function(){throw new Error(i(u,"print"));},n.prototype.printLine=function(){throw new Error(i(u,"printLine"));},n.prototype.watchFile=function(){throw new Error(i(u,"watchFile"));},n.prototype.run=function(){throw new Error(i(u,"run"));},n.prototype.getExecutingFilePath=function(){throw new Error(i(u,"getExecutingFilePath"));},n.prototype.quit=function(){throw new Error(i(u,"quit"));},n.prototype.dispose=function(){this._files=null;this.stderr=null;this.stdout=null},n}(),l=function(){function n(n,t){this.scriptSnapshot=n;this.byteOrderMark=t}return n}(),a=function(){function t(t,i){this.ioHost=t;this.inputFiles=[];this.resolvedFiles=[];this.inputFileNameToOutputFileName=new n.StringHashTable;this.fileNameToSourceFile=new n.StringHashTable;this.errors=[];this.hasErrors=!1;this.logger=null;this.compilationSettings=i}return t.prototype.compile=function(t){var i,r,u,f;return(this.inputFiles.push(t),this.logger=new n.NullLogger,this._resolve(),i=new n.TypeScriptCompiler(this.logger,this.compilationSettings),r=this._addSourceUnit(i),r)?!0:(i.pullTypeCheck(),u=this._diagnoseSemanticErrors(i),f=this._emitAll(i),f)?!0:u?!0:!1},t.prototype._resolve=function(){var f,t,i,u,r,e,o;for(i=n.ReferenceResolver.resolve(this.inputFiles,this,this.compilationSettings),t=i.resolvedFiles,f=!this.compilationSettings.noLib&&!i.seenNoDefaultLibTag,u=i.diagnostics,e=u.length,r=0;r<e;r++)this.addDiagnostic(u[r]);f&&(o={path:this.getDefaultLibraryFilePath(),referencedFiles:[],importedFiles:[]},t=[o].concat(t));this.resolvedFiles=t},t.prototype._addSourceUnit=function(n){var e=!1,r,t,i,o,u,f;for(r=this.resolvedFiles,o=r.length,i=0;i<o;i++)t=r[i],u=this.getSourceFile(t.path),n.addSourceUnit(t.path,u.scriptSnapshot,u.byteOrderMark,0,!1,t.referencedFiles),f=n.getSyntacticDiagnostics(t.path),n.reportDiagnostics(f,this),f.length>0&&(e=!0);return e},t.prototype._diagnoseSemanticErrors=function(n){var u=!1,i,f,t,e,r;for(i=n.fileNameToDocument.getAllKeys(),e=i.length,t=0;t<e;t++)f=i[t],r=n.getSemanticDiagnostics(f),r.length>0&&(u=!0,n.reportDiagnostics(r,this));return u},t.prototype._emitAll=function(n){var r=this,i,t;return i=function(n,t){r.inputFileNameToOutputFileName.addOrUpdate(n,t)},t=n.emitAll(this,i),n.reportDiagnostics(t,this),t.length>0},t.prototype.getSourceFile=function(t){var i=this.fileNameToSourceFile.lookup(t),r,u;return i||(r=this.ioHost.readFile(t),u=n.ScriptSnapshot.fromString(r.contents),i=new l(u,r.byteOrderMark),this.fileNameToSourceFile.add(t,i)),i},t.prototype.getDefaultLibraryFilePath=function(){return"lib.d.ts"},t.prototype.getScriptSnapshot=function(n){return this.getSourceFile(n).scriptSnapshot},t.prototype.resolveRelativePath=function(n){return n},t.prototype.fileExists=function(n){return this.ioHost.fileExists(n)},t.prototype.getParentDirectory=function(n){return this.ioHost.dirName(n)},t.prototype.addDiagnostic=function(t){var r=0,u=0;if(this.hasErrors=!0,t.fileName()){var f=this.getScriptSnapshot(t.fileName()),e=new n.LineMap(f.getLineStartPositions(),f.getLength()),i={line:-1,character:-1};e.fillLineAndCharacterFromPosition(t.start(),i);r=i.line+1;u=i.character+1}this.errors.push({message:t.message(),fileName:t.fileName(),lineNumber:r,columnNumber:u})},t.prototype.writeFile=function(n,t){this.ioHost.writeFile(n,t)},t.prototype.directoryExists=function(n){return this.ioHost.directoryExists(n)},t.prototype.resolvePath=function(n){return this.ioHost.resolvePath(n)},t.prototype.dispose=function(){this.ioHost=null;this.inputFiles=null;this.resolvedFiles=null;this.inputFileNameToOutputFileName=null;this.fileNameToSourceFile=null;this.errors=null;this.hasErrors=!1;this.logger=null;this.compilationSettings=null},t}();return u.compile=function(n,t,i,u){var v={compiledCode:""},f=t,w,g=f.replace(/\.ts$/i,".js"),y,e,p,o,b,k,h,l,d;if(e={},i)for(b=i.length,o=0;o<b;o++)p=i[o],k=r(p.path),e[k]=p;return w=r(f),e[w]={path:f,content:n},h=new c(e),l=new a(h,s(u)),d=l.compile(f),d?v.errors=l.errors:(y=h.readFile(g),y&&(v.compiledCode=y.contents)),l.dispose(),h.dispose(),JSON.stringify(v)},u}(TypeScript,FileInformation);