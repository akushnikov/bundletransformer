var ByteOrderMark,FileInformation,Environment,global,__extends,FormattingOptions,TypeScript;(function(n){var t=function(){function t(){}return t.isArray=function(n){return Object.prototype.toString.apply(n,[])==="[object Array]"},t.sequenceEquals=function(n,t,i){if(n===t)return!0;if(n===null||t===null||n.length!==t.length)return!1;for(var r=0,u=n.length;r<u;r++)if(!i(n[r],t[r]))return!1;return!0},t.contains=function(n,t){for(var i=0;i<n.length;i++)if(n[i]===t)return!0;return!1},t.groupBy=function(n,t){for(var r={},i=0,u=n.length;i<u;i++){var f=n[i],e=t(f),o=r[e]||[];o.push(f);r[e]=o}return r},t.min=function(n,t){for(var r=t(n[0]),u,i=1;i<n.length;i++)u=t(n[i]),u<r&&(r=u);return r},t.max=function(n,t){for(var r=t(n[0]),u,i=1;i<n.length;i++)u=t(n[i]),u>r&&(r=u);return r},t.last=function(t){if(t.length===0)throw n.Errors.argumentOutOfRange("array");return t[t.length-1]},t.firstOrDefault=function(n,t){for(var r,i=0,u=n.length;i<u;i++)if(r=n[i],t(r))return r;return null},t.sum=function(n,t){for(var r=0,i=0,u=n.length;i<u;i++)r+=t(n[i]);return r},t.whereNotNull=function(n){for(var r=[],i,t=0;t<n.length;t++)i=n[t],i!==null&&r.push(i);return r},t.select=function(n,t){for(var r=[],i=0;i<n.length;i++)r.push(t(n[i]));return r},t.where=function(n,t){for(var r=[],i=0;i<n.length;i++)t(n[i])&&r.push(n[i]);return r},t.any=function(n,t){for(var i=0,r=n.length;i<r;i++)if(t(n[i]))return!0;return!1},t.all=function(n,t){for(var i=0,r=n.length;i<r;i++)if(!t(n[i]))return!1;return!0},t.binarySearch=function(n,t){for(var i=0,u=n.length-1,r,f;i<=u;){if(r=i+(u-i>>1),f=n[r],f===t)return r;f>t?u=r-1:i=r+1}return~i},t.createArray=function(n,t){for(var r=[],i=0;i<n;i++)r.push(t);return r},t.grow=function(n,t,i){for(var u=t-n.length,r=0;r<u;r++)n.push(i)},t.copy=function(n,t,i,r,u){for(var f=0;f<u;f++)i[r+f]=n[t+f]},t}();n.ArrayUtilities=t})(TypeScript||(TypeScript={})),function(n){(function(n){n[n.Max31BitInteger=1073741823]="Max31BitInteger";n[n.Min31BitInteger=-1073741824]="Min31BitInteger"})(n.Constants||(n.Constants={}));var t=n.Constants}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.requires=function(n){if(!n)throw new Error("Contract violated. False expression.");},n.throwIfFalse=function(n){if(!n)throw new Error("Contract violated. False expression.");},n.throwIfNull=function(n){if(n===null)throw new Error("Contract violated. Null value.");},n}();n.Contract=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.assert=function(n,t){if(!n)throw new Error("Debug Failure. False expression: "+(t?t:""));},n}();n.Debug=t}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.Warning=0]="Warning";n[n.Error=1]="Error";n[n.Message=2]="Message";n[n.NoPrefix=3]="NoPrefix"})(n.DiagnosticCategory||(n.DiagnosticCategory={}));var t=n.DiagnosticCategory}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.error_TS_0__1=0]="error_TS_0__1";n[n.warning_TS_0__1=1]="warning_TS_0__1";n[n._0__NL__1_TB__2=2]="_0__NL__1_TB__2";n[n._0_TB__1=3]="_0_TB__1";n[n.Unrecognized_escape_sequence=4]="Unrecognized_escape_sequence";n[n.Unexpected_character_0=5]="Unexpected_character_0";n[n.Missing_closing_quote_character=6]="Missing_closing_quote_character";n[n.Identifier_expected=7]="Identifier_expected";n[n._0_keyword_expected=8]="_0_keyword_expected";n[n._0_expected=9]="_0_expected";n[n.Identifier_expected__0__is_a_keyword=10]="Identifier_expected__0__is_a_keyword";n[n.Automatic_semicolon_insertion_not_allowed=11]="Automatic_semicolon_insertion_not_allowed";n[n.Unexpected_token__0_expected=12]="Unexpected_token__0_expected";n[n.Trailing_separator_not_allowed=13]="Trailing_separator_not_allowed";n[n._StarSlash__expected=14]="_StarSlash__expected";n[n._public_or_private_modifier_must_precede__static_=15]="_public_or_private_modifier_must_precede__static_";n[n.Unexpected_token_=16]="Unexpected_token_";n[n.A_catch_clause_variable_cannot_have_a_type_annotation=17]="A_catch_clause_variable_cannot_have_a_type_annotation";n[n.Rest_parameter_must_be_last_in_list=18]="Rest_parameter_must_be_last_in_list";n[n.Parameter_cannot_have_question_mark_and_initializer=19]="Parameter_cannot_have_question_mark_and_initializer";n[n.Required_parameter_cannot_follow_optional_parameter=20]="Required_parameter_cannot_follow_optional_parameter";n[n.Index_signatures_cannot_have_rest_parameters=21]="Index_signatures_cannot_have_rest_parameters";n[n.Index_signature_parameter_cannot_have_accessibility_modifiers=22]="Index_signature_parameter_cannot_have_accessibility_modifiers";n[n.Index_signature_parameter_cannot_have_a_question_mark=23]="Index_signature_parameter_cannot_have_a_question_mark";n[n.Index_signature_parameter_cannot_have_an_initializer=24]="Index_signature_parameter_cannot_have_an_initializer";n[n.Index_signature_must_have_a_type_annotation=25]="Index_signature_must_have_a_type_annotation";n[n.Index_signature_parameter_must_have_a_type_annotation=26]="Index_signature_parameter_must_have_a_type_annotation";n[n.Index_signature_parameter_type_must_be__string__or__number_=27]="Index_signature_parameter_type_must_be__string__or__number_";n[n._extends__clause_already_seen=28]="_extends__clause_already_seen";n[n._extends__clause_must_precede__implements__clause=29]="_extends__clause_must_precede__implements__clause";n[n.Class_can_only_extend_single_type=30]="Class_can_only_extend_single_type";n[n._implements__clause_already_seen=31]="_implements__clause_already_seen";n[n.Accessibility_modifier_already_seen=32]="Accessibility_modifier_already_seen";n[n._0__modifier_must_precede__1__modifier=33]="_0__modifier_must_precede__1__modifier";n[n._0__modifier_already_seen=34]="_0__modifier_already_seen";n[n._0__modifier_cannot_appear_on_a_class_element=35]="_0__modifier_cannot_appear_on_a_class_element";n[n.Interface_declaration_cannot_have__implements__clause=36]="Interface_declaration_cannot_have__implements__clause";n[n._super__invocation_cannot_have_type_arguments=37]="_super__invocation_cannot_have_type_arguments";n[n.Non_ambient_modules_cannot_use_quoted_names=38]="Non_ambient_modules_cannot_use_quoted_names";n[n.Statements_are_not_allowed_in_ambient_contexts=39]="Statements_are_not_allowed_in_ambient_contexts";n[n.Implementations_are_not_allowed_in_ambient_contexts=40]="Implementations_are_not_allowed_in_ambient_contexts";n[n._declare__modifier_not_allowed_for_code_already_in_an_ambient_context=41]="_declare__modifier_not_allowed_for_code_already_in_an_ambient_context";n[n.Initializers_are_not_allowed_in_ambient_contexts=42]="Initializers_are_not_allowed_in_ambient_contexts";n[n.Overload_and_ambient_signatures_cannot_specify_parameter_properties=43]="Overload_and_ambient_signatures_cannot_specify_parameter_properties";n[n.Function_implementation_expected=44]="Function_implementation_expected";n[n.Constructor_implementation_expected=45]="Constructor_implementation_expected";n[n.Function_overload_name_must_be__0_=46]="Function_overload_name_must_be__0_";n[n._0__modifier_cannot_appear_on_a_module_element=47]="_0__modifier_cannot_appear_on_a_module_element";n[n._declare__modifier_cannot_appear_on_an_interface_declaration=48]="_declare__modifier_cannot_appear_on_an_interface_declaration";n[n._declare__modifier_required_for_top_level_element=49]="_declare__modifier_required_for_top_level_element";n[n._set__accessor_must_have_only_one_parameter=50]="_set__accessor_must_have_only_one_parameter";n[n._set__accessor_parameter_cannot_have_accessibility_modifier=51]="_set__accessor_parameter_cannot_have_accessibility_modifier";n[n._set__accessor_parameter_cannot_be_optional=52]="_set__accessor_parameter_cannot_be_optional";n[n._set__accessor_parameter_cannot_have_initializer=53]="_set__accessor_parameter_cannot_have_initializer";n[n._set__accessor_cannot_have_rest_parameter=54]="_set__accessor_cannot_have_rest_parameter";n[n._get__accessor_cannot_have_parameters=55]="_get__accessor_cannot_have_parameters";n[n.Rest_parameter_cannot_be_optional=56]="Rest_parameter_cannot_be_optional";n[n.Rest_parameter_cannot_have_initializer=57]="Rest_parameter_cannot_have_initializer";n[n.Modifiers_cannot_appear_here=58]="Modifiers_cannot_appear_here";n[n.Accessors_are_only_available_when_targeting_EcmaScript5_and_higher=59]="Accessors_are_only_available_when_targeting_EcmaScript5_and_higher";n[n.Class_name_cannot_be__0_=60]="Class_name_cannot_be__0_";n[n.Interface_name_cannot_be__0_=61]="Interface_name_cannot_be__0_";n[n.Enum_name_cannot_be__0_=62]="Enum_name_cannot_be__0_";n[n.Module_name_cannot_be__0_=63]="Module_name_cannot_be__0_";n[n.Enum_member_must_have_initializer=64]="Enum_member_must_have_initializer";n[n._module_______is_deprecated__Use__require_______instead=65]="_module_______is_deprecated__Use__require_______instead";n[n.Export_assignments_cannot_be_used_in_internal_modules=66]="Export_assignments_cannot_be_used_in_internal_modules";n[n.Export_assignment_not_allowed_in_module_with_exported_element=67]="Export_assignment_not_allowed_in_module_with_exported_element";n[n.Module_cannot_have_multiple_export_assignments=68]="Module_cannot_have_multiple_export_assignments";n[n.Duplicate_identifier__0_=69]="Duplicate_identifier__0_";n[n.The_name__0__does_not_exist_in_the_current_scope=70]="The_name__0__does_not_exist_in_the_current_scope";n[n.The_name__0__does_not_refer_to_a_value=71]="The_name__0__does_not_refer_to_a_value";n[n.Keyword__super__can_only_be_used_inside_a_class_instance_method=72]="Keyword__super__can_only_be_used_inside_a_class_instance_method";n[n.The_left_hand_side_of_an_assignment_expression_must_be_a_variable__property_or_indexer=73]="The_left_hand_side_of_an_assignment_expression_must_be_a_variable__property_or_indexer";n[n.Value_of_type__0__is_not_callable__Did_you_mean_to_include__new__=74]="Value_of_type__0__is_not_callable__Did_you_mean_to_include__new__";n[n.Value_of_type__0__is_not_callable=75]="Value_of_type__0__is_not_callable";n[n.Value_of_type__0__is_not_newable=76]="Value_of_type__0__is_not_newable";n[n.Value_of_type__0__is_not_indexable_by_type__1_=77]="Value_of_type__0__is_not_indexable_by_type__1_";n[n.Operator__0__cannot_be_applied_to_types__1__and__2_=78]="Operator__0__cannot_be_applied_to_types__1__and__2_";n[n.Operator__0__cannot_be_applied_to_types__1__and__2__3=79]="Operator__0__cannot_be_applied_to_types__1__and__2__3";n[n.Cannot_convert__0__to__1_=80]="Cannot_convert__0__to__1_";n[n.Cannot_convert__0__to__1__NL__2=81]="Cannot_convert__0__to__1__NL__2";n[n.Expected_var__class__interface__or_module=82]="Expected_var__class__interface__or_module";n[n.Operator__0__cannot_be_applied_to_type__1_=83]="Operator__0__cannot_be_applied_to_type__1_";n[n.Getter__0__already_declared=84]="Getter__0__already_declared";n[n.Setter__0__already_declared=85]="Setter__0__already_declared";n[n.Accessor_cannot_have_type_parameters=86]="Accessor_cannot_have_type_parameters";n[n.Exported_class__0__extends_private_class__1_=87]="Exported_class__0__extends_private_class__1_";n[n.Exported_class__0__implements_private_interface__1_=88]="Exported_class__0__implements_private_interface__1_";n[n.Exported_interface__0__extends_private_interface__1_=89]="Exported_interface__0__extends_private_interface__1_";n[n.Exported_class__0__extends_class_from_inaccessible_module__1_=90]="Exported_class__0__extends_class_from_inaccessible_module__1_";n[n.Exported_class__0__implements_interface_from_inaccessible_module__1_=91]="Exported_class__0__implements_interface_from_inaccessible_module__1_";n[n.Exported_interface__0__extends_interface_from_inaccessible_module__1_=92]="Exported_interface__0__extends_interface_from_inaccessible_module__1_";n[n.Public_static_property__0__of__exported_class_has_or_is_using_private_type__1_=93]="Public_static_property__0__of__exported_class_has_or_is_using_private_type__1_";n[n.Public_property__0__of__exported_class_has_or_is_using_private_type__1_=94]="Public_property__0__of__exported_class_has_or_is_using_private_type__1_";n[n.Property__0__of__exported_interface_has_or_is_using_private_type__1_=95]="Property__0__of__exported_interface_has_or_is_using_private_type__1_";n[n.Exported_variable__0__has_or_is_using_private_type__1_=96]="Exported_variable__0__has_or_is_using_private_type__1_";n[n.Public_static_property__0__of__exported_class_is_using_inaccessible_module__1_=97]="Public_static_property__0__of__exported_class_is_using_inaccessible_module__1_";n[n.Public_property__0__of__exported_class_is_using_inaccessible_module__1_=98]="Public_property__0__of__exported_class_is_using_inaccessible_module__1_";n[n.Property__0__of__exported_interface_is_using_inaccessible_module__1_=99]="Property__0__of__exported_interface_is_using_inaccessible_module__1_";n[n.Exported_variable__0__is_using_inaccessible_module__1_=100]="Exported_variable__0__is_using_inaccessible_module__1_";n[n.Parameter__0__of_constructor_from_exported_class_has_or_is_using_private_type__1_=101]="Parameter__0__of_constructor_from_exported_class_has_or_is_using_private_type__1_";n[n.Parameter__0__of_public_static_property_setter_from_exported_class_has_or_is_using_private_type__1_=102]="Parameter__0__of_public_static_property_setter_from_exported_class_has_or_is_using_private_type__1_";n[n.Parameter__0__of_public_property_setter_from_exported_class_has_or_is_using_private_type__1_=103]="Parameter__0__of_public_property_setter_from_exported_class_has_or_is_using_private_type__1_";n[n.Parameter__0__of_constructor_signature_from_exported_interface_has_or_is_using_private_type__1_=104]="Parameter__0__of_constructor_signature_from_exported_interface_has_or_is_using_private_type__1_";n[n.Parameter__0__of_call_signature_from_exported_interface_has_or_is_using_private_type__1_=105]="Parameter__0__of_call_signature_from_exported_interface_has_or_is_using_private_type__1_";n[n.Parameter__0__of_public_static_method_from_exported_class_has_or_is_using_private_type__1_=106]="Parameter__0__of_public_static_method_from_exported_class_has_or_is_using_private_type__1_";n[n.Parameter__0__of_public_method_from_exported_class_has_or_is_using_private_type__1_=107]="Parameter__0__of_public_method_from_exported_class_has_or_is_using_private_type__1_";n[n.Parameter__0__of_method_from_exported_interface_has_or_is_using_private_type__1_=108]="Parameter__0__of_method_from_exported_interface_has_or_is_using_private_type__1_";n[n.Parameter__0__of_exported_function_has_or_is_using_private_type__1_=109]="Parameter__0__of_exported_function_has_or_is_using_private_type__1_";n[n.Parameter__0__of_constructor_from_exported_class_is_using_inaccessible_module__1_=110]="Parameter__0__of_constructor_from_exported_class_is_using_inaccessible_module__1_";n[n.Parameter__0__of_public_static_property_setter_from_exported_class_is_using_inaccessible_module__1_=111]="Parameter__0__of_public_static_property_setter_from_exported_class_is_using_inaccessible_module__1_";n[n.Parameter__0__of_public_property_setter_from_exported_class_is_using_inaccessible_module__1_=112]="Parameter__0__of_public_property_setter_from_exported_class_is_using_inaccessible_module__1_";n[n.Parameter__0__of_constructor_signature_from_exported_interface_is_using_inaccessible_module__1_=113]="Parameter__0__of_constructor_signature_from_exported_interface_is_using_inaccessible_module__1_";n[n.Parameter__0__of_call_signature_from_exported_interface_is_using_inaccessible_module__1_=114]="Parameter__0__of_call_signature_from_exported_interface_is_using_inaccessible_module__1_";n[n.Parameter__0__of_public_static_method_from_exported_class_is_using_inaccessible_module__1_=115]="Parameter__0__of_public_static_method_from_exported_class_is_using_inaccessible_module__1_";n[n.Parameter__0__of_public_method_from_exported_class_is_using_inaccessible_module__1_=116]="Parameter__0__of_public_method_from_exported_class_is_using_inaccessible_module__1_";n[n.Parameter__0__of_method_from_exported_interface_is_using_inaccessible_module__1_=117]="Parameter__0__of_method_from_exported_interface_is_using_inaccessible_module__1_";n[n.Parameter__0__of_exported_function_is_using_inaccessible_module__1_=118]="Parameter__0__of_exported_function_is_using_inaccessible_module__1_";n[n.Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_type__0_=119]="Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_type__0_";n[n.Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_type__0_=120]="Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_type__0_";n[n.Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_type__0_=121]="Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_type__0_";n[n.Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_type__0_=122]="Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_type__0_";n[n.Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_type__0_=123]="Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_type__0_";n[n.Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_type__0_=124]="Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_type__0_";n[n.Return_type_of_public_method_from_exported_class_has_or_is_using_private_type__0_=125]="Return_type_of_public_method_from_exported_class_has_or_is_using_private_type__0_";n[n.Return_type_of_method_from_exported_interface_has_or_is_using_private_type__0_=126]="Return_type_of_method_from_exported_interface_has_or_is_using_private_type__0_";n[n.Return_type_of_exported_function_has_or_is_using_private_type__0_=127]="Return_type_of_exported_function_has_or_is_using_private_type__0_";n[n.Return_type_of_public_static_property_getter_from_exported_class_is_using_inaccessible_module__0_=128]="Return_type_of_public_static_property_getter_from_exported_class_is_using_inaccessible_module__0_";n[n.Return_type_of_public_property_getter_from_exported_class_is_using_inaccessible_module__0_=129]="Return_type_of_public_property_getter_from_exported_class_is_using_inaccessible_module__0_";n[n.Return_type_of_constructor_signature_from_exported_interface_is_using_inaccessible_module__0_=130]="Return_type_of_constructor_signature_from_exported_interface_is_using_inaccessible_module__0_";n[n.Return_type_of_call_signature_from_exported_interface_is_using_inaccessible_module__0_=131]="Return_type_of_call_signature_from_exported_interface_is_using_inaccessible_module__0_";n[n.Return_type_of_index_signature_from_exported_interface_is_using_inaccessible_module__0_=132]="Return_type_of_index_signature_from_exported_interface_is_using_inaccessible_module__0_";n[n.Return_type_of_public_static_method_from_exported_class_is_using_inaccessible_module__0_=133]="Return_type_of_public_static_method_from_exported_class_is_using_inaccessible_module__0_";n[n.Return_type_of_public_method_from_exported_class_is_using_inaccessible_module__0_=134]="Return_type_of_public_method_from_exported_class_is_using_inaccessible_module__0_";n[n.Return_type_of_method_from_exported_interface_is_using_inaccessible_module__0_=135]="Return_type_of_method_from_exported_interface_is_using_inaccessible_module__0_";n[n.Return_type_of_exported_function_is_using_inaccessible_module__0_=136]="Return_type_of_exported_function_is_using_inaccessible_module__0_";n[n._new_T____cannot_be_used_to_create_an_array__Use__new_Array_T_____instead=137]="_new_T____cannot_be_used_to_create_an_array__Use__new_Array_T_____instead";n[n.A_parameter_list_must_follow_a_generic_type_argument_list______expected=138]="A_parameter_list_must_follow_a_generic_type_argument_list______expected";n[n.Multiple_constructor_implementations_are_not_allowed=139]="Multiple_constructor_implementations_are_not_allowed";n[n.Unable_to_resolve_external_module__0_=140]="Unable_to_resolve_external_module__0_";n[n.Module_cannot_be_aliased_to_a_non_module_type=141]="Module_cannot_be_aliased_to_a_non_module_type";n[n.A_class_may_only_extend_another_class=142]="A_class_may_only_extend_another_class";n[n.A_class_may_only_implement_another_class_or_interface=143]="A_class_may_only_implement_another_class_or_interface";n[n.An_interface_may_only_extend_another_class_or_interface=144]="An_interface_may_only_extend_another_class_or_interface";n[n.An_interface_cannot_implement_another_type=145]="An_interface_cannot_implement_another_type";n[n.Unable_to_resolve_type=146]="Unable_to_resolve_type";n[n.Unable_to_resolve_type_of__0_=147]="Unable_to_resolve_type_of__0_";n[n.Unable_to_resolve_type_parameter_constraint=148]="Unable_to_resolve_type_parameter_constraint";n[n.Type_parameter_constraint_cannot_be_a_primitive_type=149]="Type_parameter_constraint_cannot_be_a_primitive_type";n[n.Supplied_parameters_do_not_match_any_signature_of_call_target=150]="Supplied_parameters_do_not_match_any_signature_of_call_target";n[n.Supplied_parameters_do_not_match_any_signature_of_call_target__NL__0=151]="Supplied_parameters_do_not_match_any_signature_of_call_target__NL__0";n[n.Invalid__new__expression=152]="Invalid__new__expression";n[n.Call_signatures_used_in_a__new__expression_must_have_a__void__return_type=153]="Call_signatures_used_in_a__new__expression_must_have_a__void__return_type";n[n.Could_not_select_overload_for__new__expression=154]="Could_not_select_overload_for__new__expression";n[n.Type__0__does_not_satisfy_the_constraint__1__for_type_parameter__2_=155]="Type__0__does_not_satisfy_the_constraint__1__for_type_parameter__2_";n[n.Could_not_select_overload_for__call__expression=156]="Could_not_select_overload_for__call__expression";n[n.Unable_to_invoke_type_with_no_call_signatures=157]="Unable_to_invoke_type_with_no_call_signatures";n[n.Calls_to__super__are_only_valid_inside_a_class=158]="Calls_to__super__are_only_valid_inside_a_class";n[n.Generic_type__0__requires_1_type_argument_s_=159]="Generic_type__0__requires_1_type_argument_s_";n[n.Type_of_conditional_expression_cannot_be_determined__Best_common_type_could_not_be_found_between__0__and__1_=160]="Type_of_conditional_expression_cannot_be_determined__Best_common_type_could_not_be_found_between__0__and__1_";n[n.Type_of_array_literal_cannot_be_determined__Best_common_type_could_not_be_found_for_array_elements=161]="Type_of_array_literal_cannot_be_determined__Best_common_type_could_not_be_found_for_array_elements";n[n.Could_not_find_enclosing_symbol_for_dotted_name__0_=162]="Could_not_find_enclosing_symbol_for_dotted_name__0_";n[n.The_property__0__does_not_exist_on_value_of_type__1__=163]="The_property__0__does_not_exist_on_value_of_type__1__";n[n.Could_not_find_symbol__0_=164]="Could_not_find_symbol__0_";n[n._get__and__set__accessor_must_have_the_same_type=165]="_get__and__set__accessor_must_have_the_same_type";n[n._this__cannot_be_referenced_in_current_location=166]="_this__cannot_be_referenced_in_current_location";n[n.Use_of_deprecated__bool__type__Use__boolean__instead=167]="Use_of_deprecated__bool__type__Use__boolean__instead";n[n.Class__0__is_recursively_referenced_as_a_base_type_of_itself=168]="Class__0__is_recursively_referenced_as_a_base_type_of_itself";n[n.Interface__0__is_recursively_referenced_as_a_base_type_of_itself=169]="Interface__0__is_recursively_referenced_as_a_base_type_of_itself";n[n._super__property_access_is_permitted_only_in_a_constructor__instance_member_function__or_instance_member_accessor_of_a_derived_class=170]="_super__property_access_is_permitted_only_in_a_constructor__instance_member_function__or_instance_member_accessor_of_a_derived_class";n[n._super__cannot_be_referenced_in_non_derived_classes=171]="_super__cannot_be_referenced_in_non_derived_classes";n[n.A__super__call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_intialized_properties_or_has_parameter_properties=172]="A__super__call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_intialized_properties_or_has_parameter_properties";n[n.Constructors_for_derived_classes_must_contain_a__super__call=173]="Constructors_for_derived_classes_must_contain_a__super__call";n[n.Super_calls_are_not_permitted_outside_constructors_or_in_local_functions_inside_constructors=174]="Super_calls_are_not_permitted_outside_constructors_or_in_local_functions_inside_constructors";n[n._0_1__is_inaccessible=175]="_0_1__is_inaccessible";n[n._this__cannot_be_referenced_within_module_bodies=176]="_this__cannot_be_referenced_within_module_bodies";n[n._this__must_only_be_used_inside_a_function_or_script_context=177]="_this__must_only_be_used_inside_a_function_or_script_context";n[n.Invalid__addition__expression___types_do_not_agree=178]="Invalid__addition__expression___types_do_not_agree";n[n.The_right_hand_side_of_an_arithmetic_operation_must_be_of_type__any____number__or_an_enum_type=179]="The_right_hand_side_of_an_arithmetic_operation_must_be_of_type__any____number__or_an_enum_type";n[n.The_left_hand_side_of_an_arithmetic_operation_must_be_of_type__any____number__or_an_enum_type=180]="The_left_hand_side_of_an_arithmetic_operation_must_be_of_type__any____number__or_an_enum_type";n[n.The_type_of_a_unary_arithmetic_operation_operand_must_be_of_type__any____number__or_an_enum_type=181]="The_type_of_a_unary_arithmetic_operation_operand_must_be_of_type__any____number__or_an_enum_type";n[n.Variable_declarations_for_for_in_expressions_cannot_contain_a_type_annotation=182]="Variable_declarations_for_for_in_expressions_cannot_contain_a_type_annotation";n[n.Variable_declarations_for_for_in_expressions_must_be_of_types__string__or__any_=183]="Variable_declarations_for_for_in_expressions_must_be_of_types__string__or__any_";n[n.The_right_operand_of_a_for_in_expression_must_be_of_type__any____an_object_type_or_a_type_parameter=184]="The_right_operand_of_a_for_in_expression_must_be_of_type__any____an_object_type_or_a_type_parameter";n[n.The_left_hand_side_of_an__in__expression_must_be_of_types__string__or__any_=185]="The_left_hand_side_of_an__in__expression_must_be_of_types__string__or__any_";n[n.The_right_hand_side_of_an__in__expression_must_be_of_type__any___an_object_type_or_a_type_parameter=186]="The_right_hand_side_of_an__in__expression_must_be_of_type__any___an_object_type_or_a_type_parameter";n[n.The_left_hand_side_of_an__instanceOf__expression_must_be_of_type__any___an_object_type_or_a_type_parameter=187]="The_left_hand_side_of_an__instanceOf__expression_must_be_of_type__any___an_object_type_or_a_type_parameter";n[n.The_right_hand_side_of_an__instanceOf__expression_must_be_of_type__any__or_a_subtype_of_the__Function__interface_type=188]="The_right_hand_side_of_an__instanceOf__expression_must_be_of_type__any__or_a_subtype_of_the__Function__interface_type";n[n.Setters_cannot_return_a_value=189]="Setters_cannot_return_a_value";n[n.Tried_to_set_variable_type_to_module_type__0__=190]="Tried_to_set_variable_type_to_module_type__0__";n[n.Tried_to_set_variable_type_to_uninitialized_module_type__0__=191]="Tried_to_set_variable_type_to_uninitialized_module_type__0__";n[n.Function__0__declared_a_non_void_return_type__but_has_no_return_expression=192]="Function__0__declared_a_non_void_return_type__but_has_no_return_expression";n[n.Getters_must_return_a_value=193]="Getters_must_return_a_value";n[n.Getter_and_setter_accessors_do_not_agree_in_visibility=194]="Getter_and_setter_accessors_do_not_agree_in_visibility";n[n.Invalid_left_hand_side_of_assignment_expression=195]="Invalid_left_hand_side_of_assignment_expression";n[n.Function_declared_a_non_void_return_type__but_has_no_return_expression=196]="Function_declared_a_non_void_return_type__but_has_no_return_expression";n[n.Cannot_resolve_return_type_reference=197]="Cannot_resolve_return_type_reference";n[n.Constructors_cannot_have_a_return_type_of__void_=198]="Constructors_cannot_have_a_return_type_of__void_";n[n.Subsequent_variable_declarations_must_have_the_same_type___Variable__0__must_be_of_type__1___but_here_has_type___2_=199]="Subsequent_variable_declarations_must_have_the_same_type___Variable__0__must_be_of_type__1___but_here_has_type___2_";n[n.All_symbols_within_a__with__block_will_be_resolved_to__any__=200]="All_symbols_within_a__with__block_will_be_resolved_to__any__";n[n.Import_declarations_in_an_internal_module_cannot_reference_an_external_module=201]="Import_declarations_in_an_internal_module_cannot_reference_an_external_module";n[n.Class__0__declares_interface__1__but_does_not_implement_it__NL__2=202]="Class__0__declares_interface__1__but_does_not_implement_it__NL__2";n[n.Class__0__declares_class__1__but_does_not_implement_it__NL__2=203]="Class__0__declares_class__1__but_does_not_implement_it__NL__2";n[n.The_operand_of_an_increment_or_decrement_operator_must_be_a_variable__property_or_indexer=204]="The_operand_of_an_increment_or_decrement_operator_must_be_a_variable__property_or_indexer";n[n._this__cannot_be_referenced_in_initializers_in_a_class_body=205]="_this__cannot_be_referenced_in_initializers_in_a_class_body";n[n.Class__0__cannot_extend_class__1__NL__2=206]="Class__0__cannot_extend_class__1__NL__2";n[n.Interface__0__cannot_extend_class__1__NL__2=207]="Interface__0__cannot_extend_class__1__NL__2";n[n.Interface__0__cannot_extend_interface__1__NL__2=208]="Interface__0__cannot_extend_interface__1__NL__2";n[n.Duplicate_overload_signature_for__0_=209]="Duplicate_overload_signature_for__0_";n[n.Duplicate_constructor_overload_signature=210]="Duplicate_constructor_overload_signature";n[n.Duplicate_overload_call_signature=211]="Duplicate_overload_call_signature";n[n.Duplicate_overload_construct_signature=212]="Duplicate_overload_construct_signature";n[n.Overload_signature_is_not_compatible_with_function_definition=213]="Overload_signature_is_not_compatible_with_function_definition";n[n.Overload_signature_is_not_compatible_with_function_definition__NL__0=214]="Overload_signature_is_not_compatible_with_function_definition__NL__0";n[n.Overload_signatures_must_all_be_public_or_private=215]="Overload_signatures_must_all_be_public_or_private";n[n.Overload_signatures_must_all_be_exported_or_local=216]="Overload_signatures_must_all_be_exported_or_local";n[n.Overload_signatures_must_all_be_ambient_or_non_ambient=217]="Overload_signatures_must_all_be_ambient_or_non_ambient";n[n.Overload_signatures_must_all_be_optional_or_required=218]="Overload_signatures_must_all_be_optional_or_required";n[n.Specialized_overload_signature_is_not_subtype_of_any_non_specialized_signature=219]="Specialized_overload_signature_is_not_subtype_of_any_non_specialized_signature";n[n._this__cannot_be_referenced_in_constructor_arguments=220]="_this__cannot_be_referenced_in_constructor_arguments";n[n.Static_member_cannot_be_accessed_off_an_instance_variable=221]="Static_member_cannot_be_accessed_off_an_instance_variable";n[n.Instance_member_cannot_be_accessed_off_a_class=222]="Instance_member_cannot_be_accessed_off_a_class";n[n.Untyped_function_calls_may_not_accept_type_arguments=223]="Untyped_function_calls_may_not_accept_type_arguments";n[n.Non_generic_functions_may_not_accept_type_arguments=224]="Non_generic_functions_may_not_accept_type_arguments";n[n.A_generic_type_may_not_reference_itself_with_its_own_type_parameters=225]="A_generic_type_may_not_reference_itself_with_its_own_type_parameters";n[n.Static_methods_cannot_reference_class_type_parameters=226]="Static_methods_cannot_reference_class_type_parameters";n[n.Value_of_type__0__is_not_callable__Did_you_mean_to_include__new___=227]="Value_of_type__0__is_not_callable__Did_you_mean_to_include__new___";n[n.Rest_parameters_must_be_array_types=228]="Rest_parameters_must_be_array_types";n[n.Overload_signature_implementation_cannot_use_specialized_type=229]="Overload_signature_implementation_cannot_use_specialized_type";n[n.Export_assignments_may_only_be_used_in_External_modules=230]="Export_assignments_may_only_be_used_in_External_modules";n[n.Export_assignments_may_only_be_made_with_acceptable_kinds=231]="Export_assignments_may_only_be_made_with_acceptable_kinds";n[n.Only_public_instance_methods_of_the_base_class_are_accessible_via_the_super_keyword=232]="Only_public_instance_methods_of_the_base_class_are_accessible_via_the_super_keyword";n[n.Numeric_indexer_type___0___must_be_a_subtype_of_string_indexer_type___1__=233]="Numeric_indexer_type___0___must_be_a_subtype_of_string_indexer_type___1__";n[n.Numeric_indexer_type___0___must_be_a_subtype_of_string_indexer_type___1____NL__2=234]="Numeric_indexer_type___0___must_be_a_subtype_of_string_indexer_type___1____NL__2";n[n.All_numerically_named_properties_must_be_subtypes_of_numeric_indexer_type___0__=235]="All_numerically_named_properties_must_be_subtypes_of_numeric_indexer_type___0__";n[n.All_numerically_named_properties_must_be_subtypes_of_numeric_indexer_type___0____NL__1=236]="All_numerically_named_properties_must_be_subtypes_of_numeric_indexer_type___0____NL__1";n[n.All_named_properties_must_be_subtypes_of_string_indexer_type___0__=237]="All_named_properties_must_be_subtypes_of_string_indexer_type___0__";n[n.All_named_properties_must_be_subtypes_of_string_indexer_type___0____NL__1=238]="All_named_properties_must_be_subtypes_of_string_indexer_type___0____NL__1";n[n.Generic_type_references_must_include_all_type_arguments=239]="Generic_type_references_must_include_all_type_arguments";n[n.Type__0__is_missing_property__1__from_type__2_=240]="Type__0__is_missing_property__1__from_type__2_";n[n.Types_of_property__0__of_types__1__and__2__are_incompatible=241]="Types_of_property__0__of_types__1__and__2__are_incompatible";n[n.Types_of_property__0__of_types__1__and__2__are_incompatible__NL__3=242]="Types_of_property__0__of_types__1__and__2__are_incompatible__NL__3";n[n.Property__0__defined_as_private_in_type__1__is_defined_as_public_in_type__2_=243]="Property__0__defined_as_private_in_type__1__is_defined_as_public_in_type__2_";n[n.Property__0__defined_as_public_in_type__1__is_defined_as_private_in_type__2_=244]="Property__0__defined_as_public_in_type__1__is_defined_as_private_in_type__2_";n[n.Types__0__and__1__define_property__2__as_private=245]="Types__0__and__1__define_property__2__as_private";n[n.Call_signatures_of_types__0__and__1__are_incompatible=246]="Call_signatures_of_types__0__and__1__are_incompatible";n[n.Call_signatures_of_types__0__and__1__are_incompatible__NL__2=247]="Call_signatures_of_types__0__and__1__are_incompatible__NL__2";n[n.Type__0__requires_a_call_signature__but_Type__1__lacks_one=248]="Type__0__requires_a_call_signature__but_Type__1__lacks_one";n[n.Construct_signatures_of_types__0__and__1__are_incompatible=249]="Construct_signatures_of_types__0__and__1__are_incompatible";n[n.Construct_signatures_of_types__0__and__1__are_incompatible__NL__2=250]="Construct_signatures_of_types__0__and__1__are_incompatible__NL__2";n[n.Type__0__requires_a_construct_signature__but_Type__1__lacks_one=251]="Type__0__requires_a_construct_signature__but_Type__1__lacks_one";n[n.Index_signatures_of_types__0__and__1__are_incompatible=252]="Index_signatures_of_types__0__and__1__are_incompatible";n[n.Index_signatures_of_types__0__and__1__are_incompatible__NL__2=253]="Index_signatures_of_types__0__and__1__are_incompatible__NL__2";n[n.Call_signature_expects__0__or_fewer_parameters=254]="Call_signature_expects__0__or_fewer_parameters";n[n.Could_not_apply_type__0__to_argument__1__which_is_of_type__2_=255]="Could_not_apply_type__0__to_argument__1__which_is_of_type__2_";n[n.Class__0__defines_instance_member_accessor__1___but_extended_class__2__defines_it_as_instance_member_function=256]="Class__0__defines_instance_member_accessor__1___but_extended_class__2__defines_it_as_instance_member_function";n[n.Class__0__defines_instance_member_property__1___but_extended_class__2__defines_it_as_instance_member_function=257]="Class__0__defines_instance_member_property__1___but_extended_class__2__defines_it_as_instance_member_function";n[n.Class__0__defines_instance_member_function__1___but_extended_class__2__defines_it_as_instance_member_accessor=258]="Class__0__defines_instance_member_function__1___but_extended_class__2__defines_it_as_instance_member_accessor";n[n.Class__0__defines_instance_member_function__1___but_extended_class__2__defines_it_as_instance_member_property=259]="Class__0__defines_instance_member_function__1___but_extended_class__2__defines_it_as_instance_member_property";n[n.Types_of_static_property__0__of_class__1__and_class__2__are_incompatible=260]="Types_of_static_property__0__of_class__1__and_class__2__are_incompatible";n[n.Types_of_static_property__0__of_class__1__and_class__2__are_incompatible__NL__3=261]="Types_of_static_property__0__of_class__1__and_class__2__are_incompatible__NL__3";n[n.Type_reference_cannot_refer_to_container__0_=262]="Type_reference_cannot_refer_to_container__0_";n[n.Type_reference_must_refer_to_type=263]="Type_reference_must_refer_to_type";n[n.Enums_with_multiple_declarations_must_provide_an_initializer_for_the_first_enum_element=264]="Enums_with_multiple_declarations_must_provide_an_initializer_for_the_first_enum_element";n[n.Current_host_does_not_support__w_atch_option=265]="Current_host_does_not_support__w_atch_option";n[n.ECMAScript_target_version__0__not_supported___Using_default__1__code_generation=266]="ECMAScript_target_version__0__not_supported___Using_default__1__code_generation";n[n.Module_code_generation__0__not_supported___Using_default__1__code_generation=267]="Module_code_generation__0__not_supported___Using_default__1__code_generation";n[n.Could_not_find_file___0_=268]="Could_not_find_file___0_";n[n.Unknown_extension_for_file___0__Only__ts_and_d_ts_extensions_are_allowed=269]="Unknown_extension_for_file___0__Only__ts_and_d_ts_extensions_are_allowed";n[n.A_file_cannot_have_a_reference_itself=270]="A_file_cannot_have_a_reference_itself";n[n.Cannot_resolve_referenced_file___0_=271]="Cannot_resolve_referenced_file___0_";n[n.Cannot_resolve_imported_file___0_=272]="Cannot_resolve_imported_file___0_";n[n.Cannot_find_the_common_subdirectory_path_for_the_input_files=273]="Cannot_find_the_common_subdirectory_path_for_the_input_files";n[n.Cannot_compile_dynamic_modules_when_emitting_into_single_file=274]="Cannot_compile_dynamic_modules_when_emitting_into_single_file";n[n.Emit_Error__0=275]="Emit_Error__0";n[n.Unsupported_encoding_for_file__0=276]="Unsupported_encoding_for_file__0"})(n.DiagnosticCode||(n.DiagnosticCode={}));var t=n.DiagnosticCode}(TypeScript||(TypeScript={})),function(n){var i,r,t,u;n.diagnosticMessages={error_TS_0__1:{category:3,message:"error TS{0}: {1}",code:0},warning_TS_0__1:{category:3,message:"warning TS{0}: {1}",code:1},_0__NL__1_TB__2:{category:3,message:"{0}{NL}{{1}TB}{2}",code:21},_0_TB__1:{category:3,message:"{{0}TB}{1}",code:22},Unrecognized_escape_sequence:{category:1,message:"Unrecognized escape sequence.",code:1e3},Unexpected_character_0:{category:1,message:"Unexpected character {0}.",code:1001},Missing_closing_quote_character:{category:1,message:"Missing close quote character.",code:1002},Identifier_expected:{category:1,message:"Identifier expected.",code:1003},_0_keyword_expected:{category:1,message:"'{0}' keyword expected.",code:1004},_0_expected:{category:1,message:"'{0}' expected.",code:1005},Identifier_expected__0__is_a_keyword:{category:1,message:"Identifier expected; '{0}' is a keyword.",code:1006},Automatic_semicolon_insertion_not_allowed:{category:1,message:"Automatic semicolon insertion not allowed.",code:1007},Unexpected_token__0_expected:{category:1,message:"Unexpected token; '{0}' expected.",code:1008},Trailing_separator_not_allowed:{category:1,message:"Trailing separator not allowed.",code:1009},_StarSlash__expected:{category:1,message:"'*/' expected.",code:1010},_public_or_private_modifier_must_precede__static_:{category:1,message:"'public' or 'private' modifier must precede 'static'.",code:1011},Unexpected_token_:{category:1,message:"Unexpected token.",code:1012},A_catch_clause_variable_cannot_have_a_type_annotation:{category:1,message:"A catch clause variable cannot have a type annotation.",code:1013},Rest_parameter_must_be_last_in_list:{category:1,message:"Rest parameter must be last in list.",code:1014},Parameter_cannot_have_question_mark_and_initializer:{category:1,message:"Parameter cannot have question mark and initializer.",code:1015},Required_parameter_cannot_follow_optional_parameter:{category:1,message:"Required parameter cannot follow optional parameter.",code:1016},Index_signatures_cannot_have_rest_parameters:{category:1,message:"Index signatures cannot have rest parameters.",code:1017},Index_signature_parameter_cannot_have_accessibility_modifiers:{category:1,message:"Index signature parameter cannot have accessibility modifiers.",code:1018},Index_signature_parameter_cannot_have_a_question_mark:{category:1,message:"Index signature parameter cannot have a question mark.",code:1019},Index_signature_parameter_cannot_have_an_initializer:{category:1,message:"Index signature parameter cannot have an initializer.",code:1020},Index_signature_must_have_a_type_annotation:{category:1,message:"Index signature must have a type annotation.",code:1021},Index_signature_parameter_must_have_a_type_annotation:{category:1,message:"Index signature parameter must have a type annotation.",code:1022},Index_signature_parameter_type_must_be__string__or__number_:{category:1,message:"Index signature parameter type must be 'string' or 'number'.",code:1023},_extends__clause_already_seen:{category:1,message:"'extends' clause already seen.",code:1024},_extends__clause_must_precede__implements__clause:{category:1,message:"'extends' clause must precede 'implements' clause.",code:1025},Class_can_only_extend_single_type:{category:1,message:"Class can only extend single type.",code:1026},_implements__clause_already_seen:{category:1,message:"'implements' clause already seen.",code:1027},Accessibility_modifier_already_seen:{category:1,message:"Accessibility modifier already seen.",code:1028},_0__modifier_must_precede__1__modifier:{category:1,message:"'{0}' modifier must precede '{1}' modifier.",code:1029},_0__modifier_already_seen:{category:1,message:"'{0}' modifier already seen.",code:1030},_0__modifier_cannot_appear_on_a_class_element:{category:1,message:"'{0}' modifier cannot appear on a class element.",code:1031},Interface_declaration_cannot_have__implements__clause:{category:1,message:"Interface declaration cannot have 'implements' clause.",code:1032},_super__invocation_cannot_have_type_arguments:{category:1,message:"'super' invocation cannot have type arguments.",code:1034},Non_ambient_modules_cannot_use_quoted_names:{category:1,message:"Non ambient modules cannot use quoted names.",code:1035},Statements_are_not_allowed_in_ambient_contexts:{category:1,message:"Statements are not allowed in ambient contexts.",code:1036},Implementations_are_not_allowed_in_ambient_contexts:{category:1,message:"Implementations are not allowed in ambient contexts.",code:1037},_declare__modifier_not_allowed_for_code_already_in_an_ambient_context:{category:1,message:"'declare' modifier not allowed for code already in an ambient context.",code:1038},Initializers_are_not_allowed_in_ambient_contexts:{category:1,message:"Initializers are not allowed in ambient contexts.",code:1039},Overload_and_ambient_signatures_cannot_specify_parameter_properties:{category:1,message:"Overload and ambient signatures cannot specify parameter properties.",code:1040},Function_implementation_expected:{category:1,message:"Function implementation expected.",code:1041},Constructor_implementation_expected:{category:1,message:"Constructor implementation expected.",code:1042},Function_overload_name_must_be__0_:{category:1,message:"Function overload name must be '{0}'.",code:1043},_0__modifier_cannot_appear_on_a_module_element:{category:1,message:"'{0}' modifier cannot appear on a module element.",code:1044},_declare__modifier_cannot_appear_on_an_interface_declaration:{category:1,message:"'declare' modifier cannot appear on an interface declaration.",code:1045},_declare__modifier_required_for_top_level_element:{category:1,message:"'declare' modifier required for top level element.",code:1046},Rest_parameter_cannot_be_optional:{category:1,message:"Rest parameter cannot be optional.",code:1047},Rest_parameter_cannot_have_initializer:{category:1,message:"Rest parameter cannot have initializer.",code:1048},_set__accessor_must_have_only_one_parameter:{category:1,message:"'set' accessor must have one and only one parameter.",code:1049},_set__accessor_parameter_cannot_have_accessibility_modifier:{category:1,message:"'set' accessor parameter cannot have accessibility modifier.",code:1050},_set__accessor_parameter_cannot_be_optional:{category:1,message:"'set' accessor parameter cannot be optional.",code:1051},_set__accessor_parameter_cannot_have_initializer:{category:1,message:"'set' accessor parameter cannot have initializer.",code:1052},_set__accessor_cannot_have_rest_parameter:{category:1,message:"'set' accessor cannot have rest parameter.",code:1053},_get__accessor_cannot_have_parameters:{category:1,message:"'get' accessor cannot have parameters.",code:1054},Modifiers_cannot_appear_here:{category:1,message:"Modifiers cannot appear here.",code:1055},Accessors_are_only_available_when_targeting_EcmaScript5_and_higher:{category:1,message:"Accessors are only when targeting EcmaScript5 and higher.",code:1056},Class_name_cannot_be__0_:{category:1,message:"Class name cannot be '{0}'.",code:1057},Interface_name_cannot_be__0_:{category:1,message:"Interface name cannot be '{0}'.",code:1058},Enum_name_cannot_be__0_:{category:1,message:"Enum name cannot be '{0}'.",code:1059},Module_name_cannot_be__0_:{category:1,message:"Module name cannot be '{0}'.",code:1060},Enum_member_must_have_initializer:{category:1,message:"Enum member must have initializer.",code:1061},_module_______is_deprecated__Use__require_______instead:{category:0,message:"'module(...)' is deprecated. Use 'require(...)' instead.",code:1062},Export_assignments_cannot_be_used_in_internal_modules:{category:1,message:"Export assignments cannot be used in internal modules.",code:1063},Export_assignment_not_allowed_in_module_with_exported_element:{category:1,message:"Export assignment not allowed in module with exported element.",code:1064},Module_cannot_have_multiple_export_assignments:{category:1,message:"Module cannot have multiple export assignments.",code:1065},Duplicate_identifier__0_:{category:1,message:"Duplicate identifier '{0}'.",code:2e3},The_name__0__does_not_exist_in_the_current_scope:{category:1,message:"The name '{0}' does not exist in the current scope.",code:2001},The_name__0__does_not_refer_to_a_value:{category:1,message:"The name '{0}' does not refer to a value.",code:2002},Keyword__super__can_only_be_used_inside_a_class_instance_method:{category:1,message:"Keyword 'super' can only be used inside a class instance method.",code:2003},The_left_hand_side_of_an_assignment_expression_must_be_a_variable__property_or_indexer:{category:1,message:"The left-hand side of an assignment expression must be a variable, property or indexer.",code:2004},Value_of_type__0__is_not_callable__Did_you_mean_to_include__new__:{category:1,message:"Value of type '{0}' is not callable. Did you mean to include 'new'?",code:2005},Value_of_type__0__is_not_callable:{category:1,message:"Value of type '{0}' is not callable.",code:2006},Value_of_type__0__is_not_newable:{category:1,message:"Value of type '{0}' is not newable.",code:2007},Value_of_type__0__is_not_indexable_by_type__1_:{category:1,message:"Value of type '{0}' is not indexable by type '{1}'.",code:2008},Operator__0__cannot_be_applied_to_types__1__and__2_:{category:1,message:"Operator '{0}' cannot be applied to types '{1}' and '{2}'.",code:2009},Operator__0__cannot_be_applied_to_types__1__and__2__3:{category:1,message:"Operator '{0}' cannot be applied to types '{1}' and '{2}': {3}",code:2010},Cannot_convert__0__to__1_:{category:1,message:"Cannot convert '{0}' to '{1}'.",code:2011},Cannot_convert__0__to__1__NL__2:{category:1,message:"Cannot convert '{0}' to '{1}':{NL}{2}",code:2012},Expected_var__class__interface__or_module:{category:1,message:"Expected var, class, interface, or module.",code:2013},Operator__0__cannot_be_applied_to_type__1_:{category:1,message:"Operator '{0}' cannot be applied to type '{1}'.",code:2014},Getter__0__already_declared:{category:1,message:"Getter '{0}' already declared.",code:2015},Setter__0__already_declared:{category:1,message:"Setter '{0}' already declared.",code:2016},Accessor_cannot_have_type_parameters:{category:1,message:"Accessors cannot have type parameters.",code:2017},Exported_class__0__extends_private_class__1_:{category:1,message:"Exported class '{0}' extends private class '{1}'.",code:2018},Exported_class__0__implements_private_interface__1_:{category:1,message:"Exported class '{0}' implements private interface '{1}'.",code:2019},Exported_interface__0__extends_private_interface__1_:{category:1,message:"Exported interface '{0}' extends private interface '{1}'.",code:2020},Exported_class__0__extends_class_from_inaccessible_module__1_:{category:1,message:"Exported class '{0}' extends class from inaccessible module {1}.",code:2021},Exported_class__0__implements_interface_from_inaccessible_module__1_:{category:1,message:"Exported class '{0}' implements interface from inaccessible module {1}.",code:2022},Exported_interface__0__extends_interface_from_inaccessible_module__1_:{category:1,message:"Exported interface '{0}' extends interface from inaccessible module {1}.",code:2023},Public_static_property__0__of__exported_class_has_or_is_using_private_type__1_:{category:1,message:"Public static property '{0}' of exported class has or is using private type '{1}'.",code:2024},Public_property__0__of__exported_class_has_or_is_using_private_type__1_:{category:1,message:"Public property '{0}' of exported class has or is using private type '{1}'.",code:2025},Property__0__of__exported_interface_has_or_is_using_private_type__1_:{category:1,message:"Property '{0}' of exported interface has or is using private type '{1}'.",code:2026},Exported_variable__0__has_or_is_using_private_type__1_:{category:1,message:"Exported variable '{0}' has or is using private type '{1}'.",code:2027},Public_static_property__0__of__exported_class_is_using_inaccessible_module__1_:{category:1,message:"Public static property '{0}' of exported class is using inaccessible module {1}.",code:2028},Public_property__0__of__exported_class_is_using_inaccessible_module__1_:{category:1,message:"Public property '{0}' of exported class is using inaccessible module {1}.",code:2029},Property__0__of__exported_interface_is_using_inaccessible_module__1_:{category:1,message:"Property '{0}' of exported interface is using inaccessible module {1}.",code:2030},Exported_variable__0__is_using_inaccessible_module__1_:{category:1,message:"Exported variable '{0}' is using inaccessible module {1}.",code:2031},Parameter__0__of_constructor_from_exported_class_has_or_is_using_private_type__1_:{category:1,message:"Parameter '{0}' of constructor from exported class has or is using private type '{1}'.",code:2032},Parameter__0__of_public_static_property_setter_from_exported_class_has_or_is_using_private_type__1_:{category:1,message:"Parameter '{0}' of public static property setter from exported class has or is using private type '{1}'.",code:2033},Parameter__0__of_public_property_setter_from_exported_class_has_or_is_using_private_type__1_:{category:1,message:"Parameter '{0}' of public property setter from exported class has or is using private type '{1}'.",code:2034},Parameter__0__of_constructor_signature_from_exported_interface_has_or_is_using_private_type__1_:{category:1,message:"Parameter '{0}' of constructor signature from exported interface has or is using private type '{1}'.",code:2035},Parameter__0__of_call_signature_from_exported_interface_has_or_is_using_private_type__1_:{category:1,message:"Parameter '{0}' of call signature from exported interface has or is using private type '{1}'.",code:2036},Parameter__0__of_public_static_method_from_exported_class_has_or_is_using_private_type__1_:{category:1,message:"Parameter '{0}' of public static method from exported class has or is using private type '{1}'.",code:2037},Parameter__0__of_public_method_from_exported_class_has_or_is_using_private_type__1_:{category:1,message:"Parameter '{0}' of public method from exported class has or is using private type '{1}'.",code:2038},Parameter__0__of_method_from_exported_interface_has_or_is_using_private_type__1_:{category:1,message:"Parameter '{0}' of method from exported interface has or is using private type '{1}'.",code:2039},Parameter__0__of_exported_function_has_or_is_using_private_type__1_:{category:1,message:"Parameter '{0}' of exported function has or is using private type '{1}'.",code:2040},Parameter__0__of_constructor_from_exported_class_is_using_inaccessible_module__1_:{category:1,message:"Parameter '{0}' of constructor from exported class is using inaccessible module {1}.",code:2041},Parameter__0__of_public_static_property_setter_from_exported_class_is_using_inaccessible_module__1_:{category:1,message:"Parameter '{0}' of public static property setter from exported class is using inaccessible module {1}.",code:2042},Parameter__0__of_public_property_setter_from_exported_class_is_using_inaccessible_module__1_:{category:1,message:"Parameter '{0}' of public property setter from exported class is using inaccessible module {1}.",code:2043},Parameter__0__of_constructor_signature_from_exported_interface_is_using_inaccessible_module__1_:{category:1,message:"Parameter '{0}' of constructor signature from exported interface is using inaccessible module {1}.",code:2044},Parameter__0__of_call_signature_from_exported_interface_is_using_inaccessible_module__1_:{category:1,message:"Parameter '{0}' of call signature from exported interface is using inaccessible module {1}",code:2045},Parameter__0__of_public_static_method_from_exported_class_is_using_inaccessible_module__1_:{category:1,message:"Parameter '{0}' of public static method from exported class is using inaccessible module {1}.",code:2046},Parameter__0__of_public_method_from_exported_class_is_using_inaccessible_module__1_:{category:1,message:"Parameter '{0}' of public method from exported class is using inaccessible module {1}.",code:2047},Parameter__0__of_method_from_exported_interface_is_using_inaccessible_module__1_:{category:1,message:"Parameter '{0}' of method from exported interface is using inaccessible module {1}.",code:2048},Parameter__0__of_exported_function_is_using_inaccessible_module__1_:{category:1,message:"Parameter '{0}' of exported function is using inaccessible module {1}.",code:2049},Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_type__0_:{category:1,message:"Return type of public static property getter from exported class has or is using private type '{0}'.",code:2050},Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_type__0_:{category:1,message:"Return type of public property getter from exported class has or is using private type '{0}'.",code:2051},Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_type__0_:{category:1,message:"Return type of constructor signature from exported interface has or is using private type '{0}'.",code:2052},Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_type__0_:{category:1,message:"Return type of call signature from exported interface has or is using private type '{0}'.",code:2053},Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_type__0_:{category:1,message:"Return type of index signature from exported interface has or is using private type '{0}'.",code:2054},Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_type__0_:{category:1,message:"Return type of public static method from exported class has or is using private type '{0}'.",code:2055},Return_type_of_public_method_from_exported_class_has_or_is_using_private_type__0_:{category:1,message:"Return type of public method from exported class has or is using private type '{0}'.",code:2056},Return_type_of_method_from_exported_interface_has_or_is_using_private_type__0_:{category:1,message:"Return type of method from exported interface has or is using private type '{0}'.",code:2057},Return_type_of_exported_function_has_or_is_using_private_type__0_:{category:1,message:"Return type of exported function has or is using private type '{0}'.",code:2058},Return_type_of_public_static_property_getter_from_exported_class_is_using_inaccessible_module__0_:{category:1,message:"Return type of public static property getter from exported class is using inaccessible module {0}.",code:2059},Return_type_of_public_property_getter_from_exported_class_is_using_inaccessible_module__0_:{category:1,message:"Return type of public property getter from exported class is using inaccessible module {0}.",code:2060},Return_type_of_constructor_signature_from_exported_interface_is_using_inaccessible_module__0_:{category:1,message:"Return type of constructor signature from exported interface is using inaccessible module {0}.",code:2061},Return_type_of_call_signature_from_exported_interface_is_using_inaccessible_module__0_:{category:1,message:"Return type of call signature from exported interface is using inaccessible module {0}.",code:2062},Return_type_of_index_signature_from_exported_interface_is_using_inaccessible_module__0_:{category:1,message:"Return type of index signature from exported interface is using inaccessible module {0}.",code:2063},Return_type_of_public_static_method_from_exported_class_is_using_inaccessible_module__0_:{category:1,message:"Return type of public static method from exported class is using inaccessible module {0}.",code:2064},Return_type_of_public_method_from_exported_class_is_using_inaccessible_module__0_:{category:1,message:"Return type of public method from exported class is using inaccessible module {0}.",code:2065},Return_type_of_method_from_exported_interface_is_using_inaccessible_module__0_:{category:1,message:"Return type of method from exported interface is using inaccessible module {0}.",code:2066},Return_type_of_exported_function_is_using_inaccessible_module__0_:{category:1,message:"Return type of exported function is using inaccessible module {0}.",code:2067},_new_T____cannot_be_used_to_create_an_array__Use__new_Array_T_____instead:{category:1,message:"'new T[]' cannot be used to create an array. Use 'new Array<T>()' instead.",code:2068},A_parameter_list_must_follow_a_generic_type_argument_list______expected:{category:1,message:"A parameter list must follow a generic type argument list. '(' expected.",code:2069},Multiple_constructor_implementations_are_not_allowed:{category:1,message:"Multiple constructor implementations are not allowed.",code:2070},Unable_to_resolve_external_module__0_:{category:1,message:"Unable to resolve external module '{0}'.",code:2071},Module_cannot_be_aliased_to_a_non_module_type:{category:1,message:"Module cannot be aliased to a non-module type.",code:2072},A_class_may_only_extend_another_class:{category:1,message:"A class may only extend another class.",code:2073},A_class_may_only_implement_another_class_or_interface:{category:1,message:"A class may only implement another class or interface.",code:2074},An_interface_may_only_extend_another_class_or_interface:{category:1,message:"An interface may only extend another class or interface.",code:2075},An_interface_cannot_implement_another_type:{category:1,message:"An interface cannot implement another type.",code:2076},Unable_to_resolve_type:{category:1,message:"Unable to resolve type.",code:2077},Unable_to_resolve_type_of__0_:{category:1,message:"Unable to resolve type of '{0}'.",code:2078},Unable_to_resolve_type_parameter_constraint:{category:1,message:"Unable to resolve type parameter constraint.",code:2079},Type_parameter_constraint_cannot_be_a_primitive_type:{category:1,message:"Type parameter constraint cannot be a primitive type.",code:2080},Supplied_parameters_do_not_match_any_signature_of_call_target:{category:1,message:"Supplied parameters do not match any signature of call target.",code:2081},Supplied_parameters_do_not_match_any_signature_of_call_target__NL__0:{category:1,message:"Supplied parameters do not match any signature of call target:{NL}{0}",code:2082},Invalid__new__expression:{category:1,message:"Invalid 'new' expression.",code:2083},Call_signatures_used_in_a__new__expression_must_have_a__void__return_type:{category:1,message:"Call signatures used in a 'new' expression must have a 'void' return type.",code:2084},Could_not_select_overload_for__new__expression:{category:1,message:"Could not select overload for 'new' expression.",code:2085},Type__0__does_not_satisfy_the_constraint__1__for_type_parameter__2_:{category:1,message:"Type '{0}' does not satisfy the constraint '{1}' for type parameter '{2}'.",code:2086},Could_not_select_overload_for__call__expression:{category:1,message:"Could not select overload for 'call' expression.",code:2087},Unable_to_invoke_type_with_no_call_signatures:{category:1,message:"Unable to invoke type with no call signatures.",code:2088},Calls_to__super__are_only_valid_inside_a_class:{category:1,message:"Calls to 'super' are only valid inside a class.",code:2089},Generic_type__0__requires_1_type_argument_s_:{category:1,message:"Generic type '{0}' requires {1} type argument(s).",code:2090},Type_of_conditional_expression_cannot_be_determined__Best_common_type_could_not_be_found_between__0__and__1_:{category:1,message:"Type of conditional expression cannot be determined. Best common type could not be found between '{0}' and '{1}'.",code:2091},Type_of_array_literal_cannot_be_determined__Best_common_type_could_not_be_found_for_array_elements:{category:1,message:"Type of array literal cannot be determined. Best common type could not be found for array elements.",code:2092},Could_not_find_enclosing_symbol_for_dotted_name__0_:{category:1,message:"Could not find enclosing symbol for dotted name '{0}'.",code:2093},The_property__0__does_not_exist_on_value_of_type__1__:{category:1,message:"The property '{0}' does not exist on value of type '{1}'.",code:2094},Could_not_find_symbol__0_:{category:1,message:"Could not find symbol '{0}'.",code:2095},_get__and__set__accessor_must_have_the_same_type:{category:1,message:"'get' and 'set' accessor must have the same type.",code:2096},_this__cannot_be_referenced_in_current_location:{category:1,message:"'this' cannot be referenced in current location.",code:2097},Use_of_deprecated__bool__type__Use__boolean__instead:{category:0,message:"Use of deprecated type 'bool'. Use 'boolean' instead.",code:2098},Static_methods_cannot_reference_class_type_parameters:{category:1,message:"Static methods cannot reference class type parameters.",code:2099},Class__0__is_recursively_referenced_as_a_base_type_of_itself:{category:1,message:"Class '{0}' is recursively referenced as a base type of itself.",code:2100},Interface__0__is_recursively_referenced_as_a_base_type_of_itself:{category:1,message:"Interface '{0}' is recursively referenced as a base type of itself.",code:2101},_super__property_access_is_permitted_only_in_a_constructor__instance_member_function__or_instance_member_accessor_of_a_derived_class:{category:1,message:"'super' property access is permitted only in a constructor, instance member function, or instance member accessor of a derived class.",code:2102},_super__cannot_be_referenced_in_non_derived_classes:{category:1,message:"'super' cannot be referenced in non-derived classes.",code:2103},A__super__call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_intialized_properties_or_has_parameter_properties:{category:1,message:"A 'super' call must be the first statement in the constructor when a class contains initialized properties or has parameter properties.",code:2104},Constructors_for_derived_classes_must_contain_a__super__call:{category:1,message:"Constructors for derived classes must contain a 'super' call.",code:2105},Super_calls_are_not_permitted_outside_constructors_or_in_local_functions_inside_constructors:{category:1,message:"Super calls are not permitted outside constructors or in local functions inside constructors.",code:2106},_0_1__is_inaccessible:{category:1,message:"'{0}.{1}' is inaccessible.",code:2107},_this__cannot_be_referenced_within_module_bodies:{category:1,message:"'this' cannot be referenced within module bodies.",code:2108},_this__must_only_be_used_inside_a_function_or_script_context:{category:1,message:"'this' must only be used inside a function or script context.",code:2109},Invalid__addition__expression___types_do_not_agree:{category:1,message:"Invalid '+' expression - types not known to support the addition operator.",code:2111},The_right_hand_side_of_an_arithmetic_operation_must_be_of_type__any____number__or_an_enum_type:{category:1,message:"The right-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type.",code:2112},The_left_hand_side_of_an_arithmetic_operation_must_be_of_type__any____number__or_an_enum_type:{category:1,message:"The left-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type.",code:2113},The_type_of_a_unary_arithmetic_operation_operand_must_be_of_type__any____number__or_an_enum_type:{category:1,message:"The type of a unary arithmetic operation operand must be of type 'any', 'number' or an enum type.",code:2114},Variable_declarations_for_for_in_expressions_cannot_contain_a_type_annotation:{category:1,message:"Variable declarations for for/in expressions cannot contain a type annotation.",code:2115},Variable_declarations_for_for_in_expressions_must_be_of_types__string__or__any_:{category:1,message:"Variable declarations for for/in expressions must be of types 'string' or 'any'.",code:2116},The_right_operand_of_a_for_in_expression_must_be_of_type__any____an_object_type_or_a_type_parameter:{category:1,message:"The right operand of a for/in expression must be of type 'any', an object type or a type parameter.",code:2117},The_left_hand_side_of_an__in__expression_must_be_of_types__string__or__any_:{category:1,message:"The left-hand side of an 'in' expression must be of types 'string' or 'any'.",code:2118},The_right_hand_side_of_an__in__expression_must_be_of_type__any___an_object_type_or_a_type_parameter:{category:1,message:"The right-hand side of an 'in' expression must be of type 'any', an object type or a type parameter.",code:2119},The_left_hand_side_of_an__instanceOf__expression_must_be_of_type__any___an_object_type_or_a_type_parameter:{category:1,message:"The left-hand side of an 'instanceOf' expression must be of type 'any', an object type or a type parameter.",code:2120},The_right_hand_side_of_an__instanceOf__expression_must_be_of_type__any__or_a_subtype_of_the__Function__interface_type:{category:1,message:"The right-hand side of an 'instanceOf' expression must be of type 'any' or a subtype of the 'Function' interface type.",code:2121},Setters_cannot_return_a_value:{category:1,message:"Setters cannot return a value.",code:2122},Tried_to_set_variable_type_to_module_type__0__:{category:1,message:"Tried to set variable type to container type '{0}'.",code:2123},Tried_to_set_variable_type_to_uninitialized_module_type__0__:{category:1,message:"Tried to set variable type to uninitialized module type '{0}'.",code:2124},Function__0__declared_a_non_void_return_type__but_has_no_return_expression:{category:1,message:"Function {0} declared a non-void return type, but has no return expression.",code:2125},Getters_must_return_a_value:{category:1,message:"Getters must return a value.",code:2126},Getter_and_setter_accessors_do_not_agree_in_visibility:{category:1,message:"Getter and setter accessors do not agree in visibility.",code:2127},Invalid_left_hand_side_of_assignment_expression:{category:1,message:"Invalid left-hand side of assignment expression.",code:2130},Function_declared_a_non_void_return_type__but_has_no_return_expression:{category:1,message:"Function declared a non-void return type, but has no return expression.",code:2131},Cannot_resolve_return_type_reference:{category:1,message:"Cannot resolve return type reference.",code:2132},Constructors_cannot_have_a_return_type_of__void_:{category:1,message:"Constructors cannot have a return type of 'void'.",code:2133},Subsequent_variable_declarations_must_have_the_same_type___Variable__0__must_be_of_type__1___but_here_has_type___2_:{category:1,message:"Subsequent variable declarations must have the same type.  Variable '{0}' must be of type '{1}', but here has type '{2}'",code:2134},All_symbols_within_a__with__block_will_be_resolved_to__any__:{category:1,message:"All symbols within a with block will be resolved to 'any'.",code:2135},Import_declarations_in_an_internal_module_cannot_reference_an_external_module:{category:1,message:"Import declarations in an internal module cannot reference an external module.",code:2136},Class__0__declares_interface__1__but_does_not_implement_it__NL__2:{category:1,message:"Class {0} declares interface {1} but does not implement it:{NL}{2}",code:2137},Class__0__declares_class__1__but_does_not_implement_it__NL__2:{category:1,message:"Class {0} declares class {1} as an implemented interface but does not implement it:{NL}{2}",code:2138},The_operand_of_an_increment_or_decrement_operator_must_be_a_variable__property_or_indexer:{category:1,message:"The operand of an increment or decrement operator must be a variable, property or indexer.",code:2139},_this__cannot_be_referenced_in_initializers_in_a_class_body:{category:1,message:"'this' cannot be referenced in initializers in a class body.",code:2140},Class__0__cannot_extend_class__1__NL__2:{category:1,message:"Class '{0}' cannot extend class '{1}':{NL}{2}",code:2141},Interface__0__cannot_extend_class__1__NL__2:{category:1,message:"Interface '{0}' cannot extend class '{1}':{NL}{2}",code:2142},Interface__0__cannot_extend_interface__1__NL__2:{category:1,message:"Interface '{0}' cannot extend interface '{1}':{NL}{2}",code:2143},Duplicate_overload_signature_for__0_:{category:1,message:"Duplicate overload signature for '{0}'.",code:2144},Duplicate_constructor_overload_signature:{category:1,message:"Duplicate constructor overload signature.",code:2145},Duplicate_overload_call_signature:{category:1,message:"Duplicate overload call signature.",code:2146},Duplicate_overload_construct_signature:{category:1,message:"Duplicate overload construct signature.",code:2147},Overload_signature_is_not_compatible_with_function_definition:{category:1,message:"Overload signature is not compatible with function definition.",code:2148},Overload_signature_is_not_compatible_with_function_definition__NL__0:{category:1,message:"Overload signature is not compatible with function definition:{NL}{0}",code:2149},Overload_signatures_must_all_be_public_or_private:{category:1,message:"Overload signatures must all be public or private.",code:2150},Overload_signatures_must_all_be_exported_or_local:{category:1,message:"Overload signatures must all be exported or local.",code:2151},Overload_signatures_must_all_be_ambient_or_non_ambient:{category:1,message:"Overload signatures must all be ambient or non-ambient.",code:2152},Overload_signatures_must_all_be_optional_or_required:{category:1,message:"Overload signatures must all be optional or required.",code:2153},Specialized_overload_signature_is_not_subtype_of_any_non_specialized_signature:{category:1,message:"Specialized overload signature is not subtype of any non-specialized signature.",code:2154},_this__cannot_be_referenced_in_constructor_arguments:{category:1,message:"'this' cannot be referenced in constructor arguments.",code:2155},Static_member_cannot_be_accessed_off_an_instance_variable:{category:1,message:"Static member cannot be accessed off an instance variable.",code:2156},Instance_member_cannot_be_accessed_off_a_class:{category:1,message:"Instance member cannot be accessed off a class.",code:2157},Untyped_function_calls_may_not_accept_type_arguments:{category:1,message:"Untyped function calls may not accept type arguments.",code:2158},Non_generic_functions_may_not_accept_type_arguments:{category:1,message:"Non-generic functions may not accept type arguments.",code:2159},A_generic_type_may_not_reference_itself_with_its_own_type_parameters:{category:1,message:"A generic type may not reference itself with a wrapped form of its own type parameters.",code:2160},Value_of_type__0__is_not_callable__Did_you_mean_to_include__new___:{category:1,message:"Value of type '{0}' is not callable. Did you mean to include 'new'?",code:2161},Rest_parameters_must_be_array_types:{category:1,message:"Rest parameters must be array types.",code:2162},Overload_signature_implementation_cannot_use_specialized_type:{category:1,message:"Overload signature implementation cannot use specialized type.",code:2163},Export_assignments_may_only_be_used_in_External_modules:{category:1,message:"Export assignments may only be used at the top-level of external modules",code:2164},Export_assignments_may_only_be_made_with_acceptable_kinds:{category:1,message:"Export assignments may only be made with variables, functions, classes, interfaces, enums and internal modules",code:2165},Only_public_instance_methods_of_the_base_class_are_accessible_via_the_super_keyword:{category:1,message:"Only public instance methods of the base class are accessible via the super keyword",code:2166},Numeric_indexer_type___0___must_be_a_subtype_of_string_indexer_type___1__:{category:1,message:"Numeric indexer type '{0}' must be a subtype of string indexer type '{1}'",code:2167},Numeric_indexer_type___0___must_be_a_subtype_of_string_indexer_type___1____NL__2:{category:1,message:"Numeric indexer type '{0}' must be a subtype of string indexer type '{1}':{NL}{2}",code:2168},All_numerically_named_properties_must_be_subtypes_of_numeric_indexer_type___0__:{category:1,message:"All numerically named properties must be subtypes of numeric indexer type '{0}'",code:2169},All_numerically_named_properties_must_be_subtypes_of_numeric_indexer_type___0____NL__1:{category:1,message:"All numerically named properties must be subtypes of numeric indexer type '{0}':{NL}{1}",code:2170},All_named_properties_must_be_subtypes_of_string_indexer_type___0__:{category:1,message:"All named properties must be subtypes of string indexer type '{0}'",code:2171},All_named_properties_must_be_subtypes_of_string_indexer_type___0____NL__1:{category:1,message:"All named properties must be subtypes of string indexer type '{0}':{NL}{1}",code:2172},Generic_type_references_must_include_all_type_arguments:{category:1,message:"Generic type references must include all type arguments",code:2173},Type__0__is_missing_property__1__from_type__2_:{category:3,message:"Type '{0}' is missing property '{1}' from type '{2}'.",code:4e3},Types_of_property__0__of_types__1__and__2__are_incompatible:{category:3,message:"Types of property '{0}' of types '{1}' and '{2}' are incompatible.",code:4001},Types_of_property__0__of_types__1__and__2__are_incompatible__NL__3:{category:3,message:"Types of property '{0}' of types '{1}' and '{2}' are incompatible:{NL}{3}",code:4002},Property__0__defined_as_private_in_type__1__is_defined_as_public_in_type__2_:{category:3,message:"Property '{0}' defined as private in type '{1}' is defined as public in type '{2}'.",code:4003},Property__0__defined_as_public_in_type__1__is_defined_as_private_in_type__2_:{category:3,message:"Property '{0}' defined as public in type '{1}' is defined as private in type '{2}'.",code:4004},Types__0__and__1__define_property__2__as_private:{category:3,message:"Types '{0}' and '{1}' define property '{2}' as private.",code:4005},Call_signatures_of_types__0__and__1__are_incompatible:{category:3,message:"Call signatures of types '{0}' and '{1}' are incompatible.",code:4006},Call_signatures_of_types__0__and__1__are_incompatible__NL__2:{category:3,message:"Call signatures of types '{0}' and '{1}' are incompatible:{NL}{2}",code:4007},Type__0__requires_a_call_signature__but_Type__1__lacks_one:{category:3,message:"Type '{0}' requires a call signature, but type '{1}' lacks one.",code:4008},Construct_signatures_of_types__0__and__1__are_incompatible:{category:3,message:"Construct signatures of types '{0}' and '{1}' are incompatible.",code:4009},Construct_signatures_of_types__0__and__1__are_incompatible__NL__2:{category:3,message:"Construct signatures of types '{0}' and '{1}' are incompatible:{NL}{2}",code:40010},Type__0__requires_a_construct_signature__but_Type__1__lacks_one:{category:3,message:"Type '{0}' requires a construct signature, but type '{1}' lacks one.",code:4011},Index_signatures_of_types__0__and__1__are_incompatible:{category:3,message:"Index signatures of types '{0}' and '{1}' are incompatible.",code:4012},Index_signatures_of_types__0__and__1__are_incompatible__NL__2:{category:3,message:"Index signatures of types '{0}' and '{1}' are incompatible:{NL}{2}",code:4013},Call_signature_expects__0__or_fewer_parameters:{category:3,message:"Call signature expects {0} or fewer parameters.",code:4014},Could_not_apply_type__0__to_argument__1__which_is_of_type__2_:{category:3,message:"Could not apply type'{0}' to argument {1} which is of type '{2}'.",code:4015},Class__0__defines_instance_member_accessor__1___but_extended_class__2__defines_it_as_instance_member_function:{category:3,message:"Class '{0}' defines instance member accessor '{1}', but extended class '{2}' defines it as instance member function.",code:4016},Class__0__defines_instance_member_property__1___but_extended_class__2__defines_it_as_instance_member_function:{category:3,message:"Class '{0}' defines instance member property '{1}', but extended class '{2}' defines it as instance member function.",code:4017},Class__0__defines_instance_member_function__1___but_extended_class__2__defines_it_as_instance_member_accessor:{category:3,message:"Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member accessor.",code:4018},Class__0__defines_instance_member_function__1___but_extended_class__2__defines_it_as_instance_member_property:{category:3,message:"Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member property.",code:4019},Types_of_static_property__0__of_class__1__and_class__2__are_incompatible:{category:3,message:"Types of static property '{0}' of class '{1}' and class '{2}' are incompatible.",code:4020},Types_of_static_property__0__of_class__1__and_class__2__are_incompatible__NL__3:{category:3,message:"Types of static property '{0}' of class '{1}' and class '{2}' are incompatible:{NL}{3}",code:4021},Type_reference_cannot_refer_to_container__0_:{category:1,message:"Type reference cannot refer to container '{0}'.",code:4022},Type_reference_must_refer_to_type:{category:1,message:"Type reference cannot must refer to type.",code:4023},Enums_with_multiple_declarations_must_provide_an_initializer_for_the_first_enum_element:{category:1,message:"Enums with multiple declarations must provide an initializer for the first enum element.",code:4024},Current_host_does_not_support__w_atch_option:{category:1,message:"Current host does not support -w[atch] option.",code:5001},ECMAScript_target_version__0__not_supported___Using_default__1__code_generation:{category:0,message:"ECMAScript target version '{0}' not supported.  Using default '{1}' code generation.",code:5002},Module_code_generation__0__not_supported___Using_default__1__code_generation:{category:0,message:"Module code generation '{0}' not supported.  Using default '{1}' code generation.",code:5003},Could_not_find_file___0_:{category:1,message:"Could not find file: '{0}'.",code:5004},Unknown_extension_for_file___0__Only__ts_and_d_ts_extensions_are_allowed:{category:1,message:"Unknown extension for file: '{0}'. Only .ts and .d.ts extensions are allowed.",code:5005},A_file_cannot_have_a_reference_itself:{category:1,message:"A file cannot have a reference itself.",code:5006},Cannot_resolve_referenced_file___0_:{category:1,message:"Cannot resolve referenced file: '{0}'.",code:5007},Cannot_resolve_imported_file___0_:{category:1,message:"Cannot resolve imported file: '{0}'.",code:5008},Cannot_find_the_common_subdirectory_path_for_the_input_files:{category:1,message:"Cannot find the common subdirectory path for the input files",code:5009},Cannot_compile_dynamic_modules_when_emitting_into_single_file:{category:1,message:"Cannot compile dynamic modules when emitting into single file",code:5010},Emit_Error__0:{category:1,message:"Emit Error: {0}.",code:5011},Unsupported_encoding_for_file__0:{category:1,message:"Unsupported encoding for file: '{0}'.",code:5013}};i=[];for(r in n.diagnosticMessages)if(n.diagnosticMessages.hasOwnProperty(r)){if(t=n.diagnosticMessages[r],u=i[t.code],u)throw new Error("Duplicate diagnostic code: "+t.code);i[t.code]=t}}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.argument=function(n,t){return new Error("Invalid argument: "+n+"."+(t?" "+t:""))},n.argumentOutOfRange=function(n){return new Error("Argument out of range: "+n+".")},n.argumentNull=function(n){return new Error("Argument null: "+n+".")},n.abstract=function(){return new Error("Operation not implemented properly by subclass.")},n.notYetImplemented=function(){return new Error("Not yet implemented.")},n.invalidOperation=function(n){return new Error(n?"Invalid operation: "+n:"Invalid operation.")},n}();n.Errors=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(){}return t.computeFnv1aCharArrayHashCode=function(n,i,r){for(var f=t.FNV_BASE,e=i+r,u=i;u<e;u++)f=(f^n[u])*t.FNV_PRIME;return f},t.computeSimple31BitCharArrayHashCode=function(n,t,i){for(var r=0,f,u=0;u<i;u++)f=n[t+u],r=(r<<5)+r+f|0;return r&2147483647},t.computeSimple31BitStringHashCode=function(n){for(var t=0,u=n.length,r,i=0;i<u;i++)r=n.charCodeAt(0+i),t=(t<<5)+t+r|0;return t&2147483647},t.computeMurmur2CharArrayHashCode=function(n,t,i){for(var u=1540483477,e=i,r=0^e,o=t;e>=2;){var s=n[o],h=n[o+1],f=s|h<<16;f*=u;f^=f>>24;f*=u;r*=u;r^=f;o+=2;e-=2}return e===1&&(r^=n[o],r*=u),r^=r>>13,r*=u,r^r>>15},t.computeMurmur2StringHashCode=function(n){for(var i=1540483477,e=n.length,u=e,t=0^u,f=0;u>=2;){var o=n.charCodeAt(f),s=n.charCodeAt(f+1),r=o|s<<16;r*=i;r^=r>>24;r*=i;t*=i;t^=r;f+=2;u-=2}return u===1&&(t^=n.charCodeAt(f),t*=i),t^=t>>13,t*=i,t^t>>15},t.getPrime=function(i){for(var u,r=0;r<t.primes.length;r++)if(u=t.primes[r],u>=i)return u;throw n.Errors.notYetImplemented();},t.expandPrime=function(n){var i=n<<1;return i>2146435069&&2146435069>n?2146435069:t.getPrime(i)},t.combine=function(n,t){return(t<<5)+t+n&2147483647},t.FNV_BASE=2166136261,t.FNV_PRIME=16777619,t.primes=[3,7,11,17,23,29,37,47,59,71,89,107,131,163,197,239,293,353,431,521,631,761,919,1103,1327,1597,1931,2333,2801,3371,4049,4861,5839,7013,8419,10103,12143,14591,17519,21023,25229,30293,36353,43627,52361,62851,75431,90523,108631,130363,156437,187751,225307,270371,324449,389357,467237,560689,672827,807403,968897,1162687,1395263,1674319,2009191,2411033,2893249,3471899,4166287,4999559,5999471,7199369],t}();n.Hash=t}(TypeScript||(TypeScript={})),function(n){(function(t){function f(n,r,u){return typeof n=="undefined"&&(n=t.DefaultHashTableCapacity),typeof r=="undefined"&&(r=null),typeof u=="undefined"&&(u=null),new i(n,r,u)}function e(n){return n.__hash===undefined&&(n.__hash=r,r++),n.__hash}var u,i,r;t.DefaultHashTableCapacity=256;u=function(){function n(n,t,i,r){this.Key=n;this.Value=t;this.HashCode=i;this.Next=r}return n}();i=function(){function t(t,i,r){this.hash=i;this.equals=r;this.entries=[];this.count=0;var u=n.Hash.getPrime(t);this.hash=i;this.equals=r;this.entries=n.ArrayUtilities.createArray(u,null)}return t.prototype.set=function(n,t){this.addOrSet(n,t,!1)},t.prototype.add=function(n,t){this.addOrSet(n,t,!0)},t.prototype.containsKey=function(n){var t=this.computeHashCode(n),i=this.findEntry(n,t);return i!==null},t.prototype.get=function(n){var i=this.computeHashCode(n),t=this.findEntry(n,i);return t===null?null:t.Value},t.prototype.computeHashCode=function(t){var i=this.hash===null?t.hashCode():this.hash(t);return i=i&2147483647,n.Debug.assert(i>0),i},t.prototype.addOrSet=function(t,i,r){var f=this.computeHashCode(t),u=this.findEntry(t,f);if(u!==null){if(r)throw n.Errors.argument("key","Key was already in table.");u.Key=t;u.Value=i;return}return this.addEntry(t,i,f)},t.prototype.findEntry=function(n,t){for(var r,i=this.entries[t%this.entries.length];i!==null;i=i.Next)if(i.HashCode===t&&(r=this.equals===null?n===i.Key:this.equals(n,i.Key),r))return i;return null},t.prototype.addEntry=function(n,t,i){var r=i%this.entries.length,f=new u(n,t,i,this.entries[r]);return this.entries[r]=f,this.count===this.entries.length&&this.grow(),this.count++,f.Key},t.prototype.grow=function(){var f=n.Hash.expandPrime(this.entries.length),e=this.entries,r=n.ArrayUtilities.createArray(f,null),i,t,u,o;for(this.entries=r,i=0;i<e.length;i++)for(t=e[i];t!==null;)u=t.HashCode%f,o=t.Next,t.Next=r[u],r[u]=t,t=o},t}();t.HashTable=i;t.createHashTable=f;r=1;t.identityHashCode=e})(n.Collections||(n.Collections={}));var t=n.Collections}(TypeScript||(TypeScript={})),function(n){function u(n){for(var r=-1,u=n.split("_"),i,t=0;t<u.length;t++)i=parseInt(u[t]),!isNaN(i)&&i>r&&(r=i);return r}function i(t){var i=n.DiagnosticCode[t];return n.diagnosticMessages[i]}function t(t,i){var e=n.DiagnosticCode[t],o=n.diagnosticMessages[e],s=i?i.length:0,f,r;if(o){if(f=1+u(e),f!==s)throw new Error("Expected "+f+" arguments to diagnostic, got "+s+" instead");}else throw new Error("Invalid diagnostic");return r=o.message.replace(/{({(\d+)})?TB}/g,function(n,t,r){var f="\t",e=f,u;if(r&&i[r])for(u=1;u<i[r];u++)e+=f;return e}),r=r.replace(/{(\d+)}/g,function(n,t){return typeof i[t]!="undefined"?i[t]:n}),r.replace(/{(NL)}/g,function(){return"\r\n"})}function f(n,r){var u=i(n),f=t(n,r);return u.category===1?t(0,[u.code,f]):u.category===0?t(1,[u.code,f]):f}var r=function(){function t(n,t,i,r,u){typeof u=="undefined"&&(u=null);this._diagnosticCode=r;this._arguments=u&&u.length>0?u:null;this._fileName=n;this._originalStart=this._start=t;this._length=i}return t.prototype.toJSON=function(){var t={},arguments;return t.start=this.start(),t.length=this.length(),t.diagnosticCode=n.DiagnosticCode[this.diagnosticCode()],arguments=this.arguments(),arguments&&arguments.length>0&&(t.arguments=arguments),t},t.prototype.fileName=function(){return this._fileName},t.prototype.start=function(){return this._start},t.prototype.length=function(){return this._length},t.prototype.diagnosticCode=function(){return this._diagnosticCode},t.prototype.arguments=function(){return this._arguments},t.prototype.text=function(){return n.getDiagnosticText(this._diagnosticCode,this._arguments)},t.prototype.message=function(){return n.getDiagnosticMessage(this._diagnosticCode,this._arguments)},t.prototype.adjustOffset=function(n){this._start=this._originalStart+n},t.prototype.additionalLocations=function(){return[]},t.equals=function(t,i){return t._fileName===i._fileName&&t._start===i._start&&t._length===i._length&&t._diagnosticCode===i._diagnosticCode&&n.ArrayUtilities.sequenceEquals(t._arguments,i._arguments,function(n,t){return n===t})},t}();n.Diagnostic=r;n.getDiagnosticInfoFromCode=i;n.getDiagnosticText=t;n.getDiagnosticMessage=f}(TypeScript||(TypeScript={})),function(n){n[n.None=0]="None";n[n.Utf8=1]="Utf8";n[n.Utf16BigEndian=2]="Utf16BigEndian";n[n.Utf16LittleEndian=3]="Utf16LittleEndian"}(ByteOrderMark||(ByteOrderMark={}));FileInformation=function(){function n(n,t){this._contents=n;this._byteOrderMark=t}return n.prototype.contents=function(){return this._contents},n.prototype.byteOrderMark=function(){return this._byteOrderMark},n}();Environment=function(){function n(){function r(){return i.length>0?i.pop():new ActiveXObject("ADODB.Stream")}function f(n){i.push(n)}var n,i,u,t;try{n=new ActiveXObject("Scripting.FileSystemObject")}catch(e){return null}for(i=[],u=[],t=0;t<WScript.Arguments.length;t++)u[t]=WScript.Arguments.Item(t);return{currentDirectory:function(){return WScript.CreateObject("WScript.Shell").CurrentDirectory},readFile:function(n){var t,i,u,o,e;try{return t=r(),t.Open(),t.Type=2,t.Charset="x-ansi",t.LoadFromFile(n),i=t.ReadText(2),t.Position=0,u=0,i.charCodeAt(0)===254&&i.charCodeAt(1)===255?(t.Charset="unicode",u=2):i.charCodeAt(0)===255&&i.charCodeAt(1)===254?(t.Charset="unicode",u=3):i.charCodeAt(0)===239&&i.charCodeAt(1)===187?(t.Charset="utf-8",u=1):t.Charset="utf-8",o=t.ReadText(-1),t.Close(),f(t),new FileInformation(o,u)}catch(s){e=new Error(s.message);s.number===-2147024809&&(e.isUnsupportedEncoding=!0);throw e;}},writeFile:function(n,t,i){var u=r(),f;u.Charset="utf-8";u.Open();u.WriteText(t,0);u.Position=i?0:3;f=r();f.Type=1;f.Open();u.CopyTo(f);f.Flush();f.SaveToFile(n,2);f.Close();u.Flush();u.Close()},fileExists:function(t){return n.FileExists(t)},deleteFile:function(t){n.FileExists(t)&&n.DeleteFile(t,!0)},directoryExists:function(t){return n.FolderExists(t)},listFiles:function(t,i,r){function u(n,t){var e=[],f;if(r.recursive)for(f=new Enumerator(n.subfolders);!f.atEnd();f.moveNext())e=e.concat(u(f.item(),t+"\\"+f.item().Name));for(f=new Enumerator(n.files);!f.atEnd();f.moveNext())(!i||f.item().Name.match(i))&&e.push(t+"\\"+f.item().Name);return e}r=r||{};var f=n.GetFolder(t);return u(f,t)},arguments:u,standardOut:WScript.StdOut}}function t(){var n=require("fs"),t=require("path"),i=require("module");return{currentDirectory:function(){return process.cwd()},readFile:function(t){var i=n.readFileSync(t),r,u;switch(i[0]){case 254:if(i[1]===255){for(r=0;r+1<i.length;)u=i[r],i[r]=i[r+1],i[r+1]=u,r+=2;return new FileInformation(i.toString("ucs2",2),2)}break;case 255:if(i[1]===254)return new FileInformation(i.toString("ucs2",2),3);break;case 239:if(i[1]===187)return new FileInformation(i.toString("utf8",3),1)}return new FileInformation(i.toString("utf8",0),0)},writeFile:function(i,r,u){function f(i){var r=n.statSync(i);if(r.isFile())throw'"'+i+"\" exists but isn't a directory.";else{if(r.isDirectory())return;f(t.dirname(i));n.mkdirSync(i,0775)}}f(t.dirname(i));u&&(r=""+r);n.writeFileSync(i,r,"utf8")},fileExists:function(t){return n.existsSync(t)},deleteFile:function(t){try{n.unlinkSync(t)}catch(i){}},directoryExists:function(t){return n.existsSync(t)&&n.statSync(t).isDirectory()},listFiles:function(t,i,r){function u(t){for(var o=[],e=n.readdirSync(t),s,f=0;f<e.length;f++)s=n.statSync(t+"\\"+e[f]),r.recursive&&s.isDirectory()?o=o.concat(u(t+"\\"+e[f])):s.isFile()&&(!i||e[f].match(i))&&o.push(t+"\\"+e[f]);return o}return r=r||{},u(t)},arguments:process.argv.slice(2),standardOut:{Write:function(n){process.stdout.write(n)},WriteLine:function(n){process.stdout.write(n+"\n")},Close:function(){}}}}return typeof WScript!="undefined"&&typeof ActiveXObject=="function"?n():typeof module!="undefined"&&module.exports?t():null}(),function(n){var t=function(){function n(){}return n.integerDivide=function(n,t){return n/t>>0},n.integerMultiplyLow32Bits=function(n,t){var i=n&65535,r=n>>>16,u=t&65535,f=t>>>16;return((n&4294901760)*t>>>0)+((n&65535)*t>>>0)>>>0},n.integerMultiplyHigh32Bits=function(n,t){var i=n&65535,u=n>>>16,f=t&65535,r=t>>>16;return u*r+((i*f>>>17)+i*r>>>15)},n}();n.IntegerUtilities=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.max=function(n,t){return n>=t?n:t},n.min=function(n,t){return n<=t?n:t},n}();n.MathPrototype=t}(TypeScript||(TypeScript={})),function(n){(function(t){t.DefaultStringTableCapacity=256;var r=function(){function n(n,t,i){this.Text=n;this.HashCode=t;this.Next=i}return n}(),i=function(){function t(t){this.entries=[];this.count=0;var i=n.Hash.getPrime(t);this.entries=n.ArrayUtilities.createArray(i,null)}return t.prototype.addCharArray=function(t,i,r){var u=n.Hash.computeSimple31BitCharArrayHashCode(t,i,r)&2147483647,f=this.findCharArrayEntry(t,i,r,u),e;return f!==null?f.Text:(e=t.slice(i,i+r),this.addEntry(n.StringUtilities.fromCharCodeArray(e),u))},t.prototype.findCharArrayEntry=function(n,i,r,u){for(var f=this.entries[u%this.entries.length];f!==null;f=f.Next)if(f.HashCode===u&&t.textCharArrayEquals(f.Text,n,i,r))return f;return null},t.prototype.addEntry=function(n,t){var i=t%this.entries.length,u=new r(n,t,this.entries[i]);return this.entries[i]=u,this.count===this.entries.length&&this.grow(),this.count++,u.Text},t.prototype.grow=function(){var f=n.Hash.expandPrime(this.entries.length),e=this.entries,r=n.ArrayUtilities.createArray(f,null),i,t,u,o;for(this.entries=r,i=0;i<e.length;i++)for(t=e[i];t!==null;)u=t.HashCode%f,o=t.Next,t.Next=r[u],r[u]=t,t=o},t.textCharArrayEquals=function(n,t,i,r){var f,u;if(n.length!==r)return!1;for(f=i,u=0;u<r;u++){if(n.charCodeAt(u)!==t[f])return!1;f++}return!0},t}();t.StringTable=i;t.DefaultStringTable=new i(t.DefaultStringTableCapacity)})(n.Collections||(n.Collections={}));var t=n.Collections}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.isString=function(n){return Object.prototype.toString.apply(n,[])==="[object String]"},n.fromCharCodeArray=function(n){return String.fromCharCode.apply(null,n)},n.endsWith=function(n,t){return n.substring(n.length-t.length,n.length)===t},n.startsWith=function(n,t){return n.substr(0,t.length)===t},n.copyTo=function(n,t,i,r,u){for(var f=0;f<u;f++)i[r+f]=n.charCodeAt(t+f)},n.repeat=function(n,t){return Array(t+1).join(n)},n.stringEquals=function(n,t){return n===t},n}();n.StringUtilities=t}(TypeScript||(TypeScript={}));global=Function("return this").call(null),function(n){var t,i;(function(n){n.now;n.resolution;typeof WScript!="undefined"&&typeof global.WScript.InitializeProjection!="undefined"?(global.WScript.InitializeProjection(),n.now=function(){return TestUtilities.QueryPerformanceCounter()},n.resolution=TestUtilities.QueryPerformanceFrequency()):(n.now=function(){return Date.now()},n.resolution=1e3)})(t||(t={}));i=function(){function n(){this.time=0}return n.prototype.start=function(){this.time=0;this.startTime=t.now()},n.prototype.end=function(){this.time=t.now()-this.startTime},n}();n.Timer=i}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.nullCharacter=0]="nullCharacter";n[n.maxAsciiCharacter=127]="maxAsciiCharacter";n[n.lineFeed=10]="lineFeed";n[n.carriageReturn=13]="carriageReturn";n[n.lineSeparator=8232]="lineSeparator";n[n.paragraphSeparator=8233]="paragraphSeparator";n[n.nextLine=133]="nextLine";n[n.space=32]="space";n[n.nonBreakingSpace=160]="nonBreakingSpace";n[n.enQuad=8192]="enQuad";n[n.emQuad=8193]="emQuad";n[n.enSpace=8194]="enSpace";n[n.emSpace=8195]="emSpace";n[n.threePerEmSpace=8196]="threePerEmSpace";n[n.fourPerEmSpace=8197]="fourPerEmSpace";n[n.sixPerEmSpace=8198]="sixPerEmSpace";n[n.figureSpace=8199]="figureSpace";n[n.punctuationSpace=8200]="punctuationSpace";n[n.thinSpace=8201]="thinSpace";n[n.hairSpace=8202]="hairSpace";n[n.zeroWidthSpace=8203]="zeroWidthSpace";n[n.narrowNoBreakSpace=8239]="narrowNoBreakSpace";n[n.ideographicSpace=12288]="ideographicSpace";n[n._=95]="_";n[n.$=36]="$";n[n._0=48]="_0";n[n._9=57]="_9";n[n.a=97]="a";n[n.b=98]="b";n[n.c=99]="c";n[n.d=100]="d";n[n.e=101]="e";n[n.f=102]="f";n[n.g=103]="g";n[n.h=104]="h";n[n.i=105]="i";n[n.k=107]="k";n[n.l=108]="l";n[n.m=109]="m";n[n.n=110]="n";n[n.o=111]="o";n[n.p=112]="p";n[n.q=113]="q";n[n.r=114]="r";n[n.s=115]="s";n[n.t=116]="t";n[n.u=117]="u";n[n.v=118]="v";n[n.w=119]="w";n[n.x=120]="x";n[n.y=121]="y";n[n.z=122]="z";n[n.A=65]="A";n[n.E=69]="E";n[n.F=70]="F";n[n.X=88]="X";n[n.Z=90]="Z";n[n.ampersand=38]="ampersand";n[n.asterisk=42]="asterisk";n[n.at=64]="at";n[n.backslash=92]="backslash";n[n.bar=124]="bar";n[n.caret=94]="caret";n[n.closeBrace=125]="closeBrace";n[n.closeBracket=93]="closeBracket";n[n.closeParen=41]="closeParen";n[n.colon=58]="colon";n[n.comma=44]="comma";n[n.dot=46]="dot";n[n.doubleQuote=34]="doubleQuote";n[n.equals=61]="equals";n[n.exclamation=33]="exclamation";n[n.greaterThan=62]="greaterThan";n[n.lessThan=60]="lessThan";n[n.minus=45]="minus";n[n.openBrace=123]="openBrace";n[n.openBracket=91]="openBracket";n[n.openParen=40]="openParen";n[n.percent=37]="percent";n[n.plus=43]="plus";n[n.question=63]="question";n[n.semicolon=59]="semicolon";n[n.singleQuote=39]="singleQuote";n[n.slash=47]="slash";n[n.tilde=126]="tilde";n[n.backspace=8]="backspace";n[n.formFeed=12]="formFeed";n[n.byteOrderMark=65279]="byteOrderMark";n[n.tab=9]="tab";n[n.verticalTab=11]="verticalTab"})(n.CharacterCodes||(n.CharacterCodes={}));var t=n.CharacterCodes}(TypeScript||(TypeScript={})),function(n){(function(t){function r(n){return new i(n)}var i=function(){function t(n){this.text=n}return t.prototype.getText=function(n,t){return this.text.substring(n,t)},t.prototype.getLength=function(){return this.text.length},t.prototype.getLineStartPositions=function(){return n.TextUtilities.parseLineStarts(n.SimpleText.fromString(this.text))},t.prototype.getTextChangeRangeSinceVersion=function(){throw n.Errors.notYetImplemented();},t}();t.fromString=r})(n.ScriptSnapshot||(n.ScriptSnapshot={}));var t=n.ScriptSnapshot}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n,t){this._lineStarts=n;this.length=t}return t.prototype.toJSON=function(){return{lineStarts:this._lineStarts,length:this.length}},t.prototype.equals=function(t){return this.length===t.length&&n.ArrayUtilities.sequenceEquals(this.lineStarts(),t.lineStarts(),function(n,t){return n===t})},t.prototype.lineStarts=function(){return this._lineStarts},t.prototype.lineCount=function(){return this.lineStarts().length},t.prototype.getPosition=function(n,t){return this.lineStarts()[n]+t},t.prototype.getLineNumberFromPosition=function(t){if(t<0||t>this.length)throw n.Errors.argumentOutOfRange("position");if(t===this.length)return this.lineCount()-1;var i=n.ArrayUtilities.binarySearch(this.lineStarts(),t);return i<0&&(i=~i-1),i},t.prototype.getLineStartPosition=function(n){return this.lineStarts()[n]},t.prototype.fillLineAndCharacterFromPosition=function(t,i){if(t<0||t>this.length)throw n.Errors.argumentOutOfRange("position");var r=this.getLineNumberFromPosition(t);i.line=r;i.character=t-this.lineStarts()[r]},t.prototype.getLineAndCharacterFromPosition=function(t){if(t<0||t>this.length)throw n.Errors.argumentOutOfRange("position");var i=this.getLineNumberFromPosition(t);return new n.LineAndCharacter(i,t-this.lineStarts()[i])},t.fromSimpleText=function(i){var r=n.TextUtilities.parseLineStarts(i);return new t(r,i.length())},t.fromScriptSnapshot=function(n){return new t(n.getLineStartPositions(),n.getLength())},t.fromString=function(i){return t.fromSimpleText(n.SimpleText.fromString(i))},t.empty=new t([0],0),t}();n.LineMap=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(t,i){if(this._line=0,this._character=0,t<0)throw n.Errors.argumentOutOfRange("line");if(i<0)throw n.Errors.argumentOutOfRange("character");this._line=t;this._character=i}return t.prototype.line=function(){return this._line},t.prototype.character=function(){return this._character},t}();n.LineAndCharacter=t}(TypeScript||(TypeScript={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){function u(t,i,r){var u=t.charCodeAt(i);u===10?i>0&&t.charCodeAt(i-1)===13?(r.startPosition=i-1,r.length=2):(r.startPosition=i,r.length=1):n.TextUtilities.isAnyLineBreakCharacter(u)?(r.startPosition=i,r.length=1):(r.startPosition=i+1,r.length=0)}function s(n){return new o(n)}var f=function(){function n(n,t){this.startPosition=n;this.length=t}return n}(),i=function(){function t(t,i,r,u){this._text=null;this._textSpan=null;n.Contract.throwIfNull(t);n.Contract.throwIfFalse(r>=0);n.Contract.requires(u>=0);this._text=t;this._textSpan=i;this._lineBreakLength=r;this._lineNumber=u}return t.prototype.start=function(){return this._textSpan.start()},t.prototype.end=function(){return this._textSpan.end()},t.prototype.endIncludingLineBreak=function(){return this.end()+this._lineBreakLength},t.prototype.extent=function(){return this._textSpan},t.prototype.extentIncludingLineBreak=function(){return n.TextSpan.fromBounds(this.start(),this.endIncludingLineBreak())},t.prototype.toString=function(){return this._text.toString(this._textSpan)},t.prototype.lineNumber=function(){return this._lineNumber},t}(),r=function(){function t(){this.lazyLineStarts=null;this.linebreakInfo=new f(0,0);this.lastLineFoundForPosition=null}return t.prototype.length=function(){throw n.Errors.abstract();},t.prototype.charCodeAt=function(){throw n.Errors.abstract();},t.prototype.checkSubSpan=function(t){if(t.start()<0||t.start()>this.length()||t.end()>this.length())throw n.Errors.argumentOutOfRange("span");},t.prototype.toString=function(t){typeof t=="undefined"&&(t=null);throw n.Errors.abstract();},t.prototype.subText=function(n){return this.checkSubSpan(n),new e(this,n)},t.prototype.substr=function(){throw n.Errors.abstract();},t.prototype.copyTo=function(){throw n.Errors.abstract();},t.prototype.lineCount=function(){return this.lineStarts().length},t.prototype.lines=function(){for(var t=[],i=this.lineCount(),n=0;n<i;++n)t[n]=this.getLineFromLineNumber(n);return t},t.prototype.lineMap=function(){return new n.LineMap(this.lineStarts(),this.length())},t.prototype.lineStarts=function(){return this.lazyLineStarts===null&&(this.lazyLineStarts=n.TextUtilities.parseLineStarts(this)),this.lazyLineStarts},t.prototype.getLineFromLineNumber=function(t){var f=this.lineStarts(),r;if(t<0||t>=f.length)throw n.Errors.argumentOutOfRange("lineNumber");return r=f[t],t===f.length-1?new i(this,new n.TextSpan(r,this.length()-r),0,t):(u(this,f[t+1]-1,this.linebreakInfo),new i(this,new n.TextSpan(r,this.linebreakInfo.startPosition-r),this.linebreakInfo.length,t))},t.prototype.getLineFromPosition=function(n){var t=this.lastLineFoundForPosition,r,i;return t!==null&&t.start()<=n&&t.endIncludingLineBreak()>n?t:(r=this.getLineNumberFromPosition(n),i=this.getLineFromLineNumber(r),this.lastLineFoundForPosition=i,i)},t.prototype.getLineNumberFromPosition=function(t){if(t<0||t>this.length())throw n.Errors.argumentOutOfRange("position");if(t===this.length())return this.lineCount()-1;var i=n.ArrayUtilities.binarySearch(this.lineStarts(),t);return i<0&&(i=~i-1),i},t.prototype.getLinePosition=function(t){if(t<0||t>this.length())throw n.Errors.argumentOutOfRange("position");var i=this.getLineNumberFromPosition(t);return new n.LineAndCharacter(i,t-this.lineStarts()[i])},t}(),e=function(t){function i(i,r){if(t.call(this),i===null)throw n.Errors.argumentNull("text");if(r.start()<0||r.start()>=i.length()||r.end()<0||r.end()>i.length())throw n.Errors.argument("span");this.text=i;this.span=r}return __extends(i,t),i.prototype.length=function(){return this.span.length()},i.prototype.charCodeAt=function(t){if(t<0||t>this.length())throw n.Errors.argumentOutOfRange("position");return this.text.charCodeAt(this.span.start()+t)},i.prototype.subText=function(n){return this.checkSubSpan(n),new i(this.text,this.getCompositeSpan(n.start(),n.length()))},i.prototype.copyTo=function(n,t,i,r){var u=this.getCompositeSpan(n,r);this.text.copyTo(u.start(),t,i,u.length())},i.prototype.getCompositeSpan=function(t,i){var r=n.MathPrototype.min(this.text.length(),this.span.start()+t),u=n.MathPrototype.min(this.text.length(),r+i);return new n.TextSpan(r,u-r)},i}(r),o=function(t){function i(i){if(t.call(this),this.source=null,i===null)throw n.Errors.argumentNull("data");this.source=i}return __extends(i,t),i.prototype.length=function(){return this.source.length},i.prototype.charCodeAt=function(t){if(t<0||t>=this.source.length)throw n.Errors.argumentOutOfRange("position");return this.source.charCodeAt(t)},i.prototype.substr=function(n,t){return this.source.substr(n,t)},i.prototype.toString=function(t){return(typeof t=="undefined"&&(t=null),t===null&&(t=new n.TextSpan(0,this.length())),this.checkSubSpan(t),t.start()===0&&t.length()===this.length())?this.source:this.source.substr(t.start(),t.length())},i.prototype.copyTo=function(t,i,r,u){n.StringUtilities.copyTo(this.source,t,i,r,u)},i}(r);t.createText=s})(n.TextFactory||(n.TextFactory={}));var t=n.TextFactory}(TypeScript||(TypeScript={})),function(n){(function(t){function f(n){return new r(n)}function e(n){return new u(n)}var i=function(){function t(t,i){if(this.text=null,this.span=null,t===null)throw n.Errors.argumentNull("text");if(i.start()<0||i.start()>=t.length()||i.end()<0||i.end()>t.length())throw n.Errors.argument("span");this.text=t;this.span=i}return t.prototype.checkSubSpan=function(t){if(t.start()<0||t.start()>this.length()||t.end()>this.length())throw n.Errors.argumentOutOfRange("span");},t.prototype.checkSubPosition=function(t){if(t<0||t>=this.length())throw n.Errors.argumentOutOfRange("position");},t.prototype.length=function(){return this.span.length()},t.prototype.subText=function(n){return this.checkSubSpan(n),new t(this.text,this.getCompositeSpan(n.start(),n.length()))},t.prototype.copyTo=function(n,t,i,r){var u=this.getCompositeSpan(n,r);this.text.copyTo(u.start(),t,i,u.length())},t.prototype.substr=function(n,t,i){var r=this.getCompositeSpan(n,t);return this.text.substr(r.start(),r.length(),i)},t.prototype.getCompositeSpan=function(t,i){var r=n.MathPrototype.min(this.text.length(),this.span.start()+t),u=n.MathPrototype.min(this.text.length(),r+i);return new n.TextSpan(r,u-r)},t.prototype.charCodeAt=function(n){return this.checkSubPosition(n),this.text.charCodeAt(this.span.start()+n)},t.prototype.lineMap=function(){return n.LineMap.fromSimpleText(this)},t}(),r=function(){function t(n){this.value=n}return t.prototype.length=function(){return this.value.length},t.prototype.copyTo=function(t,i,r,u){n.StringUtilities.copyTo(this.value,t,i,r,u)},t.prototype.substr=function(i,r,u){if(u){var f=r<=t.charArray.length?t.charArray:n.ArrayUtilities.createArray(r,0);return this.copyTo(i,f,0,r),n.Collections.DefaultStringTable.addCharArray(f,0,r)}return this.value.substr(i,r)},t.prototype.subText=function(n){return new i(this,n)},t.prototype.charCodeAt=function(n){return this.value.charCodeAt(n)},t.prototype.lineMap=function(){return n.LineMap.fromSimpleText(this)},t.charArray=n.ArrayUtilities.createArray(1024,0),t}(),u=function(){function t(n){this.scriptSnapshot=n}return t.prototype.charCodeAt=function(n){return this.scriptSnapshot.getText(n,n+1).charCodeAt(0)},t.prototype.length=function(){return this.scriptSnapshot.getLength()},t.prototype.copyTo=function(t,i,r,u){var f=this.scriptSnapshot.getText(t,t+u);n.StringUtilities.copyTo(f,0,i,r,u)},t.prototype.substr=function(n,t){return this.scriptSnapshot.getText(n,n+t)},t.prototype.subText=function(n){return new i(this,n)},t.prototype.lineMap=function(){var t=this.scriptSnapshot.getLineStartPositions();return new n.LineMap(t,this.length())},t}();t.fromString=f;t.fromScriptSnapshot=e})(n.SimpleText||(n.SimpleText={}));var t=n.SimpleText}(TypeScript||(TypeScript={})),function(n){(function(n){function r(t){var u=t.length(),f,r,s;if(0===u)return f=[],f.push(0),f;for(var e=0,i=0,o=[],h=0;i<u;){if(r=t.charCodeAt(i),r>13&&r<=127){i++;continue}else s=r===13&&i+1<u&&t.charCodeAt(i+1)===10?2:r===10?1:n.getLengthOfLineBreak(t,i);0===s?i++:(o.push(e),i+=s,e=i,h++)}return o.push(e),o}function t(n,t,r){if(r===13){var u=t+1;return u<n.length()&&10===n.charCodeAt(u)?2:1}return i(r)?1:0}function u(n,i){var r=n.charCodeAt(i);return r>13&&r<=127?0:t(n,i,r)}function i(n){return n===10||n===13||n===133||n===8232||n===8233}n.parseLineStarts=r;n.getLengthOfLineBreakSlow=t;n.getLengthOfLineBreak=u;n.isAnyLineBreakCharacter=i})(n.TextUtilities||(n.TextUtilities={}));var t=n.TextUtilities}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(t,i){if(t<0&&n.Errors.argument("start"),t+i<t)throw new Error("length");this._start=t;this._length=i}return t.prototype.start=function(){return this._start},t.prototype.length=function(){return this._length},t.prototype.end=function(){return this._start+this._length},t.prototype.isEmpty=function(){return this._length===0},t.prototype.containsPosition=function(n){return n>=this._start&&n<this.end()},t.prototype.containsTextSpan=function(n){return n._start>=this._start&&n.end()<=this.end()},t.prototype.overlapsWith=function(t){var i=n.MathPrototype.max(this._start,t._start),r=n.MathPrototype.min(this.end(),t.end());return i<r},t.prototype.overlap=function(i){var r=n.MathPrototype.max(this._start,i._start),u=n.MathPrototype.min(this.end(),i.end());return r<u?t.fromBounds(r,u):null},t.prototype.intersectsWithTextSpan=function(n){return n._start<=this.end()&&n.end()>=this._start},t.prototype.intersectsWith=function(n,t){var i=n+t;return n<=this.end()&&i>=this._start},t.prototype.intersectsWithPosition=function(n){return n<=this.end()&&n>=this._start},t.prototype.intersection=function(i){var r=n.MathPrototype.max(this._start,i._start),u=n.MathPrototype.min(this.end(),i.end());return r<=u?t.fromBounds(r,u):null},t.fromBounds=function(i,r){return n.Contract.requires(i>=0),n.Contract.requires(r-i>=0),new t(i,r-i)},t}();n.TextSpan=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(t,i){if(i<0)throw n.Errors.argumentOutOfRange("newLength");this._span=t;this._newLength=i}return t.prototype.span=function(){return this._span},t.prototype.newLength=function(){return this._newLength},t.prototype.newSpan=function(){return new n.TextSpan(this.span().start(),this.newLength())},t.prototype.isUnchanged=function(){return this.span().isEmpty()&&this.newLength()===0},t.collapseChangesFromSingleVersion=function(i){for(var s=0,u=1073741823,f=0,r,o,h,e=0;e<i.length;e++)r=i[e],s+=r.newLength()-r.span().length(),r.span().start()<u&&(u=r.span().start()),r.span().end()>f&&(f=r.span().end());return u>f?null:(o=n.TextSpan.fromBounds(u,f),h=o.length()+s,new t(o,h))},t.collapseChangesAcrossMultipleVersions=function(i){var u;if(i.length===0)return t.unchanged;if(i.length===1)return i[0];var f=i[0],r=f.span().start(),e=f.span().end(),o=r+f.newLength();for(u=1;u<i.length;u++){var s=i[u],y=r,h=e,c=o,l=s.span().start(),a=s.span().end(),v=l+s.newLength();r=n.MathPrototype.min(y,l);e=n.MathPrototype.max(h,h+(a-c));o=n.MathPrototype.max(v,v+(c-a))}return new t(n.TextSpan.fromBounds(r,e),o-r)},t.unchanged=new t(new n.TextSpan(0,0),0),t}();n.TextChangeRange=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.isDecimalDigit=function(n){return n>=48&&n<=57},n.isHexDigit=function(t){return n.isDecimalDigit(t)||t>=65&&t<=70||t>=97&&t<=102},n.hexValue=function(t){return n.isDecimalDigit(t)?t-48:t>=65&&t<=70?t-55:t-87},n.isWhitespace=function(n){switch(n){case 32:case 160:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8203:case 8239:case 12288:case 9:case 11:case 12:case 65279:return!0}return!1},n.isLineTerminator=function(n){switch(n){case 13:case 10:case 8233:case 8232:return!0}return!1},n}();n.CharacterInfo=t}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.TriviaNewLineMask=1]="TriviaNewLineMask";n[n.TriviaCommentMask=2]="TriviaCommentMask";n[n.TriviaFullWidthShift=2]="TriviaFullWidthShift";n[n.NodeDataComputed=1]="NodeDataComputed";n[n.NodeIncrementallyUnusableMask=2]="NodeIncrementallyUnusableMask";n[n.NodeParsedInStrictModeMask=4]="NodeParsedInStrictModeMask";n[n.NodeFullWidthShift=3]="NodeFullWidthShift"})(n.SyntaxConstants||(n.SyntaxConstants={}));var t=n.SyntaxConstants}(TypeScript||(TypeScript={}));FormattingOptions=function(){function n(n,t,i,r){this.useTabs=n;this.spacesPerTab=t;this.indentSpaces=i;this.newLineCharacter=r}return n.defaultOptions=new n(!1,4,4,"\r\n"),n}(),function(n){(function(t){function e(n,t,r){return i(n,t,r)+n.width()}function i(n,t,i){for(var o=t.firstTokenInLineContainingToken(n),e=[],f=n;f!==o;)f=t.previousToken(f),f===o?(e.push(f.trailingTrivia().fullText()),e.push(f.text())):e.push(f.fullText());return r(o,e),u(e,i)}function o(n,t,i){var e=t.firstTokenInLineContainingToken(n),f=[];return r(e,f),u(f,i)}function r(t,i){for(var e=t.leadingTrivia(),r,f,u=e.count()-1;u>=0;u--){if(r=e.syntaxTriviaAt(u),r.kind()===5)break;if(r.kind()===6&&(f=n.Syntax.splitMultiLineCommentTriviaIntoMultipleLines(r),i.push(n.ArrayUtilities.last(f)),f.length>0))break;i.push(r.fullText())}}function u(n,t){for(var r=0,u,i=n.length-1;i>=0;i--)u=n[i],r=f(u,u.length,r,t);return r}function s(n,t,i){return f(n,t,0,i)}function f(n,t,i,r){for(var u=i,e=r.spacesPerTab,o,f=0;f<t;f++)o=n.charCodeAt(f),o===9?u+=e-u%e:u++;return u}function h(t,i){var r=0,u=n.MathPrototype.max(0,t);return i.useTabs&&(r=Math.floor(t/i.spacesPerTab),u-=r*i.spacesPerTab),n.StringUtilities.repeat("\t",r)+n.StringUtilities.repeat(" ",u)}function c(t,i){return n.Syntax.whitespace(this.indentationString(t,i))}function l(t){for(var r,i=0;i<t.length;i++)if(r=t.charCodeAt(i),!n.CharacterInfo.isWhitespace(r))return i;return t.length}t.columnForEndOfToken=e;t.columnForStartOfToken=i;t.columnForStartOfFirstTokenInLineContainingToken=o;t.columnForPositionInString=s;t.indentationString=h;t.indentationTrivia=c;t.firstNonWhitespacePosition=l})(n.Indentation||(n.Indentation={}));var t=n.Indentation}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.EcmaScript3=0]="EcmaScript3";n[n.EcmaScript5=1]="EcmaScript5"})(n.LanguageVersion||(n.LanguageVersion={}));var t=n.LanguageVersion}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(n,t){this._allowAutomaticSemicolonInsertion=n;this._allowModuleKeywordInExternalModuleReference=t}return n.prototype.toJSON=function(){return{allowAutomaticSemicolonInsertion:this._allowAutomaticSemicolonInsertion,allowModuleKeywordInExternalModuleReference:this._allowModuleKeywordInExternalModuleReference}},n.prototype.allowAutomaticSemicolonInsertion=function(){return this._allowAutomaticSemicolonInsertion},n.prototype.allowModuleKeywordInExternalModuleReference=function(){return this._allowModuleKeywordInExternalModuleReference},n}();n.ParseOptions=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n,t,i){this._parent=n;this._element=t;this._fullStart=i}return t.create=function(t,i,u){if(i===null)return null;if(i.isNode())return new f(t,i,u);if(i.isToken())return new r(t,i,u);if(i.isList())return new e(t,i,u);if(i.isSeparatedList())return new o(t,i,u);throw n.Errors.invalidOperation();},t.prototype.parent=function(){return this._parent},t.prototype.parentElement=function(){return this._parent&&this._parent._element},t.prototype.element=function(){return this._element},t.prototype.kind=function(){return this.element().kind()},t.prototype.childIndex=function(t){return n.Syntax.childIndex(this.element(),t)},t.prototype.childCount=function(){return this.element().childCount()},t.prototype.childAt=function(i){var r=n.Syntax.childOffsetAt(this.element(),i);return t.create(this,this.element().childAt(i),this.fullStart()+r)},t.prototype.childStart=function(t){var i=n.Syntax.childOffset(this.element(),t);return this.fullStart()+i+t.leadingTriviaWidth()},t.prototype.childEnd=function(t){var i=n.Syntax.childOffset(this.element(),t);return this.fullStart()+i+t.leadingTriviaWidth()+t.width()},t.prototype.childStartAt=function(t){var i=n.Syntax.childOffsetAt(this.element(),t),r=this.element().childAt(t);return this.fullStart()+i+r.leadingTriviaWidth()},t.prototype.childEndAt=function(t){var r=n.Syntax.childOffsetAt(this.element(),t),i=this.element().childAt(t);return this.fullStart()+r+i.leadingTriviaWidth()+i.width()},t.prototype.getPositionedChild=function(i){var r=n.Syntax.childOffset(this.element(),i);return t.create(this,i,this.fullStart()+r)},t.prototype.fullStart=function(){return this._fullStart},t.prototype.fullEnd=function(){return this.fullStart()+this.element().fullWidth()},t.prototype.fullWidth=function(){return this.element().fullWidth()},t.prototype.start=function(){return this.fullStart()+this.element().leadingTriviaWidth()},t.prototype.end=function(){return this.fullStart()+this.element().leadingTriviaWidth()+this.element().width()},t.prototype.root=function(){for(var n=this;n.parent()!==null;)n=n.parent();return n},t.prototype.containingNode=function(){for(var n=this.parent();n!==null&&!n.element().isNode();)n=n.parent();return n},t}(),i,f,r,e,o,u;n.PositionedElement=t;i=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.nodeOrToken=function(){return this.element()},t}(t);n.PositionedNodeOrToken=i;f=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.node=function(){return this.element()},t}(i);n.PositionedNode=f;r=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.token=function(){return this.element()},t.prototype.previousToken=function(n){var t,f,r,i,e;if(typeof n=="undefined"&&(n=!1),t=this.token().leadingTrivia(),n&&t&&t.hasSkippedToken())for(f=this.start(),r=t.count()-1;r>=0;r--){if(i=t.syntaxTriviaAt(r),i.isSkippedToken())return new u(this,i.skippedToken(),f-i.fullWidth());f-=i.fullWidth()}return(e=this.fullStart(),e===0)?null:this.root().node().findToken(e-1,n)},t.prototype.nextToken=function(n){var t,f,i,e,r;if(typeof n=="undefined"&&(n=!1),this.token().tokenKind===10)return null;if(t=this.token().trailingTrivia(),n&&t&&t.hasSkippedToken())for(f=this.end(),i=0,e=t.count();i<e;i++){if(r=t.syntaxTriviaAt(i),r.isSkippedToken())return new u(this,r.skippedToken(),f);f+=r.fullWidth()}return this.root().node().findToken(this.fullEnd(),n)},t}(i);n.PositionedToken=r;e=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.list=function(){return this.element()},t}(t);n.PositionedList=e;o=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.list=function(){return this.element()},t}(t);n.PositionedSeparatedList=o;u=function(t){function i(n,i,r){t.call(this,n.parent(),i,r);this._parentToken=n}return __extends(i,t),i.prototype.parentToken=function(){return this._parentToken},i.prototype.previousToken=function(t){var r,i;if(typeof t=="undefined"&&(t=!1),i=this.fullStart(),t){if(i>=this.parentToken().end())return(r=n.Syntax.findSkippedTokenInTrailingTriviaList(this.parentToken(),i-1),r)?r:this.parentToken();if(r=n.Syntax.findSkippedTokenInLeadingTriviaList(this.parentToken(),i-1),r)return r}return(i=this.parentToken().fullStart(),i===0)?null:this.root().node().findToken(i-1,t)},i.prototype.nextToken=function(t){if(typeof t=="undefined"&&(t=!1),this.token().tokenKind===10)return null;if(t){var r=this.end(),i;if(r<=this.parentToken().start())return(i=n.Syntax.findSkippedTokenInLeadingTriviaList(this.parentToken(),r),i)?i:this.parentToken();if(i=n.Syntax.findSkippedTokenInTrailingTriviaList(this.parentToken(),r),i)return i}return this.root().node().findToken(this.parentToken().fullEnd(),t)},i}(r);n.PositionedSkippedToken=u}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(i,r,u,f){typeof f=="undefined"&&(f=n.ArrayUtilities.createArray(2048,0));t.initializeStaticData();this.slidingWindow=new n.SlidingWindow(this,f,0,r.length());this.fileName=i;this.text=r;this._languageVersion=u}return t.initializeStaticData=function(){var i,r,u;if(t.isKeywordStartCharacter.length===0){for(t.isKeywordStartCharacter=n.ArrayUtilities.createArray(127,!1),t.isIdentifierStartCharacter=n.ArrayUtilities.createArray(127,!1),t.isIdentifierPartCharacter=n.ArrayUtilities.createArray(127,!1),t.isNumericLiteralStart=n.ArrayUtilities.createArray(127,!1),i=0;i<127;i++)i>=97&&i<=122?(t.isIdentifierStartCharacter[i]=!0,t.isIdentifierPartCharacter[i]=!0):i>=65&&i<=90||i===95||i===36?(t.isIdentifierStartCharacter[i]=!0,t.isIdentifierPartCharacter[i]=!0):i>=48&&i<=57&&(t.isIdentifierPartCharacter[i]=!0,t.isNumericLiteralStart[i]=!0);for(t.isNumericLiteralStart[46]=!0,r=n.SyntaxKind.FirstKeyword;r<=n.SyntaxKind.LastKeyword;r++)u=n.SyntaxFacts.getText(r),t.isKeywordStartCharacter[u.charCodeAt(0)]=!0}},t.prototype.languageVersion=function(){return this._languageVersion},t.prototype.fetchMoreItems=function(t,i,r,u,f){var o=this.text.length()-i,e=n.MathPrototype.min(o,f);return this.text.copyTo(i,r,u,e),e},t.prototype.currentCharCode=function(){return this.slidingWindow.currentItem(null)},t.prototype.absoluteIndex=function(){return this.slidingWindow.absoluteIndex()},t.prototype.setAbsoluteIndex=function(n){this.slidingWindow.setAbsoluteIndex(n)},t.prototype.scan=function(t,i){var u=t.length,f=this.slidingWindow.absoluteIndex(),e=this.scanTriviaInfo(t,!1),o=this.slidingWindow.absoluteIndex(),s=this.scanSyntaxToken(t,i),h=this.slidingWindow.absoluteIndex(),c=this.scanTriviaInfo(t,!0),r=this.createToken(f,e,o,s,h,c);return u!==t.length?n.Syntax.realizeToken(r):r},t.prototype.createToken=function(t,i,r,u,f,e){if(u>=n.SyntaxKind.FirstFixedWidth)return i===0?e===0?new n.Syntax.FixedWidthTokenWithNoTrivia(u):new n.Syntax.FixedWidthTokenWithTrailingTrivia(this.text,t,u,e):e===0?new n.Syntax.FixedWidthTokenWithLeadingTrivia(this.text,t,u,i):new n.Syntax.FixedWidthTokenWithLeadingAndTrailingTrivia(this.text,t,u,i,e);var o=f-r;return i===0?e===0?new n.Syntax.VariableWidthTokenWithNoTrivia(this.text,t,u,o):new n.Syntax.VariableWidthTokenWithTrailingTrivia(this.text,t,u,o,e):e===0?new n.Syntax.VariableWidthTokenWithLeadingTrivia(this.text,t,u,i,o):new n.Syntax.VariableWidthTokenWithLeadingAndTrailingTrivia(this.text,t,u,i,o,e)},t.scanTrivia=function(i,r,u,f){var e=new t(null,i.subText(new n.TextSpan(r,u)),1,t.triviaWindow);return e.scanTrivia(f)},t.prototype.scanTrivia=function(t){for(var i=[],r,u;;){if(!this.slidingWindow.isAtEndOfSource()){r=this.currentCharCode();switch(r){case 32:case 160:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8203:case 8239:case 12288:case 9:case 11:case 12:case 65279:i.push(this.scanWhitespaceTrivia());continue;case 47:if(u=this.slidingWindow.peekItemN(1),u===47){i.push(this.scanSingleLineCommentTrivia());continue}if(u===42){i.push(this.scanMultiLineCommentTrivia());continue}throw n.Errors.invalidOperation();case 13:case 10:case 8233:case 8232:if(i.push(this.scanLineTerminatorSequenceTrivia(r)),!t)continue;break;default:throw n.Errors.invalidOperation();}}return n.Syntax.triviaList(i)}},t.prototype.scanTriviaInfo=function(n,t){for(var i=0,r=0,u,f;;){u=this.currentCharCode();switch(u){case 32:case 160:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8203:case 8239:case 12288:case 9:case 11:case 12:case 65279:this.slidingWindow.moveToNextItem();i++;continue;case 47:if(f=this.slidingWindow.peekItemN(1),f===47){r|=2;i+=this.scanSingleLineCommentTriviaLength();continue}if(f===42){r|=2;i+=this.scanMultiLineCommentTriviaLength(n);continue}break;case 13:case 10:case 8233:case 8232:if(r|=1,i+=this.scanLineTerminatorSequenceLength(u),!t)continue}return i<<2|r}},t.prototype.isNewLineCharacter=function(n){switch(n){case 13:case 10:case 8233:case 8232:return!0;default:return!1}},t.prototype.scanWhitespaceTrivia=function(){for(var t=this.slidingWindow.getAndPinAbsoluteIndex(),i=0,r,u;;){r=this.currentCharCode();switch(r){case 32:case 160:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8203:case 8239:case 12288:case 9:case 11:case 12:case 65279:this.slidingWindow.moveToNextItem();i++;continue}break}return u=this.substring(t,t+i,!1),this.slidingWindow.releaseAndUnpinAbsoluteIndex(t),n.Syntax.whitespace(u)},t.prototype.scanSingleLineCommentTrivia=function(){var t=this.slidingWindow.getAndPinAbsoluteIndex(),i=this.scanSingleLineCommentTriviaLength(),r=this.substring(t,t+i,!1);return this.slidingWindow.releaseAndUnpinAbsoluteIndex(t),n.Syntax.singleLineComment(r)},t.prototype.scanSingleLineCommentTriviaLength=function(){this.slidingWindow.moveToNextItem();this.slidingWindow.moveToNextItem();for(var n=2;;){if(this.slidingWindow.isAtEndOfSource()||this.isNewLineCharacter(this.currentCharCode()))return n;this.slidingWindow.moveToNextItem();n++}},t.prototype.scanMultiLineCommentTrivia=function(){var t=this.slidingWindow.getAndPinAbsoluteIndex(),i=this.scanMultiLineCommentTriviaLength(null),r=this.substring(t,t+i,!1);return this.slidingWindow.releaseAndUnpinAbsoluteIndex(t),n.Syntax.multiLineComment(r)},t.prototype.scanMultiLineCommentTriviaLength=function(t){var i,r;for(this.slidingWindow.moveToNextItem(),this.slidingWindow.moveToNextItem(),i=2;;){if(this.slidingWindow.isAtEndOfSource())return t!==null&&t.push(new n.SyntaxDiagnostic(this.fileName,this.slidingWindow.absoluteIndex(),0,14,null)),i;if(r=this.currentCharCode(),r===42&&this.slidingWindow.peekItemN(1)===47)return this.slidingWindow.moveToNextItem(),this.slidingWindow.moveToNextItem(),i+2;this.slidingWindow.moveToNextItem();i++}},t.prototype.scanLineTerminatorSequenceTrivia=function(t){var i=this.slidingWindow.getAndPinAbsoluteIndex(),r=this.scanLineTerminatorSequenceLength(t),u=this.substring(i,i+r,!1);return this.slidingWindow.releaseAndUnpinAbsoluteIndex(i),n.Syntax.trivia(5,u)},t.prototype.scanLineTerminatorSequenceLength=function(n){return this.slidingWindow.moveToNextItem(),n===13&&this.currentCharCode()===10?(this.slidingWindow.moveToNextItem(),2):1},t.prototype.scanSyntaxToken=function(n,i){var r,u;if(this.slidingWindow.isAtEndOfSource())return 10;r=this.currentCharCode();switch(r){case 34:case 39:return this.scanStringLiteral(n);case 47:return this.scanSlashToken(i);case 46:return this.scanDotToken();case 45:return this.scanMinusToken();case 33:return this.scanExclamationToken();case 61:return this.scanEqualsToken();case 124:return this.scanBarToken();case 42:return this.scanAsteriskToken();case 43:return this.scanPlusToken();case 37:return this.scanPercentToken();case 38:return this.scanAmpersandToken();case 94:return this.scanCaretToken();case 60:return this.scanLessThanToken();case 62:return this.advanceAndSetTokenKind(82);case 44:return this.advanceAndSetTokenKind(80);case 58:return this.advanceAndSetTokenKind(107);case 59:return this.advanceAndSetTokenKind(79);case 126:return this.advanceAndSetTokenKind(103);case 40:return this.advanceAndSetTokenKind(73);case 41:return this.advanceAndSetTokenKind(74);case 123:return this.advanceAndSetTokenKind(71);case 125:return this.advanceAndSetTokenKind(72);case 91:return this.advanceAndSetTokenKind(75);case 93:return this.advanceAndSetTokenKind(76);case 63:return this.advanceAndSetTokenKind(106)}return t.isNumericLiteralStart[r]?this.scanNumericLiteral():t.isIdentifierStartCharacter[r]&&(u=this.tryFastScanIdentifierOrKeyword(r),u!==0)?u:this.isIdentifierStart(this.peekCharOrUnicodeEscape())?this.slowScanIdentifier(n):this.scanDefaultCharacter(r,n)},t.prototype.isIdentifierStart=function(i){return t.isIdentifierStartCharacter[i]?!0:i>127&&n.Unicode.isIdentifierStart(i,this._languageVersion)},t.prototype.isIdentifierPart=function(i){return t.isIdentifierPartCharacter[i]?!0:i>127&&n.Unicode.isIdentifierPart(i,this._languageVersion)},t.prototype.tryFastScanIdentifierOrKeyword=function(i){for(var r=this.slidingWindow.getAndPinAbsoluteIndex(),u,e,f,o;;)if(u=this.currentCharCode(),t.isIdentifierPartCharacter[u])this.slidingWindow.moveToNextItem();else return u===92||u>127?(this.slidingWindow.rewindToPinnedIndex(r),this.slidingWindow.releaseAndUnpinAbsoluteIndex(r),0):(e=this.slidingWindow.absoluteIndex(),t.isKeywordStartCharacter[i]?(o=r-this.slidingWindow.windowAbsoluteStartIndex,f=n.ScannerUtilities.identifierKind(this.slidingWindow.window,o,e-r)):f=11,this.slidingWindow.releaseAndUnpinAbsoluteIndex(r),f)},t.prototype.slowScanIdentifier=function(n){var t=this.slidingWindow.absoluteIndex();do this.scanCharOrUnicodeEscape(n);while(this.isIdentifierPart(this.peekCharOrUnicodeEscape()));return 11},t.prototype.scanNumericLiteral=function(){return this.isHexNumericLiteral()?this.scanHexNumericLiteral():this.scanDecimalNumericLiteral()},t.prototype.scanDecimalNumericLiteral=function(){while(n.CharacterInfo.isDecimalDigit(this.currentCharCode()))this.slidingWindow.moveToNextItem();for(this.currentCharCode()===46&&this.slidingWindow.moveToNextItem();n.CharacterInfo.isDecimalDigit(this.currentCharCode());)this.slidingWindow.moveToNextItem();var t=this.currentCharCode();for((t===101||t===69)&&(this.slidingWindow.moveToNextItem(),t=this.currentCharCode(),(t===45||t===43)&&n.CharacterInfo.isDecimalDigit(this.slidingWindow.peekItemN(1))&&this.slidingWindow.moveToNextItem());n.CharacterInfo.isDecimalDigit(this.currentCharCode());)this.slidingWindow.moveToNextItem();return 13},t.prototype.scanHexNumericLiteral=function(){for(this.slidingWindow.moveToNextItem(),this.slidingWindow.moveToNextItem();n.CharacterInfo.isHexDigit(this.currentCharCode());)this.slidingWindow.moveToNextItem();return 13},t.prototype.isHexNumericLiteral=function(){if(this.currentCharCode()===48){var t=this.slidingWindow.peekItemN(1);if(t===120||t===88)return t=this.slidingWindow.peekItemN(2),n.CharacterInfo.isHexDigit(t)}return!1},t.prototype.advanceAndSetTokenKind=function(n){return this.slidingWindow.moveToNextItem(),n},t.prototype.scanLessThanToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),83):this.currentCharCode()===60?(this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),113):96):81},t.prototype.scanBarToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),117):this.currentCharCode()===124?(this.slidingWindow.moveToNextItem(),105):100},t.prototype.scanCaretToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),118):101},t.prototype.scanAmpersandToken=function(){this.slidingWindow.moveToNextItem();var n=this.currentCharCode();return n===61?(this.slidingWindow.moveToNextItem(),116):this.currentCharCode()===38?(this.slidingWindow.moveToNextItem(),104):99},t.prototype.scanPercentToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),112):93},t.prototype.scanMinusToken=function(){this.slidingWindow.moveToNextItem();var n=this.currentCharCode();return n===61?(this.slidingWindow.moveToNextItem(),110):n===45?(this.slidingWindow.moveToNextItem(),95):91},t.prototype.scanPlusToken=function(){this.slidingWindow.moveToNextItem();var n=this.currentCharCode();return n===61?(this.slidingWindow.moveToNextItem(),109):n===43?(this.slidingWindow.moveToNextItem(),94):90},t.prototype.scanAsteriskToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),111):92},t.prototype.scanEqualsToken=function(){this.slidingWindow.moveToNextItem();var n=this.currentCharCode();return n===61?(this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),88):85):n===62?(this.slidingWindow.moveToNextItem(),86):108},t.prototype.isDotPrefixedNumericLiteral=function(){if(this.currentCharCode()===46){var t=this.slidingWindow.peekItemN(1);return n.CharacterInfo.isDecimalDigit(t)}return!1},t.prototype.scanDotToken=function(){return this.isDotPrefixedNumericLiteral()?this.scanNumericLiteral():(this.slidingWindow.moveToNextItem(),this.currentCharCode()===46&&this.slidingWindow.peekItemN(1)===46?(this.slidingWindow.moveToNextItem(),this.slidingWindow.moveToNextItem(),78):77)},t.prototype.scanSlashToken=function(n){if(n){var t=this.tryScanRegularExpressionToken();if(t!==0)return t}return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),120):119},t.prototype.tryScanRegularExpressionToken=function(){var u=this.slidingWindow.getAndPinAbsoluteIndex(),n,i,r;try{for(this.slidingWindow.moveToNextItem(),n=!1,i=!1;;){if(r=this.currentCharCode(),this.isNewLineCharacter(r)||this.slidingWindow.isAtEndOfSource())return this.slidingWindow.rewindToPinnedIndex(u),0;if(this.slidingWindow.moveToNextItem(),n){n=!1;continue}switch(r){case 92:n=!0;continue;case 91:i=!0;continue;case 93:i=!1;continue;case 47:if(i)continue;break;default:continue}break}while(t.isIdentifierPartCharacter[this.currentCharCode()])this.slidingWindow.moveToNextItem();return 12}finally{this.slidingWindow.releaseAndUnpinAbsoluteIndex(u)}},t.prototype.scanExclamationToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),89):87):102},t.prototype.scanDefaultCharacter=function(t,i){var f=this.slidingWindow.absoluteIndex(),r,u;return this.slidingWindow.moveToNextItem(),r=String.fromCharCode(t),u=this.getErrorMessageText(r),i.push(new n.SyntaxDiagnostic(this.fileName,f,1,5,[u])),9},t.prototype.getErrorMessageText=function(n){return n==="\\"?'"\\"':JSON.stringify(n)},t.prototype.skipEscapeSequence=function(n){var t=this.slidingWindow.getAndPinAbsoluteIndex(),i,r;try{this.slidingWindow.moveToNextItem();i=this.currentCharCode();this.slidingWindow.moveToNextItem();switch(i){case 120:case 117:this.slidingWindow.rewindToPinnedIndex(t);r=this.scanUnicodeOrHexEscape(n);return;case 13:this.currentCharCode()===10&&this.slidingWindow.moveToNextItem();return;default:return}}finally{this.slidingWindow.releaseAndUnpinAbsoluteIndex(t)}},t.prototype.scanStringLiteral=function(t){var r=this.currentCharCode(),i;for(this.slidingWindow.moveToNextItem();;)if(i=this.currentCharCode(),i===92)this.skipEscapeSequence(t);else if(i===r){this.slidingWindow.moveToNextItem();break}else if(this.isNewLineCharacter(i)||this.slidingWindow.isAtEndOfSource()){t.push(new n.SyntaxDiagnostic(this.fileName,this.slidingWindow.absoluteIndex(),1,6,null));break}else this.slidingWindow.moveToNextItem();return 14},t.prototype.isUnicodeOrHexEscape=function(n){return this.isUnicodeEscape(n)||this.isHexEscape(n)},t.prototype.isUnicodeEscape=function(n){if(n===92){var t=this.slidingWindow.peekItemN(1);if(t===117)return!0}return!1},t.prototype.isHexEscape=function(n){if(n===92){var t=this.slidingWindow.peekItemN(1);if(t===120)return!0}return!1},t.prototype.peekCharOrUnicodeOrHexEscape=function(){var n=this.currentCharCode();return this.isUnicodeOrHexEscape(n)?this.peekUnicodeOrHexEscape():n},t.prototype.peekCharOrUnicodeEscape=function(){var n=this.currentCharCode();return this.isUnicodeEscape(n)?this.peekUnicodeOrHexEscape():n},t.prototype.peekUnicodeOrHexEscape=function(){var n=this.slidingWindow.getAndPinAbsoluteIndex(),t=this.scanUnicodeOrHexEscape(null);return this.slidingWindow.rewindToPinnedIndex(n),this.slidingWindow.releaseAndUnpinAbsoluteIndex(n),t},t.prototype.scanCharOrUnicodeEscape=function(n){var t=this.currentCharCode(),i;return t===92&&(i=this.slidingWindow.peekItemN(1),i===117)?this.scanUnicodeOrHexEscape(n):(this.slidingWindow.moveToNextItem(),t)},t.prototype.scanCharOrUnicodeOrHexEscape=function(n){var i=this.currentCharCode(),t;return i===92&&(t=this.slidingWindow.peekItemN(1),t===117||t===120)?this.scanUnicodeOrHexEscape(n):(this.slidingWindow.moveToNextItem(),i)},t.prototype.scanUnicodeOrHexEscape=function(t){var h=this.slidingWindow.absoluteIndex(),f=this.currentCharCode(),i,e,r,u,o,s;for(this.slidingWindow.moveToNextItem(),f=this.currentCharCode(),i=0,this.slidingWindow.moveToNextItem(),e=f===117?4:2,r=0;r<e;r++){if(u=this.currentCharCode(),!n.CharacterInfo.isHexDigit(u)){t!==null&&(o=this.slidingWindow.absoluteIndex(),s=this.createIllegalEscapeDiagnostic(h,o),t.push(s));break}i=(i<<4)+n.CharacterInfo.hexValue(u);this.slidingWindow.moveToNextItem()}return i},t.prototype.substring=function(t,i,r){var f=i-t,u=t-this.slidingWindow.windowAbsoluteStartIndex;return r?n.Collections.DefaultStringTable.addCharArray(this.slidingWindow.window,u,f):n.StringUtilities.fromCharCodeArray(this.slidingWindow.window.slice(u,u+f))},t.prototype.createIllegalEscapeDiagnostic=function(t,i){return new n.SyntaxDiagnostic(this.fileName,t,i-t,4,null)},t.isValidIdentifier=function(i){var f=new t(null,i,n.LanguageVersion,t.triviaWindow),r=[],u=f.scan(r,!1);return r.length===0&&n.SyntaxFacts.isIdentifierNameOrAnyKeyword(u)&&u.width()===i.length()},t.isKeywordStartCharacter=[],t.isIdentifierStartCharacter=[],t.isIdentifierPartCharacter=[],t.isNumericLiteralStart=[],t.triviaWindow=n.ArrayUtilities.createArray(2048,0),t}();n.Scanner=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.identifierKind=function(n,t,i){switch(i){case 2:switch(n[t]){case 100:return n[t+1]===111?22:11;case 105:switch(n[t+1]){case 102:return 28;case 110:return 29;default:return 11}default:return 11}case 3:switch(n[t]){case 102:return n[t+1]===111&&n[t+2]===114?26:11;case 110:return n[t+1]===101&&n[t+2]===119?31:11;case 116:return n[t+1]===114&&n[t+2]===121?38:11;case 118:return n[t+1]===97&&n[t+2]===114?40:11;case 108:return n[t+1]===101&&n[t+2]===116?53:11;case 97:return n[t+1]===110&&n[t+2]===121?60:11;case 103:return n[t+1]===101&&n[t+2]===116?65:11;case 115:return n[t+1]===101&&n[t+2]===116?69:11;default:return 11}case 4:switch(n[t]){case 99:return n[t+1]===97&&n[t+2]===115&&n[t+3]===101?16:11;case 101:switch(n[t+1]){case 108:return n[t+2]===115&&n[t+3]===101?23:11;case 110:return n[t+2]===117&&n[t+3]===109?46:11;default:return 11}case 110:return n[t+1]===117&&n[t+2]===108&&n[t+3]===108?32:11;case 116:switch(n[t+1]){case 104:return n[t+2]===105&&n[t+3]===115?35:11;case 114:return n[t+2]===117&&n[t+3]===101?37:11;default:return 11}case 118:return n[t+1]===111&&n[t+2]===105&&n[t+3]===100?41:11;case 119:return n[t+1]===105&&n[t+2]===116&&n[t+3]===104?43:11;case 98:return n[t+1]===111&&n[t+2]===111&&n[t+3]===108?62:11;default:return 11}case 5:switch(n[t]){case 98:return n[t+1]===114&&n[t+2]===101&&n[t+3]===97&&n[t+4]===107?15:11;case 99:switch(n[t+1]){case 97:return n[t+2]===116&&n[t+3]===99&&n[t+4]===104?17:11;case 108:return n[t+2]===97&&n[t+3]===115&&n[t+4]===115?44:11;case 111:return n[t+2]===110&&n[t+3]===115&&n[t+4]===116?45:11;default:return 11}case 102:return n[t+1]===97&&n[t+2]===108&&n[t+3]===115&&n[t+4]===101?24:11;case 116:return n[t+1]===104&&n[t+2]===114&&n[t+3]===111&&n[t+4]===119?36:11;case 119:return n[t+1]===104&&n[t+2]===105&&n[t+3]===108&&n[t+4]===101?42:11;case 115:return n[t+1]===117&&n[t+2]===112&&n[t+3]===101&&n[t+4]===114?50:11;case 121:return n[t+1]===105&&n[t+2]===101&&n[t+3]===108&&n[t+4]===100?59:11;default:return 11}case 6:switch(n[t]){case 100:return n[t+1]===101&&n[t+2]===108&&n[t+3]===101&&n[t+4]===116&&n[t+5]===101?21:11;case 114:return n[t+1]===101&&n[t+2]===116&&n[t+3]===117&&n[t+4]===114&&n[t+5]===110?33:11;case 115:switch(n[t+1]){case 119:return n[t+2]===105&&n[t+3]===116&&n[t+4]===99&&n[t+5]===104?34:11;case 116:switch(n[t+2]){case 97:return n[t+3]===116&&n[t+4]===105&&n[t+5]===99?58:11;case 114:return n[t+3]===105&&n[t+4]===110&&n[t+5]===103?70:11;default:return 11}default:return 11}case 116:return n[t+1]===121&&n[t+2]===112&&n[t+3]===101&&n[t+4]===111&&n[t+5]===102?39:11;case 101:return n[t+1]===120&&n[t+2]===112&&n[t+3]===111&&n[t+4]===114&&n[t+5]===116?47:11;case 105:return n[t+1]===109&&n[t+2]===112&&n[t+3]===111&&n[t+4]===114&&n[t+5]===116?49:11;case 112:return n[t+1]===117&&n[t+2]===98&&n[t+3]===108&&n[t+4]===105&&n[t+5]===99?57:11;case 109:return n[t+1]===111&&n[t+2]===100&&n[t+3]===117&&n[t+4]===108&&n[t+5]===101?66:11;case 110:return n[t+1]===117&&n[t+2]===109&&n[t+3]===98&&n[t+4]===101&&n[t+5]===114?68:11;default:return 11}case 7:switch(n[t]){case 100:switch(n[t+1]){case 101:switch(n[t+2]){case 102:return n[t+3]===97&&n[t+4]===117&&n[t+5]===108&&n[t+6]===116?20:11;case 99:return n[t+3]===108&&n[t+4]===97&&n[t+5]===114&&n[t+6]===101?64:11;default:return 11}default:return 11}case 102:return n[t+1]===105&&n[t+2]===110&&n[t+3]===97&&n[t+4]===108&&n[t+5]===108&&n[t+6]===121?25:11;case 101:return n[t+1]===120&&n[t+2]===116&&n[t+3]===101&&n[t+4]===110&&n[t+5]===100&&n[t+6]===115?48:11;case 112:switch(n[t+1]){case 97:return n[t+2]===99&&n[t+3]===107&&n[t+4]===97&&n[t+5]===103&&n[t+6]===101?54:11;case 114:return n[t+2]===105&&n[t+3]===118&&n[t+4]===97&&n[t+5]===116&&n[t+6]===101?55:11;default:return 11}case 98:return n[t+1]===111&&n[t+2]===111&&n[t+3]===108&&n[t+4]===101&&n[t+5]===97&&n[t+6]===110?61:11;case 114:return n[t+1]===101&&n[t+2]===113&&n[t+3]===117&&n[t+4]===105&&n[t+5]===114&&n[t+6]===101?67:11;default:return 11}case 8:switch(n[t]){case 99:return n[t+1]===111&&n[t+2]===110&&n[t+3]===116&&n[t+4]===105&&n[t+5]===110&&n[t+6]===117&&n[t+7]===101?18:11;case 100:return n[t+1]===101&&n[t+2]===98&&n[t+3]===117&&n[t+4]===103&&n[t+5]===103&&n[t+6]===101&&n[t+7]===114?19:11;case 102:return n[t+1]===117&&n[t+2]===110&&n[t+3]===99&&n[t+4]===116&&n[t+5]===105&&n[t+6]===111&&n[t+7]===110?27:11;default:return 11}case 9:switch(n[t]){case 105:return n[t+1]===110&&n[t+2]===116&&n[t+3]===101&&n[t+4]===114&&n[t+5]===102&&n[t+6]===97&&n[t+7]===99&&n[t+8]===101?52:11;case 112:return n[t+1]===114&&n[t+2]===111&&n[t+3]===116&&n[t+4]===101&&n[t+5]===99&&n[t+6]===116&&n[t+7]===101&&n[t+8]===100?56:11;default:return 11}case 10:switch(n[t]){case 105:switch(n[t+1]){case 110:return n[t+2]===115&&n[t+3]===116&&n[t+4]===97&&n[t+5]===110&&n[t+6]===99&&n[t+7]===101&&n[t+8]===111&&n[t+9]===102?30:11;case 109:return n[t+2]===112&&n[t+3]===108&&n[t+4]===101&&n[t+5]===109&&n[t+6]===101&&n[t+7]===110&&n[t+8]===116&&n[t+9]===115?51:11;default:return 11}default:return 11}case 11:return n[t]===99&&n[t+1]===111&&n[t+2]===110&&n[t+3]===115&&n[t+4]===116&&n[t+5]===114&&n[t+6]===117&&n[t+7]===99&&n[t+8]===116&&n[t+9]===111&&n[t+10]===114?63:11;default:return 11}},n}();n.ScannerUtilities=t}(TypeScript||(TypeScript={})),function(n){(function(t){function f(n){return e(n,!1)}function e(n,u){var f,e;if(n===undefined||n===null||n.length===0)return t.emptySeparatedList;if(u)for(f=0;f<n.length;f++)e=n[f],f%2==1;return n.length===1?new i(n[0]):new r(n)}var u=function(){function i(){}return i.prototype.kind=function(){return 2},i.prototype.isNode=function(){return!1},i.prototype.isToken=function(){return!1},i.prototype.isList=function(){return!1},i.prototype.isSeparatedList=function(){return!0},i.prototype.toJSON=function(){return[]},i.prototype.childCount=function(){return 0},i.prototype.nonSeparatorCount=function(){return 0},i.prototype.separatorCount=function(){return 0},i.prototype.toArray=function(){return[]},i.prototype.toNonSeparatorArray=function(){return[]},i.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},i.prototype.nonSeparatorAt=function(){throw n.Errors.argumentOutOfRange("index");},i.prototype.separatorAt=function(){throw n.Errors.argumentOutOfRange("index");},i.prototype.collectTextElements=function(){},i.prototype.firstToken=function(){return null},i.prototype.lastToken=function(){return null},i.prototype.fullWidth=function(){return 0},i.prototype.fullText=function(){return""},i.prototype.width=function(){return 0},i.prototype.isTypeScriptSpecific=function(){return!1},i.prototype.isIncrementallyUnusable=function(){return!1},i.prototype.findTokenInternal=function(){throw n.Errors.invalidOperation();},i.prototype.insertChildrenInto=function(){},i.prototype.leadingTrivia=function(){return t.emptyTriviaList},i.prototype.trailingTrivia=function(){return t.emptyTriviaList},i.prototype.leadingTriviaWidth=function(){return 0},i.prototype.trailingTriviaWidth=function(){return 0},i}(),i,r;t.emptySeparatedList=new u;i=function(){function t(n){this.item=n}return t.prototype.toJSON=function(){return[this.item]},t.prototype.kind=function(){return 2},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!0},t.prototype.childCount=function(){return 1},t.prototype.nonSeparatorCount=function(){return 1},t.prototype.separatorCount=function(){return 0},t.prototype.toArray=function(){return[this.item]},t.prototype.toNonSeparatorArray=function(){return[this.item]},t.prototype.childAt=function(t){if(t!==0)throw n.Errors.argumentOutOfRange("index");return this.item},t.prototype.nonSeparatorAt=function(t){if(t!==0)throw n.Errors.argumentOutOfRange("index");return this.item},t.prototype.separatorAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.collectTextElements=function(n){this.item.collectTextElements(n)},t.prototype.firstToken=function(){return this.item.firstToken()},t.prototype.lastToken=function(){return this.item.lastToken()},t.prototype.fullWidth=function(){return this.item.fullWidth()},t.prototype.width=function(){return this.item.width()},t.prototype.fullText=function(){return this.item.fullText()},t.prototype.leadingTrivia=function(){return this.item.leadingTrivia()},t.prototype.trailingTrivia=function(){return this.item.trailingTrivia()},t.prototype.leadingTriviaWidth=function(){return this.item.leadingTriviaWidth()},t.prototype.trailingTriviaWidth=function(){return this.item.trailingTriviaWidth()},t.prototype.isTypeScriptSpecific=function(){return this.item.isTypeScriptSpecific()},t.prototype.isIncrementallyUnusable=function(){return this.item.isIncrementallyUnusable()},t.prototype.findTokenInternal=function(t,i,r){return this.item.findTokenInternal(new n.PositionedSeparatedList(t,this,r),i,r)},t.prototype.insertChildrenInto=function(n,t){n.splice(t,0,this.item)},t}();r=function(){function t(n){this._data=0;this.elements=n}return t.prototype.kind=function(){return 2},t.prototype.isToken=function(){return!1},t.prototype.isNode=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!0},t.prototype.toJSON=function(){return this.elements},t.prototype.childCount=function(){return this.elements.length},t.prototype.nonSeparatorCount=function(){return n.IntegerUtilities.integerDivide(this.elements.length+1,2)},t.prototype.separatorCount=function(){return n.IntegerUtilities.integerDivide(this.elements.length,2)},t.prototype.toArray=function(){return this.elements.slice(0)},t.prototype.toNonSeparatorArray=function(){for(var t=[],n=0,i=this.nonSeparatorCount();n<i;n++)t.push(this.nonSeparatorAt(n));return t},t.prototype.childAt=function(t){if(t<0||t>=this.elements.length)throw n.Errors.argumentOutOfRange("index");return this.elements[t]},t.prototype.nonSeparatorAt=function(t){var i=t*2;if(i<0||i>=this.elements.length)throw n.Errors.argumentOutOfRange("index");return this.elements[i]},t.prototype.separatorAt=function(t){var i=t*2+1;if(i<0||i>=this.elements.length)throw n.Errors.argumentOutOfRange("index");return this.elements[i]},t.prototype.firstToken=function(){for(var n,r,t=0,i=this.elements.length;t<i;t++)if(t%2==0){if(r=this.elements[t],n=r.firstToken(),n!==null)return n}else if(n=this.elements[t],n.width()>0)return n;return null},t.prototype.lastToken=function(){for(var n,i,t=this.elements.length-1;t>=0;t--)if(t%2==0){if(i=this.elements[t],n=i.lastToken(),n!==null)return n}else if(n=this.elements[t],n.width()>0)return n;return null},t.prototype.fullText=function(){var n=[];return this.collectTextElements(n),n.join("")},t.prototype.isTypeScriptSpecific=function(){for(var n=0,t=this.nonSeparatorCount();n<t;n++)if(this.nonSeparatorAt(n).isTypeScriptSpecific())return!0;return!1},t.prototype.isIncrementallyUnusable=function(){return(this.data()&2)!=0},t.prototype.fullWidth=function(){return this.data()>>>3},t.prototype.width=function(){var n=this.fullWidth();return n-this.leadingTriviaWidth()-this.trailingTriviaWidth()},t.prototype.leadingTrivia=function(){return this.firstToken().leadingTrivia()},t.prototype.trailingTrivia=function(){return this.lastToken().trailingTrivia()},t.prototype.leadingTriviaWidth=function(){return this.firstToken().leadingTriviaWidth()},t.prototype.trailingTriviaWidth=function(){return this.lastToken().trailingTriviaWidth()},t.prototype.computeData=function(){for(var r=0,t=!1,i,f,n=0,u=this.elements.length;n<u;n++)i=this.elements[n],f=i.fullWidth(),r+=f,t=t||i.isIncrementallyUnusable();return r<<3|(t?2:0)|1},t.prototype.data=function(){return(this._data&1)==0&&(this._data=this.computeData()),this._data},t.prototype.findTokenInternal=function(t,i,r){var u,o,e,f;for(t=new n.PositionedSeparatedList(t,this,r),u=0,o=this.elements.length;u<o;u++){if(e=this.elements[u],f=e.fullWidth(),i<f)return e.findTokenInternal(t,i,r);i-=f;r+=f}throw n.Errors.invalidOperation();},t.prototype.collectTextElements=function(n){for(var r,t=0,i=this.elements.length;t<i;t++)r=this.elements[t],r.collectTextElements(n)},t.prototype.insertChildrenInto=function(n,t){t===0?n.unshift.apply(n,this.elements):n.splice.apply(n,[t,0].concat(this.elements))},t}();t.separatedList=f})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n,t,i,r){typeof r=="undefined"&&(r=-1);this.source=n;this.window=t;this.defaultValue=i;this.sourceLength=r;this.windowCount=0;this.windowAbsoluteStartIndex=0;this.currentRelativeItemIndex=0;this._pinCount=0;this.firstPinnedAbsoluteIndex=-1}return t.prototype.windowAbsoluteEndIndex=function(){return this.windowAbsoluteStartIndex+this.windowCount},t.prototype.addMoreItemsToWindow=function(n){if(this.sourceLength>=0&&this.absoluteIndex()>=this.sourceLength)return!1;this.windowCount>=this.window.length&&this.tryShiftOrGrowWindow();var i=this.window.length-this.windowCount,t=this.source.fetchMoreItems(n,this.windowAbsoluteEndIndex(),this.window,this.windowCount,i);return this.windowCount+=t,t>0},t.prototype.tryShiftOrGrowWindow=function(){var r=this.currentRelativeItemIndex>this.window.length>>>1,u=this.firstPinnedAbsoluteIndex===-1||this.firstPinnedAbsoluteIndex>this.windowAbsoluteStartIndex,t,i;r&&u?(t=this.firstPinnedAbsoluteIndex===-1?this.currentRelativeItemIndex:this.firstPinnedAbsoluteIndex-this.windowAbsoluteStartIndex,i=this.windowCount-t,i>0&&n.ArrayUtilities.copy(this.window,t,this.window,0,i),this.windowAbsoluteStartIndex+=t,this.windowCount-=t,this.currentRelativeItemIndex-=t):n.ArrayUtilities.grow(this.window,this.window.length*2,this.defaultValue)},t.prototype.absoluteIndex=function(){return this.windowAbsoluteStartIndex+this.currentRelativeItemIndex},t.prototype.isAtEndOfSource=function(){return this.absoluteIndex()>=this.sourceLength},t.prototype.getAndPinAbsoluteIndex=function(){var n=this.absoluteIndex(),t=this._pinCount++;return t===0&&(this.firstPinnedAbsoluteIndex=n),n},t.prototype.releaseAndUnpinAbsoluteIndex=function(){this._pinCount--;this._pinCount===0&&(this.firstPinnedAbsoluteIndex=-1)},t.prototype.rewindToPinnedIndex=function(n){var t=n-this.windowAbsoluteStartIndex;this.currentRelativeItemIndex=t},t.prototype.currentItem=function(n){return this.currentRelativeItemIndex>=this.windowCount&&!this.addMoreItemsToWindow(n)?this.defaultValue:this.window[this.currentRelativeItemIndex]},t.prototype.peekItemN=function(n){while(this.currentRelativeItemIndex+n>=this.windowCount)if(!this.addMoreItemsToWindow(null))return this.defaultValue;return this.window[this.currentRelativeItemIndex+n]},t.prototype.moveToNextItem=function(){this.currentRelativeItemIndex++},t.prototype.disgardAllItemsFromCurrentIndexOnwards=function(){this.windowCount=this.currentRelativeItemIndex},t.prototype.setAbsoluteIndex=function(n){this.absoluteIndex()!==n&&(this._pinCount>0,n>=this.windowAbsoluteStartIndex&&n<this.windowAbsoluteEndIndex()?this.currentRelativeItemIndex=n-this.windowAbsoluteStartIndex:(this.windowAbsoluteStartIndex=n,this.windowCount=0,this.currentRelativeItemIndex=0))},t.prototype.pinCount=function(){return this._pinCount},t}();n.SlidingWindow=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.module__class__interface__enum__import_or_statement="module, class, interface, enum, import or statement",n.constructor__function__accessor_or_variable="constructor, function, accessor or variable",n.statement="statement",n.case_or_default_clause="case or default clause",n.identifier="identifier",n.call__construct__index__property_or_function_signature="call, construct, index, property or function signature",n.expression="expression",n.type_name="type name",n.property_or_accessor="property or accessor",n.parameter="parameter",n.type="type",n.type_parameter="type parameter",n}();n.Strings=t}(TypeScript||(TypeScript={})),function(n){(function(t){function v(){return n.Syntax.normalModeFactory.sourceUnit(n.Syntax.emptyList,n.Syntax.token(10,{text:""}))}function y(n){var r=n.token(),i,t;return n!==null&&n.kind()===11&&((i=n.containingNode(),t=i.node(),t.kind()===122&&t.right===r)||t.kind()===211&&t.name===r)?i:n}function p(t){if(t!==null){var r=n.Syntax.getStandaloneExpression(t),i=r.containingNode();if(i!==null)switch(i.kind()){case 246:return!0;case 122:return!0;default:return e(t)}}return!1}function e(t){var r=n.Syntax.getStandaloneExpression(t),f=r.containingNode(),i=f.node(),u=r.nodeOrToken();if(i!==null)switch(i.kind()){case 125:return i.type===u;case 219:return i.type===u;case 244:case 229:case 227:return!0}return!1}function w(t,i){for(var f=0,u,r=0,e=t.childCount();r<e;r++){if(u=t.childAt(r),u===i)return f;u!==null&&(f+=u.fullWidth())}throw n.Errors.invalidOperation();}function b(n,t){for(var u=0,r,i=0;i<t;i++)r=n.childAt(i),r!==null&&(u+=r.fullWidth());return u}function k(t,i){for(var f,r=0,u=t.childCount();r<u;r++)if(f=t.childAt(r),f===i)return r;throw n.Errors.invalidOperation();}function i(n,t){return n===null?t===null:n.structuralEquals(t)}function d(n,t){return n===t?!0:n===null||t===null?!1:n.isToken()?t.isToken()?r(n,t):!1:t.isNode()?i(n,t):!1}function r(t,i){return t===i?!0:t===null||i===null?!1:t.kind()===i.kind()&&t.width()===i.width()&&t.fullWidth()===i.fullWidth()&&t.text()===i.text()&&n.Syntax.triviaListStructuralEquals(t.leadingTrivia(),i.leadingTrivia())&&n.Syntax.triviaListStructuralEquals(t.trailingTrivia(),i.trailingTrivia())}function g(t,i){if(t.count()!==i.count())return!1;for(var r=0,u=t.count();r<u;r++)if(!n.Syntax.triviaStructuralEquals(t.syntaxTriviaAt(r),i.syntaxTriviaAt(r)))return!1;return!0}function nt(n,t){return n.kind()===t.kind()&&n.fullWidth()===t.fullWidth()&&n.fullText()===t.fullText()}function o(t,i){var r,u,f,e;if(t.childCount()!==i.childCount())return!1;for(r=0,u=t.childCount();r<u;r++)if(f=t.childAt(r),e=i.childAt(r),!n.Syntax.nodeOrTokenStructuralEquals(f,e))return!1;return!0}function s(t,i){var r,u,f,e;if(t.childCount()!==i.childCount())return!1;for(r=0,u=t.childCount();r<u;r++)if(f=t.childAt(r),e=i.childAt(r),!n.Syntax.nodeOrTokenStructuralEquals(f,e))return!1;return!0}function tt(t,u){if(t===u)return!0;if(t===null||u===null||u.kind()!==u.kind())return!1;if(t.isToken())return r(t,u);if(t.isNode())return i(t,u);if(t.isList())return o(t,u);if(t.isSeparatedList())return s(t,u);throw n.Errors.invalidOperation();}function it(n,i){return typeof i=="undefined"&&(i=null),t.identifier(n)}function rt(){return n.Syntax.token(37)}function ut(){return n.Syntax.token(24)}function ft(t){return n.Syntax.token(13,{text:t})}function et(t){return n.Syntax.token(14,{text:t})}function h(n){return n.kind()===212&&n.expression.kind()===50}function ot(n){return n.kind()===148&&h(n.expression)}function c(n){return n.kind()===211&&n.expression.kind()===50}function st(n){return n.kind()===212&&c(n.expression)}function ht(t,i,r){return n.Syntax.normalModeFactory.binaryExpression(173,t,i,r)}function ct(n){for(var i,r,t=0;t<n.childCount();t++)if(i=n.childAt(t),i!==null&&i.isToken()&&(r=i,r.hasSkippedToken()||r.width()===0&&r.kind()!==10))return!0;return!1}function u(n){if(n&&n.kind()===14){var t=n.text();return t.length<2||t.charCodeAt(t.length-1)!==t.charCodeAt(0)}return!1}function l(n){if(n&&n.kind()===6){var t=n.fullText();return t.length<4||t.substring(t.length-2)!=="*/"}return!1}function a(n,t,i){if(n&&n.isComment()&&i>t){var r=t+n.fullWidth();if(i<r)return!0;if(i===r)return n.kind()===7||l(n)}return!1}function lt(n,t){var i=n.findToken(t),r=i.fullStart(),u=null,o=null,e,s,f;if(i.kind()===10?i.token().hasLeadingTrivia()?u=i.token().leadingTrivia():(i=i.previousToken(),i&&i&&i.token().hasTrailingTrivia()&&(u=i.token().trailingTrivia(),r=i.end())):t<=r+i.token().leadingTriviaWidth()?u=i.token().leadingTrivia():t>=r+i.token().width()&&(u=i.token().trailingTrivia(),r=i.end()),u)for(e=0,s=u.count();e<s;e++){if(f=u.syntaxTriviaAt(e),t<=r)break;else if(t<=r+f.fullWidth()&&f.isComment()){o=f;break}r+=f.fullWidth()}return o&&a(o,r,t)}function at(n,t){var i=n.findToken(t);if(i){if(i.kind()===10)return i=i.previousToken(),i&&i.token().trailingTriviaWidth()===0&&u(i.token());if(t>i.start())return t<i.end()&&(i.kind()===14||i.kind()===12)||t<=i.end()&&u(i.token())}return!1}function f(t,i,r){var u=null,f,e,h,o,s;if(r?(u=t.token().leadingTrivia(),f=t.fullStart()):(u=t.token().trailingTrivia(),f=t.end()),u&&u.hasSkippedToken())for(e=0,h=u.count();e<h;e++){if(o=u.syntaxTriviaAt(e),s=o.fullWidth(),o.isSkippedToken()&&i>=f&&i<=f+s)return new n.PositionedSkippedToken(t,o.skippedToken(),f);f+=s}return null}function vt(n,t){return f(n,t,!0)}function yt(n,t){return f(n,t,!1)}function pt(n,t){var i=t<n.start();return f(n,t,i)}function wt(n,t){while(n&&n.parent()){if(n.parent().kind()===t)return n.parent();n=n.parent()}return null}function bt(t,i){return n.Syntax.getAncestorOfKind(t,i)!==null}t.emptySourceUnit=v;t.getStandaloneExpression=y;t.isInModuleOrTypeContext=p;t.isInTypeOnlyContext=e;t.childOffset=w;t.childOffsetAt=b;t.childIndex=k;t.nodeStructuralEquals=i;t.nodeOrTokenStructuralEquals=d;t.tokenStructuralEquals=r;t.triviaListStructuralEquals=g;t.triviaStructuralEquals=nt;t.listStructuralEquals=o;t.separatedListStructuralEquals=s;t.elementStructuralEquals=tt;t.identifierName=it;t.trueExpression=rt;t.falseExpression=ut;t.numericLiteralExpression=ft;t.stringLiteralExpression=et;t.isSuperInvocationExpression=h;t.isSuperInvocationExpressionStatement=ot;t.isSuperMemberAccessExpression=c;t.isSuperMemberAccessInvocationExpression=st;t.assignmentExpression=ht;t.nodeHasSkippedOrMissingTokens=ct;t.isUnterminatedStringLiteral=u;t.isUnterminatedMultilineCommentTrivia=l;t.isEntirelyInsideCommentTrivia=a;t.isEntirelyInsideComment=lt;t.isEntirelyInStringOrRegularExpressionLiteral=at;t.findSkippedTokenInLeadingTriviaList=vt;t.findSkippedTokenInTrailingTriviaList=yt;t.findSkippedTokenInPositionedToken=pt;t.getAncestorOfKind=wt;t.hasAncestorOfKind=bt})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){var t=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),i.equals=function(t,i){return n.Diagnostic.equals(t,i)},i}(n.Diagnostic);n.SyntaxDiagnostic=t}(TypeScript||(TypeScript={})),function(n){(function(t){var r=function(){function t(){}return t.prototype.sourceUnit=function(t,i){return new n.SourceUnitSyntax(t,i,!1)},t.prototype.externalModuleReference=function(t,i,r,u){return new n.ExternalModuleReferenceSyntax(t,i,r,u,!1)},t.prototype.moduleNameModuleReference=function(t){return new n.ModuleNameModuleReferenceSyntax(t,!1)},t.prototype.importDeclaration=function(t,i,r,u,f){return new n.ImportDeclarationSyntax(t,i,r,u,f,!1)},t.prototype.exportAssignment=function(t,i,r,u){return new n.ExportAssignmentSyntax(t,i,r,u,!1)},t.prototype.classDeclaration=function(t,i,r,u,f,e,o,s){return new n.ClassDeclarationSyntax(t,i,r,u,f,e,o,s,!1)},t.prototype.interfaceDeclaration=function(t,i,r,u,f,e){return new n.InterfaceDeclarationSyntax(t,i,r,u,f,e,!1)},t.prototype.heritageClause=function(t,i){return new n.HeritageClauseSyntax(t,i,!1)},t.prototype.moduleDeclaration=function(t,i,r,u,f,e,o){return new n.ModuleDeclarationSyntax(t,i,r,u,f,e,o,!1)},t.prototype.functionDeclaration=function(t,i,r,u,f,e){return new n.FunctionDeclarationSyntax(t,i,r,u,f,e,!1)},t.prototype.variableStatement=function(t,i,r){return new n.VariableStatementSyntax(t,i,r,!1)},t.prototype.variableDeclaration=function(t,i){return new n.VariableDeclarationSyntax(t,i,!1)},t.prototype.variableDeclarator=function(t,i,r){return new n.VariableDeclaratorSyntax(t,i,r,!1)},t.prototype.equalsValueClause=function(t,i){return new n.EqualsValueClauseSyntax(t,i,!1)},t.prototype.prefixUnaryExpression=function(t,i,r){return new n.PrefixUnaryExpressionSyntax(t,i,r,!1)},t.prototype.arrayLiteralExpression=function(t,i,r){return new n.ArrayLiteralExpressionSyntax(t,i,r,!1)},t.prototype.omittedExpression=function(){return new n.OmittedExpressionSyntax(!1)},t.prototype.parenthesizedExpression=function(t,i,r){return new n.ParenthesizedExpressionSyntax(t,i,r,!1)},t.prototype.simpleArrowFunctionExpression=function(t,i,r){return new n.SimpleArrowFunctionExpressionSyntax(t,i,r,!1)},t.prototype.parenthesizedArrowFunctionExpression=function(t,i,r){return new n.ParenthesizedArrowFunctionExpressionSyntax(t,i,r,!1)},t.prototype.qualifiedName=function(t,i,r){return new n.QualifiedNameSyntax(t,i,r,!1)},t.prototype.typeArgumentList=function(t,i,r){return new n.TypeArgumentListSyntax(t,i,r,!1)},t.prototype.constructorType=function(t,i,r,u,f){return new n.ConstructorTypeSyntax(t,i,r,u,f,!1)},t.prototype.functionType=function(t,i,r,u){return new n.FunctionTypeSyntax(t,i,r,u,!1)},t.prototype.objectType=function(t,i,r){return new n.ObjectTypeSyntax(t,i,r,!1)},t.prototype.arrayType=function(t,i,r){return new n.ArrayTypeSyntax(t,i,r,!1)},t.prototype.genericType=function(t,i){return new n.GenericTypeSyntax(t,i,!1)},t.prototype.typeAnnotation=function(t,i){return new n.TypeAnnotationSyntax(t,i,!1)},t.prototype.block=function(t,i,r){return new n.BlockSyntax(t,i,r,!1)},t.prototype.parameter=function(t,i,r,u,f,e){return new n.ParameterSyntax(t,i,r,u,f,e,!1)},t.prototype.memberAccessExpression=function(t,i,r){return new n.MemberAccessExpressionSyntax(t,i,r,!1)},t.prototype.postfixUnaryExpression=function(t,i,r){return new n.PostfixUnaryExpressionSyntax(t,i,r,!1)},t.prototype.elementAccessExpression=function(t,i,r,u){return new n.ElementAccessExpressionSyntax(t,i,r,u,!1)},t.prototype.invocationExpression=function(t,i){return new n.InvocationExpressionSyntax(t,i,!1)},t.prototype.argumentList=function(t,i,r,u){return new n.ArgumentListSyntax(t,i,r,u,!1)},t.prototype.binaryExpression=function(t,i,r,u){return new n.BinaryExpressionSyntax(t,i,r,u,!1)},t.prototype.conditionalExpression=function(t,i,r,u,f){return new n.ConditionalExpressionSyntax(t,i,r,u,f,!1)},t.prototype.constructSignature=function(t,i){return new n.ConstructSignatureSyntax(t,i,!1)},t.prototype.methodSignature=function(t,i,r){return new n.MethodSignatureSyntax(t,i,r,!1)},t.prototype.indexSignature=function(t,i,r,u){return new n.IndexSignatureSyntax(t,i,r,u,!1)},t.prototype.propertySignature=function(t,i,r){return new n.PropertySignatureSyntax(t,i,r,!1)},t.prototype.callSignature=function(t,i,r){return new n.CallSignatureSyntax(t,i,r,!1)},t.prototype.parameterList=function(t,i,r){return new n.ParameterListSyntax(t,i,r,!1)},t.prototype.typeParameterList=function(t,i,r){return new n.TypeParameterListSyntax(t,i,r,!1)},t.prototype.typeParameter=function(t,i){return new n.TypeParameterSyntax(t,i,!1)},t.prototype.constraint=function(t,i){return new n.ConstraintSyntax(t,i,!1)},t.prototype.elseClause=function(t,i){return new n.ElseClauseSyntax(t,i,!1)},t.prototype.ifStatement=function(t,i,r,u,f,e){return new n.IfStatementSyntax(t,i,r,u,f,e,!1)},t.prototype.expressionStatement=function(t,i){return new n.ExpressionStatementSyntax(t,i,!1)},t.prototype.constructorDeclaration=function(t,i,r,u){return new n.ConstructorDeclarationSyntax(t,i,r,u,!1)},t.prototype.memberFunctionDeclaration=function(t,i,r,u,f){return new n.MemberFunctionDeclarationSyntax(t,i,r,u,f,!1)},t.prototype.getMemberAccessorDeclaration=function(t,i,r,u,f,e){return new n.GetMemberAccessorDeclarationSyntax(t,i,r,u,f,e,!1)},t.prototype.setMemberAccessorDeclaration=function(t,i,r,u,f){return new n.SetMemberAccessorDeclarationSyntax(t,i,r,u,f,!1)},t.prototype.memberVariableDeclaration=function(t,i,r){return new n.MemberVariableDeclarationSyntax(t,i,r,!1)},t.prototype.throwStatement=function(t,i,r){return new n.ThrowStatementSyntax(t,i,r,!1)},t.prototype.returnStatement=function(t,i,r){return new n.ReturnStatementSyntax(t,i,r,!1)},t.prototype.objectCreationExpression=function(t,i,r){return new n.ObjectCreationExpressionSyntax(t,i,r,!1)},t.prototype.switchStatement=function(t,i,r,u,f,e,o){return new n.SwitchStatementSyntax(t,i,r,u,f,e,o,!1)},t.prototype.caseSwitchClause=function(t,i,r,u){return new n.CaseSwitchClauseSyntax(t,i,r,u,!1)},t.prototype.defaultSwitchClause=function(t,i,r){return new n.DefaultSwitchClauseSyntax(t,i,r,!1)},t.prototype.breakStatement=function(t,i,r){return new n.BreakStatementSyntax(t,i,r,!1)},t.prototype.continueStatement=function(t,i,r){return new n.ContinueStatementSyntax(t,i,r,!1)},t.prototype.forStatement=function(t,i,r,u,f,e,o,s,h,c){return new n.ForStatementSyntax(t,i,r,u,f,e,o,s,h,c,!1)},t.prototype.forInStatement=function(t,i,r,u,f,e,o,s){return new n.ForInStatementSyntax(t,i,r,u,f,e,o,s,!1)},t.prototype.whileStatement=function(t,i,r,u,f){return new n.WhileStatementSyntax(t,i,r,u,f,!1)},t.prototype.withStatement=function(t,i,r,u,f){return new n.WithStatementSyntax(t,i,r,u,f,!1)},t.prototype.enumDeclaration=function(t,i,r,u,f,e){return new n.EnumDeclarationSyntax(t,i,r,u,f,e,!1)},t.prototype.enumElement=function(t,i){return new n.EnumElementSyntax(t,i,!1)},t.prototype.castExpression=function(t,i,r,u){return new n.CastExpressionSyntax(t,i,r,u,!1)},t.prototype.objectLiteralExpression=function(t,i,r){return new n.ObjectLiteralExpressionSyntax(t,i,r,!1)},t.prototype.simplePropertyAssignment=function(t,i,r){return new n.SimplePropertyAssignmentSyntax(t,i,r,!1)},t.prototype.functionPropertyAssignment=function(t,i,r){return new n.FunctionPropertyAssignmentSyntax(t,i,r,!1)},t.prototype.getAccessorPropertyAssignment=function(t,i,r,u,f,e){return new n.GetAccessorPropertyAssignmentSyntax(t,i,r,u,f,e,!1)},t.prototype.setAccessorPropertyAssignment=function(t,i,r,u,f,e){return new n.SetAccessorPropertyAssignmentSyntax(t,i,r,u,f,e,!1)},t.prototype.functionExpression=function(t,i,r,u){return new n.FunctionExpressionSyntax(t,i,r,u,!1)},t.prototype.emptyStatement=function(t){return new n.EmptyStatementSyntax(t,!1)},t.prototype.tryStatement=function(t,i,r,u){return new n.TryStatementSyntax(t,i,r,u,!1)},t.prototype.catchClause=function(t,i,r,u,f,e){return new n.CatchClauseSyntax(t,i,r,u,f,e,!1)},t.prototype.finallyClause=function(t,i){return new n.FinallyClauseSyntax(t,i,!1)},t.prototype.labeledStatement=function(t,i,r){return new n.LabeledStatementSyntax(t,i,r,!1)},t.prototype.doStatement=function(t,i,r,u,f,e,o){return new n.DoStatementSyntax(t,i,r,u,f,e,o,!1)},t.prototype.typeOfExpression=function(t,i){return new n.TypeOfExpressionSyntax(t,i,!1)},t.prototype.deleteExpression=function(t,i){return new n.DeleteExpressionSyntax(t,i,!1)},t.prototype.voidExpression=function(t,i){return new n.VoidExpressionSyntax(t,i,!1)},t.prototype.debuggerStatement=function(t,i){return new n.DebuggerStatementSyntax(t,i,!1)},t}(),i;t.NormalModeFactory=r;i=function(){function t(){}return t.prototype.sourceUnit=function(t,i){return new n.SourceUnitSyntax(t,i,!0)},t.prototype.externalModuleReference=function(t,i,r,u){return new n.ExternalModuleReferenceSyntax(t,i,r,u,!0)},t.prototype.moduleNameModuleReference=function(t){return new n.ModuleNameModuleReferenceSyntax(t,!0)},t.prototype.importDeclaration=function(t,i,r,u,f){return new n.ImportDeclarationSyntax(t,i,r,u,f,!0)},t.prototype.exportAssignment=function(t,i,r,u){return new n.ExportAssignmentSyntax(t,i,r,u,!0)},t.prototype.classDeclaration=function(t,i,r,u,f,e,o,s){return new n.ClassDeclarationSyntax(t,i,r,u,f,e,o,s,!0)},t.prototype.interfaceDeclaration=function(t,i,r,u,f,e){return new n.InterfaceDeclarationSyntax(t,i,r,u,f,e,!0)},t.prototype.heritageClause=function(t,i){return new n.HeritageClauseSyntax(t,i,!0)},t.prototype.moduleDeclaration=function(t,i,r,u,f,e,o){return new n.ModuleDeclarationSyntax(t,i,r,u,f,e,o,!0)},t.prototype.functionDeclaration=function(t,i,r,u,f,e){return new n.FunctionDeclarationSyntax(t,i,r,u,f,e,!0)},t.prototype.variableStatement=function(t,i,r){return new n.VariableStatementSyntax(t,i,r,!0)},t.prototype.variableDeclaration=function(t,i){return new n.VariableDeclarationSyntax(t,i,!0)},t.prototype.variableDeclarator=function(t,i,r){return new n.VariableDeclaratorSyntax(t,i,r,!0)},t.prototype.equalsValueClause=function(t,i){return new n.EqualsValueClauseSyntax(t,i,!0)},t.prototype.prefixUnaryExpression=function(t,i,r){return new n.PrefixUnaryExpressionSyntax(t,i,r,!0)},t.prototype.arrayLiteralExpression=function(t,i,r){return new n.ArrayLiteralExpressionSyntax(t,i,r,!0)},t.prototype.omittedExpression=function(){return new n.OmittedExpressionSyntax(!0)},t.prototype.parenthesizedExpression=function(t,i,r){return new n.ParenthesizedExpressionSyntax(t,i,r,!0)},t.prototype.simpleArrowFunctionExpression=function(t,i,r){return new n.SimpleArrowFunctionExpressionSyntax(t,i,r,!0)},t.prototype.parenthesizedArrowFunctionExpression=function(t,i,r){return new n.ParenthesizedArrowFunctionExpressionSyntax(t,i,r,!0)},t.prototype.qualifiedName=function(t,i,r){return new n.QualifiedNameSyntax(t,i,r,!0)},t.prototype.typeArgumentList=function(t,i,r){return new n.TypeArgumentListSyntax(t,i,r,!0)},t.prototype.constructorType=function(t,i,r,u,f){return new n.ConstructorTypeSyntax(t,i,r,u,f,!0)},t.prototype.functionType=function(t,i,r,u){return new n.FunctionTypeSyntax(t,i,r,u,!0)},t.prototype.objectType=function(t,i,r){return new n.ObjectTypeSyntax(t,i,r,!0)},t.prototype.arrayType=function(t,i,r){return new n.ArrayTypeSyntax(t,i,r,!0)},t.prototype.genericType=function(t,i){return new n.GenericTypeSyntax(t,i,!0)},t.prototype.typeAnnotation=function(t,i){return new n.TypeAnnotationSyntax(t,i,!0)},t.prototype.block=function(t,i,r){return new n.BlockSyntax(t,i,r,!0)},t.prototype.parameter=function(t,i,r,u,f,e){return new n.ParameterSyntax(t,i,r,u,f,e,!0)},t.prototype.memberAccessExpression=function(t,i,r){return new n.MemberAccessExpressionSyntax(t,i,r,!0)},t.prototype.postfixUnaryExpression=function(t,i,r){return new n.PostfixUnaryExpressionSyntax(t,i,r,!0)},t.prototype.elementAccessExpression=function(t,i,r,u){return new n.ElementAccessExpressionSyntax(t,i,r,u,!0)},t.prototype.invocationExpression=function(t,i){return new n.InvocationExpressionSyntax(t,i,!0)},t.prototype.argumentList=function(t,i,r,u){return new n.ArgumentListSyntax(t,i,r,u,!0)},t.prototype.binaryExpression=function(t,i,r,u){return new n.BinaryExpressionSyntax(t,i,r,u,!0)},t.prototype.conditionalExpression=function(t,i,r,u,f){return new n.ConditionalExpressionSyntax(t,i,r,u,f,!0)},t.prototype.constructSignature=function(t,i){return new n.ConstructSignatureSyntax(t,i,!0)},t.prototype.methodSignature=function(t,i,r){return new n.MethodSignatureSyntax(t,i,r,!0)},t.prototype.indexSignature=function(t,i,r,u){return new n.IndexSignatureSyntax(t,i,r,u,!0)},t.prototype.propertySignature=function(t,i,r){return new n.PropertySignatureSyntax(t,i,r,!0)},t.prototype.callSignature=function(t,i,r){return new n.CallSignatureSyntax(t,i,r,!0)},t.prototype.parameterList=function(t,i,r){return new n.ParameterListSyntax(t,i,r,!0)},t.prototype.typeParameterList=function(t,i,r){return new n.TypeParameterListSyntax(t,i,r,!0)},t.prototype.typeParameter=function(t,i){return new n.TypeParameterSyntax(t,i,!0)},t.prototype.constraint=function(t,i){return new n.ConstraintSyntax(t,i,!0)},t.prototype.elseClause=function(t,i){return new n.ElseClauseSyntax(t,i,!0)},t.prototype.ifStatement=function(t,i,r,u,f,e){return new n.IfStatementSyntax(t,i,r,u,f,e,!0)},t.prototype.expressionStatement=function(t,i){return new n.ExpressionStatementSyntax(t,i,!0)},t.prototype.constructorDeclaration=function(t,i,r,u){return new n.ConstructorDeclarationSyntax(t,i,r,u,!0)},t.prototype.memberFunctionDeclaration=function(t,i,r,u,f){return new n.MemberFunctionDeclarationSyntax(t,i,r,u,f,!0)},t.prototype.getMemberAccessorDeclaration=function(t,i,r,u,f,e){return new n.GetMemberAccessorDeclarationSyntax(t,i,r,u,f,e,!0)},t.prototype.setMemberAccessorDeclaration=function(t,i,r,u,f){return new n.SetMemberAccessorDeclarationSyntax(t,i,r,u,f,!0)},t.prototype.memberVariableDeclaration=function(t,i,r){return new n.MemberVariableDeclarationSyntax(t,i,r,!0)},t.prototype.throwStatement=function(t,i,r){return new n.ThrowStatementSyntax(t,i,r,!0)},t.prototype.returnStatement=function(t,i,r){return new n.ReturnStatementSyntax(t,i,r,!0)},t.prototype.objectCreationExpression=function(t,i,r){return new n.ObjectCreationExpressionSyntax(t,i,r,!0)},t.prototype.switchStatement=function(t,i,r,u,f,e,o){return new n.SwitchStatementSyntax(t,i,r,u,f,e,o,!0)},t.prototype.caseSwitchClause=function(t,i,r,u){return new n.CaseSwitchClauseSyntax(t,i,r,u,!0)},t.prototype.defaultSwitchClause=function(t,i,r){return new n.DefaultSwitchClauseSyntax(t,i,r,!0)},t.prototype.breakStatement=function(t,i,r){return new n.BreakStatementSyntax(t,i,r,!0)},t.prototype.continueStatement=function(t,i,r){return new n.ContinueStatementSyntax(t,i,r,!0)},t.prototype.forStatement=function(t,i,r,u,f,e,o,s,h,c){return new n.ForStatementSyntax(t,i,r,u,f,e,o,s,h,c,!0)},t.prototype.forInStatement=function(t,i,r,u,f,e,o,s){return new n.ForInStatementSyntax(t,i,r,u,f,e,o,s,!0)},t.prototype.whileStatement=function(t,i,r,u,f){return new n.WhileStatementSyntax(t,i,r,u,f,!0)},t.prototype.withStatement=function(t,i,r,u,f){return new n.WithStatementSyntax(t,i,r,u,f,!0)},t.prototype.enumDeclaration=function(t,i,r,u,f,e){return new n.EnumDeclarationSyntax(t,i,r,u,f,e,!0)},t.prototype.enumElement=function(t,i){return new n.EnumElementSyntax(t,i,!0)},t.prototype.castExpression=function(t,i,r,u){return new n.CastExpressionSyntax(t,i,r,u,!0)},t.prototype.objectLiteralExpression=function(t,i,r){return new n.ObjectLiteralExpressionSyntax(t,i,r,!0)},t.prototype.simplePropertyAssignment=function(t,i,r){return new n.SimplePropertyAssignmentSyntax(t,i,r,!0)},t.prototype.functionPropertyAssignment=function(t,i,r){return new n.FunctionPropertyAssignmentSyntax(t,i,r,!0)},t.prototype.getAccessorPropertyAssignment=function(t,i,r,u,f,e){return new n.GetAccessorPropertyAssignmentSyntax(t,i,r,u,f,e,!0)},t.prototype.setAccessorPropertyAssignment=function(t,i,r,u,f,e){return new n.SetAccessorPropertyAssignmentSyntax(t,i,r,u,f,e,!0)},t.prototype.functionExpression=function(t,i,r,u){return new n.FunctionExpressionSyntax(t,i,r,u,!0)},t.prototype.emptyStatement=function(t){return new n.EmptyStatementSyntax(t,!0)},t.prototype.tryStatement=function(t,i,r,u){return new n.TryStatementSyntax(t,i,r,u,!0)},t.prototype.catchClause=function(t,i,r,u,f,e){return new n.CatchClauseSyntax(t,i,r,u,f,e,!0)},t.prototype.finallyClause=function(t,i){return new n.FinallyClauseSyntax(t,i,!0)},t.prototype.labeledStatement=function(t,i,r){return new n.LabeledStatementSyntax(t,i,r,!0)},t.prototype.doStatement=function(t,i,r,u,f,e,o){return new n.DoStatementSyntax(t,i,r,u,f,e,o,!0)},t.prototype.typeOfExpression=function(t,i){return new n.TypeOfExpressionSyntax(t,i,!0)},t.prototype.deleteExpression=function(t,i){return new n.DeleteExpressionSyntax(t,i,!0)},t.prototype.voidExpression=function(t,i){return new n.VoidExpressionSyntax(t,i,!0)},t.prototype.debuggerStatement=function(t,i){return new n.DebuggerStatementSyntax(t,i,!0)},t}();t.StrictModeFactory=i;t.normalModeFactory=new r;t.strictModeFactory=new i})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.None=0]="None";n[n.List=1]="List";n[n.SeparatedList=2]="SeparatedList";n[n.TriviaList=3]="TriviaList";n[n.WhitespaceTrivia=4]="WhitespaceTrivia";n[n.NewLineTrivia=5]="NewLineTrivia";n[n.MultiLineCommentTrivia=6]="MultiLineCommentTrivia";n[n.SingleLineCommentTrivia=7]="SingleLineCommentTrivia";n[n.SkippedTokenTrivia=8]="SkippedTokenTrivia";n[n.ErrorToken=9]="ErrorToken";n[n.EndOfFileToken=10]="EndOfFileToken";n[n.IdentifierName=11]="IdentifierName";n[n.RegularExpressionLiteral=12]="RegularExpressionLiteral";n[n.NumericLiteral=13]="NumericLiteral";n[n.StringLiteral=14]="StringLiteral";n[n.BreakKeyword=15]="BreakKeyword";n[n.CaseKeyword=16]="CaseKeyword";n[n.CatchKeyword=17]="CatchKeyword";n[n.ContinueKeyword=18]="ContinueKeyword";n[n.DebuggerKeyword=19]="DebuggerKeyword";n[n.DefaultKeyword=20]="DefaultKeyword";n[n.DeleteKeyword=21]="DeleteKeyword";n[n.DoKeyword=22]="DoKeyword";n[n.ElseKeyword=23]="ElseKeyword";n[n.FalseKeyword=24]="FalseKeyword";n[n.FinallyKeyword=25]="FinallyKeyword";n[n.ForKeyword=26]="ForKeyword";n[n.FunctionKeyword=27]="FunctionKeyword";n[n.IfKeyword=28]="IfKeyword";n[n.InKeyword=29]="InKeyword";n[n.InstanceOfKeyword=30]="InstanceOfKeyword";n[n.NewKeyword=31]="NewKeyword";n[n.NullKeyword=32]="NullKeyword";n[n.ReturnKeyword=33]="ReturnKeyword";n[n.SwitchKeyword=34]="SwitchKeyword";n[n.ThisKeyword=35]="ThisKeyword";n[n.ThrowKeyword=36]="ThrowKeyword";n[n.TrueKeyword=37]="TrueKeyword";n[n.TryKeyword=38]="TryKeyword";n[n.TypeOfKeyword=39]="TypeOfKeyword";n[n.VarKeyword=40]="VarKeyword";n[n.VoidKeyword=41]="VoidKeyword";n[n.WhileKeyword=42]="WhileKeyword";n[n.WithKeyword=43]="WithKeyword";n[n.ClassKeyword=44]="ClassKeyword";n[n.ConstKeyword=45]="ConstKeyword";n[n.EnumKeyword=46]="EnumKeyword";n[n.ExportKeyword=47]="ExportKeyword";n[n.ExtendsKeyword=48]="ExtendsKeyword";n[n.ImportKeyword=49]="ImportKeyword";n[n.SuperKeyword=50]="SuperKeyword";n[n.ImplementsKeyword=51]="ImplementsKeyword";n[n.InterfaceKeyword=52]="InterfaceKeyword";n[n.LetKeyword=53]="LetKeyword";n[n.PackageKeyword=54]="PackageKeyword";n[n.PrivateKeyword=55]="PrivateKeyword";n[n.ProtectedKeyword=56]="ProtectedKeyword";n[n.PublicKeyword=57]="PublicKeyword";n[n.StaticKeyword=58]="StaticKeyword";n[n.YieldKeyword=59]="YieldKeyword";n[n.AnyKeyword=60]="AnyKeyword";n[n.BooleanKeyword=61]="BooleanKeyword";n[n.BoolKeyword=62]="BoolKeyword";n[n.ConstructorKeyword=63]="ConstructorKeyword";n[n.DeclareKeyword=64]="DeclareKeyword";n[n.GetKeyword=65]="GetKeyword";n[n.ModuleKeyword=66]="ModuleKeyword";n[n.RequireKeyword=67]="RequireKeyword";n[n.NumberKeyword=68]="NumberKeyword";n[n.SetKeyword=69]="SetKeyword";n[n.StringKeyword=70]="StringKeyword";n[n.OpenBraceToken=71]="OpenBraceToken";n[n.CloseBraceToken=72]="CloseBraceToken";n[n.OpenParenToken=73]="OpenParenToken";n[n.CloseParenToken=74]="CloseParenToken";n[n.OpenBracketToken=75]="OpenBracketToken";n[n.CloseBracketToken=76]="CloseBracketToken";n[n.DotToken=77]="DotToken";n[n.DotDotDotToken=78]="DotDotDotToken";n[n.SemicolonToken=79]="SemicolonToken";n[n.CommaToken=80]="CommaToken";n[n.LessThanToken=81]="LessThanToken";n[n.GreaterThanToken=82]="GreaterThanToken";n[n.LessThanEqualsToken=83]="LessThanEqualsToken";n[n.GreaterThanEqualsToken=84]="GreaterThanEqualsToken";n[n.EqualsEqualsToken=85]="EqualsEqualsToken";n[n.EqualsGreaterThanToken=86]="EqualsGreaterThanToken";n[n.ExclamationEqualsToken=87]="ExclamationEqualsToken";n[n.EqualsEqualsEqualsToken=88]="EqualsEqualsEqualsToken";n[n.ExclamationEqualsEqualsToken=89]="ExclamationEqualsEqualsToken";n[n.PlusToken=90]="PlusToken";n[n.MinusToken=91]="MinusToken";n[n.AsteriskToken=92]="AsteriskToken";n[n.PercentToken=93]="PercentToken";n[n.PlusPlusToken=94]="PlusPlusToken";n[n.MinusMinusToken=95]="MinusMinusToken";n[n.LessThanLessThanToken=96]="LessThanLessThanToken";n[n.GreaterThanGreaterThanToken=97]="GreaterThanGreaterThanToken";n[n.GreaterThanGreaterThanGreaterThanToken=98]="GreaterThanGreaterThanGreaterThanToken";n[n.AmpersandToken=99]="AmpersandToken";n[n.BarToken=100]="BarToken";n[n.CaretToken=101]="CaretToken";n[n.ExclamationToken=102]="ExclamationToken";n[n.TildeToken=103]="TildeToken";n[n.AmpersandAmpersandToken=104]="AmpersandAmpersandToken";n[n.BarBarToken=105]="BarBarToken";n[n.QuestionToken=106]="QuestionToken";n[n.ColonToken=107]="ColonToken";n[n.EqualsToken=108]="EqualsToken";n[n.PlusEqualsToken=109]="PlusEqualsToken";n[n.MinusEqualsToken=110]="MinusEqualsToken";n[n.AsteriskEqualsToken=111]="AsteriskEqualsToken";n[n.PercentEqualsToken=112]="PercentEqualsToken";n[n.LessThanLessThanEqualsToken=113]="LessThanLessThanEqualsToken";n[n.GreaterThanGreaterThanEqualsToken=114]="GreaterThanGreaterThanEqualsToken";n[n.GreaterThanGreaterThanGreaterThanEqualsToken=115]="GreaterThanGreaterThanGreaterThanEqualsToken";n[n.AmpersandEqualsToken=116]="AmpersandEqualsToken";n[n.BarEqualsToken=117]="BarEqualsToken";n[n.CaretEqualsToken=118]="CaretEqualsToken";n[n.SlashToken=119]="SlashToken";n[n.SlashEqualsToken=120]="SlashEqualsToken";n[n.SourceUnit=121]="SourceUnit";n[n.QualifiedName=122]="QualifiedName";n[n.ObjectType=123]="ObjectType";n[n.FunctionType=124]="FunctionType";n[n.ArrayType=125]="ArrayType";n[n.ConstructorType=126]="ConstructorType";n[n.GenericType=127]="GenericType";n[n.InterfaceDeclaration=128]="InterfaceDeclaration";n[n.FunctionDeclaration=129]="FunctionDeclaration";n[n.ModuleDeclaration=130]="ModuleDeclaration";n[n.ClassDeclaration=131]="ClassDeclaration";n[n.EnumDeclaration=132]="EnumDeclaration";n[n.ImportDeclaration=133]="ImportDeclaration";n[n.ExportAssignment=134]="ExportAssignment";n[n.MemberFunctionDeclaration=135]="MemberFunctionDeclaration";n[n.MemberVariableDeclaration=136]="MemberVariableDeclaration";n[n.ConstructorDeclaration=137]="ConstructorDeclaration";n[n.GetMemberAccessorDeclaration=138]="GetMemberAccessorDeclaration";n[n.SetMemberAccessorDeclaration=139]="SetMemberAccessorDeclaration";n[n.PropertySignature=140]="PropertySignature";n[n.CallSignature=141]="CallSignature";n[n.ConstructSignature=142]="ConstructSignature";n[n.IndexSignature=143]="IndexSignature";n[n.MethodSignature=144]="MethodSignature";n[n.Block=145]="Block";n[n.IfStatement=146]="IfStatement";n[n.VariableStatement=147]="VariableStatement";n[n.ExpressionStatement=148]="ExpressionStatement";n[n.ReturnStatement=149]="ReturnStatement";n[n.SwitchStatement=150]="SwitchStatement";n[n.BreakStatement=151]="BreakStatement";n[n.ContinueStatement=152]="ContinueStatement";n[n.ForStatement=153]="ForStatement";n[n.ForInStatement=154]="ForInStatement";n[n.EmptyStatement=155]="EmptyStatement";n[n.ThrowStatement=156]="ThrowStatement";n[n.WhileStatement=157]="WhileStatement";n[n.TryStatement=158]="TryStatement";n[n.LabeledStatement=159]="LabeledStatement";n[n.DoStatement=160]="DoStatement";n[n.DebuggerStatement=161]="DebuggerStatement";n[n.WithStatement=162]="WithStatement";n[n.PlusExpression=163]="PlusExpression";n[n.NegateExpression=164]="NegateExpression";n[n.BitwiseNotExpression=165]="BitwiseNotExpression";n[n.LogicalNotExpression=166]="LogicalNotExpression";n[n.PreIncrementExpression=167]="PreIncrementExpression";n[n.PreDecrementExpression=168]="PreDecrementExpression";n[n.DeleteExpression=169]="DeleteExpression";n[n.TypeOfExpression=170]="TypeOfExpression";n[n.VoidExpression=171]="VoidExpression";n[n.CommaExpression=172]="CommaExpression";n[n.AssignmentExpression=173]="AssignmentExpression";n[n.AddAssignmentExpression=174]="AddAssignmentExpression";n[n.SubtractAssignmentExpression=175]="SubtractAssignmentExpression";n[n.MultiplyAssignmentExpression=176]="MultiplyAssignmentExpression";n[n.DivideAssignmentExpression=177]="DivideAssignmentExpression";n[n.ModuloAssignmentExpression=178]="ModuloAssignmentExpression";n[n.AndAssignmentExpression=179]="AndAssignmentExpression";n[n.ExclusiveOrAssignmentExpression=180]="ExclusiveOrAssignmentExpression";n[n.OrAssignmentExpression=181]="OrAssignmentExpression";n[n.LeftShiftAssignmentExpression=182]="LeftShiftAssignmentExpression";n[n.SignedRightShiftAssignmentExpression=183]="SignedRightShiftAssignmentExpression";n[n.UnsignedRightShiftAssignmentExpression=184]="UnsignedRightShiftAssignmentExpression";n[n.ConditionalExpression=185]="ConditionalExpression";n[n.LogicalOrExpression=186]="LogicalOrExpression";n[n.LogicalAndExpression=187]="LogicalAndExpression";n[n.BitwiseOrExpression=188]="BitwiseOrExpression";n[n.BitwiseExclusiveOrExpression=189]="BitwiseExclusiveOrExpression";n[n.BitwiseAndExpression=190]="BitwiseAndExpression";n[n.EqualsWithTypeConversionExpression=191]="EqualsWithTypeConversionExpression";n[n.NotEqualsWithTypeConversionExpression=192]="NotEqualsWithTypeConversionExpression";n[n.EqualsExpression=193]="EqualsExpression";n[n.NotEqualsExpression=194]="NotEqualsExpression";n[n.LessThanExpression=195]="LessThanExpression";n[n.GreaterThanExpression=196]="GreaterThanExpression";n[n.LessThanOrEqualExpression=197]="LessThanOrEqualExpression";n[n.GreaterThanOrEqualExpression=198]="GreaterThanOrEqualExpression";n[n.InstanceOfExpression=199]="InstanceOfExpression";n[n.InExpression=200]="InExpression";n[n.LeftShiftExpression=201]="LeftShiftExpression";n[n.SignedRightShiftExpression=202]="SignedRightShiftExpression";n[n.UnsignedRightShiftExpression=203]="UnsignedRightShiftExpression";n[n.MultiplyExpression=204]="MultiplyExpression";n[n.DivideExpression=205]="DivideExpression";n[n.ModuloExpression=206]="ModuloExpression";n[n.AddExpression=207]="AddExpression";n[n.SubtractExpression=208]="SubtractExpression";n[n.PostIncrementExpression=209]="PostIncrementExpression";n[n.PostDecrementExpression=210]="PostDecrementExpression";n[n.MemberAccessExpression=211]="MemberAccessExpression";n[n.InvocationExpression=212]="InvocationExpression";n[n.ArrayLiteralExpression=213]="ArrayLiteralExpression";n[n.ObjectLiteralExpression=214]="ObjectLiteralExpression";n[n.ObjectCreationExpression=215]="ObjectCreationExpression";n[n.ParenthesizedExpression=216]="ParenthesizedExpression";n[n.ParenthesizedArrowFunctionExpression=217]="ParenthesizedArrowFunctionExpression";n[n.SimpleArrowFunctionExpression=218]="SimpleArrowFunctionExpression";n[n.CastExpression=219]="CastExpression";n[n.ElementAccessExpression=220]="ElementAccessExpression";n[n.FunctionExpression=221]="FunctionExpression";n[n.OmittedExpression=222]="OmittedExpression";n[n.VariableDeclaration=223]="VariableDeclaration";n[n.VariableDeclarator=224]="VariableDeclarator";n[n.ArgumentList=225]="ArgumentList";n[n.ParameterList=226]="ParameterList";n[n.TypeArgumentList=227]="TypeArgumentList";n[n.TypeParameterList=228]="TypeParameterList";n[n.HeritageClause=229]="HeritageClause";n[n.EqualsValueClause=230]="EqualsValueClause";n[n.CaseSwitchClause=231]="CaseSwitchClause";n[n.DefaultSwitchClause=232]="DefaultSwitchClause";n[n.ElseClause=233]="ElseClause";n[n.CatchClause=234]="CatchClause";n[n.FinallyClause=235]="FinallyClause";n[n.TypeParameter=236]="TypeParameter";n[n.Constraint=237]="Constraint";n[n.SimplePropertyAssignment=238]="SimplePropertyAssignment";n[n.GetAccessorPropertyAssignment=239]="GetAccessorPropertyAssignment";n[n.SetAccessorPropertyAssignment=240]="SetAccessorPropertyAssignment";n[n.FunctionPropertyAssignment=241]="FunctionPropertyAssignment";n[n.Parameter=242]="Parameter";n[n.EnumElement=243]="EnumElement";n[n.TypeAnnotation=244]="TypeAnnotation";n[n.ExternalModuleReference=245]="ExternalModuleReference";n[n.ModuleNameModuleReference=246]="ModuleNameModuleReference";n[n.FirstStandardKeyword=n.BreakKeyword]="FirstStandardKeyword";n[n.LastStandardKeyword=n.WithKeyword]="LastStandardKeyword";n[n.FirstFutureReservedKeyword=n.ClassKeyword]="FirstFutureReservedKeyword";n[n.LastFutureReservedKeyword=n.SuperKeyword]="LastFutureReservedKeyword";n[n.FirstFutureReservedStrictKeyword=n.ImplementsKeyword]="FirstFutureReservedStrictKeyword";n[n.LastFutureReservedStrictKeyword=n.YieldKeyword]="LastFutureReservedStrictKeyword";n[n.FirstTypeScriptKeyword=n.AnyKeyword]="FirstTypeScriptKeyword";n[n.LastTypeScriptKeyword=n.StringKeyword]="LastTypeScriptKeyword";n[n.FirstKeyword=n.FirstStandardKeyword]="FirstKeyword";n[n.LastKeyword=n.LastTypeScriptKeyword]="LastKeyword";n[n.FirstToken=n.ErrorToken]="FirstToken";n[n.LastToken=n.SlashEqualsToken]="LastToken";n[n.FirstPunctuation=n.OpenBraceToken]="FirstPunctuation";n[n.LastPunctuation=n.SlashEqualsToken]="LastPunctuation";n[n.FirstFixedWidth=n.FirstKeyword]="FirstFixedWidth";n[n.LastFixedWidth=n.LastPunctuation]="LastFixedWidth"})(n.SyntaxKind||(n.SyntaxKind={}));var t=n.SyntaxKind}(TypeScript||(TypeScript={})),function(n){(function(t){function o(n){return i.hasOwnProperty(n)?i[n]:0}function s(n){var t=u[n];return t!==undefined?t:null}function h(n){return n>=9&&n<=120}function c(t){return t>=n.SyntaxKind.FirstKeyword&&t<=n.SyntaxKind.LastKeyword}function l(n){return n>=15&&n<=43}function a(n){return n>=44&&n<=50}function v(n){return n>=51&&n<=59}function y(n){return n>=71&&n<=120}function p(n){return f(n)!==0}function w(n){return e(n)!==0}function f(n){switch(n){case 90:return 163;case 91:return 164;case 103:return 165;case 102:return 166;case 94:return 167;case 95:return 168;default:return 0}}function b(n){switch(n){case 94:return 209;case 95:return 210;default:return 0}}function e(n){switch(n){case 92:return 204;case 119:return 205;case 93:return 206;case 90:return 207;case 91:return 208;case 96:return 201;case 97:return 202;case 98:return 203;case 81:return 195;case 82:return 196;case 83:return 197;case 84:return 198;case 30:return 199;case 29:return 200;case 85:return 191;case 87:return 192;case 88:return 193;case 89:return 194;case 99:return 190;case 101:return 189;case 100:return 188;case 104:return 187;case 105:return 186;case 117:return 181;case 116:return 179;case 118:return 180;case 113:return 182;case 114:return 183;case 115:return 184;case 109:return 174;case 110:return 175;case 111:return 176;case 120:return 177;case 112:return 178;case 108:return 173;case 80:return 172;default:return 0}}function k(n){switch(n){case 119:case 120:return!0;default:return!1}}function d(n){switch(n){case 119:case 120:case 12:return!0;default:return!1}}function g(n){switch(n){case 97:case 98:case 84:case 114:case 115:return!0;default:return!1}}function nt(n){switch(n){case 172:case 173:case 174:case 175:case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:case 184:case 186:case 187:case 188:case 189:case 190:case 191:case 192:case 193:case 194:case 195:case 196:case 197:case 198:case 199:case 200:case 201:case 202:case 203:case 204:case 205:case 206:case 207:case 208:return!0}return!1}var i={any:60,bool:62,boolean:61,"break":15,"case":16,"catch":17,"class":44,"continue":18,"const":45,constructor:63,"debugger":19,declare:64,"default":20,"delete":21,"do":22,"else":23,"enum":46,"export":47,"extends":48,"false":24,"finally":25,"for":26,"function":27,get:65,"if":28,implements:51,"import":49,"in":29,"instanceof":30,interface:52,let:53,module:66,"new":31,"null":32,number:68,package:54,private:55,protected:56,public:57,require:67,"return":33,set:69,static:58,string:70,"super":50,"switch":34,"this":35,"throw":36,"true":37,"try":38,"typeof":39,"var":40,"void":41,"while":42,"with":43,yield:59,"{":71,"}":72,"(":73,")":74,"[":75,"]":76,".":77,"...":78,";":79,",":80,"<":81,">":82,"<=":83,">=":84,"==":85,"=>":86,"!=":87,"===":88,"!==":89,"+":90,"-":91,"*":92,"%":93,"++":94,"--":95,"<<":96,">>":97,">>>":98,"&":99,"|":100,"^":101,"!":102,"~":103,"&&":104,"||":105,"?":106,":":107,"=":108,"+=":109,"-=":110,"*=":111,"%=":112,"<<=":113,">>=":114,">>>=":115,"&=":116,"|=":117,"^=":118,"/":119,"/=":120},u=[],r;for(r in i)i.hasOwnProperty(r)&&(u[i[r]]=r);u[63]="constructor";t.getTokenKind=o;t.getText=s;t.isTokenKind=h;t.isAnyKeyword=c;t.isStandardKeyword=l;t.isFutureReservedKeyword=a;t.isFutureReservedStrictKeyword=v;t.isAnyPunctuation=y;t.isPrefixUnaryExpressionOperatorToken=p;t.isBinaryExpressionOperatorToken=w;t.getPrefixUnaryExpressionFromOperatorToken=f;t.getPostfixUnaryExpressionFromOperatorToken=b;t.getBinaryExpressionFromOperatorToken=e;t.isAnyDivideToken=k;t.isAnyDivideOrRegularExpressionToken=d;t.isParserGenerated=g;t.isAnyBinaryExpression=nt})(n.SyntaxFacts||(n.SyntaxFacts={}));var t=n.SyntaxFacts}(TypeScript||(TypeScript={})),function(n){(function(t){function i(n){if(n.kind()===148){var t=n,i=t.expression;if(i.kind()===14)return!0}return!1}function r(n){var i=n,r=i.expression,t=r.text();return t==='"use strict"'||t==="'use strict'"}function u(t){var i=t.tokenKind;return i===11||n.SyntaxFacts.isAnyKeyword(i)}t.isDirectivePrologueElement=i;t.isUseStrictDirective=r;t.isIdentifierNameOrAnyKeyword=u})(n.SyntaxFacts||(n.SyntaxFacts={}));var t=n.SyntaxFacts}(TypeScript||(TypeScript={})),function(n){(function(t){function f(n){if(n===undefined||n===null||n.length===0)return t.emptyList;if(n.length===1){var i=n[0];return new r(i)}return new u(n)}var i=function(){function t(){}return t.prototype.kind=function(){return 1},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!1},t.prototype.isList=function(){return!0},t.prototype.isSeparatedList=function(){return!1},t.prototype.toJSON=function(){return[]},t.prototype.childCount=function(){return 0},t.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.toArray=function(){return[]},t.prototype.collectTextElements=function(){},t.prototype.firstToken=function(){return null},t.prototype.lastToken=function(){return null},t.prototype.fullWidth=function(){return 0},t.prototype.width=function(){return 0},t.prototype.leadingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.trailingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.leadingTriviaWidth=function(){return 0},t.prototype.trailingTriviaWidth=function(){return 0},t.prototype.fullText=function(){return""},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return!1},t.prototype.findTokenInternal=function(){throw n.Errors.invalidOperation();},t.prototype.insertChildrenInto=function(){},t}(),r,u;t.EmptySyntaxList=i;t.emptyList=new i;r=function(){function t(n){this.item=n}return t.prototype.kind=function(){return 1},t.prototype.isToken=function(){return!1},t.prototype.isNode=function(){return!1},t.prototype.isList=function(){return!0},t.prototype.isSeparatedList=function(){return!1},t.prototype.toJSON=function(){return[this.item]},t.prototype.childCount=function(){return 1},t.prototype.childAt=function(t){if(t!==0)throw n.Errors.argumentOutOfRange("index");return this.item},t.prototype.toArray=function(){return[this.item]},t.prototype.collectTextElements=function(n){this.item.collectTextElements(n)},t.prototype.firstToken=function(){return this.item.firstToken()},t.prototype.lastToken=function(){return this.item.lastToken()},t.prototype.fullWidth=function(){return this.item.fullWidth()},t.prototype.width=function(){return this.item.width()},t.prototype.leadingTrivia=function(){return this.item.leadingTrivia()},t.prototype.trailingTrivia=function(){return this.item.trailingTrivia()},t.prototype.leadingTriviaWidth=function(){return this.item.leadingTriviaWidth()},t.prototype.trailingTriviaWidth=function(){return this.item.trailingTriviaWidth()},t.prototype.fullText=function(){return this.item.fullText()},t.prototype.isTypeScriptSpecific=function(){return this.item.isTypeScriptSpecific()},t.prototype.isIncrementallyUnusable=function(){return this.item.isIncrementallyUnusable()},t.prototype.findTokenInternal=function(t,i,r){return this.item.findTokenInternal(new n.PositionedList(t,this,r),i,r)},t.prototype.insertChildrenInto=function(n,t){n.splice(t,0,this.item)},t}();u=function(){function t(n){this._data=0;this.nodeOrTokens=n}return t.prototype.kind=function(){return 1},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!1},t.prototype.isList=function(){return!0},t.prototype.isSeparatedList=function(){return!1},t.prototype.toJSON=function(){return this.nodeOrTokens},t.prototype.childCount=function(){return this.nodeOrTokens.length},t.prototype.childAt=function(t){if(t<0||t>=this.nodeOrTokens.length)throw n.Errors.argumentOutOfRange("index");return this.nodeOrTokens[t]},t.prototype.toArray=function(){return this.nodeOrTokens.slice(0)},t.prototype.collectTextElements=function(n){for(var r,t=0,i=this.nodeOrTokens.length;t<i;t++)r=this.nodeOrTokens[t],r.collectTextElements(n)},t.prototype.firstToken=function(){for(var t,n=0,i=this.nodeOrTokens.length;n<i;n++)if(t=this.nodeOrTokens[n].firstToken(),t!==null)return t;return null},t.prototype.lastToken=function(){for(var t,n=this.nodeOrTokens.length-1;n>=0;n--)if(t=this.nodeOrTokens[n].lastToken(),t!==null)return t;return null},t.prototype.fullText=function(){var n=[];return this.collectTextElements(n),n.join("")},t.prototype.isTypeScriptSpecific=function(){for(var n=0,t=this.nodeOrTokens.length;n<t;n++)if(this.nodeOrTokens[n].isTypeScriptSpecific())return!0;return!1},t.prototype.isIncrementallyUnusable=function(){return(this.data()&2)!=0},t.prototype.fullWidth=function(){return this.data()>>>3},t.prototype.width=function(){var n=this.fullWidth();return n-this.leadingTriviaWidth()-this.trailingTriviaWidth()},t.prototype.leadingTrivia=function(){return this.firstToken().leadingTrivia()},t.prototype.trailingTrivia=function(){return this.lastToken().trailingTrivia()},t.prototype.leadingTriviaWidth=function(){return this.firstToken().leadingTriviaWidth()},t.prototype.trailingTriviaWidth=function(){return this.lastToken().trailingTriviaWidth()},t.prototype.computeData=function(){for(var r=0,t=!1,i,n=0,u=this.nodeOrTokens.length;n<u;n++)i=this.nodeOrTokens[n],r+=i.fullWidth(),t=t||i.isIncrementallyUnusable();return r<<3|(t?2:0)|1},t.prototype.data=function(){return(this._data&1)==0&&(this._data=this.computeData()),this._data},t.prototype.findTokenInternal=function(t,i,r){var u,o,e,f;for(t=new n.PositionedList(t,this,r),u=0,o=this.nodeOrTokens.length;u<o;u++){if(e=this.nodeOrTokens[u],f=e.fullWidth(),i<f)return e.findTokenInternal(t,i,r);i-=f;r+=f}throw n.Errors.invalidOperation();},t.prototype.insertChildrenInto=function(n,t){t===0?n.unshift.apply(n,this.nodeOrTokens):n.splice.apply(n,[t,0].concat(this.nodeOrTokens))},t}();t.list=f})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n){this._data=n?4:0}return t.prototype.isNode=function(){return!0},t.prototype.isToken=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!1},t.prototype.kind=function(){throw n.Errors.abstract();},t.prototype.childCount=function(){throw n.Errors.abstract();},t.prototype.childAt=function(){throw n.Errors.abstract();},t.prototype.firstToken=function(){for(var n,t=0,i=this.childCount();t<i;t++)if(n=this.childAt(t),n!==null&&(n.fullWidth()>0||n.kind()===10))return n.firstToken();return null},t.prototype.lastToken=function(){for(var n,t=this.childCount()-1;t>=0;t--)if(n=this.childAt(t),n!==null&&(n.fullWidth()>0||n.kind()===10))return n.lastToken();return null},t.prototype.insertChildrenInto=function(t,i){for(var r,u=this.childCount()-1;u>=0;u--)if(r=this.childAt(u),r!==null)if(r.isNode()||r.isToken())t.splice(i,0,r);else if(r.isList())r.insertChildrenInto(t,i);else if(r.isSeparatedList())r.insertChildrenInto(t,i);else throw n.Errors.invalidOperation();},t.prototype.leadingTrivia=function(){return this.firstToken().leadingTrivia()},t.prototype.trailingTrivia=function(){return this.lastToken().trailingTrivia()},t.prototype.toJSON=function(){var t={kind:n.SyntaxKind[this.kind()],fullWidth:this.fullWidth()},i,f,r,u;for(this.isIncrementallyUnusable()&&(t.isIncrementallyUnusable=!0),this.parsedInStrictMode()&&(t.parsedInStrictMode=!0),i=0,f=this.childCount();i<f;i++)if(r=this.childAt(i),r)for(u in this)if(r===this[u]){t[u]=r;break}return t},t.prototype.accept=function(){throw n.Errors.abstract();},t.prototype.fullText=function(){var n=[];return this.collectTextElements(n),n.join("")},t.prototype.collectTextElements=function(n){for(var i,t=0,r=this.childCount();t<r;t++)i=this.childAt(t),i!==null&&i.collectTextElements(n)},t.prototype.replaceToken=function(t,i){return t===i?this:this.accept(new n.SyntaxTokenReplacer(t,i))},t.prototype.withLeadingTrivia=function(n){return this.replaceToken(this.firstToken(),this.firstToken().withLeadingTrivia(n))},t.prototype.withTrailingTrivia=function(n){return this.replaceToken(this.lastToken(),this.lastToken().withTrailingTrivia(n))},t.prototype.hasLeadingTrivia=function(){return this.lastToken().hasLeadingTrivia()},t.prototype.hasTrailingTrivia=function(){return this.lastToken().hasTrailingTrivia()},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return(this.data()&2)!=0},t.prototype.parsedInStrictMode=function(){return(this.data()&4)!=0},t.prototype.fullWidth=function(){return this.data()>>>3},t.prototype.computeData=function(){for(var r=this.childCount(),u=0,f=0,i=(this._data&2)!=0||r===0,t,n=0,e=r;n<e;n++)t=this.childAt(n),t!==null&&(f=t.fullWidth(),u+=f,i||(i=t.isIncrementallyUnusable()));return u<<3|(i?2:0)|1},t.prototype.data=function(){return(this._data&1)==0&&(this._data|=this.computeData()),this._data},t.prototype.findToken=function(t,i){var u,r;if(typeof i=="undefined"&&(i=!1),u=this.tryGetEndOfFileAt(t),u!==null)return u;if(t<0||t>=this.fullWidth())throw n.Errors.argumentOutOfRange("position");return(r=this.findTokenInternal(null,t,0),i)?n.Syntax.findSkippedTokenInPositionedToken(r,t)||r:r},t.prototype.tryGetEndOfFileAt=function(t){if(this.kind()===121&&t===this.fullWidth()){var i=this;return new n.PositionedToken(new n.PositionedNode(null,i,0),i.endOfFileToken,i.moduleElements.fullWidth())}return null},t.prototype.findTokenInternal=function(t,i,r){var u,o,f,e;for(t=new n.PositionedNode(t,this,r),u=0,o=this.childCount();u<o;u++)if(f=this.childAt(u),f!==null){if(e=f.fullWidth(),i<e)return f.findTokenInternal(t,i,r);i-=e;r+=e}throw n.Errors.invalidOperation();},t.prototype.findTokenOnLeft=function(n,t){typeof t=="undefined"&&(t=!1);var i=this.findToken(n,t),r=i.start();return n>r?i:i.fullStart()===0?null:i.previousToken(t)},t.prototype.findCompleteTokenOnLeft=function(n,t){typeof t=="undefined"&&(t=!1);var i=this.findToken(n,t);return i.token().width()>0&&n>=i.end()?i:i.previousToken(t)},t.prototype.isModuleElement=function(){return!1},t.prototype.isClassElement=function(){return!1},t.prototype.isTypeMember=function(){return!1},t.prototype.isStatement=function(){return!1},t.prototype.isSwitchClause=function(){return!1},t.prototype.structuralEquals=function(t){var i,r,u,f;if(this===t)return!0;if(t===null||this.kind()!==t.kind())return!1;for(i=0,r=this.childCount();i<r;i++)if(u=this.childAt(i),f=t.childAt(i),!n.Syntax.elementStructuralEquals(u,f))return!1;return!0},t.prototype.width=function(){return this.fullWidth()-this.leadingTriviaWidth()-this.trailingTriviaWidth()},t.prototype.leadingTriviaWidth=function(){var n=this.firstToken();return n===null?0:n.leadingTriviaWidth()},t.prototype.trailingTriviaWidth=function(){var n=this.lastToken();return n===null?0:n.trailingTriviaWidth()},t}();n.SyntaxNode=t}(TypeScript||(TypeScript={})),function(n){var hu=function(t){function i(n,i,r){t.call(this,r);this.moduleElements=n;this.endOfFileToken=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitSourceUnit(this)},i.prototype.kind=function(){return 121},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.moduleElements;case 1:return this.endOfFileToken;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.moduleElements===n&&this.endOfFileToken===t?this:new i(n,t,this.parsedInStrictMode())},i.create=function(t){return new i(n.Syntax.emptyList,t,!1)},i.create1=function(t){return new i(n.Syntax.emptyList,t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModuleElements=function(n){return this.update(n,this.endOfFileToken)},i.prototype.withModuleElement=function(t){return this.withModuleElements(n.Syntax.list([t]))},i.prototype.withEndOfFileToken=function(n){return this.update(this.moduleElements,n)},i.prototype.isTypeScriptSpecific=function(){return this.moduleElements.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode),e,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,o,lt,at,vt,a,yt,pt,v,wt,bt,kt,t,dt,gt,ni,ti,ii,y,ri,ui,fi,ei,oi,si,i,r,hi,ci,li,ai,vi,yi,pi,wi,s,bi,ki,di,gi,nr,tr,ir,h,rr,ur,fr,er,u,c,or,sr,hr,cr,lr,ar,vr,yr,f,pr,wr,l,br,kr,dr,gr,nu,tu,iu,ru,uu,fu,eu,ou,su;n.SourceUnitSyntax=hu;e=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.isModuleReference=function(){return!0},t.prototype.withLeadingTrivia=function(t){return n.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return n.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!0},t}(n.SyntaxNode);n.ModuleReferenceSyntax=e;p=function(t){function i(n,i,r,u,f){t.call(this,f);this.moduleOrRequireKeyword=n;this.openParenToken=i;this.stringLiteral=r;this.closeParenToken=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitExternalModuleReference(this)},i.prototype.kind=function(){return 245},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.moduleOrRequireKeyword;case 1:return this.openParenToken;case 2:return this.stringLiteral;case 3:return this.closeParenToken;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r,u){return this.moduleOrRequireKeyword===n&&this.openParenToken===t&&this.stringLiteral===r&&this.closeParenToken===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create1=function(t,r){return new i(t,n.Syntax.token(73),r,n.Syntax.token(74),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModuleOrRequireKeyword=function(n){return this.update(n,this.openParenToken,this.stringLiteral,this.closeParenToken)},i.prototype.withOpenParenToken=function(n){return this.update(this.moduleOrRequireKeyword,n,this.stringLiteral,this.closeParenToken)},i.prototype.withStringLiteral=function(n){return this.update(this.moduleOrRequireKeyword,this.openParenToken,n,this.closeParenToken)},i.prototype.withCloseParenToken=function(n){return this.update(this.moduleOrRequireKeyword,this.openParenToken,this.stringLiteral,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(e);n.ExternalModuleReferenceSyntax=p;w=function(t){function i(n,i){t.call(this,i);this.moduleName=n}return __extends(i,t),i.prototype.accept=function(n){return n.visitModuleNameModuleReference(this)},i.prototype.kind=function(){return 246},i.prototype.childCount=function(){return 1},i.prototype.childAt=function(t){switch(t){case 0:return this.moduleName;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n){return this.moduleName===n?this:new i(n,this.parsedInStrictMode())},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModuleName=function(n){return this.update(n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(e);n.ModuleNameModuleReferenceSyntax=w;b=function(t){function i(n,i,r,u,f,e){t.call(this,e);this.importKeyword=n;this.identifier=i;this.equalsToken=r;this.moduleReference=u;this.semicolonToken=f}return __extends(i,t),i.prototype.accept=function(n){return n.visitImportDeclaration(this)},i.prototype.kind=function(){return 133},i.prototype.childCount=function(){return 5},i.prototype.childAt=function(t){switch(t){case 0:return this.importKeyword;case 1:return this.identifier;case 2:return this.equalsToken;case 3:return this.moduleReference;case 4:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f){return this.importKeyword===n&&this.identifier===t&&this.equalsToken===r&&this.moduleReference===u&&this.semicolonToken===f?this:new i(n,t,r,u,f,this.parsedInStrictMode())},i.create1=function(t,r){return new i(n.Syntax.token(49),t,n.Syntax.token(108),r,n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withImportKeyword=function(n){return this.update(n,this.identifier,this.equalsToken,this.moduleReference,this.semicolonToken)},i.prototype.withIdentifier=function(n){return this.update(this.importKeyword,n,this.equalsToken,this.moduleReference,this.semicolonToken)},i.prototype.withEqualsToken=function(n){return this.update(this.importKeyword,this.identifier,n,this.moduleReference,this.semicolonToken)},i.prototype.withModuleReference=function(n){return this.update(this.importKeyword,this.identifier,this.equalsToken,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.importKeyword,this.identifier,this.equalsToken,this.moduleReference,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ImportDeclarationSyntax=b;k=function(t){function i(n,i,r,u,f){t.call(this,f);this.exportKeyword=n;this.equalsToken=i;this.identifier=r;this.semicolonToken=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitExportAssignment(this)},i.prototype.kind=function(){return 134},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.exportKeyword;case 1:return this.equalsToken;case 2:return this.identifier;case 3:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u){return this.exportKeyword===n&&this.equalsToken===t&&this.identifier===r&&this.semicolonToken===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(47),n.Syntax.token(108),t,n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withExportKeyword=function(n){return this.update(n,this.equalsToken,this.identifier,this.semicolonToken)},i.prototype.withEqualsToken=function(n){return this.update(this.exportKeyword,n,this.identifier,this.semicolonToken)},i.prototype.withIdentifier=function(n){return this.update(this.exportKeyword,this.equalsToken,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.exportKeyword,this.equalsToken,this.identifier,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ExportAssignmentSyntax=k;d=function(t){function i(n,i,r,u,f,e,o,s,h){t.call(this,h);this.modifiers=n;this.classKeyword=i;this.identifier=r;this.typeParameterList=u;this.heritageClauses=f;this.openBraceToken=e;this.classElements=o;this.closeBraceToken=s}return __extends(i,t),i.prototype.accept=function(n){return n.visitClassDeclaration(this)},i.prototype.kind=function(){return 131},i.prototype.childCount=function(){return 8},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.classKeyword;case 2:return this.identifier;case 3:return this.typeParameterList;case 4:return this.heritageClauses;case 5:return this.openBraceToken;case 6:return this.classElements;case 7:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e,o,s){return this.modifiers===n&&this.classKeyword===t&&this.identifier===r&&this.typeParameterList===u&&this.heritageClauses===f&&this.openBraceToken===e&&this.classElements===o&&this.closeBraceToken===s?this:new i(n,t,r,u,f,e,o,s,this.parsedInStrictMode())},i.create=function(t,r,u,f){return new i(n.Syntax.emptyList,t,r,null,n.Syntax.emptyList,u,n.Syntax.emptyList,f,!1)},i.create1=function(t){return new i(n.Syntax.emptyList,n.Syntax.token(44),t,null,n.Syntax.emptyList,n.Syntax.token(71),n.Syntax.emptyList,n.Syntax.token(72),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.classKeyword,this.identifier,this.typeParameterList,this.heritageClauses,this.openBraceToken,this.classElements,this.closeBraceToken)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withClassKeyword=function(n){return this.update(this.modifiers,n,this.identifier,this.typeParameterList,this.heritageClauses,this.openBraceToken,this.classElements,this.closeBraceToken)},i.prototype.withIdentifier=function(n){return this.update(this.modifiers,this.classKeyword,n,this.typeParameterList,this.heritageClauses,this.openBraceToken,this.classElements,this.closeBraceToken)},i.prototype.withTypeParameterList=function(n){return this.update(this.modifiers,this.classKeyword,this.identifier,n,this.heritageClauses,this.openBraceToken,this.classElements,this.closeBraceToken)},i.prototype.withHeritageClauses=function(n){return this.update(this.modifiers,this.classKeyword,this.identifier,this.typeParameterList,n,this.openBraceToken,this.classElements,this.closeBraceToken)},i.prototype.withHeritageClause=function(t){return this.withHeritageClauses(n.Syntax.list([t]))},i.prototype.withOpenBraceToken=function(n){return this.update(this.modifiers,this.classKeyword,this.identifier,this.typeParameterList,this.heritageClauses,n,this.classElements,this.closeBraceToken)},i.prototype.withClassElements=function(n){return this.update(this.modifiers,this.classKeyword,this.identifier,this.typeParameterList,this.heritageClauses,this.openBraceToken,n,this.closeBraceToken)},i.prototype.withClassElement=function(t){return this.withClassElements(n.Syntax.list([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.modifiers,this.classKeyword,this.identifier,this.typeParameterList,this.heritageClauses,this.openBraceToken,this.classElements,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ClassDeclarationSyntax=d;g=function(t){function i(n,i,r,u,f,e,o){t.call(this,o);this.modifiers=n;this.interfaceKeyword=i;this.identifier=r;this.typeParameterList=u;this.heritageClauses=f;this.body=e}return __extends(i,t),i.prototype.accept=function(n){return n.visitInterfaceDeclaration(this)},i.prototype.kind=function(){return 128},i.prototype.childCount=function(){return 6},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.interfaceKeyword;case 2:return this.identifier;case 3:return this.typeParameterList;case 4:return this.heritageClauses;case 5:return this.body;default:throw n.Errors.invalidOperation();}},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e){return this.modifiers===n&&this.interfaceKeyword===t&&this.identifier===r&&this.typeParameterList===u&&this.heritageClauses===f&&this.body===e?this:new i(n,t,r,u,f,e,this.parsedInStrictMode())},i.create=function(t,r,u){return new i(n.Syntax.emptyList,t,r,null,n.Syntax.emptyList,u,!1)},i.create1=function(t){return new i(n.Syntax.emptyList,n.Syntax.token(52),t,null,n.Syntax.emptyList,v.create1(),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.interfaceKeyword,this.identifier,this.typeParameterList,this.heritageClauses,this.body)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withInterfaceKeyword=function(n){return this.update(this.modifiers,n,this.identifier,this.typeParameterList,this.heritageClauses,this.body)},i.prototype.withIdentifier=function(n){return this.update(this.modifiers,this.interfaceKeyword,n,this.typeParameterList,this.heritageClauses,this.body)},i.prototype.withTypeParameterList=function(n){return this.update(this.modifiers,this.interfaceKeyword,this.identifier,n,this.heritageClauses,this.body)},i.prototype.withHeritageClauses=function(n){return this.update(this.modifiers,this.interfaceKeyword,this.identifier,this.typeParameterList,n,this.body)},i.prototype.withHeritageClause=function(t){return this.withHeritageClauses(n.Syntax.list([t]))},i.prototype.withBody=function(n){return this.update(this.modifiers,this.interfaceKeyword,this.identifier,this.typeParameterList,this.heritageClauses,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.InterfaceDeclarationSyntax=g;nt=function(t){function i(n,i,r){t.call(this,r);this.extendsOrImplementsKeyword=n;this.typeNames=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitHeritageClause(this)},i.prototype.kind=function(){return 229},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.extendsOrImplementsKeyword;case 1:return this.typeNames;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.extendsOrImplementsKeyword===n&&this.typeNames===t?this:new i(n,t,this.parsedInStrictMode())},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withExtendsOrImplementsKeyword=function(n){return this.update(n,this.typeNames)},i.prototype.withTypeNames=function(n){return this.update(this.extendsOrImplementsKeyword,n)},i.prototype.withTypeName=function(t){return this.withTypeNames(n.Syntax.separatedList([t]))},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.HeritageClauseSyntax=nt;tt=function(t){function i(n,i,r,u,f,e,o,s){t.call(this,s);this.modifiers=n;this.moduleKeyword=i;this.moduleName=r;this.stringLiteral=u;this.openBraceToken=f;this.moduleElements=e;this.closeBraceToken=o}return __extends(i,t),i.prototype.accept=function(n){return n.visitModuleDeclaration(this)},i.prototype.kind=function(){return 130},i.prototype.childCount=function(){return 7},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.moduleKeyword;case 2:return this.moduleName;case 3:return this.stringLiteral;case 4:return this.openBraceToken;case 5:return this.moduleElements;case 6:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e,o){return this.modifiers===n&&this.moduleKeyword===t&&this.moduleName===r&&this.stringLiteral===u&&this.openBraceToken===f&&this.moduleElements===e&&this.closeBraceToken===o?this:new i(n,t,r,u,f,e,o,this.parsedInStrictMode())},i.create=function(t,r,u){return new i(n.Syntax.emptyList,t,null,null,r,n.Syntax.emptyList,u,!1)},i.create1=function(){return new i(n.Syntax.emptyList,n.Syntax.token(66),null,null,n.Syntax.token(71),n.Syntax.emptyList,n.Syntax.token(72),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.moduleKeyword,this.moduleName,this.stringLiteral,this.openBraceToken,this.moduleElements,this.closeBraceToken)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withModuleKeyword=function(n){return this.update(this.modifiers,n,this.moduleName,this.stringLiteral,this.openBraceToken,this.moduleElements,this.closeBraceToken)},i.prototype.withModuleName=function(n){return this.update(this.modifiers,this.moduleKeyword,n,this.stringLiteral,this.openBraceToken,this.moduleElements,this.closeBraceToken)},i.prototype.withStringLiteral=function(n){return this.update(this.modifiers,this.moduleKeyword,this.moduleName,n,this.openBraceToken,this.moduleElements,this.closeBraceToken)},i.prototype.withOpenBraceToken=function(n){return this.update(this.modifiers,this.moduleKeyword,this.moduleName,this.stringLiteral,n,this.moduleElements,this.closeBraceToken)},i.prototype.withModuleElements=function(n){return this.update(this.modifiers,this.moduleKeyword,this.moduleName,this.stringLiteral,this.openBraceToken,n,this.closeBraceToken)},i.prototype.withModuleElement=function(t){return this.withModuleElements(n.Syntax.list([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.modifiers,this.moduleKeyword,this.moduleName,this.stringLiteral,this.openBraceToken,this.moduleElements,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ModuleDeclarationSyntax=tt;it=function(t){function r(n,i,r,u,f,e,o){t.call(this,o);this.modifiers=n;this.functionKeyword=i;this.identifier=r;this.callSignature=u;this.block=f;this.semicolonToken=e}return __extends(r,t),r.prototype.accept=function(n){return n.visitFunctionDeclaration(this)},r.prototype.kind=function(){return 129},r.prototype.childCount=function(){return 6},r.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.functionKeyword;case 2:return this.identifier;case 3:return this.callSignature;case 4:return this.block;case 5:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},r.prototype.isStatement=function(){return!0},r.prototype.isModuleElement=function(){return!0},r.prototype.update=function(n,t,i,u,f,e){return this.modifiers===n&&this.functionKeyword===t&&this.identifier===i&&this.callSignature===u&&this.block===f&&this.semicolonToken===e?this:new r(n,t,i,u,f,e,this.parsedInStrictMode())},r.create=function(t,i,u){return new r(n.Syntax.emptyList,t,i,u,null,null,!1)},r.create1=function(t){return new r(n.Syntax.emptyList,n.Syntax.token(27),t,i.create1(),null,null,!1)},r.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},r.prototype.withModifiers=function(n){return this.update(n,this.functionKeyword,this.identifier,this.callSignature,this.block,this.semicolonToken)},r.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},r.prototype.withFunctionKeyword=function(n){return this.update(this.modifiers,n,this.identifier,this.callSignature,this.block,this.semicolonToken)},r.prototype.withIdentifier=function(n){return this.update(this.modifiers,this.functionKeyword,n,this.callSignature,this.block,this.semicolonToken)},r.prototype.withCallSignature=function(n){return this.update(this.modifiers,this.functionKeyword,this.identifier,n,this.block,this.semicolonToken)},r.prototype.withBlock=function(n){return this.update(this.modifiers,this.functionKeyword,this.identifier,this.callSignature,n,this.semicolonToken)},r.prototype.withSemicolonToken=function(n){return this.update(this.modifiers,this.functionKeyword,this.identifier,this.callSignature,this.block,n)},r.prototype.isTypeScriptSpecific=function(){return this.modifiers.isTypeScriptSpecific()?!0:this.callSignature.isTypeScriptSpecific()?!0:this.block!==null&&this.block.isTypeScriptSpecific()?!0:!1},r}(n.SyntaxNode);n.FunctionDeclarationSyntax=it;rt=function(t){function i(n,i,r,u){t.call(this,u);this.modifiers=n;this.variableDeclaration=i;this.semicolonToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitVariableStatement(this)},i.prototype.kind=function(){return 147},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.variableDeclaration;case 2:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.modifiers===n&&this.variableDeclaration===t&&this.semicolonToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(n.Syntax.emptyList,t,r,!1)},i.create1=function(t){return new i(n.Syntax.emptyList,t,n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.variableDeclaration,this.semicolonToken)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withVariableDeclaration=function(n){return this.update(this.modifiers,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.modifiers,this.variableDeclaration,n)},i.prototype.isTypeScriptSpecific=function(){return this.modifiers.isTypeScriptSpecific()?!0:this.variableDeclaration.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.VariableStatementSyntax=rt;ut=function(t){function i(n,i,r){t.call(this,r);this.varKeyword=n;this.variableDeclarators=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitVariableDeclaration(this)},i.prototype.kind=function(){return 223},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.varKeyword;case 1:return this.variableDeclarators;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.varKeyword===n&&this.variableDeclarators===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(40),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withVarKeyword=function(n){return this.update(n,this.variableDeclarators)},i.prototype.withVariableDeclarators=function(n){return this.update(this.varKeyword,n)},i.prototype.withVariableDeclarator=function(t){return this.withVariableDeclarators(n.Syntax.separatedList([t]))},i.prototype.isTypeScriptSpecific=function(){return this.variableDeclarators.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.VariableDeclarationSyntax=ut;ft=function(t){function i(n,i,r,u){t.call(this,u);this.identifier=n;this.typeAnnotation=i;this.equalsValueClause=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitVariableDeclarator(this)},i.prototype.kind=function(){return 224},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.identifier;case 1:return this.typeAnnotation;case 2:return this.equalsValueClause;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r){return this.identifier===n&&this.typeAnnotation===t&&this.equalsValueClause===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n){return new i(n,null,null,!1)},i.create1=function(n){return new i(n,null,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withIdentifier=function(n){return this.update(n,this.typeAnnotation,this.equalsValueClause)},i.prototype.withTypeAnnotation=function(n){return this.update(this.identifier,n,this.equalsValueClause)},i.prototype.withEqualsValueClause=function(n){return this.update(this.identifier,this.typeAnnotation,n)},i.prototype.isTypeScriptSpecific=function(){return this.typeAnnotation!==null?!0:this.equalsValueClause!==null&&this.equalsValueClause.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.VariableDeclaratorSyntax=ft;et=function(t){function i(n,i,r){t.call(this,r);this.equalsToken=n;this.value=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitEqualsValueClause(this)},i.prototype.kind=function(){return 230},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.equalsToken;case 1:return this.value;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.equalsToken===n&&this.value===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(108),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withEqualsToken=function(n){return this.update(n,this.value)},i.prototype.withValue=function(n){return this.update(this.equalsToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.value.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.EqualsValueClauseSyntax=et;ot=function(t){function i(n,i,r,u){t.call(this,u);this.operatorToken=i;this.operand=r;this._kind=n}return __extends(i,t),i.prototype.accept=function(n){return n.visitPrefixUnaryExpression(this)},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.operatorToken;case 1:return this.operand;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.kind=function(){return this._kind},i.prototype.update=function(n,t,r){return this._kind===n&&this.operatorToken===t&&this.operand===r?this:new i(n,t,r,this.parsedInStrictMode())},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withKind=function(n){return this.update(n,this.operatorToken,this.operand)},i.prototype.withOperatorToken=function(n){return this.update(this._kind,n,this.operand)},i.prototype.withOperand=function(n){return this.update(this._kind,this.operatorToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.operand.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.PrefixUnaryExpressionSyntax=ot;st=function(t){function i(n,i,r,u){t.call(this,u);this.openBracketToken=n;this.expressions=i;this.closeBracketToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitArrayLiteralExpression(this)},i.prototype.kind=function(){return 213},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.openBracketToken;case 1:return this.expressions;case 2:return this.closeBracketToken;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.openBracketToken===n&&this.expressions===t&&this.closeBracketToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(n.Syntax.token(75),n.Syntax.emptySeparatedList,n.Syntax.token(76),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenBracketToken=function(n){return this.update(n,this.expressions,this.closeBracketToken)},i.prototype.withExpressions=function(n){return this.update(this.openBracketToken,n,this.closeBracketToken)},i.prototype.withExpression=function(t){return this.withExpressions(n.Syntax.separatedList([t]))},i.prototype.withCloseBracketToken=function(n){return this.update(this.openBracketToken,this.expressions,n)},i.prototype.isTypeScriptSpecific=function(){return this.expressions.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ArrayLiteralExpressionSyntax=st;ht=function(t){function i(n){t.call(this,n)}return __extends(i,t),i.prototype.accept=function(n){return n.visitOmittedExpression(this)},i.prototype.kind=function(){return 222},i.prototype.childCount=function(){return 0},i.prototype.childAt=function(){throw n.Errors.invalidOperation();},i.prototype.isExpression=function(){return!0},i.prototype.update=function(){return this},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.isTypeScriptSpecific=function(){return!1},i}(n.SyntaxNode);n.OmittedExpressionSyntax=ht;ct=function(t){function i(n,i,r,u){t.call(this,u);this.openParenToken=n;this.expression=i;this.closeParenToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitParenthesizedExpression(this)},i.prototype.kind=function(){return 216},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.openParenToken;case 1:return this.expression;case 2:return this.closeParenToken;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.openParenToken===n&&this.expression===t&&this.closeParenToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(73),t,n.Syntax.token(74),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenParenToken=function(n){return this.update(n,this.expression,this.closeParenToken)},i.prototype.withExpression=function(n){return this.update(this.openParenToken,n,this.closeParenToken)},i.prototype.withCloseParenToken=function(n){return this.update(this.openParenToken,this.expression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ParenthesizedExpressionSyntax=ct;o=function(n){function t(t,i,r){n.call(this,r);this.equalsGreaterThanToken=t;this.body=i}return __extends(t,n),t.prototype.isUnaryExpression=function(){return!0},t.prototype.isExpression=function(){return!0},t.prototype.withLeadingTrivia=function(t){return n.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return n.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!0},t}(n.SyntaxNode);n.ArrowFunctionExpressionSyntax=o;lt=function(t){function i(n,i,r,u){t.call(this,i,r,u);this.identifier=n}return __extends(i,t),i.prototype.accept=function(n){return n.visitSimpleArrowFunctionExpression(this)},i.prototype.kind=function(){return 218},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.identifier;case 1:return this.equalsGreaterThanToken;case 2:return this.body;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r){return this.identifier===n&&this.equalsGreaterThanToken===t&&this.body===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t,r){return new i(t,n.Syntax.token(86),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withIdentifier=function(n){return this.update(n,this.equalsGreaterThanToken,this.body)},i.prototype.withEqualsGreaterThanToken=function(n){return this.update(this.identifier,n,this.body)},i.prototype.withBody=function(n){return this.update(this.identifier,this.equalsGreaterThanToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(o);n.SimpleArrowFunctionExpressionSyntax=lt;at=function(t){function r(n,i,r,u){t.call(this,i,r,u);this.callSignature=n}return __extends(r,t),r.prototype.accept=function(n){return n.visitParenthesizedArrowFunctionExpression(this)},r.prototype.kind=function(){return 217},r.prototype.childCount=function(){return 3},r.prototype.childAt=function(t){switch(t){case 0:return this.callSignature;case 1:return this.equalsGreaterThanToken;case 2:return this.body;default:throw n.Errors.invalidOperation();}},r.prototype.update=function(n,t,i){return this.callSignature===n&&this.equalsGreaterThanToken===t&&this.body===i?this:new r(n,t,i,this.parsedInStrictMode())},r.create1=function(t){return new r(i.create1(),n.Syntax.token(86),t,!1)},r.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},r.prototype.withCallSignature=function(n){return this.update(n,this.equalsGreaterThanToken,this.body)},r.prototype.withEqualsGreaterThanToken=function(n){return this.update(this.callSignature,n,this.body)},r.prototype.withBody=function(n){return this.update(this.callSignature,this.equalsGreaterThanToken,n)},r.prototype.isTypeScriptSpecific=function(){return!0},r}(o);n.ParenthesizedArrowFunctionExpressionSyntax=at;vt=function(t){function i(n,i,r,u){t.call(this,u);this.left=n;this.dotToken=i;this.right=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitQualifiedName(this)},i.prototype.kind=function(){return 122},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.left;case 1:return this.dotToken;case 2:return this.right;default:throw n.Errors.invalidOperation();}},i.prototype.isName=function(){return!0},i.prototype.isType=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.left===n&&this.dotToken===t&&this.right===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t,r){return new i(t,n.Syntax.token(77),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withLeft=function(n){return this.update(n,this.dotToken,this.right)},i.prototype.withDotToken=function(n){return this.update(this.left,n,this.right)},i.prototype.withRight=function(n){return this.update(this.left,this.dotToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.QualifiedNameSyntax=vt;a=function(t){function i(n,i,r,u){t.call(this,u);this.lessThanToken=n;this.typeArguments=i;this.greaterThanToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitTypeArgumentList(this)},i.prototype.kind=function(){return 227},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.lessThanToken;case 1:return this.typeArguments;case 2:return this.greaterThanToken;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r){return this.lessThanToken===n&&this.typeArguments===t&&this.greaterThanToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(n.Syntax.token(81),n.Syntax.emptySeparatedList,n.Syntax.token(82),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withLessThanToken=function(n){return this.update(n,this.typeArguments,this.greaterThanToken)},i.prototype.withTypeArguments=function(n){return this.update(this.lessThanToken,n,this.greaterThanToken)},i.prototype.withTypeArgument=function(t){return this.withTypeArguments(n.Syntax.separatedList([t]))},i.prototype.withGreaterThanToken=function(n){return this.update(this.lessThanToken,this.typeArguments,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.TypeArgumentListSyntax=a;yt=function(t){function i(n,i,r,u,f,e){t.call(this,e);this.newKeyword=n;this.typeParameterList=i;this.parameterList=r;this.equalsGreaterThanToken=u;this.type=f}return __extends(i,t),i.prototype.accept=function(n){return n.visitConstructorType(this)},i.prototype.kind=function(){return 126},i.prototype.childCount=function(){return 5},i.prototype.childAt=function(t){switch(t){case 0:return this.newKeyword;case 1:return this.typeParameterList;case 2:return this.parameterList;case 3:return this.equalsGreaterThanToken;case 4:return this.type;default:throw n.Errors.invalidOperation();}},i.prototype.isType=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r,u,f){return this.newKeyword===n&&this.typeParameterList===t&&this.parameterList===r&&this.equalsGreaterThanToken===u&&this.type===f?this:new i(n,t,r,u,f,this.parsedInStrictMode())},i.create=function(n,t,r,u){return new i(n,null,t,r,u,!1)},i.create1=function(t){return new i(n.Syntax.token(31),null,r.create1(),n.Syntax.token(86),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withNewKeyword=function(n){return this.update(n,this.typeParameterList,this.parameterList,this.equalsGreaterThanToken,this.type)},i.prototype.withTypeParameterList=function(n){return this.update(this.newKeyword,n,this.parameterList,this.equalsGreaterThanToken,this.type)},i.prototype.withParameterList=function(n){return this.update(this.newKeyword,this.typeParameterList,n,this.equalsGreaterThanToken,this.type)},i.prototype.withEqualsGreaterThanToken=function(n){return this.update(this.newKeyword,this.typeParameterList,this.parameterList,n,this.type)},i.prototype.withType=function(n){return this.update(this.newKeyword,this.typeParameterList,this.parameterList,this.equalsGreaterThanToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ConstructorTypeSyntax=yt;pt=function(t){function i(n,i,r,u,f){t.call(this,f);this.typeParameterList=n;this.parameterList=i;this.equalsGreaterThanToken=r;this.type=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitFunctionType(this)},i.prototype.kind=function(){return 124},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.typeParameterList;case 1:return this.parameterList;case 2:return this.equalsGreaterThanToken;case 3:return this.type;default:throw n.Errors.invalidOperation();}},i.prototype.isType=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r,u){return this.typeParameterList===n&&this.parameterList===t&&this.equalsGreaterThanToken===r&&this.type===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create=function(n,t,r){return new i(null,n,t,r,!1)},i.create1=function(t){return new i(null,r.create1(),n.Syntax.token(86),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withTypeParameterList=function(n){return this.update(n,this.parameterList,this.equalsGreaterThanToken,this.type)},i.prototype.withParameterList=function(n){return this.update(this.typeParameterList,n,this.equalsGreaterThanToken,this.type)},i.prototype.withEqualsGreaterThanToken=function(n){return this.update(this.typeParameterList,this.parameterList,n,this.type)},i.prototype.withType=function(n){return this.update(this.typeParameterList,this.parameterList,this.equalsGreaterThanToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.FunctionTypeSyntax=pt;v=function(t){function i(n,i,r,u){t.call(this,u);this.openBraceToken=n;this.typeMembers=i;this.closeBraceToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitObjectType(this)},i.prototype.kind=function(){return 123},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.openBraceToken;case 1:return this.typeMembers;case 2:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isType=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.openBraceToken===n&&this.typeMembers===t&&this.closeBraceToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(n.Syntax.token(71),n.Syntax.emptySeparatedList,n.Syntax.token(72),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenBraceToken=function(n){return this.update(n,this.typeMembers,this.closeBraceToken)},i.prototype.withTypeMembers=function(n){return this.update(this.openBraceToken,n,this.closeBraceToken)},i.prototype.withTypeMember=function(t){return this.withTypeMembers(n.Syntax.separatedList([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.openBraceToken,this.typeMembers,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ObjectTypeSyntax=v;wt=function(t){function i(n,i,r,u){t.call(this,u);this.type=n;this.openBracketToken=i;this.closeBracketToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitArrayType(this)},i.prototype.kind=function(){return 125},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.type;case 1:return this.openBracketToken;case 2:return this.closeBracketToken;default:throw n.Errors.invalidOperation();}},i.prototype.isType=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.type===n&&this.openBracketToken===t&&this.closeBracketToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t){return new i(t,n.Syntax.token(75),n.Syntax.token(76),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withType=function(n){return this.update(n,this.openBracketToken,this.closeBracketToken)},i.prototype.withOpenBracketToken=function(n){return this.update(this.type,n,this.closeBracketToken)},i.prototype.withCloseBracketToken=function(n){return this.update(this.type,this.openBracketToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ArrayTypeSyntax=wt;bt=function(t){function i(n,i,r){t.call(this,r);this.name=n;this.typeArgumentList=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitGenericType(this)},i.prototype.kind=function(){return 127},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.name;case 1:return this.typeArgumentList;default:throw n.Errors.invalidOperation();}},i.prototype.isType=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t){return this.name===n&&this.typeArgumentList===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(n){return new i(n,a.create1(),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withName=function(n){return this.update(n,this.typeArgumentList)},i.prototype.withTypeArgumentList=function(n){return this.update(this.name,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.GenericTypeSyntax=bt;kt=function(t){function i(n,i,r){t.call(this,r);this.colonToken=n;this.type=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitTypeAnnotation(this)},i.prototype.kind=function(){return 244},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.colonToken;case 1:return this.type;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.colonToken===n&&this.type===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(107),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withColonToken=function(n){return this.update(n,this.type)},i.prototype.withType=function(n){return this.update(this.colonToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.TypeAnnotationSyntax=kt;t=function(t){function i(n,i,r,u){t.call(this,u);this.openBraceToken=n;this.statements=i;this.closeBraceToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitBlock(this)},i.prototype.kind=function(){return 145},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.openBraceToken;case 1:return this.statements;case 2:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.openBraceToken===n&&this.statements===t&&this.closeBraceToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptyList,r,!1)},i.create1=function(){return new i(n.Syntax.token(71),n.Syntax.emptyList,n.Syntax.token(72),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenBraceToken=function(n){return this.update(n,this.statements,this.closeBraceToken)},i.prototype.withStatements=function(n){return this.update(this.openBraceToken,n,this.closeBraceToken)},i.prototype.withStatement=function(t){return this.withStatements(n.Syntax.list([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.openBraceToken,this.statements,n)},i.prototype.isTypeScriptSpecific=function(){return this.statements.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.BlockSyntax=t;dt=function(t){function i(n,i,r,u,f,e,o){t.call(this,o);this.dotDotDotToken=n;this.publicOrPrivateKeyword=i;this.identifier=r;this.questionToken=u;this.typeAnnotation=f;this.equalsValueClause=e}return __extends(i,t),i.prototype.accept=function(n){return n.visitParameter(this)},i.prototype.kind=function(){return 242},i.prototype.childCount=function(){return 6},i.prototype.childAt=function(t){switch(t){case 0:return this.dotDotDotToken;case 1:return this.publicOrPrivateKeyword;case 2:return this.identifier;case 3:return this.questionToken;case 4:return this.typeAnnotation;case 5:return this.equalsValueClause;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r,u,f,e){return this.dotDotDotToken===n&&this.publicOrPrivateKeyword===t&&this.identifier===r&&this.questionToken===u&&this.typeAnnotation===f&&this.equalsValueClause===e?this:new i(n,t,r,u,f,e,this.parsedInStrictMode())},i.create=function(n){return new i(null,null,n,null,null,null,!1)},i.create1=function(n){return new i(null,null,n,null,null,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withDotDotDotToken=function(n){return this.update(n,this.publicOrPrivateKeyword,this.identifier,this.questionToken,this.typeAnnotation,this.equalsValueClause)},i.prototype.withPublicOrPrivateKeyword=function(n){return this.update(this.dotDotDotToken,n,this.identifier,this.questionToken,this.typeAnnotation,this.equalsValueClause)},i.prototype.withIdentifier=function(n){return this.update(this.dotDotDotToken,this.publicOrPrivateKeyword,n,this.questionToken,this.typeAnnotation,this.equalsValueClause)},i.prototype.withQuestionToken=function(n){return this.update(this.dotDotDotToken,this.publicOrPrivateKeyword,this.identifier,n,this.typeAnnotation,this.equalsValueClause)},i.prototype.withTypeAnnotation=function(n){return this.update(this.dotDotDotToken,this.publicOrPrivateKeyword,this.identifier,this.questionToken,n,this.equalsValueClause)},i.prototype.withEqualsValueClause=function(n){return this.update(this.dotDotDotToken,this.publicOrPrivateKeyword,this.identifier,this.questionToken,this.typeAnnotation,n)},i.prototype.isTypeScriptSpecific=function(){return this.dotDotDotToken!==null?!0:this.publicOrPrivateKeyword!==null?!0:this.questionToken!==null?!0:this.typeAnnotation!==null?!0:this.equalsValueClause!==null?!0:!1},i}(n.SyntaxNode);n.ParameterSyntax=dt;gt=function(t){function i(n,i,r,u){t.call(this,u);this.expression=n;this.dotToken=i;this.name=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitMemberAccessExpression(this)},i.prototype.kind=function(){return 211},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.expression;case 1:return this.dotToken;case 2:return this.name;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.expression===n&&this.dotToken===t&&this.name===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t,r){return new i(t,n.Syntax.token(77),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withExpression=function(n){return this.update(n,this.dotToken,this.name)},i.prototype.withDotToken=function(n){return this.update(this.expression,n,this.name)},i.prototype.withName=function(n){return this.update(this.expression,this.dotToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.MemberAccessExpressionSyntax=gt;ni=function(t){function i(n,i,r,u){t.call(this,u);this.operand=i;this.operatorToken=r;this._kind=n}return __extends(i,t),i.prototype.accept=function(n){return n.visitPostfixUnaryExpression(this)},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.operand;case 1:return this.operatorToken;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.kind=function(){return this._kind},i.prototype.update=function(n,t,r){return this._kind===n&&this.operand===t&&this.operatorToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withKind=function(n){return this.update(n,this.operand,this.operatorToken)},i.prototype.withOperand=function(n){return this.update(this._kind,n,this.operatorToken)},i.prototype.withOperatorToken=function(n){return this.update(this._kind,this.operand,n)},i.prototype.isTypeScriptSpecific=function(){return this.operand.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.PostfixUnaryExpressionSyntax=ni;ti=function(t){function i(n,i,r,u,f){t.call(this,f);this.expression=n;this.openBracketToken=i;this.argumentExpression=r;this.closeBracketToken=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitElementAccessExpression(this)},i.prototype.kind=function(){return 220},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.expression;case 1:return this.openBracketToken;case 2:return this.argumentExpression;case 3:return this.closeBracketToken;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r,u){return this.expression===n&&this.openBracketToken===t&&this.argumentExpression===r&&this.closeBracketToken===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create1=function(t,r){return new i(t,n.Syntax.token(75),r,n.Syntax.token(76),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withExpression=function(n){return this.update(n,this.openBracketToken,this.argumentExpression,this.closeBracketToken)},i.prototype.withOpenBracketToken=function(n){return this.update(this.expression,n,this.argumentExpression,this.closeBracketToken)},i.prototype.withArgumentExpression=function(n){return this.update(this.expression,this.openBracketToken,n,this.closeBracketToken)},i.prototype.withCloseBracketToken=function(n){return this.update(this.expression,this.openBracketToken,this.argumentExpression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:this.argumentExpression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ElementAccessExpressionSyntax=ti;ii=function(t){function i(n,i,r){t.call(this,r);this.expression=n;this.argumentList=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitInvocationExpression(this)},i.prototype.kind=function(){return 212},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.expression;case 1:return this.argumentList;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t){return this.expression===n&&this.argumentList===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(n){return new i(n,y.create1(),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withExpression=function(n){return this.update(n,this.argumentList)},i.prototype.withArgumentList=function(n){return this.update(this.expression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:this.argumentList.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.InvocationExpressionSyntax=ii;y=function(t){function i(n,i,r,u,f){t.call(this,f);this.typeArgumentList=n;this.openParenToken=i;this.arguments=r;this.closeParenToken=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitArgumentList(this)},i.prototype.kind=function(){return 225},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.typeArgumentList;case 1:return this.openParenToken;case 2:return this.arguments;case 3:return this.closeParenToken;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r,u){return this.typeArgumentList===n&&this.openParenToken===t&&this.arguments===r&&this.closeParenToken===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create=function(t,r){return new i(null,t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(null,n.Syntax.token(73),n.Syntax.emptySeparatedList,n.Syntax.token(74),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withTypeArgumentList=function(n){return this.update(n,this.openParenToken,this.arguments,this.closeParenToken)},i.prototype.withOpenParenToken=function(n){return this.update(this.typeArgumentList,n,this.arguments,this.closeParenToken)},i.prototype.withArguments=function(n){return this.update(this.typeArgumentList,this.openParenToken,n,this.closeParenToken)},i.prototype.withArgument=function(t){return this.withArguments(n.Syntax.separatedList([t]))},i.prototype.withCloseParenToken=function(n){return this.update(this.typeArgumentList,this.openParenToken,this.arguments,n)},i.prototype.isTypeScriptSpecific=function(){return this.typeArgumentList!==null&&this.typeArgumentList.isTypeScriptSpecific()?!0:this.arguments.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ArgumentListSyntax=y;ri=function(t){function i(n,i,r,u,f){t.call(this,f);this.left=i;this.operatorToken=r;this.right=u;this._kind=n}return __extends(i,t),i.prototype.accept=function(n){return n.visitBinaryExpression(this)},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.left;case 1:return this.operatorToken;case 2:return this.right;default:throw n.Errors.invalidOperation();}},i.prototype.isExpression=function(){return!0},i.prototype.kind=function(){return this._kind},i.prototype.update=function(n,t,r,u){return this._kind===n&&this.left===t&&this.operatorToken===r&&this.right===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withKind=function(n){return this.update(n,this.left,this.operatorToken,this.right)},i.prototype.withLeft=function(n){return this.update(this._kind,n,this.operatorToken,this.right)},i.prototype.withOperatorToken=function(n){return this.update(this._kind,this.left,n,this.right)},i.prototype.withRight=function(n){return this.update(this._kind,this.left,this.operatorToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.left.isTypeScriptSpecific()?!0:this.right.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.BinaryExpressionSyntax=ri;ui=function(t){function i(n,i,r,u,f,e){t.call(this,e);this.condition=n;this.questionToken=i;this.whenTrue=r;this.colonToken=u;this.whenFalse=f}return __extends(i,t),i.prototype.accept=function(n){return n.visitConditionalExpression(this)},i.prototype.kind=function(){return 185},i.prototype.childCount=function(){return 5},i.prototype.childAt=function(t){switch(t){case 0:return this.condition;case 1:return this.questionToken;case 2:return this.whenTrue;case 3:return this.colonToken;case 4:return this.whenFalse;default:throw n.Errors.invalidOperation();}},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r,u,f){return this.condition===n&&this.questionToken===t&&this.whenTrue===r&&this.colonToken===u&&this.whenFalse===f?this:new i(n,t,r,u,f,this.parsedInStrictMode())},i.create1=function(t,r,u){return new i(t,n.Syntax.token(106),r,n.Syntax.token(107),u,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withCondition=function(n){return this.update(n,this.questionToken,this.whenTrue,this.colonToken,this.whenFalse)},i.prototype.withQuestionToken=function(n){return this.update(this.condition,n,this.whenTrue,this.colonToken,this.whenFalse)},i.prototype.withWhenTrue=function(n){return this.update(this.condition,this.questionToken,n,this.colonToken,this.whenFalse)},i.prototype.withColonToken=function(n){return this.update(this.condition,this.questionToken,this.whenTrue,n,this.whenFalse)},i.prototype.withWhenFalse=function(n){return this.update(this.condition,this.questionToken,this.whenTrue,this.colonToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.condition.isTypeScriptSpecific()?!0:this.whenTrue.isTypeScriptSpecific()?!0:this.whenFalse.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ConditionalExpressionSyntax=ui;fi=function(t){function r(n,i,r){t.call(this,r);this.newKeyword=n;this.callSignature=i}return __extends(r,t),r.prototype.accept=function(n){return n.visitConstructSignature(this)},r.prototype.kind=function(){return 142},r.prototype.childCount=function(){return 2},r.prototype.childAt=function(t){switch(t){case 0:return this.newKeyword;case 1:return this.callSignature;default:throw n.Errors.invalidOperation();}},r.prototype.isTypeMember=function(){return!0},r.prototype.update=function(n,t){return this.newKeyword===n&&this.callSignature===t?this:new r(n,t,this.parsedInStrictMode())},r.create1=function(){return new r(n.Syntax.token(31),i.create1(),!1)},r.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},r.prototype.withNewKeyword=function(n){return this.update(n,this.callSignature)},r.prototype.withCallSignature=function(n){return this.update(this.newKeyword,n)},r.prototype.isTypeScriptSpecific=function(){return!0},r}(n.SyntaxNode);n.ConstructSignatureSyntax=fi;ei=function(t){function r(n,i,r,u){t.call(this,u);this.propertyName=n;this.questionToken=i;this.callSignature=r}return __extends(r,t),r.prototype.accept=function(n){return n.visitMethodSignature(this)},r.prototype.kind=function(){return 144},r.prototype.childCount=function(){return 3},r.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.questionToken;case 2:return this.callSignature;default:throw n.Errors.invalidOperation();}},r.prototype.isTypeMember=function(){return!0},r.prototype.update=function(n,t,i){return this.propertyName===n&&this.questionToken===t&&this.callSignature===i?this:new r(n,t,i,this.parsedInStrictMode())},r.create=function(n,t){return new r(n,null,t,!1)},r.create1=function(n){return new r(n,null,i.create1(),!1)},r.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},r.prototype.withPropertyName=function(n){return this.update(n,this.questionToken,this.callSignature)},r.prototype.withQuestionToken=function(n){return this.update(this.propertyName,n,this.callSignature)},r.prototype.withCallSignature=function(n){return this.update(this.propertyName,this.questionToken,n)},r.prototype.isTypeScriptSpecific=function(){return this.callSignature.isTypeScriptSpecific()?!0:!1},r}(n.SyntaxNode);n.MethodSignatureSyntax=ei;oi=function(t){function i(n,i,r,u,f){t.call(this,f);this.openBracketToken=n;this.parameter=i;this.closeBracketToken=r;this.typeAnnotation=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitIndexSignature(this)},i.prototype.kind=function(){return 143},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.openBracketToken;case 1:return this.parameter;case 2:return this.closeBracketToken;case 3:return this.typeAnnotation;default:throw n.Errors.invalidOperation();}},i.prototype.isTypeMember=function(){return!0},i.prototype.isClassElement=function(){return!0},i.prototype.update=function(n,t,r,u){return this.openBracketToken===n&&this.parameter===t&&this.closeBracketToken===r&&this.typeAnnotation===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create=function(n,t,r){return new i(n,t,r,null,!1)},i.create1=function(t){return new i(n.Syntax.token(75),t,n.Syntax.token(76),null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenBracketToken=function(n){return this.update(n,this.parameter,this.closeBracketToken,this.typeAnnotation)},i.prototype.withParameter=function(n){return this.update(this.openBracketToken,n,this.closeBracketToken,this.typeAnnotation)},i.prototype.withCloseBracketToken=function(n){return this.update(this.openBracketToken,this.parameter,n,this.typeAnnotation)},i.prototype.withTypeAnnotation=function(n){return this.update(this.openBracketToken,this.parameter,this.closeBracketToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.IndexSignatureSyntax=oi;si=function(t){function i(n,i,r,u){t.call(this,u);this.propertyName=n;this.questionToken=i;this.typeAnnotation=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitPropertySignature(this)},i.prototype.kind=function(){return 140},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.questionToken;case 2:return this.typeAnnotation;default:throw n.Errors.invalidOperation();}},i.prototype.isTypeMember=function(){return!0},i.prototype.update=function(n,t,r){return this.propertyName===n&&this.questionToken===t&&this.typeAnnotation===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n){return new i(n,null,null,!1)},i.create1=function(n){return new i(n,null,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withPropertyName=function(n){return this.update(n,this.questionToken,this.typeAnnotation)},i.prototype.withQuestionToken=function(n){return this.update(this.propertyName,n,this.typeAnnotation)},i.prototype.withTypeAnnotation=function(n){return this.update(this.propertyName,this.questionToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.PropertySignatureSyntax=si;i=function(t){function i(n,i,r,u){t.call(this,u);this.typeParameterList=n;this.parameterList=i;this.typeAnnotation=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitCallSignature(this)},i.prototype.kind=function(){return 141},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.typeParameterList;case 1:return this.parameterList;case 2:return this.typeAnnotation;default:throw n.Errors.invalidOperation();}},i.prototype.isTypeMember=function(){return!0},i.prototype.update=function(n,t,r){return this.typeParameterList===n&&this.parameterList===t&&this.typeAnnotation===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n){return new i(null,n,null,!1)},i.create1=function(){return new i(null,r.create1(),null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withTypeParameterList=function(n){return this.update(n,this.parameterList,this.typeAnnotation)},i.prototype.withParameterList=function(n){return this.update(this.typeParameterList,n,this.typeAnnotation)},i.prototype.withTypeAnnotation=function(n){return this.update(this.typeParameterList,this.parameterList,n)},i.prototype.isTypeScriptSpecific=function(){return this.typeParameterList!==null?!0:this.parameterList.isTypeScriptSpecific()?!0:this.typeAnnotation!==null?!0:!1},i}(n.SyntaxNode);n.CallSignatureSyntax=i;r=function(t){function i(n,i,r,u){t.call(this,u);this.openParenToken=n;this.parameters=i;this.closeParenToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitParameterList(this)},i.prototype.kind=function(){return 226},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.openParenToken;case 1:return this.parameters;case 2:return this.closeParenToken;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r){return this.openParenToken===n&&this.parameters===t&&this.closeParenToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(n.Syntax.token(73),n.Syntax.emptySeparatedList,n.Syntax.token(74),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenParenToken=function(n){return this.update(n,this.parameters,this.closeParenToken)},i.prototype.withParameters=function(n){return this.update(this.openParenToken,n,this.closeParenToken)},i.prototype.withParameter=function(t){return this.withParameters(n.Syntax.separatedList([t]))},i.prototype.withCloseParenToken=function(n){return this.update(this.openParenToken,this.parameters,n)},i.prototype.isTypeScriptSpecific=function(){return this.parameters.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ParameterListSyntax=r;hi=function(t){function i(n,i,r,u){t.call(this,u);this.lessThanToken=n;this.typeParameters=i;this.greaterThanToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitTypeParameterList(this)},i.prototype.kind=function(){return 228},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.lessThanToken;case 1:return this.typeParameters;case 2:return this.greaterThanToken;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r){return this.lessThanToken===n&&this.typeParameters===t&&this.greaterThanToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(n.Syntax.token(81),n.Syntax.emptySeparatedList,n.Syntax.token(82),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withLessThanToken=function(n){return this.update(n,this.typeParameters,this.greaterThanToken)},i.prototype.withTypeParameters=function(n){return this.update(this.lessThanToken,n,this.greaterThanToken)},i.prototype.withTypeParameter=function(t){return this.withTypeParameters(n.Syntax.separatedList([t]))},i.prototype.withGreaterThanToken=function(n){return this.update(this.lessThanToken,this.typeParameters,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.TypeParameterListSyntax=hi;ci=function(t){function i(n,i,r){t.call(this,r);this.identifier=n;this.constraint=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitTypeParameter(this)},i.prototype.kind=function(){return 236},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.identifier;case 1:return this.constraint;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.identifier===n&&this.constraint===t?this:new i(n,t,this.parsedInStrictMode())},i.create=function(n){return new i(n,null,!1)},i.create1=function(n){return new i(n,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withIdentifier=function(n){return this.update(n,this.constraint)},i.prototype.withConstraint=function(n){return this.update(this.identifier,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.TypeParameterSyntax=ci;li=function(t){function i(n,i,r){t.call(this,r);this.extendsKeyword=n;this.type=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitConstraint(this)},i.prototype.kind=function(){return 237},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.extendsKeyword;case 1:return this.type;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.extendsKeyword===n&&this.type===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(48),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withExtendsKeyword=function(n){return this.update(n,this.type)},i.prototype.withType=function(n){return this.update(this.extendsKeyword,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ConstraintSyntax=li;ai=function(t){function i(n,i,r){t.call(this,r);this.elseKeyword=n;this.statement=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitElseClause(this)},i.prototype.kind=function(){return 233},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.elseKeyword;case 1:return this.statement;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.elseKeyword===n&&this.statement===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(23),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withElseKeyword=function(n){return this.update(n,this.statement)},i.prototype.withStatement=function(n){return this.update(this.elseKeyword,n)},i.prototype.isTypeScriptSpecific=function(){return this.statement.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ElseClauseSyntax=ai;vi=function(t){function i(n,i,r,u,f,e,o){t.call(this,o);this.ifKeyword=n;this.openParenToken=i;this.condition=r;this.closeParenToken=u;this.statement=f;this.elseClause=e}return __extends(i,t),i.prototype.accept=function(n){return n.visitIfStatement(this)},i.prototype.kind=function(){return 146},i.prototype.childCount=function(){return 6},i.prototype.childAt=function(t){switch(t){case 0:return this.ifKeyword;case 1:return this.openParenToken;case 2:return this.condition;case 3:return this.closeParenToken;case 4:return this.statement;case 5:return this.elseClause;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e){return this.ifKeyword===n&&this.openParenToken===t&&this.condition===r&&this.closeParenToken===u&&this.statement===f&&this.elseClause===e?this:new i(n,t,r,u,f,e,this.parsedInStrictMode())},i.create=function(n,t,r,u,f){return new i(n,t,r,u,f,null,!1)},i.create1=function(t,r){return new i(n.Syntax.token(28),n.Syntax.token(73),t,n.Syntax.token(74),r,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withIfKeyword=function(n){return this.update(n,this.openParenToken,this.condition,this.closeParenToken,this.statement,this.elseClause)},i.prototype.withOpenParenToken=function(n){return this.update(this.ifKeyword,n,this.condition,this.closeParenToken,this.statement,this.elseClause)},i.prototype.withCondition=function(n){return this.update(this.ifKeyword,this.openParenToken,n,this.closeParenToken,this.statement,this.elseClause)},i.prototype.withCloseParenToken=function(n){return this.update(this.ifKeyword,this.openParenToken,this.condition,n,this.statement,this.elseClause)},i.prototype.withStatement=function(n){return this.update(this.ifKeyword,this.openParenToken,this.condition,this.closeParenToken,n,this.elseClause)},i.prototype.withElseClause=function(n){return this.update(this.ifKeyword,this.openParenToken,this.condition,this.closeParenToken,this.statement,n)},i.prototype.isTypeScriptSpecific=function(){return this.condition.isTypeScriptSpecific()?!0:this.statement.isTypeScriptSpecific()?!0:this.elseClause!==null&&this.elseClause.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.IfStatementSyntax=vi;yi=function(t){function i(n,i,r){t.call(this,r);this.expression=n;this.semicolonToken=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitExpressionStatement(this)},i.prototype.kind=function(){return 148},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.expression;case 1:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t){return this.expression===n&&this.semicolonToken===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(t,n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withExpression=function(n){return this.update(n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.expression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ExpressionStatementSyntax=yi;pi=function(t){function i(n,i,r,u,f){t.call(this,f);this.constructorKeyword=n;this.parameterList=i;this.block=r;this.semicolonToken=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitConstructorDeclaration(this)},i.prototype.kind=function(){return 137},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.constructorKeyword;case 1:return this.parameterList;case 2:return this.block;case 3:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isClassElement=function(){return!0},i.prototype.update=function(n,t,r,u){return this.constructorKeyword===n&&this.parameterList===t&&this.block===r&&this.semicolonToken===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create=function(n,t){return new i(n,t,null,null,!1)},i.create1=function(){return new i(n.Syntax.token(63),r.create1(),null,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withConstructorKeyword=function(n){return this.update(n,this.parameterList,this.block,this.semicolonToken)},i.prototype.withParameterList=function(n){return this.update(this.constructorKeyword,n,this.block,this.semicolonToken)},i.prototype.withBlock=function(n){return this.update(this.constructorKeyword,this.parameterList,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.constructorKeyword,this.parameterList,this.block,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ConstructorDeclarationSyntax=pi;wi=function(t){function r(n,i,r,u,f,e){t.call(this,e);this.modifiers=n;this.propertyName=i;this.callSignature=r;this.block=u;this.semicolonToken=f}return __extends(r,t),r.prototype.accept=function(n){return n.visitMemberFunctionDeclaration(this)},r.prototype.kind=function(){return 135},r.prototype.childCount=function(){return 5},r.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.propertyName;case 2:return this.callSignature;case 3:return this.block;case 4:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},r.prototype.isMemberDeclaration=function(){return!0},r.prototype.isClassElement=function(){return!0},r.prototype.update=function(n,t,i,u,f){return this.modifiers===n&&this.propertyName===t&&this.callSignature===i&&this.block===u&&this.semicolonToken===f?this:new r(n,t,i,u,f,this.parsedInStrictMode())},r.create=function(t,i){return new r(n.Syntax.emptyList,t,i,null,null,!1)},r.create1=function(t){return new r(n.Syntax.emptyList,t,i.create1(),null,null,!1)},r.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},r.prototype.withModifiers=function(n){return this.update(n,this.propertyName,this.callSignature,this.block,this.semicolonToken)},r.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},r.prototype.withPropertyName=function(n){return this.update(this.modifiers,n,this.callSignature,this.block,this.semicolonToken)},r.prototype.withCallSignature=function(n){return this.update(this.modifiers,this.propertyName,n,this.block,this.semicolonToken)},r.prototype.withBlock=function(n){return this.update(this.modifiers,this.propertyName,this.callSignature,n,this.semicolonToken)},r.prototype.withSemicolonToken=function(n){return this.update(this.modifiers,this.propertyName,this.callSignature,this.block,n)},r.prototype.isTypeScriptSpecific=function(){return!0},r}(n.SyntaxNode);n.MemberFunctionDeclarationSyntax=wi;s=function(n){function t(t,i,r,u,f){n.call(this,f);this.modifiers=t;this.propertyName=i;this.parameterList=r;this.block=u}return __extends(t,n),t.prototype.isMemberDeclaration=function(){return!0},t.prototype.isClassElement=function(){return!0},t.prototype.withLeadingTrivia=function(t){return n.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return n.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!0},t}(n.SyntaxNode);n.MemberAccessorDeclarationSyntax=s;bi=function(i){function u(n,t,r,u,f,e,o){i.call(this,n,r,u,e,o);this.getKeyword=t;this.typeAnnotation=f}return __extends(u,i),u.prototype.accept=function(n){return n.visitGetMemberAccessorDeclaration(this)},u.prototype.kind=function(){return 138},u.prototype.childCount=function(){return 6},u.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.getKeyword;case 2:return this.propertyName;case 3:return this.parameterList;case 4:return this.typeAnnotation;case 5:return this.block;default:throw n.Errors.invalidOperation();}},u.prototype.update=function(n,t,i,r,f,e){return this.modifiers===n&&this.getKeyword===t&&this.propertyName===i&&this.parameterList===r&&this.typeAnnotation===f&&this.block===e?this:new u(n,t,i,r,f,e,this.parsedInStrictMode())},u.create=function(t,i,r,f){return new u(n.Syntax.emptyList,t,i,r,null,f,!1)},u.create1=function(i){return new u(n.Syntax.emptyList,n.Syntax.token(65),i,r.create1(),null,t.create1(),!1)},u.prototype.withLeadingTrivia=function(n){return i.prototype.withLeadingTrivia.call(this,n)},u.prototype.withTrailingTrivia=function(n){return i.prototype.withTrailingTrivia.call(this,n)},u.prototype.withModifiers=function(n){return this.update(n,this.getKeyword,this.propertyName,this.parameterList,this.typeAnnotation,this.block)},u.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},u.prototype.withGetKeyword=function(n){return this.update(this.modifiers,n,this.propertyName,this.parameterList,this.typeAnnotation,this.block)},u.prototype.withPropertyName=function(n){return this.update(this.modifiers,this.getKeyword,n,this.parameterList,this.typeAnnotation,this.block)},u.prototype.withParameterList=function(n){return this.update(this.modifiers,this.getKeyword,this.propertyName,n,this.typeAnnotation,this.block)},u.prototype.withTypeAnnotation=function(n){return this.update(this.modifiers,this.getKeyword,this.propertyName,this.parameterList,n,this.block)},u.prototype.withBlock=function(n){return this.update(this.modifiers,this.getKeyword,this.propertyName,this.parameterList,this.typeAnnotation,n)},u.prototype.isTypeScriptSpecific=function(){return!0},u}(s);n.GetMemberAccessorDeclarationSyntax=bi;ki=function(i){function u(n,t,r,u,f,e){i.call(this,n,r,u,f,e);this.setKeyword=t}return __extends(u,i),u.prototype.accept=function(n){return n.visitSetMemberAccessorDeclaration(this)},u.prototype.kind=function(){return 139},u.prototype.childCount=function(){return 5},u.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.setKeyword;case 2:return this.propertyName;case 3:return this.parameterList;case 4:return this.block;default:throw n.Errors.invalidOperation();}},u.prototype.update=function(n,t,i,r,f){return this.modifiers===n&&this.setKeyword===t&&this.propertyName===i&&this.parameterList===r&&this.block===f?this:new u(n,t,i,r,f,this.parsedInStrictMode())},u.create=function(t,i,r,f){return new u(n.Syntax.emptyList,t,i,r,f,!1)},u.create1=function(i){return new u(n.Syntax.emptyList,n.Syntax.token(69),i,r.create1(),t.create1(),!1)},u.prototype.withLeadingTrivia=function(n){return i.prototype.withLeadingTrivia.call(this,n)},u.prototype.withTrailingTrivia=function(n){return i.prototype.withTrailingTrivia.call(this,n)},u.prototype.withModifiers=function(n){return this.update(n,this.setKeyword,this.propertyName,this.parameterList,this.block)},u.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},u.prototype.withSetKeyword=function(n){return this.update(this.modifiers,n,this.propertyName,this.parameterList,this.block)},u.prototype.withPropertyName=function(n){return this.update(this.modifiers,this.setKeyword,n,this.parameterList,this.block)},u.prototype.withParameterList=function(n){return this.update(this.modifiers,this.setKeyword,this.propertyName,n,this.block)},u.prototype.withBlock=function(n){return this.update(this.modifiers,this.setKeyword,this.propertyName,this.parameterList,n)},u.prototype.isTypeScriptSpecific=function(){return!0},u}(s);n.SetMemberAccessorDeclarationSyntax=ki;di=function(t){function i(n,i,r,u){t.call(this,u);this.modifiers=n;this.variableDeclarator=i;this.semicolonToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitMemberVariableDeclaration(this)},i.prototype.kind=function(){return 136},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.variableDeclarator;case 2:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isMemberDeclaration=function(){return!0},i.prototype.isClassElement=function(){return!0},i.prototype.update=function(n,t,r){return this.modifiers===n&&this.variableDeclarator===t&&this.semicolonToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(n.Syntax.emptyList,t,r,!1)},i.create1=function(t){return new i(n.Syntax.emptyList,t,n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.variableDeclarator,this.semicolonToken)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withVariableDeclarator=function(n){return this.update(this.modifiers,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.modifiers,this.variableDeclarator,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.MemberVariableDeclarationSyntax=di;gi=function(t){function i(n,i,r,u){t.call(this,u);this.throwKeyword=n;this.expression=i;this.semicolonToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitThrowStatement(this)},i.prototype.kind=function(){return 156},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.throwKeyword;case 1:return this.expression;case 2:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.throwKeyword===n&&this.expression===t&&this.semicolonToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(36),t,n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withThrowKeyword=function(n){return this.update(n,this.expression,this.semicolonToken)},i.prototype.withExpression=function(n){return this.update(this.throwKeyword,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.throwKeyword,this.expression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ThrowStatementSyntax=gi;nr=function(t){function i(n,i,r,u){t.call(this,u);this.returnKeyword=n;this.expression=i;this.semicolonToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitReturnStatement(this)},i.prototype.kind=function(){return 149},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.returnKeyword;case 1:return this.expression;case 2:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.returnKeyword===n&&this.expression===t&&this.semicolonToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n,t){return new i(n,null,t,!1)},i.create1=function(){return new i(n.Syntax.token(33),null,n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withReturnKeyword=function(n){return this.update(n,this.expression,this.semicolonToken)},i.prototype.withExpression=function(n){return this.update(this.returnKeyword,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.returnKeyword,this.expression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression!==null&&this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ReturnStatementSyntax=nr;tr=function(t){function i(n,i,r,u){t.call(this,u);this.newKeyword=n;this.expression=i;this.argumentList=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitObjectCreationExpression(this)},i.prototype.kind=function(){return 215},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.newKeyword;case 1:return this.expression;case 2:return this.argumentList;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.newKeyword===n&&this.expression===t&&this.argumentList===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n,t){return new i(n,t,null,!1)},i.create1=function(t){return new i(n.Syntax.token(31),t,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withNewKeyword=function(n){return this.update(n,this.expression,this.argumentList)},i.prototype.withExpression=function(n){return this.update(this.newKeyword,n,this.argumentList)},i.prototype.withArgumentList=function(n){return this.update(this.newKeyword,this.expression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:this.argumentList!==null&&this.argumentList.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ObjectCreationExpressionSyntax=tr;ir=function(t){function i(n,i,r,u,f,e,o,s){t.call(this,s);this.switchKeyword=n;this.openParenToken=i;this.expression=r;this.closeParenToken=u;this.openBraceToken=f;this.switchClauses=e;this.closeBraceToken=o}return __extends(i,t),i.prototype.accept=function(n){return n.visitSwitchStatement(this)},i.prototype.kind=function(){return 150},i.prototype.childCount=function(){return 7},i.prototype.childAt=function(t){switch(t){case 0:return this.switchKeyword;case 1:return this.openParenToken;case 2:return this.expression;case 3:return this.closeParenToken;case 4:return this.openBraceToken;case 5:return this.switchClauses;case 6:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e,o){return this.switchKeyword===n&&this.openParenToken===t&&this.expression===r&&this.closeParenToken===u&&this.openBraceToken===f&&this.switchClauses===e&&this.closeBraceToken===o?this:new i(n,t,r,u,f,e,o,this.parsedInStrictMode())},i.create=function(t,r,u,f,e,o){return new i(t,r,u,f,e,n.Syntax.emptyList,o,!1)},i.create1=function(t){return new i(n.Syntax.token(34),n.Syntax.token(73),t,n.Syntax.token(74),n.Syntax.token(71),n.Syntax.emptyList,n.Syntax.token(72),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withSwitchKeyword=function(n){return this.update(n,this.openParenToken,this.expression,this.closeParenToken,this.openBraceToken,this.switchClauses,this.closeBraceToken)},i.prototype.withOpenParenToken=function(n){return this.update(this.switchKeyword,n,this.expression,this.closeParenToken,this.openBraceToken,this.switchClauses,this.closeBraceToken)},i.prototype.withExpression=function(n){return this.update(this.switchKeyword,this.openParenToken,n,this.closeParenToken,this.openBraceToken,this.switchClauses,this.closeBraceToken)},i.prototype.withCloseParenToken=function(n){return this.update(this.switchKeyword,this.openParenToken,this.expression,n,this.openBraceToken,this.switchClauses,this.closeBraceToken)},i.prototype.withOpenBraceToken=function(n){return this.update(this.switchKeyword,this.openParenToken,this.expression,this.closeParenToken,n,this.switchClauses,this.closeBraceToken)},i.prototype.withSwitchClauses=function(n){return this.update(this.switchKeyword,this.openParenToken,this.expression,this.closeParenToken,this.openBraceToken,n,this.closeBraceToken)},i.prototype.withSwitchClause=function(t){return this.withSwitchClauses(n.Syntax.list([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.switchKeyword,this.openParenToken,this.expression,this.closeParenToken,this.openBraceToken,this.switchClauses,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:this.switchClauses.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.SwitchStatementSyntax=ir;h=function(n){function t(t,i,r){n.call(this,r);this.colonToken=t;this.statements=i}return __extends(t,n),t.prototype.isSwitchClause=function(){return!0},t.prototype.withLeadingTrivia=function(t){return n.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return n.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!1},t}(n.SyntaxNode);n.SwitchClauseSyntax=h;rr=function(t){function i(n,i,r,u,f){t.call(this,r,u,f);this.caseKeyword=n;this.expression=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitCaseSwitchClause(this)},i.prototype.kind=function(){return 231},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.caseKeyword;case 1:return this.expression;case 2:return this.colonToken;case 3:return this.statements;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r,u){return this.caseKeyword===n&&this.expression===t&&this.colonToken===r&&this.statements===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create=function(t,r,u){return new i(t,r,u,n.Syntax.emptyList,!1)},i.create1=function(t){return new i(n.Syntax.token(16),t,n.Syntax.token(107),n.Syntax.emptyList,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withCaseKeyword=function(n){return this.update(n,this.expression,this.colonToken,this.statements)},i.prototype.withExpression=function(n){return this.update(this.caseKeyword,n,this.colonToken,this.statements)},i.prototype.withColonToken=function(n){return this.update(this.caseKeyword,this.expression,n,this.statements)},i.prototype.withStatements=function(n){return this.update(this.caseKeyword,this.expression,this.colonToken,n)},i.prototype.withStatement=function(t){return this.withStatements(n.Syntax.list([t]))},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:this.statements.isTypeScriptSpecific()?!0:!1},i}(h);n.CaseSwitchClauseSyntax=rr;ur=function(t){function i(n,i,r,u){t.call(this,i,r,u);this.defaultKeyword=n}return __extends(i,t),i.prototype.accept=function(n){return n.visitDefaultSwitchClause(this)},i.prototype.kind=function(){return 232},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.defaultKeyword;case 1:return this.colonToken;case 2:return this.statements;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r){return this.defaultKeyword===n&&this.colonToken===t&&this.statements===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,r,n.Syntax.emptyList,!1)},i.create1=function(){return new i(n.Syntax.token(20),n.Syntax.token(107),n.Syntax.emptyList,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withDefaultKeyword=function(n){return this.update(n,this.colonToken,this.statements)},i.prototype.withColonToken=function(n){return this.update(this.defaultKeyword,n,this.statements)},i.prototype.withStatements=function(n){return this.update(this.defaultKeyword,this.colonToken,n)},i.prototype.withStatement=function(t){return this.withStatements(n.Syntax.list([t]))},i.prototype.isTypeScriptSpecific=function(){return this.statements.isTypeScriptSpecific()?!0:!1},i}(h);n.DefaultSwitchClauseSyntax=ur;fr=function(t){function i(n,i,r,u){t.call(this,u);this.breakKeyword=n;this.identifier=i;this.semicolonToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitBreakStatement(this)},i.prototype.kind=function(){return 151},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.breakKeyword;case 1:return this.identifier;case 2:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.breakKeyword===n&&this.identifier===t&&this.semicolonToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n,t){return new i(n,null,t,!1)},i.create1=function(){return new i(n.Syntax.token(15),null,n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withBreakKeyword=function(n){return this.update(n,this.identifier,this.semicolonToken)},i.prototype.withIdentifier=function(n){return this.update(this.breakKeyword,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.breakKeyword,this.identifier,n)},i.prototype.isTypeScriptSpecific=function(){return!1},i}(n.SyntaxNode);n.BreakStatementSyntax=fr;er=function(t){function i(n,i,r,u){t.call(this,u);this.continueKeyword=n;this.identifier=i;this.semicolonToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitContinueStatement(this)},i.prototype.kind=function(){return 152},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.continueKeyword;case 1:return this.identifier;case 2:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.continueKeyword===n&&this.identifier===t&&this.semicolonToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n,t){return new i(n,null,t,!1)},i.create1=function(){return new i(n.Syntax.token(18),null,n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withContinueKeyword=function(n){return this.update(n,this.identifier,this.semicolonToken)},i.prototype.withIdentifier=function(n){return this.update(this.continueKeyword,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.continueKeyword,this.identifier,n)},i.prototype.isTypeScriptSpecific=function(){return!1},i}(n.SyntaxNode);n.ContinueStatementSyntax=er;u=function(n){function t(t,i,r,u){n.call(this,u);this.openParenToken=t;this.closeParenToken=i;this.statement=r}return __extends(t,n),t.prototype.isStatement=function(){return!0},t.prototype.isModuleElement=function(){return!0},t.prototype.withLeadingTrivia=function(t){return n.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return n.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!1},t}(n.SyntaxNode);n.IterationStatementSyntax=u;c=function(n){function t(t,i,r,u,f,e){n.call(this,i,u,f,e);this.forKeyword=t;this.variableDeclaration=r}return __extends(t,n),t.prototype.withLeadingTrivia=function(t){return n.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return n.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!1},t}(u);n.BaseForStatementSyntax=c;or=function(t){function i(n,i,r,u,f,e,o,s,h,c,l){t.call(this,n,i,r,h,c,l);this.initializer=u;this.firstSemicolonToken=f;this.condition=e;this.secondSemicolonToken=o;this.incrementor=s}return __extends(i,t),i.prototype.accept=function(n){return n.visitForStatement(this)},i.prototype.kind=function(){return 153},i.prototype.childCount=function(){return 10},i.prototype.childAt=function(t){switch(t){case 0:return this.forKeyword;case 1:return this.openParenToken;case 2:return this.variableDeclaration;case 3:return this.initializer;case 4:return this.firstSemicolonToken;case 5:return this.condition;case 6:return this.secondSemicolonToken;case 7:return this.incrementor;case 8:return this.closeParenToken;case 9:return this.statement;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r,u,f,e,o,s,h,c){return this.forKeyword===n&&this.openParenToken===t&&this.variableDeclaration===r&&this.initializer===u&&this.firstSemicolonToken===f&&this.condition===e&&this.secondSemicolonToken===o&&this.incrementor===s&&this.closeParenToken===h&&this.statement===c?this:new i(n,t,r,u,f,e,o,s,h,c,this.parsedInStrictMode())},i.create=function(n,t,r,u,f,e){return new i(n,t,null,null,r,null,u,null,f,e,!1)},i.create1=function(t){return new i(n.Syntax.token(26),n.Syntax.token(73),null,null,n.Syntax.token(79),null,n.Syntax.token(79),null,n.Syntax.token(74),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withForKeyword=function(n){return this.update(n,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withOpenParenToken=function(n){return this.update(this.forKeyword,n,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withVariableDeclaration=function(n){return this.update(this.forKeyword,this.openParenToken,n,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withInitializer=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,n,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withFirstSemicolonToken=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,n,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withCondition=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,n,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withSecondSemicolonToken=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,n,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withIncrementor=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,n,this.closeParenToken,this.statement)},i.prototype.withCloseParenToken=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,n,this.statement)},i.prototype.withStatement=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.variableDeclaration!==null&&this.variableDeclaration.isTypeScriptSpecific()?!0:this.initializer!==null&&this.initializer.isTypeScriptSpecific()?!0:this.condition!==null&&this.condition.isTypeScriptSpecific()?!0:this.incrementor!==null&&this.incrementor.isTypeScriptSpecific()?!0:this.statement.isTypeScriptSpecific()?!0:!1},i}(c);n.ForStatementSyntax=or;sr=function(t){function i(n,i,r,u,f,e,o,s,h){t.call(this,n,i,r,o,s,h);this.left=u;this.inKeyword=f;this.expression=e}return __extends(i,t),i.prototype.accept=function(n){return n.visitForInStatement(this)},i.prototype.kind=function(){return 154},i.prototype.childCount=function(){return 8},i.prototype.childAt=function(t){switch(t){case 0:return this.forKeyword;case 1:return this.openParenToken;case 2:return this.variableDeclaration;case 3:return this.left;case 4:return this.inKeyword;case 5:return this.expression;case 6:return this.closeParenToken;case 7:return this.statement;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r,u,f,e,o,s){return this.forKeyword===n&&this.openParenToken===t&&this.variableDeclaration===r&&this.left===u&&this.inKeyword===f&&this.expression===e&&this.closeParenToken===o&&this.statement===s?this:new i(n,t,r,u,f,e,o,s,this.parsedInStrictMode())},i.create=function(n,t,r,u,f,e){return new i(n,t,null,null,r,u,f,e,!1)},i.create1=function(t,r){return new i(n.Syntax.token(26),n.Syntax.token(73),null,null,n.Syntax.token(29),t,n.Syntax.token(74),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withForKeyword=function(n){return this.update(n,this.openParenToken,this.variableDeclaration,this.left,this.inKeyword,this.expression,this.closeParenToken,this.statement)},i.prototype.withOpenParenToken=function(n){return this.update(this.forKeyword,n,this.variableDeclaration,this.left,this.inKeyword,this.expression,this.closeParenToken,this.statement)},i.prototype.withVariableDeclaration=function(n){return this.update(this.forKeyword,this.openParenToken,n,this.left,this.inKeyword,this.expression,this.closeParenToken,this.statement)},i.prototype.withLeft=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,n,this.inKeyword,this.expression,this.closeParenToken,this.statement)},i.prototype.withInKeyword=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.left,n,this.expression,this.closeParenToken,this.statement)},i.prototype.withExpression=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.left,this.inKeyword,n,this.closeParenToken,this.statement)},i.prototype.withCloseParenToken=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.left,this.inKeyword,this.expression,n,this.statement)},i.prototype.withStatement=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.left,this.inKeyword,this.expression,this.closeParenToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.variableDeclaration!==null&&this.variableDeclaration.isTypeScriptSpecific()?!0:this.left!==null&&this.left.isTypeScriptSpecific()?!0:this.expression.isTypeScriptSpecific()?!0:this.statement.isTypeScriptSpecific()?!0:!1},i}(c);n.ForInStatementSyntax=sr;hr=function(t){function i(n,i,r,u,f,e){t.call(this,i,u,f,e);this.whileKeyword=n;this.condition=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitWhileStatement(this)},i.prototype.kind=function(){return 157},i.prototype.childCount=function(){return 5},i.prototype.childAt=function(t){switch(t){case 0:return this.whileKeyword;case 1:return this.openParenToken;case 2:return this.condition;case 3:return this.closeParenToken;case 4:return this.statement;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r,u,f){return this.whileKeyword===n&&this.openParenToken===t&&this.condition===r&&this.closeParenToken===u&&this.statement===f?this:new i(n,t,r,u,f,this.parsedInStrictMode())},i.create1=function(t,r){return new i(n.Syntax.token(42),n.Syntax.token(73),t,n.Syntax.token(74),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withWhileKeyword=function(n){return this.update(n,this.openParenToken,this.condition,this.closeParenToken,this.statement)},i.prototype.withOpenParenToken=function(n){return this.update(this.whileKeyword,n,this.condition,this.closeParenToken,this.statement)},i.prototype.withCondition=function(n){return this.update(this.whileKeyword,this.openParenToken,n,this.closeParenToken,this.statement)},i.prototype.withCloseParenToken=function(n){return this.update(this.whileKeyword,this.openParenToken,this.condition,n,this.statement)},i.prototype.withStatement=function(n){return this.update(this.whileKeyword,this.openParenToken,this.condition,this.closeParenToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.condition.isTypeScriptSpecific()?!0:this.statement.isTypeScriptSpecific()?!0:!1},i}(u);n.WhileStatementSyntax=hr;cr=function(t){function i(n,i,r,u,f,e){t.call(this,e);this.withKeyword=n;this.openParenToken=i;this.condition=r;this.closeParenToken=u;this.statement=f}return __extends(i,t),i.prototype.accept=function(n){return n.visitWithStatement(this)},i.prototype.kind=function(){return 162},i.prototype.childCount=function(){return 5},i.prototype.childAt=function(t){switch(t){case 0:return this.withKeyword;case 1:return this.openParenToken;case 2:return this.condition;case 3:return this.closeParenToken;case 4:return this.statement;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f){return this.withKeyword===n&&this.openParenToken===t&&this.condition===r&&this.closeParenToken===u&&this.statement===f?this:new i(n,t,r,u,f,this.parsedInStrictMode())},i.create1=function(t,r){return new i(n.Syntax.token(43),n.Syntax.token(73),t,n.Syntax.token(74),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withWithKeyword=function(n){return this.update(n,this.openParenToken,this.condition,this.closeParenToken,this.statement)},i.prototype.withOpenParenToken=function(n){return this.update(this.withKeyword,n,this.condition,this.closeParenToken,this.statement)},i.prototype.withCondition=function(n){return this.update(this.withKeyword,this.openParenToken,n,this.closeParenToken,this.statement)},i.prototype.withCloseParenToken=function(n){return this.update(this.withKeyword,this.openParenToken,this.condition,n,this.statement)},i.prototype.withStatement=function(n){return this.update(this.withKeyword,this.openParenToken,this.condition,this.closeParenToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.condition.isTypeScriptSpecific()?!0:this.statement.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.WithStatementSyntax=cr;lr=function(t){function i(n,i,r,u,f,e,o){t.call(this,o);this.modifiers=n;this.enumKeyword=i;this.identifier=r;this.openBraceToken=u;this.enumElements=f;this.closeBraceToken=e}return __extends(i,t),i.prototype.accept=function(n){return n.visitEnumDeclaration(this)},i.prototype.kind=function(){return 132},i.prototype.childCount=function(){return 6},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.enumKeyword;case 2:return this.identifier;case 3:return this.openBraceToken;case 4:return this.enumElements;case 5:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e){return this.modifiers===n&&this.enumKeyword===t&&this.identifier===r&&this.openBraceToken===u&&this.enumElements===f&&this.closeBraceToken===e?this:new i(n,t,r,u,f,e,this.parsedInStrictMode())},i.create=function(t,r,u,f){return new i(n.Syntax.emptyList,t,r,u,n.Syntax.emptySeparatedList,f,!1)},i.create1=function(t){return new i(n.Syntax.emptyList,n.Syntax.token(46),t,n.Syntax.token(71),n.Syntax.emptySeparatedList,n.Syntax.token(72),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.enumKeyword,this.identifier,this.openBraceToken,this.enumElements,this.closeBraceToken)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withEnumKeyword=function(n){return this.update(this.modifiers,n,this.identifier,this.openBraceToken,this.enumElements,this.closeBraceToken)},i.prototype.withIdentifier=function(n){return this.update(this.modifiers,this.enumKeyword,n,this.openBraceToken,this.enumElements,this.closeBraceToken)},i.prototype.withOpenBraceToken=function(n){return this.update(this.modifiers,this.enumKeyword,this.identifier,n,this.enumElements,this.closeBraceToken)},i.prototype.withEnumElements=function(n){return this.update(this.modifiers,this.enumKeyword,this.identifier,this.openBraceToken,n,this.closeBraceToken)},i.prototype.withEnumElement=function(t){return this.withEnumElements(n.Syntax.separatedList([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.modifiers,this.enumKeyword,this.identifier,this.openBraceToken,this.enumElements,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.EnumDeclarationSyntax=lr;ar=function(t){function i(n,i,r){t.call(this,r);this.propertyName=n;this.equalsValueClause=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitEnumElement(this)},i.prototype.kind=function(){return 243},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.equalsValueClause;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.propertyName===n&&this.equalsValueClause===t?this:new i(n,t,this.parsedInStrictMode())},i.create=function(n){return new i(n,null,!1)},i.create1=function(n){return new i(n,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withPropertyName=function(n){return this.update(n,this.equalsValueClause)},i.prototype.withEqualsValueClause=function(n){return this.update(this.propertyName,n)},i.prototype.isTypeScriptSpecific=function(){return this.equalsValueClause!==null&&this.equalsValueClause.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.EnumElementSyntax=ar;vr=function(t){function i(n,i,r,u,f){t.call(this,f);this.lessThanToken=n;this.type=i;this.greaterThanToken=r;this.expression=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitCastExpression(this)},i.prototype.kind=function(){return 219},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.lessThanToken;case 1:return this.type;case 2:return this.greaterThanToken;case 3:return this.expression;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r,u){return this.lessThanToken===n&&this.type===t&&this.greaterThanToken===r&&this.expression===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create1=function(t,r){return new i(n.Syntax.token(81),t,n.Syntax.token(82),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withLessThanToken=function(n){return this.update(n,this.type,this.greaterThanToken,this.expression)},i.prototype.withType=function(n){return this.update(this.lessThanToken,n,this.greaterThanToken,this.expression)},i.prototype.withGreaterThanToken=function(n){return this.update(this.lessThanToken,this.type,n,this.expression)},i.prototype.withExpression=function(n){return this.update(this.lessThanToken,this.type,this.greaterThanToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.CastExpressionSyntax=vr;yr=function(t){function i(n,i,r,u){t.call(this,u);this.openBraceToken=n;this.propertyAssignments=i;this.closeBraceToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitObjectLiteralExpression(this)},i.prototype.kind=function(){return 214},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.openBraceToken;case 1:return this.propertyAssignments;case 2:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.openBraceToken===n&&this.propertyAssignments===t&&this.closeBraceToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(n.Syntax.token(71),n.Syntax.emptySeparatedList,n.Syntax.token(72),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenBraceToken=function(n){return this.update(n,this.propertyAssignments,this.closeBraceToken)},i.prototype.withPropertyAssignments=function(n){return this.update(this.openBraceToken,n,this.closeBraceToken)},i.prototype.withPropertyAssignment=function(t){return this.withPropertyAssignments(n.Syntax.separatedList([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.openBraceToken,this.propertyAssignments,n)},i.prototype.isTypeScriptSpecific=function(){return this.propertyAssignments.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ObjectLiteralExpressionSyntax=yr;f=function(n){function t(t,i){n.call(this,i);this.propertyName=t}return __extends(t,n),t.prototype.withLeadingTrivia=function(t){return n.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return n.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!1},t}(n.SyntaxNode);n.PropertyAssignmentSyntax=f;pr=function(t){function i(n,i,r,u){t.call(this,n,u);this.colonToken=i;this.expression=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitSimplePropertyAssignment(this)},i.prototype.kind=function(){return 238},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.colonToken;case 2:return this.expression;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r){return this.propertyName===n&&this.colonToken===t&&this.expression===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t,r){return new i(t,n.Syntax.token(107),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withPropertyName=function(n){return this.update(n,this.colonToken,this.expression)},i.prototype.withColonToken=function(n){return this.update(this.propertyName,n,this.expression)},i.prototype.withExpression=function(n){return this.update(this.propertyName,this.colonToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(f);n.SimplePropertyAssignmentSyntax=pr;wr=function(r){function u(n,t,i,u){r.call(this,n,u);this.callSignature=t;this.block=i}return __extends(u,r),u.prototype.accept=function(n){return n.visitFunctionPropertyAssignment(this)},u.prototype.kind=function(){return 241},u.prototype.childCount=function(){return 3},u.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.callSignature;case 2:return this.block;default:throw n.Errors.invalidOperation();}},u.prototype.update=function(n,t,i){return this.propertyName===n&&this.callSignature===t&&this.block===i?this:new u(n,t,i,this.parsedInStrictMode())},u.create1=function(n){return new u(n,i.create1(),t.create1(),!1)},u.prototype.withLeadingTrivia=function(n){return r.prototype.withLeadingTrivia.call(this,n)},u.prototype.withTrailingTrivia=function(n){return r.prototype.withTrailingTrivia.call(this,n)},u.prototype.withPropertyName=function(n){return this.update(n,this.callSignature,this.block)},u.prototype.withCallSignature=function(n){return this.update(this.propertyName,n,this.block)},u.prototype.withBlock=function(n){return this.update(this.propertyName,this.callSignature,n)},u.prototype.isTypeScriptSpecific=function(){return this.callSignature.isTypeScriptSpecific()?!0:this.block.isTypeScriptSpecific()?!0:!1},u}(f);n.FunctionPropertyAssignmentSyntax=wr;l=function(n){function t(t,i,r,u,f){n.call(this,t,f);this.openParenToken=i;this.closeParenToken=r;this.block=u}return __extends(t,n),t.prototype.withLeadingTrivia=function(t){return n.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return n.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!1},t}(f);n.AccessorPropertyAssignmentSyntax=l;br=function(i){function r(n,t,r,u,f,e,o){i.call(this,t,r,u,e,o);this.getKeyword=n;this.typeAnnotation=f}return __extends(r,i),r.prototype.accept=function(n){return n.visitGetAccessorPropertyAssignment(this)},r.prototype.kind=function(){return 239},r.prototype.childCount=function(){return 6},r.prototype.childAt=function(t){switch(t){case 0:return this.getKeyword;case 1:return this.propertyName;case 2:return this.openParenToken;case 3:return this.closeParenToken;case 4:return this.typeAnnotation;case 5:return this.block;default:throw n.Errors.invalidOperation();}},r.prototype.update=function(n,t,i,u,f,e){return this.getKeyword===n&&this.propertyName===t&&this.openParenToken===i&&this.closeParenToken===u&&this.typeAnnotation===f&&this.block===e?this:new r(n,t,i,u,f,e,this.parsedInStrictMode())},r.create=function(n,t,i,u,f){return new r(n,t,i,u,null,f,!1)},r.create1=function(i){return new r(n.Syntax.token(65),i,n.Syntax.token(73),n.Syntax.token(74),null,t.create1(),!1)},r.prototype.withLeadingTrivia=function(n){return i.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return i.prototype.withTrailingTrivia.call(this,n)},r.prototype.withGetKeyword=function(n){return this.update(n,this.propertyName,this.openParenToken,this.closeParenToken,this.typeAnnotation,this.block)},r.prototype.withPropertyName=function(n){return this.update(this.getKeyword,n,this.openParenToken,this.closeParenToken,this.typeAnnotation,this.block)},r.prototype.withOpenParenToken=function(n){return this.update(this.getKeyword,this.propertyName,n,this.closeParenToken,this.typeAnnotation,this.block)},r.prototype.withCloseParenToken=function(n){return this.update(this.getKeyword,this.propertyName,this.openParenToken,n,this.typeAnnotation,this.block)},r.prototype.withTypeAnnotation=function(n){return this.update(this.getKeyword,this.propertyName,this.openParenToken,this.closeParenToken,n,this.block)},r.prototype.withBlock=function(n){return this.update(this.getKeyword,this.propertyName,this.openParenToken,this.closeParenToken,this.typeAnnotation,n)},r.prototype.isTypeScriptSpecific=function(){return this.typeAnnotation!==null&&this.typeAnnotation.isTypeScriptSpecific()?!0:this.block.isTypeScriptSpecific()?!0:!1},r}(l);n.GetAccessorPropertyAssignmentSyntax=br;kr=function(i){function r(n,t,r,u,f,e,o){i.call(this,t,r,f,e,o);this.setKeyword=n;this.parameter=u}return __extends(r,i),r.prototype.accept=function(n){return n.visitSetAccessorPropertyAssignment(this)},r.prototype.kind=function(){return 240},r.prototype.childCount=function(){return 6},r.prototype.childAt=function(t){switch(t){case 0:return this.setKeyword;case 1:return this.propertyName;case 2:return this.openParenToken;case 3:return this.parameter;case 4:return this.closeParenToken;case 5:return this.block;default:throw n.Errors.invalidOperation();}},r.prototype.update=function(n,t,i,u,f,e){return this.setKeyword===n&&this.propertyName===t&&this.openParenToken===i&&this.parameter===u&&this.closeParenToken===f&&this.block===e?this:new r(n,t,i,u,f,e,this.parsedInStrictMode())},r.create1=function(i,u){return new r(n.Syntax.token(69),i,n.Syntax.token(73),u,n.Syntax.token(74),t.create1(),!1)},r.prototype.withLeadingTrivia=function(n){return i.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return i.prototype.withTrailingTrivia.call(this,n)},r.prototype.withSetKeyword=function(n){return this.update(n,this.propertyName,this.openParenToken,this.parameter,this.closeParenToken,this.block)},r.prototype.withPropertyName=function(n){return this.update(this.setKeyword,n,this.openParenToken,this.parameter,this.closeParenToken,this.block)},r.prototype.withOpenParenToken=function(n){return this.update(this.setKeyword,this.propertyName,n,this.parameter,this.closeParenToken,this.block)},r.prototype.withParameter=function(n){return this.update(this.setKeyword,this.propertyName,this.openParenToken,n,this.closeParenToken,this.block)},r.prototype.withCloseParenToken=function(n){return this.update(this.setKeyword,this.propertyName,this.openParenToken,this.parameter,n,this.block)},r.prototype.withBlock=function(n){return this.update(this.setKeyword,this.propertyName,this.openParenToken,this.parameter,this.closeParenToken,n)},r.prototype.isTypeScriptSpecific=function(){return this.parameter.isTypeScriptSpecific()?!0:this.block.isTypeScriptSpecific()?!0:!1},r}(l);n.SetAccessorPropertyAssignmentSyntax=kr;dr=function(r){function u(n,t,i,u,f){r.call(this,f);this.functionKeyword=n;this.identifier=t;this.callSignature=i;this.block=u}return __extends(u,r),u.prototype.accept=function(n){return n.visitFunctionExpression(this)},u.prototype.kind=function(){return 221},u.prototype.childCount=function(){return 4},u.prototype.childAt=function(t){switch(t){case 0:return this.functionKeyword;case 1:return this.identifier;case 2:return this.callSignature;case 3:return this.block;default:throw n.Errors.invalidOperation();}},u.prototype.isUnaryExpression=function(){return!0},u.prototype.isExpression=function(){return!0},u.prototype.update=function(n,t,i,r){return this.functionKeyword===n&&this.identifier===t&&this.callSignature===i&&this.block===r?this:new u(n,t,i,r,this.parsedInStrictMode())},u.create=function(n,t,i){return new u(n,null,t,i,!1)},u.create1=function(){return new u(n.Syntax.token(27),null,i.create1(),t.create1(),!1)},u.prototype.withLeadingTrivia=function(n){return r.prototype.withLeadingTrivia.call(this,n)},u.prototype.withTrailingTrivia=function(n){return r.prototype.withTrailingTrivia.call(this,n)},u.prototype.withFunctionKeyword=function(n){return this.update(n,this.identifier,this.callSignature,this.block)},u.prototype.withIdentifier=function(n){return this.update(this.functionKeyword,n,this.callSignature,this.block)},u.prototype.withCallSignature=function(n){return this.update(this.functionKeyword,this.identifier,n,this.block)},u.prototype.withBlock=function(n){return this.update(this.functionKeyword,this.identifier,this.callSignature,n)},u.prototype.isTypeScriptSpecific=function(){return this.callSignature.isTypeScriptSpecific()?!0:this.block.isTypeScriptSpecific()?!0:!1},u}(n.SyntaxNode);n.FunctionExpressionSyntax=dr;gr=function(t){function i(n,i){t.call(this,i);this.semicolonToken=n}return __extends(i,t),i.prototype.accept=function(n){return n.visitEmptyStatement(this)},i.prototype.kind=function(){return 155},i.prototype.childCount=function(){return 1},i.prototype.childAt=function(t){switch(t){case 0:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n){return this.semicolonToken===n?this:new i(n,this.parsedInStrictMode())},i.create1=function(){return new i(n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withSemicolonToken=function(n){return this.update(n)},i.prototype.isTypeScriptSpecific=function(){return!1},i}(n.SyntaxNode);n.EmptyStatementSyntax=gr;nu=function(i){function r(n,t,r,u,f){i.call(this,f);this.tryKeyword=n;this.block=t;this.catchClause=r;this.finallyClause=u}return __extends(r,i),r.prototype.accept=function(n){return n.visitTryStatement(this)},r.prototype.kind=function(){return 158},r.prototype.childCount=function(){return 4},r.prototype.childAt=function(t){switch(t){case 0:return this.tryKeyword;case 1:return this.block;case 2:return this.catchClause;case 3:return this.finallyClause;default:throw n.Errors.invalidOperation();}},r.prototype.isStatement=function(){return!0},r.prototype.isModuleElement=function(){return!0},r.prototype.update=function(n,t,i,u){return this.tryKeyword===n&&this.block===t&&this.catchClause===i&&this.finallyClause===u?this:new r(n,t,i,u,this.parsedInStrictMode())},r.create=function(n,t){return new r(n,t,null,null,!1)},r.create1=function(){return new r(n.Syntax.token(38),t.create1(),null,null,!1)},r.prototype.withLeadingTrivia=function(n){return i.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return i.prototype.withTrailingTrivia.call(this,n)},r.prototype.withTryKeyword=function(n){return this.update(n,this.block,this.catchClause,this.finallyClause)},r.prototype.withBlock=function(n){return this.update(this.tryKeyword,n,this.catchClause,this.finallyClause)},r.prototype.withCatchClause=function(n){return this.update(this.tryKeyword,this.block,n,this.finallyClause)},r.prototype.withFinallyClause=function(n){return this.update(this.tryKeyword,this.block,this.catchClause,n)},r.prototype.isTypeScriptSpecific=function(){return this.block.isTypeScriptSpecific()?!0:this.catchClause!==null&&this.catchClause.isTypeScriptSpecific()?!0:this.finallyClause!==null&&this.finallyClause.isTypeScriptSpecific()?!0:!1},r}(n.SyntaxNode);n.TryStatementSyntax=nu;tu=function(i){function r(n,t,r,u,f,e,o){i.call(this,o);this.catchKeyword=n;this.openParenToken=t;this.identifier=r;this.typeAnnotation=u;this.closeParenToken=f;this.block=e}return __extends(r,i),r.prototype.accept=function(n){return n.visitCatchClause(this)},r.prototype.kind=function(){return 234},r.prototype.childCount=function(){return 6},r.prototype.childAt=function(t){switch(t){case 0:return this.catchKeyword;case 1:return this.openParenToken;case 2:return this.identifier;case 3:return this.typeAnnotation;case 4:return this.closeParenToken;case 5:return this.block;default:throw n.Errors.invalidOperation();}},r.prototype.update=function(n,t,i,u,f,e){return this.catchKeyword===n&&this.openParenToken===t&&this.identifier===i&&this.typeAnnotation===u&&this.closeParenToken===f&&this.block===e?this:new r(n,t,i,u,f,e,this.parsedInStrictMode())},r.create=function(n,t,i,u,f){return new r(n,t,i,null,u,f,!1)},r.create1=function(i){return new r(n.Syntax.token(17),n.Syntax.token(73),i,null,n.Syntax.token(74),t.create1(),!1)},r.prototype.withLeadingTrivia=function(n){return i.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return i.prototype.withTrailingTrivia.call(this,n)},r.prototype.withCatchKeyword=function(n){return this.update(n,this.openParenToken,this.identifier,this.typeAnnotation,this.closeParenToken,this.block)},r.prototype.withOpenParenToken=function(n){return this.update(this.catchKeyword,n,this.identifier,this.typeAnnotation,this.closeParenToken,this.block)},r.prototype.withIdentifier=function(n){return this.update(this.catchKeyword,this.openParenToken,n,this.typeAnnotation,this.closeParenToken,this.block)},r.prototype.withTypeAnnotation=function(n){return this.update(this.catchKeyword,this.openParenToken,this.identifier,n,this.closeParenToken,this.block)},r.prototype.withCloseParenToken=function(n){return this.update(this.catchKeyword,this.openParenToken,this.identifier,this.typeAnnotation,n,this.block)},r.prototype.withBlock=function(n){return this.update(this.catchKeyword,this.openParenToken,this.identifier,this.typeAnnotation,this.closeParenToken,n)},r.prototype.isTypeScriptSpecific=function(){return this.typeAnnotation!==null&&this.typeAnnotation.isTypeScriptSpecific()?!0:this.block.isTypeScriptSpecific()?!0:!1},r}(n.SyntaxNode);n.CatchClauseSyntax=tu;iu=function(i){function r(n,t,r){i.call(this,r);this.finallyKeyword=n;this.block=t}return __extends(r,i),r.prototype.accept=function(n){return n.visitFinallyClause(this)},r.prototype.kind=function(){return 235},r.prototype.childCount=function(){return 2},r.prototype.childAt=function(t){switch(t){case 0:return this.finallyKeyword;case 1:return this.block;default:throw n.Errors.invalidOperation();}},r.prototype.update=function(n,t){return this.finallyKeyword===n&&this.block===t?this:new r(n,t,this.parsedInStrictMode())},r.create1=function(){return new r(n.Syntax.token(25),t.create1(),!1)},r.prototype.withLeadingTrivia=function(n){return i.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return i.prototype.withTrailingTrivia.call(this,n)},r.prototype.withFinallyKeyword=function(n){return this.update(n,this.block)},r.prototype.withBlock=function(n){return this.update(this.finallyKeyword,n)},r.prototype.isTypeScriptSpecific=function(){return this.block.isTypeScriptSpecific()?!0:!1},r}(n.SyntaxNode);n.FinallyClauseSyntax=iu;ru=function(t){function i(n,i,r,u){t.call(this,u);this.identifier=n;this.colonToken=i;this.statement=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitLabeledStatement(this)},i.prototype.kind=function(){return 159},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.identifier;case 1:return this.colonToken;case 2:return this.statement;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.identifier===n&&this.colonToken===t&&this.statement===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t,r){return new i(t,n.Syntax.token(107),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withIdentifier=function(n){return this.update(n,this.colonToken,this.statement)},i.prototype.withColonToken=function(n){return this.update(this.identifier,n,this.statement)},i.prototype.withStatement=function(n){return this.update(this.identifier,this.colonToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.statement.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.LabeledStatementSyntax=ru;uu=function(t){function i(n,i,r,u,f,e,o,s){t.call(this,u,e,i,s);this.doKeyword=n;this.whileKeyword=r;this.condition=f;this.semicolonToken=o}return __extends(i,t),i.prototype.accept=function(n){return n.visitDoStatement(this)},i.prototype.kind=function(){return 160},i.prototype.childCount=function(){return 7},i.prototype.childAt=function(t){switch(t){case 0:return this.doKeyword;case 1:return this.statement;case 2:return this.whileKeyword;case 3:return this.openParenToken;case 4:return this.condition;case 5:return this.closeParenToken;case 6:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r,u,f,e,o){return this.doKeyword===n&&this.statement===t&&this.whileKeyword===r&&this.openParenToken===u&&this.condition===f&&this.closeParenToken===e&&this.semicolonToken===o?this:new i(n,t,r,u,f,e,o,this.parsedInStrictMode())},i.create1=function(t,r){return new i(n.Syntax.token(22),t,n.Syntax.token(42),n.Syntax.token(73),r,n.Syntax.token(74),n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withDoKeyword=function(n){return this.update(n,this.statement,this.whileKeyword,this.openParenToken,this.condition,this.closeParenToken,this.semicolonToken)},i.prototype.withStatement=function(n){return this.update(this.doKeyword,n,this.whileKeyword,this.openParenToken,this.condition,this.closeParenToken,this.semicolonToken)},i.prototype.withWhileKeyword=function(n){return this.update(this.doKeyword,this.statement,n,this.openParenToken,this.condition,this.closeParenToken,this.semicolonToken)},i.prototype.withOpenParenToken=function(n){return this.update(this.doKeyword,this.statement,this.whileKeyword,n,this.condition,this.closeParenToken,this.semicolonToken)},i.prototype.withCondition=function(n){return this.update(this.doKeyword,this.statement,this.whileKeyword,this.openParenToken,n,this.closeParenToken,this.semicolonToken)},i.prototype.withCloseParenToken=function(n){return this.update(this.doKeyword,this.statement,this.whileKeyword,this.openParenToken,this.condition,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.doKeyword,this.statement,this.whileKeyword,this.openParenToken,this.condition,this.closeParenToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.statement.isTypeScriptSpecific()?!0:this.condition.isTypeScriptSpecific()?!0:!1},i}(u);n.DoStatementSyntax=uu;fu=function(t){function i(n,i,r){t.call(this,r);this.typeOfKeyword=n;this.expression=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitTypeOfExpression(this)},i.prototype.kind=function(){return 170},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.typeOfKeyword;case 1:return this.expression;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t){return this.typeOfKeyword===n&&this.expression===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(39),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withTypeOfKeyword=function(n){return this.update(n,this.expression)},i.prototype.withExpression=function(n){return this.update(this.typeOfKeyword,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.TypeOfExpressionSyntax=fu;eu=function(t){function i(n,i,r){t.call(this,r);this.deleteKeyword=n;this.expression=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitDeleteExpression(this)},i.prototype.kind=function(){return 169},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.deleteKeyword;case 1:return this.expression;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t){return this.deleteKeyword===n&&this.expression===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(21),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withDeleteKeyword=function(n){return this.update(n,this.expression)},i.prototype.withExpression=function(n){return this.update(this.deleteKeyword,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.DeleteExpressionSyntax=eu;ou=function(t){function i(n,i,r){t.call(this,r);this.voidKeyword=n;this.expression=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitVoidExpression(this)},i.prototype.kind=function(){return 171},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.voidKeyword;case 1:return this.expression;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t){return this.voidKeyword===n&&this.expression===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(41),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withVoidKeyword=function(n){return this.update(n,this.expression)},i.prototype.withExpression=function(n){return this.update(this.voidKeyword,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.VoidExpressionSyntax=ou;su=function(t){function i(n,i,r){t.call(this,r);this.debuggerKeyword=n;this.semicolonToken=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitDebuggerStatement(this)},i.prototype.kind=function(){return 161},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.debuggerKeyword;case 1:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t){return this.debuggerKeyword===n&&this.semicolonToken===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(){return new i(n.Syntax.token(19),n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withDebuggerKeyword=function(n){return this.update(n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.debuggerKeyword,n)},i.prototype.isTypeScriptSpecific=function(){return!1},i}(n.SyntaxNode);n.DebuggerStatementSyntax=su}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(){}return t.prototype.visitToken=function(n){return n},t.prototype.visitNode=function(n){return n.accept(this)},t.prototype.visitNodeOrToken=function(n){return n.isToken()?this.visitToken(n):this.visitNode(n)},t.prototype.visitList=function(t){for(var i=null,f,e,u,r=0,o=t.childCount();r<o;r++){if(f=t.childAt(r),e=this.visitNodeOrToken(f),f!==e&&i===null)for(i=[],u=0;u<r;u++)i.push(t.childAt(u));i&&i.push(e)}return i===null?t:n.Syntax.list(i)},t.prototype.visitSeparatedList=function(t){for(var i=null,u,e,f,r=0,o=t.childCount();r<o;r++){if(u=t.childAt(r),e=u.isToken()?this.visitToken(u):this.visitNode(u),u!==e&&i===null)for(i=[],f=0;f<r;f++)i.push(t.childAt(f));i&&i.push(e)}return i===null?t:n.Syntax.separatedList(i)},t.prototype.visitSourceUnit=function(n){return n.update(this.visitList(n.moduleElements),this.visitToken(n.endOfFileToken))},t.prototype.visitExternalModuleReference=function(n){return n.update(this.visitToken(n.moduleOrRequireKeyword),this.visitToken(n.openParenToken),this.visitToken(n.stringLiteral),this.visitToken(n.closeParenToken))},t.prototype.visitModuleNameModuleReference=function(n){return n.update(this.visitNodeOrToken(n.moduleName))},t.prototype.visitImportDeclaration=function(n){return n.update(this.visitToken(n.importKeyword),this.visitToken(n.identifier),this.visitToken(n.equalsToken),this.visitNode(n.moduleReference),this.visitToken(n.semicolonToken))},t.prototype.visitExportAssignment=function(n){return n.update(this.visitToken(n.exportKeyword),this.visitToken(n.equalsToken),this.visitToken(n.identifier),this.visitToken(n.semicolonToken))},t.prototype.visitClassDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.classKeyword),this.visitToken(n.identifier),n.typeParameterList===null?null:this.visitNode(n.typeParameterList),this.visitList(n.heritageClauses),this.visitToken(n.openBraceToken),this.visitList(n.classElements),this.visitToken(n.closeBraceToken))},t.prototype.visitInterfaceDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.interfaceKeyword),this.visitToken(n.identifier),n.typeParameterList===null?null:this.visitNode(n.typeParameterList),this.visitList(n.heritageClauses),this.visitNode(n.body))},t.prototype.visitHeritageClause=function(n){return n.update(this.visitToken(n.extendsOrImplementsKeyword),this.visitSeparatedList(n.typeNames))},t.prototype.visitModuleDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.moduleKeyword),n.moduleName===null?null:this.visitNodeOrToken(n.moduleName),n.stringLiteral===null?null:this.visitToken(n.stringLiteral),this.visitToken(n.openBraceToken),this.visitList(n.moduleElements),this.visitToken(n.closeBraceToken))},t.prototype.visitFunctionDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.functionKeyword),this.visitToken(n.identifier),this.visitNode(n.callSignature),n.block===null?null:this.visitNode(n.block),n.semicolonToken===null?null:this.visitToken(n.semicolonToken))},t.prototype.visitVariableStatement=function(n){return n.update(this.visitList(n.modifiers),this.visitNode(n.variableDeclaration),this.visitToken(n.semicolonToken))},t.prototype.visitVariableDeclaration=function(n){return n.update(this.visitToken(n.varKeyword),this.visitSeparatedList(n.variableDeclarators))},t.prototype.visitVariableDeclarator=function(n){return n.update(this.visitToken(n.identifier),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation),n.equalsValueClause===null?null:this.visitNode(n.equalsValueClause))},t.prototype.visitEqualsValueClause=function(n){return n.update(this.visitToken(n.equalsToken),this.visitNodeOrToken(n.value))},t.prototype.visitPrefixUnaryExpression=function(n){return n.update(n.kind(),this.visitToken(n.operatorToken),this.visitNodeOrToken(n.operand))},t.prototype.visitArrayLiteralExpression=function(n){return n.update(this.visitToken(n.openBracketToken),this.visitSeparatedList(n.expressions),this.visitToken(n.closeBracketToken))},t.prototype.visitOmittedExpression=function(n){return n},t.prototype.visitParenthesizedExpression=function(n){return n.update(this.visitToken(n.openParenToken),this.visitNodeOrToken(n.expression),this.visitToken(n.closeParenToken))},t.prototype.visitSimpleArrowFunctionExpression=function(n){return n.update(this.visitToken(n.identifier),this.visitToken(n.equalsGreaterThanToken),this.visitNodeOrToken(n.body))},t.prototype.visitParenthesizedArrowFunctionExpression=function(n){return n.update(this.visitNode(n.callSignature),this.visitToken(n.equalsGreaterThanToken),this.visitNodeOrToken(n.body))},t.prototype.visitQualifiedName=function(n){return n.update(this.visitNodeOrToken(n.left),this.visitToken(n.dotToken),this.visitToken(n.right))},t.prototype.visitTypeArgumentList=function(n){return n.update(this.visitToken(n.lessThanToken),this.visitSeparatedList(n.typeArguments),this.visitToken(n.greaterThanToken))},t.prototype.visitConstructorType=function(n){return n.update(this.visitToken(n.newKeyword),n.typeParameterList===null?null:this.visitNode(n.typeParameterList),this.visitNode(n.parameterList),this.visitToken(n.equalsGreaterThanToken),this.visitNodeOrToken(n.type))},t.prototype.visitFunctionType=function(n){return n.update(n.typeParameterList===null?null:this.visitNode(n.typeParameterList),this.visitNode(n.parameterList),this.visitToken(n.equalsGreaterThanToken),this.visitNodeOrToken(n.type))},t.prototype.visitObjectType=function(n){return n.update(this.visitToken(n.openBraceToken),this.visitSeparatedList(n.typeMembers),this.visitToken(n.closeBraceToken))},t.prototype.visitArrayType=function(n){return n.update(this.visitNodeOrToken(n.type),this.visitToken(n.openBracketToken),this.visitToken(n.closeBracketToken))},t.prototype.visitGenericType=function(n){return n.update(this.visitNodeOrToken(n.name),this.visitNode(n.typeArgumentList))},t.prototype.visitTypeAnnotation=function(n){return n.update(this.visitToken(n.colonToken),this.visitNodeOrToken(n.type))},t.prototype.visitBlock=function(n){return n.update(this.visitToken(n.openBraceToken),this.visitList(n.statements),this.visitToken(n.closeBraceToken))},t.prototype.visitParameter=function(n){return n.update(n.dotDotDotToken===null?null:this.visitToken(n.dotDotDotToken),n.publicOrPrivateKeyword===null?null:this.visitToken(n.publicOrPrivateKeyword),this.visitToken(n.identifier),n.questionToken===null?null:this.visitToken(n.questionToken),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation),n.equalsValueClause===null?null:this.visitNode(n.equalsValueClause))},t.prototype.visitMemberAccessExpression=function(n){return n.update(this.visitNodeOrToken(n.expression),this.visitToken(n.dotToken),this.visitToken(n.name))},t.prototype.visitPostfixUnaryExpression=function(n){return n.update(n.kind(),this.visitNodeOrToken(n.operand),this.visitToken(n.operatorToken))},t.prototype.visitElementAccessExpression=function(n){return n.update(this.visitNodeOrToken(n.expression),this.visitToken(n.openBracketToken),this.visitNodeOrToken(n.argumentExpression),this.visitToken(n.closeBracketToken))},t.prototype.visitInvocationExpression=function(n){return n.update(this.visitNodeOrToken(n.expression),this.visitNode(n.argumentList))},t.prototype.visitArgumentList=function(n){return n.update(n.typeArgumentList===null?null:this.visitNode(n.typeArgumentList),this.visitToken(n.openParenToken),this.visitSeparatedList(n.arguments),this.visitToken(n.closeParenToken))},t.prototype.visitBinaryExpression=function(n){return n.update(n.kind(),this.visitNodeOrToken(n.left),this.visitToken(n.operatorToken),this.visitNodeOrToken(n.right))},t.prototype.visitConditionalExpression=function(n){return n.update(this.visitNodeOrToken(n.condition),this.visitToken(n.questionToken),this.visitNodeOrToken(n.whenTrue),this.visitToken(n.colonToken),this.visitNodeOrToken(n.whenFalse))},t.prototype.visitConstructSignature=function(n){return n.update(this.visitToken(n.newKeyword),this.visitNode(n.callSignature))},t.prototype.visitMethodSignature=function(n){return n.update(this.visitToken(n.propertyName),n.questionToken===null?null:this.visitToken(n.questionToken),this.visitNode(n.callSignature))},t.prototype.visitIndexSignature=function(n){return n.update(this.visitToken(n.openBracketToken),this.visitNode(n.parameter),this.visitToken(n.closeBracketToken),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation))},t.prototype.visitPropertySignature=function(n){return n.update(this.visitToken(n.propertyName),n.questionToken===null?null:this.visitToken(n.questionToken),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation))},t.prototype.visitCallSignature=function(n){return n.update(n.typeParameterList===null?null:this.visitNode(n.typeParameterList),this.visitNode(n.parameterList),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation))},t.prototype.visitParameterList=function(n){return n.update(this.visitToken(n.openParenToken),this.visitSeparatedList(n.parameters),this.visitToken(n.closeParenToken))},t.prototype.visitTypeParameterList=function(n){return n.update(this.visitToken(n.lessThanToken),this.visitSeparatedList(n.typeParameters),this.visitToken(n.greaterThanToken))},t.prototype.visitTypeParameter=function(n){return n.update(this.visitToken(n.identifier),n.constraint===null?null:this.visitNode(n.constraint))},t.prototype.visitConstraint=function(n){return n.update(this.visitToken(n.extendsKeyword),this.visitNodeOrToken(n.type))},t.prototype.visitElseClause=function(n){return n.update(this.visitToken(n.elseKeyword),this.visitNodeOrToken(n.statement))},t.prototype.visitIfStatement=function(n){return n.update(this.visitToken(n.ifKeyword),this.visitToken(n.openParenToken),this.visitNodeOrToken(n.condition),this.visitToken(n.closeParenToken),this.visitNodeOrToken(n.statement),n.elseClause===null?null:this.visitNode(n.elseClause))},t.prototype.visitExpressionStatement=function(n){return n.update(this.visitNodeOrToken(n.expression),this.visitToken(n.semicolonToken))},t.prototype.visitConstructorDeclaration=function(n){return n.update(this.visitToken(n.constructorKeyword),this.visitNode(n.parameterList),n.block===null?null:this.visitNode(n.block),n.semicolonToken===null?null:this.visitToken(n.semicolonToken))},t.prototype.visitMemberFunctionDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.propertyName),this.visitNode(n.callSignature),n.block===null?null:this.visitNode(n.block),n.semicolonToken===null?null:this.visitToken(n.semicolonToken))},t.prototype.visitGetMemberAccessorDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.getKeyword),this.visitToken(n.propertyName),this.visitNode(n.parameterList),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation),this.visitNode(n.block))},t.prototype.visitSetMemberAccessorDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.setKeyword),this.visitToken(n.propertyName),this.visitNode(n.parameterList),this.visitNode(n.block))},t.prototype.visitMemberVariableDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitNode(n.variableDeclarator),this.visitToken(n.semicolonToken))},t.prototype.visitThrowStatement=function(n){return n.update(this.visitToken(n.throwKeyword),this.visitNodeOrToken(n.expression),this.visitToken(n.semicolonToken))},t.prototype.visitReturnStatement=function(n){return n.update(this.visitToken(n.returnKeyword),n.expression===null?null:this.visitNodeOrToken(n.expression),this.visitToken(n.semicolonToken))},t.prototype.visitObjectCreationExpression=function(n){return n.update(this.visitToken(n.newKeyword),this.visitNodeOrToken(n.expression),n.argumentList===null?null:this.visitNode(n.argumentList))},t.prototype.visitSwitchStatement=function(n){return n.update(this.visitToken(n.switchKeyword),this.visitToken(n.openParenToken),this.visitNodeOrToken(n.expression),this.visitToken(n.closeParenToken),this.visitToken(n.openBraceToken),this.visitList(n.switchClauses),this.visitToken(n.closeBraceToken))},t.prototype.visitCaseSwitchClause=function(n){return n.update(this.visitToken(n.caseKeyword),this.visitNodeOrToken(n.expression),this.visitToken(n.colonToken),this.visitList(n.statements))},t.prototype.visitDefaultSwitchClause=function(n){return n.update(this.visitToken(n.defaultKeyword),this.visitToken(n.colonToken),this.visitList(n.statements))},t.prototype.visitBreakStatement=function(n){return n.update(this.visitToken(n.breakKeyword),n.identifier===null?null:this.visitToken(n.identifier),this.visitToken(n.semicolonToken))},t.prototype.visitContinueStatement=function(n){return n.update(this.visitToken(n.continueKeyword),n.identifier===null?null:this.visitToken(n.identifier),this.visitToken(n.semicolonToken))},t.prototype.visitForStatement=function(n){return n.update(this.visitToken(n.forKeyword),this.visitToken(n.openParenToken),n.variableDeclaration===null?null:this.visitNode(n.variableDeclaration),n.initializer===null?null:this.visitNodeOrToken(n.initializer),this.visitToken(n.firstSemicolonToken),n.condition===null?null:this.visitNodeOrToken(n.condition),this.visitToken(n.secondSemicolonToken),n.incrementor===null?null:this.visitNodeOrToken(n.incrementor),this.visitToken(n.closeParenToken),this.visitNodeOrToken(n.statement))},t.prototype.visitForInStatement=function(n){return n.update(this.visitToken(n.forKeyword),this.visitToken(n.openParenToken),n.variableDeclaration===null?null:this.visitNode(n.variableDeclaration),n.left===null?null:this.visitNodeOrToken(n.left),this.visitToken(n.inKeyword),this.visitNodeOrToken(n.expression),this.visitToken(n.closeParenToken),this.visitNodeOrToken(n.statement))},t.prototype.visitWhileStatement=function(n){return n.update(this.visitToken(n.whileKeyword),this.visitToken(n.openParenToken),this.visitNodeOrToken(n.condition),this.visitToken(n.closeParenToken),this.visitNodeOrToken(n.statement))},t.prototype.visitWithStatement=function(n){return n.update(this.visitToken(n.withKeyword),this.visitToken(n.openParenToken),this.visitNodeOrToken(n.condition),this.visitToken(n.closeParenToken),this.visitNodeOrToken(n.statement))},t.prototype.visitEnumDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.enumKeyword),this.visitToken(n.identifier),this.visitToken(n.openBraceToken),this.visitSeparatedList(n.enumElements),this.visitToken(n.closeBraceToken))},t.prototype.visitEnumElement=function(n){return n.update(this.visitToken(n.propertyName),n.equalsValueClause===null?null:this.visitNode(n.equalsValueClause))},t.prototype.visitCastExpression=function(n){return n.update(this.visitToken(n.lessThanToken),this.visitNodeOrToken(n.type),this.visitToken(n.greaterThanToken),this.visitNodeOrToken(n.expression))},t.prototype.visitObjectLiteralExpression=function(n){return n.update(this.visitToken(n.openBraceToken),this.visitSeparatedList(n.propertyAssignments),this.visitToken(n.closeBraceToken))},t.prototype.visitSimplePropertyAssignment=function(n){return n.update(this.visitToken(n.propertyName),this.visitToken(n.colonToken),this.visitNodeOrToken(n.expression))},t.prototype.visitFunctionPropertyAssignment=function(n){return n.update(this.visitToken(n.propertyName),this.visitNode(n.callSignature),this.visitNode(n.block))},t.prototype.visitGetAccessorPropertyAssignment=function(n){return n.update(this.visitToken(n.getKeyword),this.visitToken(n.propertyName),this.visitToken(n.openParenToken),this.visitToken(n.closeParenToken),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation),this.visitNode(n.block))},t.prototype.visitSetAccessorPropertyAssignment=function(n){return n.update(this.visitToken(n.setKeyword),this.visitToken(n.propertyName),this.visitToken(n.openParenToken),this.visitNode(n.parameter),this.visitToken(n.closeParenToken),this.visitNode(n.block))},t.prototype.visitFunctionExpression=function(n){return n.update(this.visitToken(n.functionKeyword),n.identifier===null?null:this.visitToken(n.identifier),this.visitNode(n.callSignature),this.visitNode(n.block))},t.prototype.visitEmptyStatement=function(n){return n.update(this.visitToken(n.semicolonToken))},t.prototype.visitTryStatement=function(n){return n.update(this.visitToken(n.tryKeyword),this.visitNode(n.block),n.catchClause===null?null:this.visitNode(n.catchClause),n.finallyClause===null?null:this.visitNode(n.finallyClause))},t.prototype.visitCatchClause=function(n){return n.update(this.visitToken(n.catchKeyword),this.visitToken(n.openParenToken),this.visitToken(n.identifier),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation),this.visitToken(n.closeParenToken),this.visitNode(n.block))},t.prototype.visitFinallyClause=function(n){return n.update(this.visitToken(n.finallyKeyword),this.visitNode(n.block))},t.prototype.visitLabeledStatement=function(n){return n.update(this.visitToken(n.identifier),this.visitToken(n.colonToken),this.visitNodeOrToken(n.statement))},t.prototype.visitDoStatement=function(n){return n.update(this.visitToken(n.doKeyword),this.visitNodeOrToken(n.statement),this.visitToken(n.whileKeyword),this.visitToken(n.openParenToken),this.visitNodeOrToken(n.condition),this.visitToken(n.closeParenToken),this.visitToken(n.semicolonToken))},t.prototype.visitTypeOfExpression=function(n){return n.update(this.visitToken(n.typeOfKeyword),this.visitNodeOrToken(n.expression))},t.prototype.visitDeleteExpression=function(n){return n.update(this.visitToken(n.deleteKeyword),this.visitNodeOrToken(n.expression))},t.prototype.visitVoidExpression=function(n){return n.update(this.visitToken(n.voidKeyword),this.visitNodeOrToken(n.expression))},t.prototype.visitDebuggerStatement=function(n){return n.update(this.visitToken(n.debuggerKeyword),this.visitToken(n.semicolonToken))},t}();n.SyntaxRewriter=t}(TypeScript||(TypeScript={})),function(n){var t=function(t){function i(n,i,r,u){t.call(this);this.dedentationAmount=i;this.minimumIndent=r;this.options=u;this.lastTriviaWasNewLine=n}return __extends(i,t),i.prototype.abort=function(){this.lastTriviaWasNewLine=!1;this.dedentationAmount=0},i.prototype.isAborted=function(){return this.dedentationAmount===0},i.prototype.visitToken=function(n){if(n.width()===0)return n;var t=n;return(this.lastTriviaWasNewLine&&(t=n.withLeadingTrivia(this.dedentTriviaList(n.leadingTrivia()))),this.isAborted())?n:(this.lastTriviaWasNewLine=n.hasTrailingNewLine(),t)},i.prototype.dedentTriviaList=function(t){for(var u=[],f=!0,i,o,s,r=0,e=t.count();r<e&&!this.isAborted();r++){if(i=t.syntaxTriviaAt(r),o=f,f=!1,o)if(i.kind()===4){s=r<t.count()-1&&t.syntaxTriviaAt(r+1).kind()===5;u.push(this.dedentWhitespace(i,s));continue}else if(i.kind()!==5){this.abort();break}if(i.kind()===6){u.push(this.dedentMultiLineComment(i));continue}u.push(i);i.kind()===5&&(f=!0)}return(f&&this.abort(),this.isAborted())?t:n.Syntax.triviaList(u)},i.prototype.dedentSegment=function(t,i){var r=n.Indentation.firstNonWhitespacePosition(t),u,f,e;if(r===t.length){if(i)return""}else if(n.CharacterInfo.isLineTerminator(t.charCodeAt(r)))return t.substring(r);return(u=n.Indentation.columnForPositionInString(t,r,this.options),f=n.MathPrototype.min(u,n.MathPrototype.max(u-this.dedentationAmount,this.minimumIndent)),f===u)?(this.abort(),t):(this.dedentationAmount=u-f,n.Debug.assert(this.dedentationAmount>=0),e=n.Indentation.indentationString(f,this.options),e+t.substring(r))},i.prototype.dedentWhitespace=function(t,i){var r=this.dedentSegment(t.fullText(),i);return n.Syntax.whitespace(r)},i.prototype.dedentMultiLineComment=function(t){var i=n.Syntax.splitMultiLineCommentTriviaIntoMultipleLines(t),r,u,f;if(i.length===1)return t;for(r=1;r<i.length;r++)u=i[r],i[r]=this.dedentSegment(u,!1);return f=i.join(""),n.Syntax.multiLineComment(f)},i.dedentNode=function(n,t,r,u,f){var e=new i(t,r,u,f),o=n.accept(e);return e.isAborted()?n:o},i}(n.SyntaxRewriter);n.SyntaxDedenter=t}(TypeScript||(TypeScript={})),function(n){var t=function(t){function i(i,r,u){t.call(this);this.indentationAmount=r;this.options=u;this.lastTriviaWasNewLine=i;this.indentationTrivia=n.Indentation.indentationTrivia(this.indentationAmount,this.options)}return __extends(i,t),i.prototype.visitToken=function(n){if(n.width()===0)return n;var t=n;return this.lastTriviaWasNewLine&&(t=n.withLeadingTrivia(this.indentTriviaList(n.leadingTrivia()))),this.lastTriviaWasNewLine=n.hasTrailingNewLine(),t},i.prototype.indentTriviaList=function(t){for(var i=[],u=!0,r,e,f=0,o=t.count();f<o;f++){r=t.syntaxTriviaAt(f);e=u;u=!1;switch(r.kind()){case 6:this.indentMultiLineComment(r,e,i);continue;case 7:case 8:this.indentSingleLineOrSkippedText(r,e,i);continue;case 4:this.indentWhitespace(r,e,i);continue;case 5:i.push(r);u=!0;continue;default:throw n.Errors.invalidOperation();}}return u&&i.push(this.indentationTrivia),n.Syntax.triviaList(i)},i.prototype.indentSegment=function(t){var i=n.Indentation.firstNonWhitespacePosition(t);if(i<t.length&&n.CharacterInfo.isLineTerminator(t.charCodeAt(i)))return t;var r=n.Indentation.columnForPositionInString(t,i,this.options),u=r+this.indentationAmount,f=n.Indentation.indentationString(u,this.options);return f+t.substring(i)},i.prototype.indentWhitespace=function(t,i,r){if(!i){r.push(t);return}var u=this.indentSegment(t.fullText());r.push(n.Syntax.whitespace(u))},i.prototype.indentSingleLineOrSkippedText=function(n,t,i){t&&i.push(this.indentationTrivia);i.push(n)},i.prototype.indentMultiLineComment=function(t,i,r){var u,f,e;for(i&&r.push(this.indentationTrivia),u=n.Syntax.splitMultiLineCommentTriviaIntoMultipleLines(t),f=1;f<u.length;f++)u[f]=this.indentSegment(u[f]);e=u.join("");r.push(n.Syntax.multiLineComment(e))},i.indentNode=function(n,t,r,u){var f=new i(t,r,u);return n.accept(f)},i.indentNodes=function(t,r,u,f){var e=new i(r,u,f);return n.ArrayUtilities.select(t,function(n){return n.accept(e)})},i}(n.SyntaxRewriter);n.SyntaxIndenter=t}(TypeScript||(TypeScript={})),function(n){(function(t){function r(n,t){n.leadingTrivia().collectTextElements(t);t.push(n.text());n.trailingTrivia().collectTextElements(t)}function y(n,t,i,r,u){return r===0?u===0?new h(i):new l(n,t,i,u):u===0?new c(n,t,i,r):new a(n,t,i,r,u)}function p(n,t,i,r,u,f){return r===0?f===0?new v(n,t,i,u):new o(n,t,i,u,f):f===0?new e(n,t,i,r,u):new s(n,t,i,r,u,f)}function i(n){return n>>>2}function u(n){return(n&2)!=0}function f(n){return(n&1)!=0}var v=function(){function i(n,t,i,r){this._sourceText=n;this._fullStart=t;this.tokenKind=i;this._textOrWidth=r}return i.prototype.clone=function(){return new i(this._sourceText,this._fullStart,this.tokenKind,this._textOrWidth)},i.prototype.isNode=function(){return!1},i.prototype.isToken=function(){return!0},i.prototype.isList=function(){return!1},i.prototype.isSeparatedList=function(){return!1},i.prototype.kind=function(){return this.tokenKind},i.prototype.childCount=function(){return 0},i.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},i.prototype.fullWidth=function(){return this.width()},i.prototype.start=function(){return this._fullStart},i.prototype.end=function(){return this.start()+this.width()},i.prototype.width=function(){return typeof this._textOrWidth=="number"?this._textOrWidth:this._textOrWidth.length},i.prototype.text=function(){return typeof this._textOrWidth=="number"&&(this._textOrWidth=this._sourceText.substr(this.start(),this._textOrWidth,this.tokenKind===11)),this._textOrWidth},i.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},i.prototype.value=function(){return this._value===undefined&&(this._value=t.value(this)),this._value},i.prototype.valueText=function(){return this._valueText===undefined&&(this._valueText=t.valueText(this)),this._valueText},i.prototype.hasLeadingTrivia=function(){return!1},i.prototype.hasLeadingComment=function(){return!1},i.prototype.hasLeadingNewLine=function(){return!1},i.prototype.hasLeadingSkippedText=function(){return!1},i.prototype.leadingTriviaWidth=function(){return 0},i.prototype.leadingTrivia=function(){return n.Syntax.emptyTriviaList},i.prototype.hasTrailingTrivia=function(){return!1},i.prototype.hasTrailingComment=function(){return!1},i.prototype.hasTrailingNewLine=function(){return!1},i.prototype.hasTrailingSkippedText=function(){return!1},i.prototype.trailingTriviaWidth=function(){return 0},i.prototype.trailingTrivia=function(){return n.Syntax.emptyTriviaList},i.prototype.hasSkippedToken=function(){return!1},i.prototype.toJSON=function(){return t.tokenToJSON(this)},i.prototype.firstToken=function(){return this},i.prototype.lastToken=function(){return this},i.prototype.isTypeScriptSpecific=function(){return!1},i.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},i.prototype.accept=function(n){return n.visitToken(this)},i.prototype.realize=function(){return t.realizeToken(this)},i.prototype.collectTextElements=function(n){r(this,n)},i.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},i.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},i.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},i}(),e,o,s,h,c,l,a;t.VariableWidthTokenWithNoTrivia=v;e=function(){function e(n,t,i,r,u){this._sourceText=n;this._fullStart=t;this.tokenKind=i;this._leadingTriviaInfo=r;this._textOrWidth=u}return e.prototype.clone=function(){return new e(this._sourceText,this._fullStart,this.tokenKind,this._leadingTriviaInfo,this._textOrWidth)},e.prototype.isNode=function(){return!1},e.prototype.isToken=function(){return!0},e.prototype.isList=function(){return!1},e.prototype.isSeparatedList=function(){return!1},e.prototype.kind=function(){return this.tokenKind},e.prototype.childCount=function(){return 0},e.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},e.prototype.fullWidth=function(){return i(this._leadingTriviaInfo)+this.width()},e.prototype.start=function(){return this._fullStart+i(this._leadingTriviaInfo)},e.prototype.end=function(){return this.start()+this.width()},e.prototype.width=function(){return typeof this._textOrWidth=="number"?this._textOrWidth:this._textOrWidth.length},e.prototype.text=function(){return typeof this._textOrWidth=="number"&&(this._textOrWidth=this._sourceText.substr(this.start(),this._textOrWidth,this.tokenKind===11)),this._textOrWidth},e.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},e.prototype.value=function(){return this._value===undefined&&(this._value=t.value(this)),this._value},e.prototype.valueText=function(){return this._valueText===undefined&&(this._valueText=t.valueText(this)),this._valueText},e.prototype.hasLeadingTrivia=function(){return!0},e.prototype.hasLeadingComment=function(){return u(this._leadingTriviaInfo)},e.prototype.hasLeadingNewLine=function(){return f(this._leadingTriviaInfo)},e.prototype.hasLeadingSkippedText=function(){return!1},e.prototype.leadingTriviaWidth=function(){return i(this._leadingTriviaInfo)},e.prototype.leadingTrivia=function(){return n.Scanner.scanTrivia(this._sourceText,this._fullStart,i(this._leadingTriviaInfo),!1)},e.prototype.hasTrailingTrivia=function(){return!1},e.prototype.hasTrailingComment=function(){return!1},e.prototype.hasTrailingNewLine=function(){return!1},e.prototype.hasTrailingSkippedText=function(){return!1},e.prototype.trailingTriviaWidth=function(){return 0},e.prototype.trailingTrivia=function(){return n.Syntax.emptyTriviaList},e.prototype.hasSkippedToken=function(){return!1},e.prototype.toJSON=function(){return t.tokenToJSON(this)},e.prototype.firstToken=function(){return this},e.prototype.lastToken=function(){return this},e.prototype.isTypeScriptSpecific=function(){return!1},e.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},e.prototype.accept=function(n){return n.visitToken(this)},e.prototype.realize=function(){return t.realizeToken(this)},e.prototype.collectTextElements=function(n){r(this,n)},e.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},e.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},e.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},e}();t.VariableWidthTokenWithLeadingTrivia=e;o=function(){function e(n,t,i,r,u){this._sourceText=n;this._fullStart=t;this.tokenKind=i;this._textOrWidth=r;this._trailingTriviaInfo=u}return e.prototype.clone=function(){return new e(this._sourceText,this._fullStart,this.tokenKind,this._textOrWidth,this._trailingTriviaInfo)},e.prototype.isNode=function(){return!1},e.prototype.isToken=function(){return!0},e.prototype.isList=function(){return!1},e.prototype.isSeparatedList=function(){return!1},e.prototype.kind=function(){return this.tokenKind},e.prototype.childCount=function(){return 0},e.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},e.prototype.fullWidth=function(){return this.width()+i(this._trailingTriviaInfo)},e.prototype.start=function(){return this._fullStart},e.prototype.end=function(){return this.start()+this.width()},e.prototype.width=function(){return typeof this._textOrWidth=="number"?this._textOrWidth:this._textOrWidth.length},e.prototype.text=function(){return typeof this._textOrWidth=="number"&&(this._textOrWidth=this._sourceText.substr(this.start(),this._textOrWidth,this.tokenKind===11)),this._textOrWidth},e.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},e.prototype.value=function(){return this._value===undefined&&(this._value=t.value(this)),this._value},e.prototype.valueText=function(){return this._valueText===undefined&&(this._valueText=t.valueText(this)),this._valueText},e.prototype.hasLeadingTrivia=function(){return!1},e.prototype.hasLeadingComment=function(){return!1},e.prototype.hasLeadingNewLine=function(){return!1},e.prototype.hasLeadingSkippedText=function(){return!1},e.prototype.leadingTriviaWidth=function(){return 0},e.prototype.leadingTrivia=function(){return n.Syntax.emptyTriviaList},e.prototype.hasTrailingTrivia=function(){return!0},e.prototype.hasTrailingComment=function(){return u(this._trailingTriviaInfo)},e.prototype.hasTrailingNewLine=function(){return f(this._trailingTriviaInfo)},e.prototype.hasTrailingSkippedText=function(){return!1},e.prototype.trailingTriviaWidth=function(){return i(this._trailingTriviaInfo)},e.prototype.trailingTrivia=function(){return n.Scanner.scanTrivia(this._sourceText,this.end(),i(this._trailingTriviaInfo),!0)},e.prototype.hasSkippedToken=function(){return!1},e.prototype.toJSON=function(){return t.tokenToJSON(this)},e.prototype.firstToken=function(){return this},e.prototype.lastToken=function(){return this},e.prototype.isTypeScriptSpecific=function(){return!1},e.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},e.prototype.accept=function(n){return n.visitToken(this)},e.prototype.realize=function(){return t.realizeToken(this)},e.prototype.collectTextElements=function(n){r(this,n)},e.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},e.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},e.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},e}();t.VariableWidthTokenWithTrailingTrivia=o;s=function(){function e(n,t,i,r,u,f){this._sourceText=n;this._fullStart=t;this.tokenKind=i;this._leadingTriviaInfo=r;this._textOrWidth=u;this._trailingTriviaInfo=f}return e.prototype.clone=function(){return new e(this._sourceText,this._fullStart,this.tokenKind,this._leadingTriviaInfo,this._textOrWidth,this._trailingTriviaInfo)},e.prototype.isNode=function(){return!1},e.prototype.isToken=function(){return!0},e.prototype.isList=function(){return!1},e.prototype.isSeparatedList=function(){return!1},e.prototype.kind=function(){return this.tokenKind},e.prototype.childCount=function(){return 0},e.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},e.prototype.fullWidth=function(){return i(this._leadingTriviaInfo)+this.width()+i(this._trailingTriviaInfo)},e.prototype.start=function(){return this._fullStart+i(this._leadingTriviaInfo)},e.prototype.end=function(){return this.start()+this.width()},e.prototype.width=function(){return typeof this._textOrWidth=="number"?this._textOrWidth:this._textOrWidth.length},e.prototype.text=function(){return typeof this._textOrWidth=="number"&&(this._textOrWidth=this._sourceText.substr(this.start(),this._textOrWidth,this.tokenKind===11)),this._textOrWidth},e.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},e.prototype.value=function(){return this._value===undefined&&(this._value=t.value(this)),this._value},e.prototype.valueText=function(){return this._valueText===undefined&&(this._valueText=t.valueText(this)),this._valueText},e.prototype.hasLeadingTrivia=function(){return!0},e.prototype.hasLeadingComment=function(){return u(this._leadingTriviaInfo)},e.prototype.hasLeadingNewLine=function(){return f(this._leadingTriviaInfo)},e.prototype.hasLeadingSkippedText=function(){return!1},e.prototype.leadingTriviaWidth=function(){return i(this._leadingTriviaInfo)},e.prototype.leadingTrivia=function(){return n.Scanner.scanTrivia(this._sourceText,this._fullStart,i(this._leadingTriviaInfo),!1)},e.prototype.hasTrailingTrivia=function(){return!0},e.prototype.hasTrailingComment=function(){return u(this._trailingTriviaInfo)},e.prototype.hasTrailingNewLine=function(){return f(this._trailingTriviaInfo)},e.prototype.hasTrailingSkippedText=function(){return!1},e.prototype.trailingTriviaWidth=function(){return i(this._trailingTriviaInfo)},e.prototype.trailingTrivia=function(){return n.Scanner.scanTrivia(this._sourceText,this.end(),i(this._trailingTriviaInfo),!0)},e.prototype.hasSkippedToken=function(){return!1},e.prototype.toJSON=function(){return t.tokenToJSON(this)},e.prototype.firstToken=function(){return this},e.prototype.lastToken=function(){return this},e.prototype.isTypeScriptSpecific=function(){return!1},e.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},e.prototype.accept=function(n){return n.visitToken(this)},e.prototype.realize=function(){return t.realizeToken(this)},e.prototype.collectTextElements=function(n){r(this,n)},e.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},e.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},e.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},e}();t.VariableWidthTokenWithLeadingAndTrailingTrivia=s;h=function(){function i(n){this.tokenKind=n}return i.prototype.clone=function(){return new i(this.tokenKind)},i.prototype.isNode=function(){return!1},i.prototype.isToken=function(){return!0},i.prototype.isList=function(){return!1},i.prototype.isSeparatedList=function(){return!1},i.prototype.kind=function(){return this.tokenKind},i.prototype.childCount=function(){return 0},i.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},i.prototype.fullWidth=function(){return this.width()},i.prototype.width=function(){return this.text().length},i.prototype.text=function(){return n.SyntaxFacts.getText(this.tokenKind)},i.prototype.fullText=function(){return this.text()},i.prototype.value=function(){return t.value(this)},i.prototype.valueText=function(){return t.valueText(this)},i.prototype.hasLeadingTrivia=function(){return!1},i.prototype.hasLeadingComment=function(){return!1},i.prototype.hasLeadingNewLine=function(){return!1},i.prototype.hasLeadingSkippedText=function(){return!1},i.prototype.leadingTriviaWidth=function(){return 0},i.prototype.leadingTrivia=function(){return n.Syntax.emptyTriviaList},i.prototype.hasTrailingTrivia=function(){return!1},i.prototype.hasTrailingComment=function(){return!1},i.prototype.hasTrailingNewLine=function(){return!1},i.prototype.hasTrailingSkippedText=function(){return!1},i.prototype.trailingTriviaWidth=function(){return 0},i.prototype.trailingTrivia=function(){return n.Syntax.emptyTriviaList},i.prototype.hasSkippedToken=function(){return!1},i.prototype.toJSON=function(){return t.tokenToJSON(this)},i.prototype.firstToken=function(){return this},i.prototype.lastToken=function(){return this},i.prototype.isTypeScriptSpecific=function(){return!1},i.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},i.prototype.accept=function(n){return n.visitToken(this)},i.prototype.realize=function(){return t.realizeToken(this)},i.prototype.collectTextElements=function(n){r(this,n)},i.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},i.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},i.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},i}();t.FixedWidthTokenWithNoTrivia=h;c=function(){function e(n,t,i,r){this._sourceText=n;this._fullStart=t;this.tokenKind=i;this._leadingTriviaInfo=r}return e.prototype.clone=function(){return new e(this._sourceText,this._fullStart,this.tokenKind,this._leadingTriviaInfo)},e.prototype.isNode=function(){return!1},e.prototype.isToken=function(){return!0},e.prototype.isList=function(){return!1},e.prototype.isSeparatedList=function(){return!1},e.prototype.kind=function(){return this.tokenKind},e.prototype.childCount=function(){return 0},e.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},e.prototype.fullWidth=function(){return i(this._leadingTriviaInfo)+this.width()},e.prototype.start=function(){return this._fullStart+i(this._leadingTriviaInfo)},e.prototype.end=function(){return this.start()+this.width()},e.prototype.width=function(){return this.text().length},e.prototype.text=function(){return n.SyntaxFacts.getText(this.tokenKind)},e.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},e.prototype.value=function(){return t.value(this)},e.prototype.valueText=function(){return t.valueText(this)},e.prototype.hasLeadingTrivia=function(){return!0},e.prototype.hasLeadingComment=function(){return u(this._leadingTriviaInfo)},e.prototype.hasLeadingNewLine=function(){return f(this._leadingTriviaInfo)},e.prototype.hasLeadingSkippedText=function(){return!1},e.prototype.leadingTriviaWidth=function(){return i(this._leadingTriviaInfo)},e.prototype.leadingTrivia=function(){return n.Scanner.scanTrivia(this._sourceText,this._fullStart,i(this._leadingTriviaInfo),!1)},e.prototype.hasTrailingTrivia=function(){return!1},e.prototype.hasTrailingComment=function(){return!1},e.prototype.hasTrailingNewLine=function(){return!1},e.prototype.hasTrailingSkippedText=function(){return!1},e.prototype.trailingTriviaWidth=function(){return 0},e.prototype.trailingTrivia=function(){return n.Syntax.emptyTriviaList},e.prototype.hasSkippedToken=function(){return!1},e.prototype.toJSON=function(){return t.tokenToJSON(this)},e.prototype.firstToken=function(){return this},e.prototype.lastToken=function(){return this},e.prototype.isTypeScriptSpecific=function(){return!1},e.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},e.prototype.accept=function(n){return n.visitToken(this)},e.prototype.realize=function(){return t.realizeToken(this)},e.prototype.collectTextElements=function(n){r(this,n)},e.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},e.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},e.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},e}();t.FixedWidthTokenWithLeadingTrivia=c;l=function(){function e(n,t,i,r){this._sourceText=n;this._fullStart=t;this.tokenKind=i;this._trailingTriviaInfo=r}return e.prototype.clone=function(){return new e(this._sourceText,this._fullStart,this.tokenKind,this._trailingTriviaInfo)},e.prototype.isNode=function(){return!1},e.prototype.isToken=function(){return!0},e.prototype.isList=function(){return!1},e.prototype.isSeparatedList=function(){return!1},e.prototype.kind=function(){return this.tokenKind},e.prototype.childCount=function(){return 0},e.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},e.prototype.fullWidth=function(){return this.width()+i(this._trailingTriviaInfo)},e.prototype.start=function(){return this._fullStart},e.prototype.end=function(){return this.start()+this.width()},e.prototype.width=function(){return this.text().length},e.prototype.text=function(){return n.SyntaxFacts.getText(this.tokenKind)},e.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},e.prototype.value=function(){return t.value(this)},e.prototype.valueText=function(){return t.valueText(this)},e.prototype.hasLeadingTrivia=function(){return!1},e.prototype.hasLeadingComment=function(){return!1},e.prototype.hasLeadingNewLine=function(){return!1},e.prototype.hasLeadingSkippedText=function(){return!1},e.prototype.leadingTriviaWidth=function(){return 0},e.prototype.leadingTrivia=function(){return n.Syntax.emptyTriviaList},e.prototype.hasTrailingTrivia=function(){return!0},e.prototype.hasTrailingComment=function(){return u(this._trailingTriviaInfo)},e.prototype.hasTrailingNewLine=function(){return f(this._trailingTriviaInfo)},e.prototype.hasTrailingSkippedText=function(){return!1},e.prototype.trailingTriviaWidth=function(){return i(this._trailingTriviaInfo)},e.prototype.trailingTrivia=function(){return n.Scanner.scanTrivia(this._sourceText,this.end(),i(this._trailingTriviaInfo),!0)},e.prototype.hasSkippedToken=function(){return!1},e.prototype.toJSON=function(){return t.tokenToJSON(this)},e.prototype.firstToken=function(){return this},e.prototype.lastToken=function(){return this},e.prototype.isTypeScriptSpecific=function(){return!1},e.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},e.prototype.accept=function(n){return n.visitToken(this)},e.prototype.realize=function(){return t.realizeToken(this)},e.prototype.collectTextElements=function(n){r(this,n)},e.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},e.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},e.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},e}();t.FixedWidthTokenWithTrailingTrivia=l;a=function(){function e(n,t,i,r,u){this._sourceText=n;this._fullStart=t;this.tokenKind=i;this._leadingTriviaInfo=r;this._trailingTriviaInfo=u}return e.prototype.clone=function(){return new e(this._sourceText,this._fullStart,this.tokenKind,this._leadingTriviaInfo,this._trailingTriviaInfo)},e.prototype.isNode=function(){return!1},e.prototype.isToken=function(){return!0},e.prototype.isList=function(){return!1},e.prototype.isSeparatedList=function(){return!1},e.prototype.kind=function(){return this.tokenKind},e.prototype.childCount=function(){return 0},e.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},e.prototype.fullWidth=function(){return i(this._leadingTriviaInfo)+this.width()+i(this._trailingTriviaInfo)},e.prototype.start=function(){return this._fullStart+i(this._leadingTriviaInfo)},e.prototype.end=function(){return this.start()+this.width()},e.prototype.width=function(){return this.text().length},e.prototype.text=function(){return n.SyntaxFacts.getText(this.tokenKind)},e.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},e.prototype.value=function(){return t.value(this)},e.prototype.valueText=function(){return t.valueText(this)},e.prototype.hasLeadingTrivia=function(){return!0},e.prototype.hasLeadingComment=function(){return u(this._leadingTriviaInfo)},e.prototype.hasLeadingNewLine=function(){return f(this._leadingTriviaInfo)},e.prototype.hasLeadingSkippedText=function(){return!1},e.prototype.leadingTriviaWidth=function(){return i(this._leadingTriviaInfo)},e.prototype.leadingTrivia=function(){return n.Scanner.scanTrivia(this._sourceText,this._fullStart,i(this._leadingTriviaInfo),!1)},e.prototype.hasTrailingTrivia=function(){return!0},e.prototype.hasTrailingComment=function(){return u(this._trailingTriviaInfo)},e.prototype.hasTrailingNewLine=function(){return f(this._trailingTriviaInfo)},e.prototype.hasTrailingSkippedText=function(){return!1},e.prototype.trailingTriviaWidth=function(){return i(this._trailingTriviaInfo)},e.prototype.trailingTrivia=function(){return n.Scanner.scanTrivia(this._sourceText,this.end(),i(this._trailingTriviaInfo),!0)},e.prototype.hasSkippedToken=function(){return!1},e.prototype.toJSON=function(){return t.tokenToJSON(this)},e.prototype.firstToken=function(){return this},e.prototype.lastToken=function(){return this},e.prototype.isTypeScriptSpecific=function(){return!1},e.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},e.prototype.accept=function(n){return n.visitToken(this)},e.prototype.realize=function(){return t.realizeToken(this)},e.prototype.collectTextElements=function(n){r(this,n)},e.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},e.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},e.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},e}();t.FixedWidthTokenWithLeadingAndTrailingTrivia=a;t.fixedWidthToken=y;t.variableWidthToken=p})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){(function(t){function o(n){return new r(n.tokenKind,n.leadingTrivia(),n.text(),n.value(),n.valueText(),n.trailingTrivia())}function l(t){return n.Debug.assert(n.SyntaxFacts.isAnyKeyword(t.tokenKind)),new r(11,t.leadingTrivia(),t.text(),t.text(),t.text(),t.trailingTrivia())}function u(t){var i={},u,f,r;for(u in n.SyntaxKind)if(n.SyntaxKind[u]===t.kind()){i.kind=u;break}return i.width=t.width(),t.fullWidth()!==t.width()&&(i.fullWidth=t.fullWidth()),i.text=t.text(),f=t.value(),f!==null&&(i.value=f,i.valueText=t.valueText()),t.hasLeadingTrivia()&&(i.hasLeadingTrivia=!0),t.hasLeadingComment()&&(i.hasLeadingComment=!0),t.hasLeadingNewLine()&&(i.hasLeadingNewLine=!0),t.hasLeadingSkippedText()&&(i.hasLeadingSkippedText=!0),t.hasTrailingTrivia()&&(i.hasTrailingTrivia=!0),t.hasTrailingComment()&&(i.hasTrailingComment=!0),t.hasTrailingNewLine()&&(i.hasTrailingNewLine=!0),t.hasTrailingSkippedText()&&(i.hasTrailingSkippedText=!0),r=t.leadingTrivia(),r.count()>0&&(i.leadingTrivia=r),r=t.trailingTrivia(),r.count()>0&&(i.trailingTrivia=r),i}function a(n){return e(n.tokenKind,n.text())}function s(t,i,r){for(var f=0,e,u=0;u<r;u++){if(e=t.charCodeAt(i+u),!n.CharacterInfo.isHexDigit(e))break;f=(f<<4)+n.CharacterInfo.hexValue(e)}return f}function v(n){var r,t,f,u;for(i.length=0,r="",t=0,f=n.length;t<f;t++){if(u=n.charCodeAt(t),u===92&&(t++,t<f)){u=n.charCodeAt(t);switch(u){case 48:i.push(0);continue;case 98:i.push(8);continue;case 102:i.push(12);continue;case 110:i.push(10);continue;case 114:i.push(13);continue;case 116:i.push(9);continue;case 118:i.push(11);continue;case 120:i.push(s(n,t+1,2));t+=2;continue;case 117:i.push(s(n,t+1,4));t+=4;continue}}i.push(u);!t||t%1024||(r=r.concat(String.fromCharCode.apply(null,i)),i.length=0)}return i.length&&(r=r.concat(String.fromCharCode.apply(null,i))),r}function f(n){return n.indexOf("\\")>=0?v(n):n}function e(t,i){if(t===11)return f(i);switch(t){case 37:return!0;case 24:return!1;case 32:return null}if(n.SyntaxFacts.isAnyKeyword(t)||n.SyntaxFacts.isAnyPunctuation(t))return n.SyntaxFacts.getText(t);if(t===13)return parseFloat(i);if(t===14)return i.length>1&&i.charCodeAt(i.length-1)===i.charCodeAt(0)?f(i.substr(1,i.length-2)):f(i.substr(1));if(t===12)try{var r=i.lastIndexOf("/"),u=i.substring(1,r),e=i.substring(r+1);return new RegExp(u,e)}catch(o){return null}else{if(t===10||t===9)return null;throw n.Errors.invalidOperation();}}function y(n,t){var i=e(n,t);return i===null?"":i.toString()}function p(n){var t=n.value();return t===null?"":t.toString()}function w(n){return new h(n)}function c(t,i){typeof i=="undefined"&&(i=null);var u=i!==null&&i.text!==undefined?i.text:n.SyntaxFacts.getText(t);return new r(t,n.Syntax.triviaList(i===null?null:i.leadingTrivia),u,e(t,u),y(t,u),n.Syntax.triviaList(i===null?null:i.trailingTrivia))}function b(n,t){return typeof t=="undefined"&&(t=null),t=t||{},t.text=n,c(11,t)}var i,h,r;t.realizeToken=o;t.convertToIdentifierName=l;t.tokenToJSON=u;t.value=a;i=[];t.valueText=p;h=function(){function t(n){this.tokenKind=n}return t.prototype.clone=function(){return new t(this.tokenKind)},t.prototype.kind=function(){return this.tokenKind},t.prototype.isToken=function(){return!0},t.prototype.isNode=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!1},t.prototype.childCount=function(){return 0},t.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.toJSON=function(){return u(this)},t.prototype.accept=function(n){return n.visitToken(this)},t.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},t.prototype.firstToken=function(){return this},t.prototype.lastToken=function(){return this},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return!0},t.prototype.fullWidth=function(){return 0},t.prototype.width=function(){return 0},t.prototype.text=function(){return""},t.prototype.fullText=function(){return""},t.prototype.value=function(){return null},t.prototype.valueText=function(){return""},t.prototype.hasLeadingTrivia=function(){return!1},t.prototype.hasLeadingComment=function(){return!1},t.prototype.hasLeadingNewLine=function(){return!1},t.prototype.hasLeadingSkippedText=function(){return!1},t.prototype.leadingTriviaWidth=function(){return 0},t.prototype.hasTrailingTrivia=function(){return!1},t.prototype.hasTrailingComment=function(){return!1},t.prototype.hasTrailingNewLine=function(){return!1},t.prototype.hasTrailingSkippedText=function(){return!1},t.prototype.hasSkippedToken=function(){return!1},t.prototype.trailingTriviaWidth=function(){return 0},t.prototype.leadingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.trailingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.realize=function(){return o(this)},t.prototype.collectTextElements=function(){},t.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},t.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},t}();t.emptyToken=w;r=function(){function t(n,t,i,r,u,f){this.tokenKind=n;this._leadingTrivia=t;this._text=i;this._value=r;this._valueText=u;this._trailingTrivia=f}return t.prototype.clone=function(){return new t(this.tokenKind,this._leadingTrivia,this._text,this._value,this._valueText,this._trailingTrivia)},t.prototype.kind=function(){return this.tokenKind},t.prototype.toJSON=function(){return u(this)},t.prototype.firstToken=function(){return this},t.prototype.lastToken=function(){return this},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return!0},t.prototype.accept=function(n){return n.visitToken(this)},t.prototype.childCount=function(){return 0},t.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.isToken=function(){return!0},t.prototype.isNode=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!1},t.prototype.isTrivia=function(){return!1},t.prototype.isTriviaList=function(){return!1},t.prototype.fullWidth=function(){return this._leadingTrivia.fullWidth()+this.width()+this._trailingTrivia.fullWidth()},t.prototype.width=function(){return this.text().length},t.prototype.text=function(){return this._text},t.prototype.fullText=function(){return this._leadingTrivia.fullText()+this.text()+this._trailingTrivia.fullText()},t.prototype.value=function(){return this._value},t.prototype.valueText=function(){return this._valueText},t.prototype.hasLeadingTrivia=function(){return this._leadingTrivia.count()>0},t.prototype.hasLeadingComment=function(){return this._leadingTrivia.hasComment()},t.prototype.hasLeadingNewLine=function(){return this._leadingTrivia.hasNewLine()},t.prototype.hasLeadingSkippedText=function(){return this._leadingTrivia.hasSkippedToken()},t.prototype.leadingTriviaWidth=function(){return this._leadingTrivia.fullWidth()},t.prototype.hasTrailingTrivia=function(){return this._trailingTrivia.count()>0},t.prototype.hasTrailingComment=function(){return this._trailingTrivia.hasComment()},t.prototype.hasTrailingNewLine=function(){return this._trailingTrivia.hasNewLine()},t.prototype.hasTrailingSkippedText=function(){return this._trailingTrivia.hasSkippedToken()},t.prototype.trailingTriviaWidth=function(){return this._trailingTrivia.fullWidth()},t.prototype.hasSkippedToken=function(){return this.hasLeadingSkippedText()||this.hasTrailingSkippedText()},t.prototype.leadingTrivia=function(){return this._leadingTrivia},t.prototype.trailingTrivia=function(){return this._trailingTrivia},t.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},t.prototype.collectTextElements=function(n){this.leadingTrivia().collectTextElements(n);n.push(this.text());this.trailingTrivia().collectTextElements(n)},t.prototype.withLeadingTrivia=function(n){return new t(this.tokenKind,n,this._text,this._value,this._valueText,this._trailingTrivia)},t.prototype.withTrailingTrivia=function(n){return new t(this.tokenKind,this._leadingTrivia,this._text,this._value,this._valueText,n)},t}();t.token=c;t.identifier=b})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){var t=function(n){function t(t,i){n.call(this);this.token1=t;this.token2=i}return __extends(t,n),t.prototype.visitToken=function(n){if(n===this.token1){var t=this.token2;return this.token1=null,this.token2=null,t}return n},t.prototype.visitNode=function(t){return this.token1===null?t:n.prototype.visitNode.call(this,t)},t.prototype.visitList=function(t){return this.token1===null?t:n.prototype.visitList.call(this,t)},t.prototype.visitSeparatedList=function(t){return this.token1===null?t:n.prototype.visitSeparatedList.call(this,t)},t}(n.SyntaxRewriter);n.SyntaxTokenReplacer=t}(TypeScript||(TypeScript={})),function(n){(function(t){function i(n,t){return new r(n,t)}function f(t){return n.Debug.assert(!t.hasLeadingTrivia()),n.Debug.assert(!t.hasTrailingTrivia()),n.Debug.assert(t.fullWidth()>0),new r(8,t)}function u(t){return i(4,n.StringUtilities.repeat(" ",t))}function e(n){return i(4,n)}function o(n){return i(6,n)}function s(n){return i(7,n)}function h(n){for(var r=[],i=n.fullText(),u=0,f,e,t=0;t<i.length;t++){f=i.charCodeAt(t);e=!1;switch(f){case 13:t<i.length-1&&i.charCodeAt(t+1)===10&&t++;case 10:case 8233:case 8232:r.push(i.substring(u,t+1));u=t+1;continue}}return r.push(i.substring(u)),r}var r=function(){function t(n,t){this._kind=n;this._textOrToken=t}return t.prototype.toJSON=function(){var t={};return t.kind=n.SyntaxKind[this._kind],this.isSkippedToken()?t.skippedToken=this._textOrToken:t.text=this._textOrToken,t},t.prototype.kind=function(){return this._kind},t.prototype.fullWidth=function(){return this.fullText().length},t.prototype.fullText=function(){return this.isSkippedToken()?this.skippedToken().fullText():this._textOrToken},t.prototype.isWhitespace=function(){return this.kind()===4},t.prototype.isComment=function(){return this.kind()===7||this.kind()===6},t.prototype.isNewLine=function(){return this.kind()===5},t.prototype.isSkippedToken=function(){return this.kind()===8},t.prototype.skippedToken=function(){return n.Debug.assert(this.isSkippedToken()),this._textOrToken},t.prototype.collectTextElements=function(n){n.push(this.fullText())},t}();t.trivia=i;t.skippedTokenTrivia=f;t.spaces=u;t.whitespace=e;t.multiLineComment=o;t.singleLineComment=s;t.spaceTrivia=u(1);t.lineFeedTrivia=i(5,"\n");t.carriageReturnTrivia=i(5,"\r");t.carriageReturnLineFeedTrivia=i(5,"\r\n");t.splitMultiLineCommentTriviaIntoMultipleLines=h})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){(function(t){function r(n,t){if(n.count()===0)return t;if(t.count()===0)return n;var r=n.toArray();return r.push.apply(r,t.toArray()),i(r)}function u(n){return n.kind()===6||n.kind()===7}function i(t){return t===undefined||t===null||t.length===0?n.Syntax.emptyTriviaList:t.length===1?new f(t[0]):new e(t)}t.emptyTriviaList={kind:function(){return 3},count:function(){return 0},syntaxTriviaAt:function(){throw n.Errors.argumentOutOfRange("index");},last:function(){throw n.Errors.argumentOutOfRange("index");},fullWidth:function(){return 0},fullText:function(){return""},hasComment:function(){return!1},hasNewLine:function(){return!1},hasSkippedToken:function(){return!1},toJSON:function(){return[]},collectTextElements:function(){},toArray:function(){return[]},concat:function(n){return n}};var f=function(){function t(n){this.item=n}return t.prototype.kind=function(){return 3},t.prototype.count=function(){return 1},t.prototype.syntaxTriviaAt=function(t){if(t!==0)throw n.Errors.argumentOutOfRange("index");return this.item},t.prototype.last=function(){return this.item},t.prototype.fullWidth=function(){return this.item.fullWidth()},t.prototype.fullText=function(){return this.item.fullText()},t.prototype.hasComment=function(){return u(this.item)},t.prototype.hasNewLine=function(){return this.item.kind()===5},t.prototype.hasSkippedToken=function(){return this.item.kind()===8},t.prototype.toJSON=function(){return[this.item]},t.prototype.collectTextElements=function(n){this.item.collectTextElements(n)},t.prototype.toArray=function(){return[this.item]},t.prototype.concat=function(n){return r(this,n)},t}(),e=function(){function t(n){this.trivia=n}return t.prototype.kind=function(){return 3},t.prototype.count=function(){return this.trivia.length},t.prototype.syntaxTriviaAt=function(t){if(t<0||t>=this.trivia.length)throw n.Errors.argumentOutOfRange("index");return this.trivia[t]},t.prototype.last=function(){return this.trivia[this.trivia.length-1]},t.prototype.fullWidth=function(){return n.ArrayUtilities.sum(this.trivia,function(n){return n.fullWidth()})},t.prototype.fullText=function(){for(var t="",n=0,i=this.trivia.length;n<i;n++)t+=this.trivia[n].fullText();return t},t.prototype.hasComment=function(){for(var n=0;n<this.trivia.length;n++)if(u(this.trivia[n]))return!0;return!1},t.prototype.hasNewLine=function(){for(var n=0;n<this.trivia.length;n++)if(this.trivia[n].kind()===5)return!0;return!1},t.prototype.hasSkippedToken=function(){for(var n=0;n<this.trivia.length;n++)if(this.trivia[n].kind()===8)return!0;return!1},t.prototype.toJSON=function(){return this.trivia},t.prototype.collectTextElements=function(n){for(var t=0;t<this.trivia.length;t++)this.trivia[t].collectTextElements(n)},t.prototype.toArray=function(){return this.trivia.slice(0)},t.prototype.concat=function(n){return r(this,n)},t}();t.triviaList=i;t.spaceTriviaList=i([n.Syntax.spaceTrivia])})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.isAngleBracket=function(n){var t=n.element(),i=n.parentElement();if(i!==null&&(t.kind()===81||t.kind()===82))switch(i.kind()){case 227:case 228:case 219:return!0}return!1},n.getToken=function(n,t){for(var r,i=0,u=n.childCount();i<u;i++)if(r=n.childAt(i),r.tokenKind===t)return r;return null},n.containsToken=function(t,i){return n.getToken(t,i)!==null},n.hasExportKeyword=function(t){switch(t.kind()){case 130:case 131:case 129:case 147:case 132:case 128:return n.containsToken(t.modifiers,47)}return!1},n.isAmbientDeclarationSyntax=function(t){if(!t)return!1;var i=t.node();switch(i.kind()){case 130:case 131:case 129:case 147:case 132:if(n.containsToken(i.modifiers,64))return!0;case 133:case 137:case 135:case 138:case 139:case 136:if(i.isClassElement()||i.isModuleElement())return n.isAmbientDeclarationSyntax(t.containingNode());case 243:return n.isAmbientDeclarationSyntax(t.containingNode().containingNode());default:return n.isAmbientDeclarationSyntax(t.containingNode())}},n}();n.SyntaxUtilities=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.prototype.defaultVisit=function(){return null},n.prototype.visitToken=function(n){return this.defaultVisit(n)},n.prototype.visitSourceUnit=function(n){return this.defaultVisit(n)},n.prototype.visitExternalModuleReference=function(n){return this.defaultVisit(n)},n.prototype.visitModuleNameModuleReference=function(n){return this.defaultVisit(n)},n.prototype.visitImportDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitExportAssignment=function(n){return this.defaultVisit(n)},n.prototype.visitClassDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitInterfaceDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitHeritageClause=function(n){return this.defaultVisit(n)},n.prototype.visitModuleDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitFunctionDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitVariableStatement=function(n){return this.defaultVisit(n)},n.prototype.visitVariableDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitVariableDeclarator=function(n){return this.defaultVisit(n)},n.prototype.visitEqualsValueClause=function(n){return this.defaultVisit(n)},n.prototype.visitPrefixUnaryExpression=function(n){return this.defaultVisit(n)},n.prototype.visitArrayLiteralExpression=function(n){return this.defaultVisit(n)},n.prototype.visitOmittedExpression=function(n){return this.defaultVisit(n)},n.prototype.visitParenthesizedExpression=function(n){return this.defaultVisit(n)},n.prototype.visitSimpleArrowFunctionExpression=function(n){return this.defaultVisit(n)},n.prototype.visitParenthesizedArrowFunctionExpression=function(n){return this.defaultVisit(n)},n.prototype.visitQualifiedName=function(n){return this.defaultVisit(n)},n.prototype.visitTypeArgumentList=function(n){return this.defaultVisit(n)},n.prototype.visitConstructorType=function(n){return this.defaultVisit(n)},n.prototype.visitFunctionType=function(n){return this.defaultVisit(n)},n.prototype.visitObjectType=function(n){return this.defaultVisit(n)},n.prototype.visitArrayType=function(n){return this.defaultVisit(n)},n.prototype.visitGenericType=function(n){return this.defaultVisit(n)},n.prototype.visitTypeAnnotation=function(n){return this.defaultVisit(n)},n.prototype.visitBlock=function(n){return this.defaultVisit(n)},n.prototype.visitParameter=function(n){return this.defaultVisit(n)},n.prototype.visitMemberAccessExpression=function(n){return this.defaultVisit(n)},n.prototype.visitPostfixUnaryExpression=function(n){return this.defaultVisit(n)},n.prototype.visitElementAccessExpression=function(n){return this.defaultVisit(n)},n.prototype.visitInvocationExpression=function(n){return this.defaultVisit(n)},n.prototype.visitArgumentList=function(n){return this.defaultVisit(n)},n.prototype.visitBinaryExpression=function(n){return this.defaultVisit(n)},n.prototype.visitConditionalExpression=function(n){return this.defaultVisit(n)},n.prototype.visitConstructSignature=function(n){return this.defaultVisit(n)},n.prototype.visitMethodSignature=function(n){return this.defaultVisit(n)},n.prototype.visitIndexSignature=function(n){return this.defaultVisit(n)},n.prototype.visitPropertySignature=function(n){return this.defaultVisit(n)},n.prototype.visitCallSignature=function(n){return this.defaultVisit(n)},n.prototype.visitParameterList=function(n){return this.defaultVisit(n)},n.prototype.visitTypeParameterList=function(n){return this.defaultVisit(n)},n.prototype.visitTypeParameter=function(n){return this.defaultVisit(n)},n.prototype.visitConstraint=function(n){return this.defaultVisit(n)},n.prototype.visitElseClause=function(n){return this.defaultVisit(n)},n.prototype.visitIfStatement=function(n){return this.defaultVisit(n)},n.prototype.visitExpressionStatement=function(n){return this.defaultVisit(n)},n.prototype.visitConstructorDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitMemberFunctionDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitGetMemberAccessorDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitSetMemberAccessorDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitMemberVariableDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitThrowStatement=function(n){return this.defaultVisit(n)},n.prototype.visitReturnStatement=function(n){return this.defaultVisit(n)},n.prototype.visitObjectCreationExpression=function(n){return this.defaultVisit(n)},n.prototype.visitSwitchStatement=function(n){return this.defaultVisit(n)},n.prototype.visitCaseSwitchClause=function(n){return this.defaultVisit(n)},n.prototype.visitDefaultSwitchClause=function(n){return this.defaultVisit(n)},n.prototype.visitBreakStatement=function(n){return this.defaultVisit(n)},n.prototype.visitContinueStatement=function(n){return this.defaultVisit(n)},n.prototype.visitForStatement=function(n){return this.defaultVisit(n)},n.prototype.visitForInStatement=function(n){return this.defaultVisit(n)},n.prototype.visitWhileStatement=function(n){return this.defaultVisit(n)},n.prototype.visitWithStatement=function(n){return this.defaultVisit(n)},n.prototype.visitEnumDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitEnumElement=function(n){return this.defaultVisit(n)},n.prototype.visitCastExpression=function(n){return this.defaultVisit(n)},n.prototype.visitObjectLiteralExpression=function(n){return this.defaultVisit(n)},n.prototype.visitSimplePropertyAssignment=function(n){return this.defaultVisit(n)},n.prototype.visitFunctionPropertyAssignment=function(n){return this.defaultVisit(n)},n.prototype.visitGetAccessorPropertyAssignment=function(n){return this.defaultVisit(n)},n.prototype.visitSetAccessorPropertyAssignment=function(n){return this.defaultVisit(n)},n.prototype.visitFunctionExpression=function(n){return this.defaultVisit(n)},n.prototype.visitEmptyStatement=function(n){return this.defaultVisit(n)},n.prototype.visitTryStatement=function(n){return this.defaultVisit(n)},n.prototype.visitCatchClause=function(n){return this.defaultVisit(n)},n.prototype.visitFinallyClause=function(n){return this.defaultVisit(n)},n.prototype.visitLabeledStatement=function(n){return this.defaultVisit(n)},n.prototype.visitDoStatement=function(n){return this.defaultVisit(n)},n.prototype.visitTypeOfExpression=function(n){return this.defaultVisit(n)},n.prototype.visitDeleteExpression=function(n){return this.defaultVisit(n)},n.prototype.visitVoidExpression=function(n){return this.defaultVisit(n)},n.prototype.visitDebuggerStatement=function(n){return this.defaultVisit(n)},n}();n.SyntaxVisitor=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.prototype.visitToken=function(){},n.prototype.visitNode=function(n){n.accept(this)},n.prototype.visitNodeOrToken=function(n){n.isToken()?this.visitToken(n):this.visitNode(n)},n.prototype.visitOptionalToken=function(n){n!==null&&this.visitToken(n)},n.prototype.visitOptionalNode=function(n){n!==null&&this.visitNode(n)},n.prototype.visitOptionalNodeOrToken=function(n){n!==null&&this.visitNodeOrToken(n)},n.prototype.visitList=function(n){for(var t=0,i=n.childCount();t<i;t++)this.visitNodeOrToken(n.childAt(t))},n.prototype.visitSeparatedList=function(n){for(var r,t=0,i=n.childCount();t<i;t++)r=n.childAt(t),this.visitNodeOrToken(r)},n.prototype.visitSourceUnit=function(n){this.visitList(n.moduleElements);this.visitToken(n.endOfFileToken)},n.prototype.visitExternalModuleReference=function(n){this.visitToken(n.moduleOrRequireKeyword);this.visitToken(n.openParenToken);this.visitToken(n.stringLiteral);this.visitToken(n.closeParenToken)},n.prototype.visitModuleNameModuleReference=function(n){this.visitNodeOrToken(n.moduleName)},n.prototype.visitImportDeclaration=function(n){this.visitToken(n.importKeyword);this.visitToken(n.identifier);this.visitToken(n.equalsToken);this.visitNode(n.moduleReference);this.visitToken(n.semicolonToken)},n.prototype.visitExportAssignment=function(n){this.visitToken(n.exportKeyword);this.visitToken(n.equalsToken);this.visitToken(n.identifier);this.visitToken(n.semicolonToken)},n.prototype.visitClassDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.classKeyword);this.visitToken(n.identifier);this.visitOptionalNode(n.typeParameterList);this.visitList(n.heritageClauses);this.visitToken(n.openBraceToken);this.visitList(n.classElements);this.visitToken(n.closeBraceToken)},n.prototype.visitInterfaceDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.interfaceKeyword);this.visitToken(n.identifier);this.visitOptionalNode(n.typeParameterList);this.visitList(n.heritageClauses);this.visitNode(n.body)},n.prototype.visitHeritageClause=function(n){this.visitToken(n.extendsOrImplementsKeyword);this.visitSeparatedList(n.typeNames)},n.prototype.visitModuleDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.moduleKeyword);this.visitOptionalNodeOrToken(n.moduleName);this.visitOptionalToken(n.stringLiteral);this.visitToken(n.openBraceToken);this.visitList(n.moduleElements);this.visitToken(n.closeBraceToken)},n.prototype.visitFunctionDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.functionKeyword);this.visitToken(n.identifier);this.visitNode(n.callSignature);this.visitOptionalNode(n.block);this.visitOptionalToken(n.semicolonToken)},n.prototype.visitVariableStatement=function(n){this.visitList(n.modifiers);this.visitNode(n.variableDeclaration);this.visitToken(n.semicolonToken)},n.prototype.visitVariableDeclaration=function(n){this.visitToken(n.varKeyword);this.visitSeparatedList(n.variableDeclarators)},n.prototype.visitVariableDeclarator=function(n){this.visitToken(n.identifier);this.visitOptionalNode(n.typeAnnotation);this.visitOptionalNode(n.equalsValueClause)},n.prototype.visitEqualsValueClause=function(n){this.visitToken(n.equalsToken);this.visitNodeOrToken(n.value)},n.prototype.visitPrefixUnaryExpression=function(n){this.visitToken(n.operatorToken);this.visitNodeOrToken(n.operand)},n.prototype.visitArrayLiteralExpression=function(n){this.visitToken(n.openBracketToken);this.visitSeparatedList(n.expressions);this.visitToken(n.closeBracketToken)},n.prototype.visitOmittedExpression=function(){},n.prototype.visitParenthesizedExpression=function(n){this.visitToken(n.openParenToken);this.visitNodeOrToken(n.expression);this.visitToken(n.closeParenToken)},n.prototype.visitSimpleArrowFunctionExpression=function(n){this.visitToken(n.identifier);this.visitToken(n.equalsGreaterThanToken);this.visitNodeOrToken(n.body)},n.prototype.visitParenthesizedArrowFunctionExpression=function(n){this.visitNode(n.callSignature);this.visitToken(n.equalsGreaterThanToken);this.visitNodeOrToken(n.body)},n.prototype.visitQualifiedName=function(n){this.visitNodeOrToken(n.left);this.visitToken(n.dotToken);this.visitToken(n.right)},n.prototype.visitTypeArgumentList=function(n){this.visitToken(n.lessThanToken);this.visitSeparatedList(n.typeArguments);this.visitToken(n.greaterThanToken)},n.prototype.visitConstructorType=function(n){this.visitToken(n.newKeyword);this.visitOptionalNode(n.typeParameterList);this.visitNode(n.parameterList);this.visitToken(n.equalsGreaterThanToken);this.visitNodeOrToken(n.type)},n.prototype.visitFunctionType=function(n){this.visitOptionalNode(n.typeParameterList);this.visitNode(n.parameterList);this.visitToken(n.equalsGreaterThanToken);this.visitNodeOrToken(n.type)},n.prototype.visitObjectType=function(n){this.visitToken(n.openBraceToken);this.visitSeparatedList(n.typeMembers);this.visitToken(n.closeBraceToken)},n.prototype.visitArrayType=function(n){this.visitNodeOrToken(n.type);this.visitToken(n.openBracketToken);this.visitToken(n.closeBracketToken)},n.prototype.visitGenericType=function(n){this.visitNodeOrToken(n.name);this.visitNode(n.typeArgumentList)},n.prototype.visitTypeAnnotation=function(n){this.visitToken(n.colonToken);this.visitNodeOrToken(n.type)},n.prototype.visitBlock=function(n){this.visitToken(n.openBraceToken);this.visitList(n.statements);this.visitToken(n.closeBraceToken)},n.prototype.visitParameter=function(n){this.visitOptionalToken(n.dotDotDotToken);this.visitOptionalToken(n.publicOrPrivateKeyword);this.visitToken(n.identifier);this.visitOptionalToken(n.questionToken);this.visitOptionalNode(n.typeAnnotation);this.visitOptionalNode(n.equalsValueClause)},n.prototype.visitMemberAccessExpression=function(n){this.visitNodeOrToken(n.expression);this.visitToken(n.dotToken);this.visitToken(n.name)},n.prototype.visitPostfixUnaryExpression=function(n){this.visitNodeOrToken(n.operand);this.visitToken(n.operatorToken)},n.prototype.visitElementAccessExpression=function(n){this.visitNodeOrToken(n.expression);this.visitToken(n.openBracketToken);this.visitNodeOrToken(n.argumentExpression);this.visitToken(n.closeBracketToken)},n.prototype.visitInvocationExpression=function(n){this.visitNodeOrToken(n.expression);this.visitNode(n.argumentList)},n.prototype.visitArgumentList=function(n){this.visitOptionalNode(n.typeArgumentList);this.visitToken(n.openParenToken);this.visitSeparatedList(n.arguments);this.visitToken(n.closeParenToken)},n.prototype.visitBinaryExpression=function(n){this.visitNodeOrToken(n.left);this.visitToken(n.operatorToken);this.visitNodeOrToken(n.right)},n.prototype.visitConditionalExpression=function(n){this.visitNodeOrToken(n.condition);this.visitToken(n.questionToken);this.visitNodeOrToken(n.whenTrue);this.visitToken(n.colonToken);this.visitNodeOrToken(n.whenFalse)},n.prototype.visitConstructSignature=function(n){this.visitToken(n.newKeyword);this.visitNode(n.callSignature)},n.prototype.visitMethodSignature=function(n){this.visitToken(n.propertyName);this.visitOptionalToken(n.questionToken);this.visitNode(n.callSignature)},n.prototype.visitIndexSignature=function(n){this.visitToken(n.openBracketToken);this.visitNode(n.parameter);this.visitToken(n.closeBracketToken);this.visitOptionalNode(n.typeAnnotation)},n.prototype.visitPropertySignature=function(n){this.visitToken(n.propertyName);this.visitOptionalToken(n.questionToken);this.visitOptionalNode(n.typeAnnotation)},n.prototype.visitCallSignature=function(n){this.visitOptionalNode(n.typeParameterList);this.visitNode(n.parameterList);this.visitOptionalNode(n.typeAnnotation)},n.prototype.visitParameterList=function(n){this.visitToken(n.openParenToken);this.visitSeparatedList(n.parameters);this.visitToken(n.closeParenToken)},n.prototype.visitTypeParameterList=function(n){this.visitToken(n.lessThanToken);this.visitSeparatedList(n.typeParameters);this.visitToken(n.greaterThanToken)},n.prototype.visitTypeParameter=function(n){this.visitToken(n.identifier);this.visitOptionalNode(n.constraint)},n.prototype.visitConstraint=function(n){this.visitToken(n.extendsKeyword);this.visitNodeOrToken(n.type)},n.prototype.visitElseClause=function(n){this.visitToken(n.elseKeyword);this.visitNodeOrToken(n.statement)},n.prototype.visitIfStatement=function(n){this.visitToken(n.ifKeyword);this.visitToken(n.openParenToken);this.visitNodeOrToken(n.condition);this.visitToken(n.closeParenToken);this.visitNodeOrToken(n.statement);this.visitOptionalNode(n.elseClause)},n.prototype.visitExpressionStatement=function(n){this.visitNodeOrToken(n.expression);this.visitToken(n.semicolonToken)},n.prototype.visitConstructorDeclaration=function(n){this.visitToken(n.constructorKeyword);this.visitNode(n.parameterList);this.visitOptionalNode(n.block);this.visitOptionalToken(n.semicolonToken)},n.prototype.visitMemberFunctionDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.propertyName);this.visitNode(n.callSignature);this.visitOptionalNode(n.block);this.visitOptionalToken(n.semicolonToken)},n.prototype.visitGetMemberAccessorDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.getKeyword);this.visitToken(n.propertyName);this.visitNode(n.parameterList);this.visitOptionalNode(n.typeAnnotation);this.visitNode(n.block)},n.prototype.visitSetMemberAccessorDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.setKeyword);this.visitToken(n.propertyName);this.visitNode(n.parameterList);this.visitNode(n.block)},n.prototype.visitMemberVariableDeclaration=function(n){this.visitList(n.modifiers);this.visitNode(n.variableDeclarator);this.visitToken(n.semicolonToken)},n.prototype.visitThrowStatement=function(n){this.visitToken(n.throwKeyword);this.visitNodeOrToken(n.expression);this.visitToken(n.semicolonToken)},n.prototype.visitReturnStatement=function(n){this.visitToken(n.returnKeyword);this.visitOptionalNodeOrToken(n.expression);this.visitToken(n.semicolonToken)},n.prototype.visitObjectCreationExpression=function(n){this.visitToken(n.newKeyword);this.visitNodeOrToken(n.expression);this.visitOptionalNode(n.argumentList)},n.prototype.visitSwitchStatement=function(n){this.visitToken(n.switchKeyword);this.visitToken(n.openParenToken);this.visitNodeOrToken(n.expression);this.visitToken(n.closeParenToken);this.visitToken(n.openBraceToken);this.visitList(n.switchClauses);this.visitToken(n.closeBraceToken)},n.prototype.visitCaseSwitchClause=function(n){this.visitToken(n.caseKeyword);this.visitNodeOrToken(n.expression);this.visitToken(n.colonToken);this.visitList(n.statements)},n.prototype.visitDefaultSwitchClause=function(n){this.visitToken(n.defaultKeyword);this.visitToken(n.colonToken);this.visitList(n.statements)},n.prototype.visitBreakStatement=function(n){this.visitToken(n.breakKeyword);this.visitOptionalToken(n.identifier);this.visitToken(n.semicolonToken)},n.prototype.visitContinueStatement=function(n){this.visitToken(n.continueKeyword);this.visitOptionalToken(n.identifier);this.visitToken(n.semicolonToken)},n.prototype.visitForStatement=function(n){this.visitToken(n.forKeyword);this.visitToken(n.openParenToken);this.visitOptionalNode(n.variableDeclaration);this.visitOptionalNodeOrToken(n.initializer);this.visitToken(n.firstSemicolonToken);this.visitOptionalNodeOrToken(n.condition);this.visitToken(n.secondSemicolonToken);this.visitOptionalNodeOrToken(n.incrementor);this.visitToken(n.closeParenToken);this.visitNodeOrToken(n.statement)},n.prototype.visitForInStatement=function(n){this.visitToken(n.forKeyword);this.visitToken(n.openParenToken);this.visitOptionalNode(n.variableDeclaration);this.visitOptionalNodeOrToken(n.left);this.visitToken(n.inKeyword);this.visitNodeOrToken(n.expression);this.visitToken(n.closeParenToken);this.visitNodeOrToken(n.statement)},n.prototype.visitWhileStatement=function(n){this.visitToken(n.whileKeyword);this.visitToken(n.openParenToken);this.visitNodeOrToken(n.condition);this.visitToken(n.closeParenToken);this.visitNodeOrToken(n.statement)},n.prototype.visitWithStatement=function(n){this.visitToken(n.withKeyword);this.visitToken(n.openParenToken);this.visitNodeOrToken(n.condition);this.visitToken(n.closeParenToken);this.visitNodeOrToken(n.statement)},n.prototype.visitEnumDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.enumKeyword);this.visitToken(n.identifier);this.visitToken(n.openBraceToken);this.visitSeparatedList(n.enumElements);this.visitToken(n.closeBraceToken)},n.prototype.visitEnumElement=function(n){this.visitToken(n.propertyName);this.visitOptionalNode(n.equalsValueClause)},n.prototype.visitCastExpression=function(n){this.visitToken(n.lessThanToken);this.visitNodeOrToken(n.type);this.visitToken(n.greaterThanToken);this.visitNodeOrToken(n.expression)},n.prototype.visitObjectLiteralExpression=function(n){this.visitToken(n.openBraceToken);this.visitSeparatedList(n.propertyAssignments);this.visitToken(n.closeBraceToken)},n.prototype.visitSimplePropertyAssignment=function(n){this.visitToken(n.propertyName);this.visitToken(n.colonToken);this.visitNodeOrToken(n.expression)},n.prototype.visitFunctionPropertyAssignment=function(n){this.visitToken(n.propertyName);this.visitNode(n.callSignature);this.visitNode(n.block)},n.prototype.visitGetAccessorPropertyAssignment=function(n){this.visitToken(n.getKeyword);this.visitToken(n.propertyName);this.visitToken(n.openParenToken);this.visitToken(n.closeParenToken);this.visitOptionalNode(n.typeAnnotation);this.visitNode(n.block)},n.prototype.visitSetAccessorPropertyAssignment=function(n){this.visitToken(n.setKeyword);this.visitToken(n.propertyName);this.visitToken(n.openParenToken);this.visitNode(n.parameter);this.visitToken(n.closeParenToken);this.visitNode(n.block)},n.prototype.visitFunctionExpression=function(n){this.visitToken(n.functionKeyword);this.visitOptionalToken(n.identifier);this.visitNode(n.callSignature);this.visitNode(n.block)},n.prototype.visitEmptyStatement=function(n){this.visitToken(n.semicolonToken)},n.prototype.visitTryStatement=function(n){this.visitToken(n.tryKeyword);this.visitNode(n.block);this.visitOptionalNode(n.catchClause);this.visitOptionalNode(n.finallyClause)},n.prototype.visitCatchClause=function(n){this.visitToken(n.catchKeyword);this.visitToken(n.openParenToken);this.visitToken(n.identifier);this.visitOptionalNode(n.typeAnnotation);this.visitToken(n.closeParenToken);this.visitNode(n.block)},n.prototype.visitFinallyClause=function(n){this.visitToken(n.finallyKeyword);this.visitNode(n.block)},n.prototype.visitLabeledStatement=function(n){this.visitToken(n.identifier);this.visitToken(n.colonToken);this.visitNodeOrToken(n.statement)},n.prototype.visitDoStatement=function(n){this.visitToken(n.doKeyword);this.visitNodeOrToken(n.statement);this.visitToken(n.whileKeyword);this.visitToken(n.openParenToken);this.visitNodeOrToken(n.condition);this.visitToken(n.closeParenToken);this.visitToken(n.semicolonToken)},n.prototype.visitTypeOfExpression=function(n){this.visitToken(n.typeOfKeyword);this.visitNodeOrToken(n.expression)},n.prototype.visitDeleteExpression=function(n){this.visitToken(n.deleteKeyword);this.visitNodeOrToken(n.expression)},n.prototype.visitVoidExpression=function(n){this.visitToken(n.voidKeyword);this.visitNodeOrToken(n.expression)},n.prototype.visitDebuggerStatement=function(n){this.visitToken(n.debuggerKeyword);this.visitToken(n.semicolonToken)},n}();n.SyntaxWalker=t}(TypeScript||(TypeScript={})),function(n){var t=function(n){function t(){n.apply(this,arguments);this._position=0}return __extends(t,n),t.prototype.visitToken=function(n){this._position+=n.fullWidth()},t.prototype.position=function(){return this._position},t.prototype.skip=function(n){this._position+=n.fullWidth()},t}(n.SyntaxWalker);n.PositionTrackingWalker=t}(TypeScript||(TypeScript={})),function(n){var t=function(t){function i(i,r){t.call(this);this.trackParents=i;this.trackPreviousToken=r;this.tokenToInformation=n.Collections.createHashTable(n.Collections.DefaultHashTableCapacity,n.Collections.identityHashCode);this.elementToPosition=n.Collections.createHashTable(n.Collections.DefaultHashTableCapacity,n.Collections.identityHashCode);this._previousToken=null;this._previousTokenInformation=null;this._currentPosition=0;this._elementToParent=n.Collections.createHashTable(n.Collections.DefaultHashTableCapacity,n.Collections.identityHashCode);this._parentStack=[];this._parentStack.push(null)}return __extends(i,t),i.create=function(n,t,r){var u=new i(t,r);return u.visitNode(n),u},i.prototype.visitNode=function(i){this.trackParents&&this._elementToParent.add(i,n.ArrayUtilities.last(this._parentStack));this.elementToPosition.add(i,this._currentPosition);this.trackParents&&this._parentStack.push(i);t.prototype.visitNode.call(this,i);this.trackParents&&this._parentStack.pop()},i.prototype.visitToken=function(t){if(this.trackParents&&this._elementToParent.add(t,n.ArrayUtilities.last(this._parentStack)),this.trackPreviousToken){var i={previousToken:this._previousToken,nextToken:null};this._previousTokenInformation!==null&&(this._previousTokenInformation.nextToken=t);this._previousToken=t;this._previousTokenInformation=i;this.tokenToInformation.add(t,i)}this.elementToPosition.add(t,this._currentPosition);this._currentPosition+=t.fullWidth()},i.prototype.parent=function(n){return this._elementToParent.get(n)},i.prototype.fullStart=function(n){return this.elementToPosition.get(n)},i.prototype.start=function(n){return this.fullStart(n)+n.leadingTriviaWidth()},i.prototype.end=function(n){return this.start(n)+n.width()},i.prototype.previousToken=function(n){return this.tokenInformation(n).previousToken},i.prototype.tokenInformation=function(n){return this.tokenToInformation.get(n)},i.prototype.firstTokenInLineContainingToken=function(n){for(var t=n,i;;){if(i=this.tokenInformation(t),this.isFirstTokenInLineWorker(i))break;t=i.previousToken}return t},i.prototype.isFirstTokenInLine=function(n){var t=this.tokenInformation(n);return this.isFirstTokenInLineWorker(t)},i.prototype.isFirstTokenInLineWorker=function(n){return n.previousToken===null||n.previousToken.hasTrailingNewLine()},i}(n.SyntaxWalker);n.SyntaxInformationMap=t}(TypeScript||(TypeScript={})),function(n){var t=function(t){function i(){t.apply(this,arguments);this.tokenTable=n.Collections.createHashTable(n.Collections.DefaultHashTableCapacity,n.Collections.identityHashCode)}return __extends(i,t),i.checkInvariants=function(n){n.accept(new i)},i.prototype.visitToken=function(n){this.tokenTable.add(n,n)},i}(n.SyntaxWalker);n.SyntaxNodeInvariantsChecker=t}(TypeScript||(TypeScript={})),function(n){var t=function(n){function t(t){n.call(this);this._depth=0;this._maximumDepth=0;this._maximumDepth=t}return __extends(t,n),t.prototype.visitNode=function(t){this._depth<this._maximumDepth?(this._depth++,n.prototype.visitNode.call(this,t),this._depth--):this.skip(t)},t}(n.PositionTrackingWalker);n.DepthLimitedWalker=t}(TypeScript||(TypeScript={})),function(n){(function(t){function s(n,t,i,r,e){var o=new u(n,t,r);return new f(n,t.lineMap(),o,e).parseSyntaxTree(i)}function h(n,t,i){if(t.isUnchanged())return n;var r=new o(n,t,i);return new f(n.fileName(),i.lineMap(),r,n.parseOptions()).parseSyntaxTree(n.isDeclaration())}var i,r;(function(n){n[n.CommaExpressionPrecedence=1]="CommaExpressionPrecedence";n[n.AssignmentExpressionPrecedence=2]="AssignmentExpressionPrecedence";n[n.ConditionalExpressionPrecedence=3]="ConditionalExpressionPrecedence";n[n.ArrowFunctionPrecedence=4]="ArrowFunctionPrecedence";n[n.LogicalOrExpressionPrecedence=5]="LogicalOrExpressionPrecedence";n[n.LogicalAndExpressionPrecedence=6]="LogicalAndExpressionPrecedence";n[n.BitwiseOrExpressionPrecedence=7]="BitwiseOrExpressionPrecedence";n[n.BitwiseExclusiveOrExpressionPrecedence=8]="BitwiseExclusiveOrExpressionPrecedence";n[n.BitwiseAndExpressionPrecedence=9]="BitwiseAndExpressionPrecedence";n[n.EqualityExpressionPrecedence=10]="EqualityExpressionPrecedence";n[n.RelationalExpressionPrecedence=11]="RelationalExpressionPrecedence";n[n.ShiftExpressionPrecdence=12]="ShiftExpressionPrecdence";n[n.AdditiveExpressionPrecedence=13]="AdditiveExpressionPrecedence";n[n.MultiplicativeExpressionPrecedence=14]="MultiplicativeExpressionPrecedence";n[n.UnaryExpressionPrecedence=15]="UnaryExpressionPrecedence"})(i||(i={})),function(n){n[n.SourceUnit_ModuleElements=1]="SourceUnit_ModuleElements";n[n.ClassDeclaration_ClassElements=2]="ClassDeclaration_ClassElements";n[n.ModuleDeclaration_ModuleElements=4]="ModuleDeclaration_ModuleElements";n[n.SwitchStatement_SwitchClauses=8]="SwitchStatement_SwitchClauses";n[n.SwitchClause_Statements=16]="SwitchClause_Statements";n[n.Block_Statements=32]="Block_Statements";n[n.TryBlock_Statements=64]="TryBlock_Statements";n[n.CatchBlock_Statements=128]="CatchBlock_Statements";n[n.EnumDeclaration_EnumElements=256]="EnumDeclaration_EnumElements";n[n.ObjectType_TypeMembers=512]="ObjectType_TypeMembers";n[n.ClassOrInterfaceDeclaration_HeritageClauses=1024]="ClassOrInterfaceDeclaration_HeritageClauses";n[n.HeritageClause_TypeNameList=2048]="HeritageClause_TypeNameList";n[n.VariableDeclaration_VariableDeclarators_AllowIn=4096]="VariableDeclaration_VariableDeclarators_AllowIn";n[n.VariableDeclaration_VariableDeclarators_DisallowIn=8192]="VariableDeclaration_VariableDeclarators_DisallowIn";n[n.ArgumentList_AssignmentExpressions=16384]="ArgumentList_AssignmentExpressions";n[n.ObjectLiteralExpression_PropertyAssignments=32768]="ObjectLiteralExpression_PropertyAssignments";n[n.ArrayLiteralExpression_AssignmentExpressions=65536]="ArrayLiteralExpression_AssignmentExpressions";n[n.ParameterList_Parameters=131072]="ParameterList_Parameters";n[n.TypeArgumentList_Types=262144]="TypeArgumentList_Types";n[n.TypeParameterList_TypeParameters=524288]="TypeParameterList_TypeParameters";n[n.FirstListParsingState=n.SourceUnit_ModuleElements]="FirstListParsingState";n[n.LastListParsingState=n.TypeArgumentList_Types]="LastListParsingState"}(r||(r={}));var e=function(){function n(n){this._elements=[];this._index=0;this._pinCount=0;n.insertChildrenInto(this._elements,0)}return n.prototype.isFinished=function(){return this._index===this._elements.length},n.prototype.currentElement=function(){return this.isFinished()?null:this._elements[this._index]},n.prototype.currentNode=function(){var n=this.currentElement();return n!==null&&n.isNode()?n:null},n.prototype.moveToFirstChild=function(){var n,t;this.isFinished()||(n=this._elements[this._index],n.isToken())||(t=n,this._elements.splice(this._index,1),t.insertChildrenInto(this._elements,this._index))},n.prototype.moveToNextSibling=function(){if(!this.isFinished()){if(this._pinCount>0){this._index++;return}this._elements.shift()}},n.prototype.getAndPinCursorIndex=function(){return this._pinCount++,this._index},n.prototype.releaseAndUnpinCursorIndex=function(){this._pinCount--;this._pinCount===0},n.prototype.rewindToPinnedCursorIndex=function(n){this._index=n},n.prototype.pinCount=function(){return this._pinCount},n.prototype.moveToFirstToken=function(){for(var n;!this.isFinished();){if(n=this.currentElement(),n.isNode()){this.moveToFirstChild();continue}return}},n.prototype.currentToken=function(){if(this.moveToFirstToken(),this.isFinished())return null;return this.currentElement()},n.prototype.peekToken=function(n){var t,i;this.moveToFirstToken();t=this.getAndPinCursorIndex();try{for(i=0;i<n;i++)this.moveToNextSibling(),this.moveToFirstToken();return this.currentToken()}finally{this.rewindToPinnedCursorIndex(t);this.releaseAndUnpinCursorIndex(t)}},n}(),u=function(){function t(t,i,r){this._previousToken=null;this._absolutePosition=0;this._tokenDiagnostics=[];this.rewindPointPool=[];this.rewindPointPoolCount=0;this.slidingWindow=new n.SlidingWindow(this,n.ArrayUtilities.createArray(32,null),null);this.scanner=new n.Scanner(t,i,r)}return t.prototype.languageVersion=function(){return this.scanner.languageVersion()},t.prototype.currentNode=function(){return null},t.prototype.moveToNextNode=function(){throw n.Errors.invalidOperation();},t.prototype.absolutePosition=function(){return this._absolutePosition},t.prototype.previousToken=function(){return this._previousToken},t.prototype.tokenDiagnostics=function(){return this._tokenDiagnostics},t.prototype.getOrCreateRewindPoint=function(){if(this.rewindPointPoolCount===0)return{};this.rewindPointPoolCount--;var n=this.rewindPointPool[this.rewindPointPoolCount];return this.rewindPointPool[this.rewindPointPoolCount]=null,n},t.prototype.getRewindPoint=function(){var t=this.slidingWindow.getAndPinAbsoluteIndex(),n=this.getOrCreateRewindPoint();return n.slidingWindowIndex=t,n.previousToken=this._previousToken,n.absolutePosition=this._absolutePosition,n.pinCount=this.slidingWindow.pinCount(),n},t.prototype.isPinned=function(){return this.slidingWindow.pinCount()>0},t.prototype.rewind=function(n){this.slidingWindow.rewindToPinnedIndex(n.slidingWindowIndex);this._previousToken=n.previousToken;this._absolutePosition=n.absolutePosition},t.prototype.releaseRewindPoint=function(n){this.slidingWindow.releaseAndUnpinAbsoluteIndex(n.absoluteIndex);this.rewindPointPool[this.rewindPointPoolCount]=n;this.rewindPointPoolCount++},t.prototype.fetchMoreItems=function(n,t,i,r){return i[r]=this.scanner.scan(this._tokenDiagnostics,n),1},t.prototype.peekToken=function(n){return this.slidingWindow.peekItemN(n)},t.prototype.moveToNextToken=function(){var n=this.currentToken();this._absolutePosition+=n.fullWidth();this._previousToken=n;this.slidingWindow.moveToNextItem()},t.prototype.currentToken=function(){return this.slidingWindow.currentItem(!1)},t.prototype.removeDiagnosticsOnOrAfterPosition=function(n){for(var t=this._tokenDiagnostics.length,i;t>0;)if(i=this._tokenDiagnostics[t-1],i.start()>=n)t--;else break;this._tokenDiagnostics.length=t},t.prototype.resetToPosition=function(n,t){this._absolutePosition=n;this._previousToken=t;this.removeDiagnosticsOnOrAfterPosition(n);this.slidingWindow.disgardAllItemsFromCurrentIndexOnwards();this.scanner.setAbsoluteIndex(n)},t.prototype.currentTokenAllowingRegularExpression=function(){this.resetToPosition(this._absolutePosition,this._previousToken);return this.slidingWindow.currentItem(!0)},t}(),o=function(){function t(n,i,r){this._changeDelta=0;var f=n.sourceUnit();this._oldSourceUnitCursor=new e(f);this._changeRange=t.extendToAffectedRange(i,f);this._normalParserSource=new u(n.fileName(),r,n.languageVersion())}return t.extendToAffectedRange=function(t,i){for(var r=t.span().start(),f,e,o,s,u=0;r>0&&u<=1;u++)f=i.findToken(r),e=f.fullStart(),r=n.MathPrototype.max(0,e-1);return o=n.TextSpan.fromBounds(r,t.span().end()),s=t.newLength()+(t.span().start()-r),new n.TextChangeRange(o,s)},t.prototype.languageVersion=function(){return this._normalParserSource.languageVersion()},t.prototype.absolutePosition=function(){return this._normalParserSource.absolutePosition()},t.prototype.previousToken=function(){return this._normalParserSource.previousToken()},t.prototype.tokenDiagnostics=function(){return this._normalParserSource.tokenDiagnostics()},t.prototype.getRewindPoint=function(){var n=this._normalParserSource.getRewindPoint(),t=this._oldSourceUnitCursor.getAndPinCursorIndex();return n.changeDelta=this._changeDelta,n.changeRange=this._changeRange,n.oldSourceUnitCursorIndex=t,n},t.prototype.rewind=function(n){this._changeRange=n.changeRange;this._changeDelta=n.changeDelta;this._oldSourceUnitCursor.rewindToPinnedCursorIndex(n.oldSourceUnitCursorIndex);this._normalParserSource.rewind(n)},t.prototype.releaseRewindPoint=function(n){this._oldSourceUnitCursor.releaseAndUnpinCursorIndex(n.oldSourceUnitCursorIndex);this._normalParserSource.releaseRewindPoint(n)},t.prototype.canReadFromOldSourceUnit=function(){return this._normalParserSource.isPinned()?!1:this._changeRange!==null&&this._changeRange.newSpan().intersectsWithPosition(this.absolutePosition())?!1:(this.syncCursorToNewTextIfBehind(),this._changeDelta===0&&!this._oldSourceUnitCursor.isFinished())},t.prototype.currentNode=function(){return this.canReadFromOldSourceUnit()?this.tryGetNodeFromOldSourceUnit():null},t.prototype.currentToken=function(){if(this.canReadFromOldSourceUnit()){var n=this.tryGetTokenFromOldSourceUnit();if(n!==null)return n}return this._normalParserSource.currentToken()},t.prototype.currentTokenAllowingRegularExpression=function(){return this._normalParserSource.currentTokenAllowingRegularExpression()},t.prototype.syncCursorToNewTextIfBehind=function(){for(;;){if(this._oldSourceUnitCursor.isFinished())break;if(this._changeDelta>=0)break;var n=this._oldSourceUnitCursor.currentElement();n.isNode()&&n.fullWidth()>Math.abs(this._changeDelta)?this._oldSourceUnitCursor.moveToFirstChild():(this._oldSourceUnitCursor.moveToNextSibling(),this._changeDelta+=n.fullWidth())}},t.prototype.intersectsWithChangeRangeSpanInOriginalText=function(n,t){return this._changeRange!==null&&this._changeRange.span().intersectsWith(n,t)},t.prototype.tryGetNodeFromOldSourceUnit=function(){for(;;){var n=this._oldSourceUnitCursor.currentNode();if(n===null)return null;if(!this.intersectsWithChangeRangeSpanInOriginalText(this.absolutePosition(),n.fullWidth())&&!n.isIncrementallyUnusable())return n;this._oldSourceUnitCursor.moveToFirstChild()}},t.prototype.canReuseTokenFromOldSourceUnit=function(n,t){return t!==null&&!this.intersectsWithChangeRangeSpanInOriginalText(n,t.fullWidth())&&!t.isIncrementallyUnusable()?!0:!1},t.prototype.tryGetTokenFromOldSourceUnit=function(){var n=this._oldSourceUnitCursor.currentToken();return this.canReuseTokenFromOldSourceUnit(this.absolutePosition(),n)?n:null},t.prototype.peekToken=function(n){if(this.canReadFromOldSourceUnit()){var t=this.tryPeekTokenFromOldSourceUnit(n);if(t!==null)return t}return this._normalParserSource.peekToken(n)},t.prototype.tryPeekTokenFromOldSourceUnit=function(n){for(var i=this.absolutePosition(),r,u,t=0;t<n;t++){if(r=this._oldSourceUnitCursor.peekToken(t),!this.canReuseTokenFromOldSourceUnit(i,r))return null;i+=r.fullWidth()}return u=this._oldSourceUnitCursor.peekToken(n),this.canReuseTokenFromOldSourceUnit(i,u)?u:null},t.prototype.moveToNextNode=function(){var r=this._oldSourceUnitCursor.currentElement(),n=this._oldSourceUnitCursor.currentNode(),t,i;this._oldSourceUnitCursor.moveToNextSibling();t=this.absolutePosition()+n.fullWidth();i=n.lastToken();this._normalParserSource.resetToPosition(t,i);this._changeRange!==null},t.prototype.moveToNextToken=function(){var n=this.currentToken(),t,i,r;this._oldSourceUnitCursor.currentToken()===n?(this._oldSourceUnitCursor.moveToNextSibling(),t=this.absolutePosition()+n.fullWidth(),i=n,this._normalParserSource.resetToPosition(t,i),this._changeRange!==null):(this._changeDelta-=n.fullWidth(),this._normalParserSource.moveToNextToken(),this._changeRange!==null&&(r=this._changeRange.newSpan(),this.absolutePosition()>=r.end()&&(this._changeDelta+=this._changeRange.newLength()-this._changeRange.span().length(),this._changeRange=null)))},t}(),f=function(){function t(t,i,r,u){this.listParsingState=0;this.isInStrictMode=!1;this.diagnostics=[];this.factory=n.Syntax.normalModeFactory;this.mergeTokensStorage=[];this.arrayPool=[];this.fileName=t;this.lineMap=i;this.source=r;this.parseOptions=u}return t.prototype.getRewindPoint=function(){var n=this.source.getRewindPoint();return n.diagnosticsCount=this.diagnostics.length,n.isInStrictMode=this.isInStrictMode,n.listParsingState=this.listParsingState,n},t.prototype.rewind=function(n){this.source.rewind(n);this.diagnostics.length=n.diagnosticsCount},t.prototype.releaseRewindPoint=function(n){this.source.releaseRewindPoint(n)},t.prototype.currentTokenStart=function(){return this.source.absolutePosition()+this.currentToken().leadingTriviaWidth()},t.prototype.previousTokenStart=function(){return this.previousToken()===null?0:this.source.absolutePosition()-this.previousToken().fullWidth()+this.previousToken().leadingTriviaWidth()},t.prototype.previousTokenEnd=function(){return this.previousToken()===null?0:this.previousTokenStart()+this.previousToken().width()},t.prototype.currentNode=function(){var n=this.source.currentNode();return n===null||n.parsedInStrictMode()!==this.isInStrictMode?null:n},t.prototype.currentToken=function(){return this.source.currentToken()},t.prototype.currentTokenAllowingRegularExpression=function(){return this.source.currentTokenAllowingRegularExpression()},t.prototype.peekToken=function(n){return this.source.peekToken(n)},t.prototype.eatAnyToken=function(){var n=this.currentToken();return this.moveToNextToken(),n},t.prototype.moveToNextToken=function(){this.source.moveToNextToken()},t.prototype.previousToken=function(){return this.source.previousToken()},t.prototype.eatNode=function(){var n=this.source.currentNode();return this.source.moveToNextNode(),n},t.prototype.eatToken=function(n){var t=this.currentToken();return t.tokenKind===n?(this.moveToNextToken(),t):this.createMissingToken(n,t)},t.prototype.tryEatToken=function(n){return this.currentToken().tokenKind===n?this.eatToken(n):null},t.prototype.tryEatKeyword=function(n){return this.currentToken().tokenKind===n?this.eatKeyword(n):null},t.prototype.eatKeyword=function(n){var t=this.currentToken();return t.tokenKind===n?(this.moveToNextToken(),t):this.createMissingToken(n,t)},t.prototype.isIdentifier=function(n){var t=n.tokenKind;return t===11?!0:t>=51?t<=59?!this.isInStrictMode:t<=70:!1},t.prototype.eatIdentifierNameToken=function(){var t=this.currentToken();return t.tokenKind===11?(this.moveToNextToken(),t):n.SyntaxFacts.isAnyKeyword(t.tokenKind)?(this.moveToNextToken(),n.Syntax.convertToIdentifierName(t)):this.createMissingToken(11,t)},t.prototype.eatIdentifierToken=function(){var t=this.currentToken();return this.isIdentifier(t)?(this.moveToNextToken(),t.tokenKind===11)?t:n.Syntax.convertToIdentifierName(t):this.createMissingToken(11,t)},t.prototype.canEatAutomaticSemicolon=function(n){var t=this.currentToken();return t.tokenKind===10?!0:t.tokenKind===72?!0:n?!0:this.previousToken()!==null&&this.previousToken().hasTrailingNewLine()?!0:!1},t.prototype.canEatExplicitOrAutomaticSemicolon=function(n){var t=this.currentToken();return t.tokenKind===79?!0:this.canEatAutomaticSemicolon(n)},t.prototype.eatExplicitOrAutomaticSemicolon=function(t){var r=this.currentToken(),i;return r.tokenKind===79?this.eatToken(79):this.canEatAutomaticSemicolon(t)?(i=n.Syntax.emptyToken(79),this.parseOptions.allowAutomaticSemicolonInsertion()||this.addDiagnostic(new n.SyntaxDiagnostic(this.fileName,this.previousTokenEnd(),0,11,null)),i):this.eatToken(79)},t.prototype.isKeyword=function(t){if(t>=n.SyntaxKind.FirstKeyword){if(t<=50)return!0;if(this.isInStrictMode)return t<=59}return!1},t.prototype.createMissingToken=function(t,i){var r=this.getExpectedTokenDiagnostic(t,i);return this.addDiagnostic(r),n.Syntax.emptyToken(t)},t.prototype.getExpectedTokenDiagnostic=function(t,i){var r=this.currentToken();return n.SyntaxFacts.isAnyKeyword(t)||n.SyntaxFacts.isAnyPunctuation(t)?new n.SyntaxDiagnostic(this.fileName,this.currentTokenStart(),r.width(),9,[n.SyntaxFacts.getText(t)]):i!==null&&n.SyntaxFacts.isAnyKeyword(i.tokenKind)?new n.SyntaxDiagnostic(this.fileName,this.currentTokenStart(),r.width(),10,[n.SyntaxFacts.getText(i.tokenKind)]):new n.SyntaxDiagnostic(this.fileName,this.currentTokenStart(),r.width(),7,null)},t.getPrecedence=function(t){switch(t){case 172:return 1;case 173:case 174:case 175:case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:case 184:return 2;case 185:return 3;case 186:return 5;case 187:return 6;case 188:return 7;case 189:return 8;case 190:return 9;case 191:case 192:case 193:case 194:return 10;case 195:case 196:case 197:case 198:case 199:case 200:return 11;case 201:case 202:case 203:return 12;case 207:case 208:return 13;case 204:case 205:case 206:return 14;case 163:case 164:case 165:case 166:case 169:case 170:case 171:case 167:case 168:return 15}throw n.Errors.invalidOperation();},t.prototype.addSkippedTokenAfterNodeOrToken=function(t,i){if(t.isToken())return this.addSkippedTokenAfterToken(t,i);if(t.isNode())return this.addSkippedTokenAfterNode(t,i);throw n.Errors.invalidOperation();},t.prototype.addSkippedTokenAfterNode=function(n,t){var i=n.lastToken(),r=this.addSkippedTokenAfterToken(i,t);return n.replaceToken(i,r)},t.prototype.addSkippedTokensBeforeNode=function(n,t){if(t.length>0){var i=n.firstToken(),r=this.addSkippedTokensBeforeToken(i,t);return n.replaceToken(i,r)}return n},t.prototype.addSkippedTokensBeforeToken=function(t,i){for(var u=[],r=0,f=i.length;r<f;r++)this.addSkippedTokenToTriviaArray(u,i[r]);return this.addTriviaTo(t.leadingTrivia(),u),this.returnArray(i),t.withLeadingTrivia(n.Syntax.triviaList(u))},t.prototype.addSkippedTokensAfterToken=function(t,i){var u,r,f;if(i.length===0)return this.returnArray(i),t;for(u=t.trailingTrivia().toArray(),r=0,f=i.length;r<f;r++)this.addSkippedTokenToTriviaArray(u,i[r]);return this.returnArray(i),t.withTrailingTrivia(n.Syntax.triviaList(u))},t.prototype.addSkippedTokenAfterToken=function(t,i){var r=t.trailingTrivia().toArray();return this.addSkippedTokenToTriviaArray(r,i),t.withTrailingTrivia(n.Syntax.triviaList(r))},t.prototype.addSkippedTokenToTriviaArray=function(t,i){this.addTriviaTo(i.leadingTrivia(),t);var r=i.withLeadingTrivia(n.Syntax.emptyTriviaList).withTrailingTrivia(n.Syntax.emptyTriviaList);t.push(n.Syntax.skippedTokenTrivia(r));this.addTriviaTo(i.trailingTrivia(),t)},t.prototype.addTriviaTo=function(n,t){for(var i=0,r=n.count();i<r;i++)t.push(n.syntaxTriviaAt(i))},t.prototype.parseSyntaxTree=function(t){var r=this.parseSourceUnit(),i=this.source.tokenDiagnostics().concat(this.diagnostics);return i.sort(function(n,t){return n.start()-t.start()}),new n.SyntaxTree(r,t,i,this.fileName,this.lineMap,this.source.languageVersion(),this.parseOptions)},t.prototype.setStrictMode=function(t){this.isInStrictMode=t;this.factory=t?n.Syntax.strictModeFactory:n.Syntax.normalModeFactory},t.prototype.parseSourceUnit=function(){var r=this.isInStrictMode,n=this.parseSyntaxList(1,t.updateStrictModeState),u=n.list,i;return this.setStrictMode(r),i=this.factory.sourceUnit(u,this.currentToken()),this.addSkippedTokensBeforeNode(i,n.skippedTokens)},t.updateStrictModeState=function(t,i){var r,u;if(!t.isInStrictMode){for(r=0;r<i.length;r++)if(u=i[r],!n.SyntaxFacts.isDirectivePrologueElement(u))return;t.setStrictMode(n.SyntaxFacts.isUseStrictDirective(i[i.length-1]))}},t.prototype.isModuleElement=function(n){return this.currentNode()!==null&&this.currentNode().isModuleElement()?!0:this.isImportDeclaration()||this.isExportAssignment()||this.isModuleDeclaration()||this.isInterfaceDeclaration()||this.isClassDeclaration()||this.isEnumDeclaration()||this.isStatement(n)},t.prototype.parseModuleElement=function(){if(this.currentNode()!==null&&this.currentNode().isModuleElement())return this.eatNode();if(this.isImportDeclaration())return this.parseImportDeclaration();if(this.isExportAssignment())return this.parseExportAssignment();if(this.isModuleDeclaration())return this.parseModuleDeclaration();if(this.isInterfaceDeclaration())return this.parseInterfaceDeclaration();if(this.isClassDeclaration())return this.parseClassDeclaration();if(this.isEnumDeclaration())return this.parseEnumDeclaration();if(this.isStatement(!1))return this.parseStatement();throw n.Errors.invalidOperation();},t.prototype.isImportDeclaration=function(){return this.currentToken().tokenKind===49},t.prototype.parseImportDeclaration=function(){var n=this.eatKeyword(49),t=this.eatIdentifierToken(),i=this.eatToken(108),r=this.parseModuleReference(),u=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.importDeclaration(n,t,i,r,u)},t.prototype.isExportAssignment=function(){return this.currentToken().tokenKind===47&&this.peekToken(1).tokenKind===108},t.prototype.parseExportAssignment=function(){var n=this.eatKeyword(47),t=this.eatToken(108),i=this.eatIdentifierToken(),r=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.exportAssignment(n,t,i,r)},t.prototype.parseModuleReference=function(){return this.isExternalModuleReference()?this.parseExternalModuleReference():this.parseModuleNameModuleReference()},t.prototype.isExternalModuleReference=function(){var n=this.currentToken();return n.tokenKind===66||n.tokenKind===67?this.peekToken(1).tokenKind===73:!1},t.prototype.parseExternalModuleReference=function(){var n=this.eatAnyToken(),t=this.eatToken(73),i=this.eatToken(14),r=this.eatToken(74);return this.factory.externalModuleReference(n,t,i,r)},t.prototype.parseModuleNameModuleReference=function(){var n=this.parseName();return this.factory.moduleNameModuleReference(n)},t.prototype.parseIdentifierName=function(){return this.eatIdentifierNameToken()},t.prototype.isName=function(){return this.isIdentifier(this.currentToken())},t.prototype.tryParseTypeArgumentList=function(n){var t,r,i,u,f;if(this.currentToken().kind()!==81)return null;if(!n)return t=this.eatToken(81),i=this.parseSeparatedSyntaxList(262144),u=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens),r=this.eatToken(82),this.factory.typeArgumentList(t,u,r);f=this.getRewindPoint();try{return(t=this.eatToken(81),i=this.parseSeparatedSyntaxList(262144),u=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens),r=this.eatToken(82),r.fullWidth()===0||!this.canFollowTypeArgumentListInExpression(this.currentToken().kind()))?(this.rewind(f),null):this.factory.typeArgumentList(t,u,r)}finally{this.releaseRewindPoint(f)}},t.prototype.canFollowTypeArgumentListInExpression=function(n){switch(n){case 73:case 77:case 74:case 76:case 107:case 79:case 80:case 106:case 85:case 88:case 87:case 89:case 104:case 105:case 101:case 99:case 100:case 72:case 10:return!0;default:return!1}},t.prototype.parseName=function(){for(var u=this.isIdentifier(this.currentToken()),i=this.eatIdentifierToken(),f,t,r;u&&this.currentToken().tokenKind===77;)f=this.eatToken(77),t=this.currentToken(),r=n.SyntaxFacts.isAnyKeyword(t.tokenKind)&&this.previousToken().hasTrailingNewLine()&&!t.hasTrailingNewLine()&&n.SyntaxFacts.isIdentifierNameOrAnyKeyword(this.peekToken(1))?this.createMissingToken(11,t):this.eatIdentifierNameToken(),i=this.factory.qualifiedName(i,f,r),u=r.fullWidth()>0;return i},t.prototype.isEnumDeclaration=function(){var n=this.modifierCount();return n>0&&this.peekToken(n).tokenKind===46?!0:this.currentToken().tokenKind===46&&this.isIdentifier(this.peekToken(1))},t.prototype.parseEnumDeclaration=function(){var f=this.parseModifiers(),e=this.eatKeyword(46),o=this.eatIdentifierToken(),t=this.eatToken(71),r=n.Syntax.emptySeparatedList,i,u;return t.width()>0&&(i=this.parseSeparatedSyntaxList(256),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),u=this.eatToken(72),this.factory.enumDeclaration(f,e,o,t,r,u)},t.prototype.isEnumElement=function(n){return this.currentNode()!==null&&this.currentNode().kind()===243?!0:this.isPropertyName(this.currentToken(),n)},t.prototype.parseEnumElement=function(){if(this.currentNode()!==null&&this.currentNode().kind()===243)return this.eatNode();var t=this.eatPropertyName(),n=null;return this.isEqualsValueClause(!1)&&(n=this.parseEqualsValueClause(!0)),this.factory.enumElement(t,n)},t.isModifier=function(n){switch(n.tokenKind){case 57:case 55:case 58:case 47:case 64:return!0;default:return!1}},t.prototype.modifierCount=function(){for(var n=0;;){if(t.isModifier(this.peekToken(n))){n++;continue}break}return n},t.prototype.parseModifiers=function(){for(var i=this.getArray(),r;;){if(t.isModifier(this.currentToken())){i.push(this.eatAnyToken());continue}break}return r=n.Syntax.list(i),this.returnZeroOrOneLengthArray(i),r},t.prototype.isClassDeclaration=function(){var n=this.modifierCount();return n>0&&this.peekToken(n).tokenKind===44?!0:this.currentToken().tokenKind===44&&this.isIdentifier(this.peekToken(1))},t.prototype.parseHeritageClauses=function(){var i=n.Syntax.emptyList,t;return this.isHeritageClause()&&(t=this.parseSyntaxList(1024),i=t.list,n.Debug.assert(t.skippedTokens.length===0)),i},t.prototype.parseClassDeclaration=function(){var f=this.parseModifiers(),e=this.eatKeyword(44),o=this.eatIdentifierToken(),s=this.parseOptionalTypeParameterList(!1),h=this.parseHeritageClauses(),t=this.eatToken(71),r=n.Syntax.emptyList,i,u;return t.width()>0&&(i=this.parseSyntaxList(2),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),u=this.eatToken(72),this.factory.classDeclaration(f,e,o,s,h,t,r,u)},t.prototype.isConstructorDeclaration=function(){return this.currentToken().tokenKind===63},t.isPublicOrPrivateKeyword=function(n){return n.tokenKind===57||n.tokenKind===55},t.prototype.isMemberAccessorDeclaration=function(n){var t=this.modifierCount();return this.peekToken(t).tokenKind!==65&&this.peekToken(t).tokenKind!==69?!1:(t++,this.isPropertyName(this.peekToken(t),n))},t.prototype.parseMemberAccessorDeclaration=function(){var t=this.parseModifiers();if(this.currentToken().tokenKind===65)return this.parseGetMemberAccessorDeclaration(t);if(this.currentToken().tokenKind===69)return this.parseSetMemberAccessorDeclaration(t);throw n.Errors.invalidOperation();},t.prototype.parseGetMemberAccessorDeclaration=function(n){var t=this.eatKeyword(65),i=this.eatPropertyName(),r=this.parseParameterList(),u=this.parseOptionalTypeAnnotation(!1),f=this.parseBlock(!1,!1);return this.factory.getMemberAccessorDeclaration(n,t,i,r,u,f)},t.prototype.parseSetMemberAccessorDeclaration=function(n){var t=this.eatKeyword(69),i=this.eatPropertyName(),r=this.parseParameterList(),u=this.parseBlock(!1,!1);return this.factory.setMemberAccessorDeclaration(n,t,i,r,u)},t.prototype.isClassElement=function(n){return this.currentNode()!==null&&this.currentNode().isClassElement()?!0:this.isConstructorDeclaration()||this.isMemberFunctionDeclaration(n)||this.isMemberAccessorDeclaration(n)||this.isMemberVariableDeclaration(n)||this.isIndexSignature()},t.prototype.parseConstructorDeclaration=function(){var i=this.eatKeyword(63),r=this.parseParameterList(),n=null,t=null;return this.isBlock()?t=this.parseBlock(!1,!0):n=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.constructorDeclaration(i,r,t,n)},t.prototype.isMemberFunctionDeclaration=function(n){for(var i=0,r;;){if(r=this.peekToken(i),this.isPropertyName(r,n)&&this.isCallSignature(i+1))return!0;if(t.isModifier(r)){i++;continue}return!1}},t.prototype.parseMemberFunctionDeclaration=function(){for(var r=this.getArray(),u,o,f,e;;){if(u=this.currentToken(),this.isPropertyName(u,!1)&&this.isCallSignature(1))break;n.Debug.assert(t.isModifier(u));r.push(this.eatAnyToken())}o=n.Syntax.list(r);this.returnZeroOrOneLengthArray(r);var c=this.eatPropertyName(),i=this.parseCallSignature(!1),s=this.tryAddUnexpectedEqualsGreaterThanToken(i),h=i!==s;return i=s,f=null,e=null,h||this.isBlock()?f=this.parseBlock(h,!0):e=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.memberFunctionDeclaration(o,c,i,f,e)},t.prototype.isDefinitelyMemberVariablePropertyName=function(t){if(n.SyntaxFacts.isAnyKeyword(this.peekToken(t).tokenKind))switch(this.peekToken(t+1).tokenKind){case 79:case 108:case 107:case 72:case 10:return!0;default:return!1}else return!0},t.prototype.isMemberVariableDeclaration=function(n){for(var i=0,r;;){if(r=this.peekToken(i),this.isPropertyName(r,n)&&this.isDefinitelyMemberVariablePropertyName(i))return!0;if(t.isModifier(this.peekToken(i))){i++;continue}return!1}},t.prototype.parseMemberVariableDeclaration=function(){for(var i=this.getArray(),r,u,f,e;;){if(r=this.currentToken(),this.isPropertyName(r,!1)&&this.isDefinitelyMemberVariablePropertyName(0))break;n.Debug.assert(t.isModifier(r));i.push(this.eatAnyToken())}return u=n.Syntax.list(i),this.returnZeroOrOneLengthArray(i),f=this.parseVariableDeclarator(!0,!0),e=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.memberVariableDeclaration(u,f,e)},t.prototype.parseClassElement=function(t){if(this.currentNode()!==null&&this.currentNode().isClassElement())return this.eatNode();if(this.isConstructorDeclaration())return this.parseConstructorDeclaration();if(this.isMemberFunctionDeclaration(t))return this.parseMemberFunctionDeclaration();if(this.isMemberAccessorDeclaration(t))return this.parseMemberAccessorDeclaration();if(this.isMemberVariableDeclaration(t))return this.parseMemberVariableDeclaration();if(this.isIndexSignature())return this.parseIndexSignature();throw n.Errors.invalidOperation();},t.prototype.tryAddUnexpectedEqualsGreaterThanToken=function(t){var i=this.currentToken(),u=i.tokenKind===86,r,f;return u?(r=new n.SyntaxDiagnostic(this.fileName,this.currentTokenStart(),i.width(),16,[]),this.addDiagnostic(r),f=this.eatAnyToken(),this.addSkippedTokenAfterNode(t,i)):t},t.prototype.isFunctionDeclaration=function(){var n=this.modifierCount();return this.peekToken(n).tokenKind===27},t.prototype.parseFunctionDeclaration=function(){var f=this.parseModifiers(),e=this.eatKeyword(27),o=this.eatIdentifierToken(),n=this.parseCallSignature(!1),r=this.tryAddUnexpectedEqualsGreaterThanToken(n),u=n!==r,t,i;return n=r,t=null,i=null,u||this.isBlock()?i=this.parseBlock(u,!0):t=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.functionDeclaration(f,e,o,n,i,t)},t.prototype.isModuleDeclaration=function(){var t=this.modifierCount(),n;return t>0&&this.peekToken(t).tokenKind===66?!0:this.currentToken().tokenKind===66?(n=this.peekToken(1),this.isIdentifier(n)||n.tokenKind===14):!1},t.prototype.parseModuleDeclaration=function(){var o=this.parseModifiers(),s=this.eatKeyword(66),u=null,f=null,t,i,r,e;return this.currentToken().tokenKind===14?f=this.eatToken(14):u=this.parseName(),t=this.eatToken(71),i=n.Syntax.emptyList,t.width()>0&&(r=this.parseSyntaxList(4),i=r.list,t=this.addSkippedTokensAfterToken(t,r.skippedTokens)),e=this.eatToken(72),this.factory.moduleDeclaration(o,s,u,f,t,i,e)},t.prototype.isInterfaceDeclaration=function(){var n=this.modifierCount();return n>0&&this.peekToken(n).tokenKind===52?!0:this.currentToken().tokenKind===52&&this.isIdentifier(this.peekToken(1))},t.prototype.parseInterfaceDeclaration=function(){var n=this.parseModifiers(),t=this.eatKeyword(52),i=this.eatIdentifierToken(),r=this.parseOptionalTypeParameterList(!1),u=this.parseHeritageClauses(),f=this.parseObjectType();return this.factory.interfaceDeclaration(n,t,i,r,u,f)},t.prototype.parseObjectType=function(){var t=this.eatToken(71),r=n.Syntax.emptySeparatedList,i,u;return t.width()>0&&(i=this.parseSeparatedSyntaxList(512),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),u=this.eatToken(72),this.factory.objectType(t,r,u)},t.prototype.isTypeMember=function(n){return this.currentNode()!==null&&this.currentNode().isTypeMember()?!0:this.isCallSignature(0)||this.isConstructSignature()||this.isIndexSignature()||this.isMethodSignature(n)||this.isPropertySignature(n)},t.prototype.parseTypeMember=function(){if(this.currentNode()!==null&&this.currentNode().isTypeMember())return this.eatNode();if(this.isCallSignature(0))return this.parseCallSignature(!1);if(this.isConstructSignature())return this.parseConstructSignature();if(this.isIndexSignature())return this.parseIndexSignature();if(this.isMethodSignature(!1))return this.parseMethodSignature();if(this.isPropertySignature(!1))return this.parsePropertySignature();throw n.Errors.invalidOperation();},t.prototype.parseConstructSignature=function(){var n=this.eatKeyword(31),t=this.parseCallSignature(!1);return this.factory.constructSignature(n,t)},t.prototype.parseIndexSignature=function(){var n=this.eatToken(75),t=this.parseParameter(),i=this.eatToken(76),r=this.parseOptionalTypeAnnotation(!1);return this.factory.indexSignature(n,t,i,r)},t.prototype.parseMethodSignature=function(){var n=this.eatPropertyName(),t=this.tryEatToken(106),i=this.parseCallSignature(!1);return this.factory.methodSignature(n,t,i)},t.prototype.parsePropertySignature=function(){var n=this.eatPropertyName(),t=this.tryEatToken(106),i=this.parseOptionalTypeAnnotation(!1);return this.factory.propertySignature(n,t,i)},t.prototype.isCallSignature=function(n){var t=this.peekToken(n).tokenKind;return t===73||t===81},t.prototype.isConstructSignature=function(){if(this.currentToken().tokenKind!==31)return!1;var n=this.peekToken(1);return n.tokenKind===81||n.tokenKind===73},t.prototype.isIndexSignature=function(){return this.currentToken().tokenKind===75},t.prototype.isMethodSignature=function(n){return this.isPropertyName(this.currentToken(),n)&&(this.isCallSignature(1)||this.peekToken(1).tokenKind===106&&this.isCallSignature(2))?!0:!1},t.prototype.isPropertySignature=function(n){var i=this.currentToken();return t.isModifier(i)&&!i.hasTrailingNewLine()&&this.isPropertyName(this.peekToken(1),n)?!1:this.isPropertyName(i,n)},t.prototype.isHeritageClause=function(){var n=this.currentToken();return n.tokenKind===48||n.tokenKind===51},t.prototype.isNotHeritageClauseTypeName=function(){return this.currentToken().tokenKind===51||this.currentToken().tokenKind===48?this.isIdentifier(this.peekToken(1)):!1},t.prototype.isHeritageClauseTypeName=function(){return this.isName()?!this.isNotHeritageClauseTypeName():!1},t.prototype.parseHeritageClause=function(){var t=this.eatAnyToken(),i,r;return n.Debug.assert(t.tokenKind===48||t.tokenKind===51),i=this.parseSeparatedSyntaxList(2048),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens),this.factory.heritageClause(t,r)},t.prototype.isStatement=function(t){if(this.currentNode()!==null&&this.currentNode().isStatement())return!0;switch(this.currentToken().tokenKind){case 57:case 55:case 58:var i=this.peekToken(1);if(n.SyntaxFacts.isIdentifierNameOrAnyKeyword(i))return!1}return this.isVariableStatement()||this.isLabeledStatement()||this.isFunctionDeclaration()||this.isIfStatement()||this.isBlock()||this.isExpressionStatement()||this.isReturnStatement()||this.isSwitchStatement()||this.isThrowStatement()||this.isBreakStatement()||this.isContinueStatement()||this.isForOrForInStatement()||this.isEmptyStatement(t)||this.isWhileStatement()||this.isWithStatement()||this.isDoStatement()||this.isTryStatement()||this.isDebuggerStatement()},t.prototype.parseStatement=function(){return this.currentNode()!==null&&this.currentNode().isStatement()?this.eatNode():this.isVariableStatement()?this.parseVariableStatement():this.isLabeledStatement()?this.parseLabeledStatement():this.isFunctionDeclaration()?this.parseFunctionDeclaration():this.isIfStatement()?this.parseIfStatement():this.isBlock()?this.parseBlock(!1,!1):this.isReturnStatement()?this.parseReturnStatement():this.isSwitchStatement()?this.parseSwitchStatement():this.isThrowStatement()?this.parseThrowStatement():this.isBreakStatement()?this.parseBreakStatement():this.isContinueStatement()?this.parseContinueStatement():this.isForOrForInStatement()?this.parseForOrForInStatement():this.isEmptyStatement(!1)?this.parseEmptyStatement():this.isWhileStatement()?this.parseWhileStatement():this.isWithStatement()?this.parseWithStatement():this.isDoStatement()?this.parseDoStatement():this.isTryStatement()?this.parseTryStatement():this.isDebuggerStatement()?this.parseDebuggerStatement():this.parseExpressionStatement()},t.prototype.isDebuggerStatement=function(){return this.currentToken().tokenKind===19},t.prototype.parseDebuggerStatement=function(){var n=this.eatKeyword(19),t=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.debuggerStatement(n,t)},t.prototype.isDoStatement=function(){return this.currentToken().tokenKind===22},t.prototype.parseDoStatement=function(){var n=this.eatKeyword(22),t=this.parseStatement(),i=this.eatKeyword(42),r=this.eatToken(73),u=this.parseExpression(!0),f=this.eatToken(74),e=this.eatExplicitOrAutomaticSemicolon(!0);return this.factory.doStatement(n,t,i,r,u,f,e)},t.prototype.isLabeledStatement=function(){return this.isIdentifier(this.currentToken())&&this.peekToken(1).tokenKind===107},t.prototype.parseLabeledStatement=function(){var n=this.eatIdentifierToken(),t=this.eatToken(107),i=this.parseStatement();return this.factory.labeledStatement(n,t,i)},t.prototype.isTryStatement=function(){return this.currentToken().tokenKind===38},t.prototype.parseTryStatement=function(){var r=this.eatKeyword(38),u=this.listParsingState,i,n,t;return this.listParsingState|=64,i=this.parseBlock(!1,!1),this.listParsingState=u,n=null,this.isCatchClause()&&(n=this.parseCatchClause()),t=null,(n===null||this.isFinallyClause())&&(t=this.parseFinallyClause()),this.factory.tryStatement(r,i,n,t)},t.prototype.isCatchClause=function(){return this.currentToken().tokenKind===17},t.prototype.parseCatchClause=function(){var t=this.eatKeyword(17),i=this.eatToken(73),r=this.eatIdentifierToken(),u=this.parseOptionalTypeAnnotation(!1),f=this.eatToken(74),e=this.listParsingState,n;return this.listParsingState|=128,n=this.parseBlock(!1,!1),this.listParsingState=e,this.factory.catchClause(t,i,r,u,f,n)},t.prototype.isFinallyClause=function(){return this.currentToken().tokenKind===25},t.prototype.parseFinallyClause=function(){var n=this.eatKeyword(25),t=this.parseBlock(!1,!1);return this.factory.finallyClause(n,t)},t.prototype.isWithStatement=function(){return this.currentToken().tokenKind===43},t.prototype.parseWithStatement=function(){var n=this.eatKeyword(43),t=this.eatToken(73),i=this.parseExpression(!0),r=this.eatToken(74),u=this.parseStatement();return this.factory.withStatement(n,t,i,r,u)},t.prototype.isWhileStatement=function(){return this.currentToken().tokenKind===42},t.prototype.parseWhileStatement=function(){var n=this.eatKeyword(42),t=this.eatToken(73),i=this.parseExpression(!0),r=this.eatToken(74),u=this.parseStatement();return this.factory.whileStatement(n,t,i,r,u)},t.prototype.isEmptyStatement=function(n){return n?!1:this.currentToken().tokenKind===79},t.prototype.parseEmptyStatement=function(){var n=this.eatToken(79);return this.factory.emptyStatement(n)},t.prototype.isForOrForInStatement=function(){return this.currentToken().tokenKind===26},t.prototype.parseForOrForInStatement=function(){var n=this.eatKeyword(26),t=this.eatToken(73),i=this.currentToken();return i.tokenKind===40?this.parseForOrForInStatementWithVariableDeclaration(n,t):i.tokenKind===79?this.parseForStatement(n,t):this.parseForOrForInStatementWithInitializer(n,t)},t.prototype.parseForOrForInStatementWithVariableDeclaration=function(n,t){var i=this.parseVariableDeclaration(!1);return this.currentToken().tokenKind===29?this.parseForInStatementWithVariableDeclarationOrInitializer(n,t,i,null):this.parseForStatementWithVariableDeclarationOrInitializer(n,t,i,null)},t.prototype.parseForInStatementWithVariableDeclarationOrInitializer=function(n,t,i,r){var u=this.eatKeyword(29),f=this.parseExpression(!0),e=this.eatToken(74),o=this.parseStatement();return this.factory.forInStatement(n,t,i,r,u,f,e,o)},t.prototype.parseForOrForInStatementWithInitializer=function(n,t){var i=this.parseExpression(!1);return this.currentToken().tokenKind===29?this.parseForInStatementWithVariableDeclarationOrInitializer(n,t,null,i):this.parseForStatementWithVariableDeclarationOrInitializer(n,t,null,i)},t.prototype.parseForStatement=function(n,t){var i=null;return this.currentToken().tokenKind!==79&&this.currentToken().tokenKind!==74&&this.currentToken().tokenKind!==10&&(i=this.parseExpression(!1)),this.parseForStatementWithVariableDeclarationOrInitializer(n,t,null,i)},t.prototype.parseForStatementWithVariableDeclarationOrInitializer=function(n,t,i,r){var h=this.eatToken(79),f=null,e,u,o,s;return this.currentToken().tokenKind!==79&&this.currentToken().tokenKind!==74&&this.currentToken().tokenKind!==10&&(f=this.parseExpression(!0)),e=this.eatToken(79),u=null,this.currentToken().tokenKind!==74&&this.currentToken().tokenKind!==10&&(u=this.parseExpression(!0)),o=this.eatToken(74),s=this.parseStatement(),this.factory.forStatement(n,t,i,r,h,f,e,u,o,s)},t.prototype.isBreakStatement=function(){return this.currentToken().tokenKind===15},t.prototype.parseBreakStatement=function(){var i=this.eatKeyword(15),n=null,t;return this.canEatExplicitOrAutomaticSemicolon(!1)||this.isIdentifier(this.currentToken())&&(n=this.eatIdentifierToken()),t=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.breakStatement(i,n,t)},t.prototype.isContinueStatement=function(){return this.currentToken().tokenKind===18},t.prototype.parseContinueStatement=function(){var i=this.eatKeyword(18),n=null,t;return this.canEatExplicitOrAutomaticSemicolon(!1)||this.isIdentifier(this.currentToken())&&(n=this.eatIdentifierToken()),t=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.continueStatement(i,n,t)},t.prototype.isSwitchStatement=function(){return this.currentToken().tokenKind===34},t.prototype.parseSwitchStatement=function(){var f=this.eatKeyword(34),e=this.eatToken(73),o=this.parseExpression(!0),s=this.eatToken(74),t=this.eatToken(71),r=n.Syntax.emptyList,i,u;return t.width()>0&&(i=this.parseSyntaxList(8),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),u=this.eatToken(72),this.factory.switchStatement(f,e,o,s,t,r,u)},t.prototype.isCaseSwitchClause=function(){return this.currentToken().tokenKind===16},t.prototype.isDefaultSwitchClause=function(){return this.currentToken().tokenKind===20},t.prototype.isSwitchClause=function(){return this.currentNode()!==null&&this.currentNode().isSwitchClause()?!0:this.isCaseSwitchClause()||this.isDefaultSwitchClause()},t.prototype.parseSwitchClause=function(){if(this.currentNode()!==null&&this.currentNode().isSwitchClause())return this.eatNode();if(this.isCaseSwitchClause())return this.parseCaseSwitchClause();if(this.isDefaultSwitchClause())return this.parseDefaultSwitchClause();throw n.Errors.invalidOperation();},t.prototype.parseCaseSwitchClause=function(){var u=this.eatKeyword(16),f=this.parseExpression(!0),t=this.eatToken(107),r=n.Syntax.emptyList,i;return t.fullWidth()>0&&(i=this.parseSyntaxList(16),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),this.factory.caseSwitchClause(u,f,t,r)},t.prototype.parseDefaultSwitchClause=function(){var u=this.eatKeyword(20),t=this.eatToken(107),r=n.Syntax.emptyList,i;return t.fullWidth()>0&&(i=this.parseSyntaxList(16),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),this.factory.defaultSwitchClause(u,t,r)},t.prototype.isThrowStatement=function(){return this.currentToken().tokenKind===36},t.prototype.parseThrowStatement=function(){var r=this.eatKeyword(36),n=null,t,i;return this.canEatExplicitOrAutomaticSemicolon(!1)?(t=this.createMissingToken(11,null),n=t):n=this.parseExpression(!0),i=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.throwStatement(r,n,i)},t.prototype.isReturnStatement=function(){return this.currentToken().tokenKind===33},t.prototype.parseReturnStatement=function(){var i=this.eatKeyword(33),n=null,t;return this.canEatExplicitOrAutomaticSemicolon(!1)||(n=this.parseExpression(!0)),t=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.returnStatement(i,n,t)},t.prototype.isExpressionStatement=function(){var t=this.currentToken(),n=t.tokenKind;return n===71||n===27?!1:this.isExpression()},t.prototype.isAssignmentOrOmittedExpression=function(){return this.currentToken().tokenKind===80?!0:this.isExpression()},t.prototype.parseAssignmentOrOmittedExpression=function(){return this.currentToken().tokenKind===80?this.factory.omittedExpression():this.parseAssignmentExpression(!0)},t.prototype.isExpression=function(){var n=this.currentToken(),t=n.tokenKind;switch(t){case 13:case 14:case 12:return!0;case 75:case 73:return!0;case 81:return!0;case 94:case 95:case 90:case 91:case 103:case 102:return!0;case 71:return!0;case 86:return!0;case 119:case 120:return!0;case 50:case 35:case 37:case 24:case 32:return!0;case 31:return!0;case 21:case 41:case 39:return!0;case 27:return!0}return this.isIdentifier(this.currentToken())?!0:!1},t.prototype.parseExpressionStatement=function(){var n=this.parseExpression(!0),t=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.expressionStatement(n,t)},t.prototype.isIfStatement=function(){return this.currentToken().tokenKind===28},t.prototype.parseIfStatement=function(){var t=this.eatKeyword(28),i=this.eatToken(73),r=this.parseExpression(!0),u=this.eatToken(74),f=this.parseStatement(),n=null;return this.isElseClause()&&(n=this.parseElseClause()),this.factory.ifStatement(t,i,r,u,f,n)},t.prototype.isElseClause=function(){return this.currentToken().tokenKind===23},t.prototype.parseElseClause=function(){var n=this.eatKeyword(23),t=this.parseStatement();return this.factory.elseClause(n,t)},t.prototype.isVariableStatement=function(){var n=this.modifierCount();return this.peekToken(n).tokenKind===40},t.prototype.parseVariableStatement=function(){var n=this.parseModifiers(),t=this.parseVariableDeclaration(!0),i=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.variableStatement(n,t,i)},t.prototype.parseVariableDeclaration=function(n){var t=this.eatKeyword(40),r=n?4096:8192,i=this.parseSeparatedSyntaxList(r),u=i.list;return t=this.addSkippedTokensAfterToken(t,i.skippedTokens),this.factory.variableDeclaration(t,u)},t.prototype.isVariableDeclarator=function(){return this.currentNode()!==null&&this.currentNode().kind()===224?!0:this.isIdentifier(this.currentToken())},t.prototype.canReuseVariableDeclaratorNode=function(n){if(n===null||n.kind()!==224)return!1;var t=n;return t.equalsValueClause===null},t.prototype.parseVariableDeclarator=function(n,t){if(this.canReuseVariableDeclaratorNode(this.currentNode()))return this.eatNode();var i=t?this.eatPropertyName():this.eatIdentifierToken(),r=null,u=null;return i.width()>0&&(u=this.parseOptionalTypeAnnotation(!1),this.isEqualsValueClause(!1)&&(r=this.parseEqualsValueClause(n))),this.factory.variableDeclarator(i,u,r)},t.prototype.isColonValueClause=function(){return this.currentToken().tokenKind===107},t.prototype.isEqualsValueClause=function(n){var t=this.currentToken();return t.tokenKind===108?!0:this.previousToken().hasTrailingNewLine()?!1:t.tokenKind===86?!1:t.tokenKind===71&&n?!1:this.isExpression()},t.prototype.parseEqualsValueClause=function(n){var t=this.eatToken(108),i=this.parseAssignmentExpression(n);return this.factory.equalsValueClause(t,i)},t.prototype.parseExpression=function(n){return this.parseSubExpression(0,n)},t.prototype.parseAssignmentExpression=function(n){return this.parseSubExpression(2,n)},t.prototype.parseUnaryExpression=function(){var t=this.currentToken().tokenKind;if(n.SyntaxFacts.isPrefixUnaryExpressionOperatorToken(t)){var i=n.SyntaxFacts.getPrefixUnaryExpressionFromOperatorToken(t),r=this.eatAnyToken(),u=this.parseUnaryExpression();return this.factory.prefixUnaryExpression(i,r,u)}return this.parseTerm(!1)},t.prototype.parseSubExpression=function(n,t){var i=this.parseUnaryExpression();return this.parseBinaryOrConditionalExpressions(n,t,i)},t.prototype.parseBinaryOrConditionalExpressions=function(i,r,u){for(var o,e,l,a,c;;){if(o=this.currentToken(),e=o.tokenKind,n.SyntaxFacts.isBinaryExpressionOperatorToken(e)){if(e===29&&!r)break;var f=this.tryMergeBinaryExpressionTokens(),v=f===null?e:f.syntaxKind,s=n.SyntaxFacts.getBinaryExpressionFromOperatorToken(v),h=t.getPrecedence(s);if(h<i)break;if(h===i&&!this.isRightAssociative(s))break;for(l=f===null?o:n.Syntax.token(f.syntaxKind).withLeadingTrivia(o.leadingTrivia()).withTrailingTrivia(this.peekToken(f.tokenCount-1).trailingTrivia()),a=f===null?1:f.tokenCount,c=0;c<a;c++)this.eatAnyToken();u=this.factory.binaryExpression(s,u,l,this.parseSubExpression(h,r));continue}if(e===106&&i<=3){var y=this.eatToken(106),p=this.parseAssignmentExpression(r),w=this.eatToken(107),b=this.parseAssignmentExpression(r);u=this.factory.conditionalExpression(u,y,p,w,b);continue}break}return u},t.prototype.tryMergeBinaryExpressionTokens=function(){var r=this.currentToken(),n,t,i;if(r.tokenKind===82&&!r.hasTrailingTrivia()){for(n=this.mergeTokensStorage,n[0]=0,n[1]=0,n[2]=0,t=0;t<n.length;t++)if(i=this.peekToken(t+1),i.hasLeadingTrivia()||(n[t]=i.tokenKind),i.hasTrailingTrivia())break;if(n[0]===82)return n[1]===82?n[2]===108?{tokenCount:4,syntaxKind:115}:{tokenCount:3,syntaxKind:98}:n[1]===108?{tokenCount:3,syntaxKind:114}:{tokenCount:2,syntaxKind:97};if(n[0]===108)return{tokenCount:2,syntaxKind:84}}return null},t.prototype.isRightAssociative=function(n){switch(n){case 173:case 174:case 175:case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:case 184:return!0;default:return!1}},t.prototype.parseTerm=function(n){var t=this.parseTermWorker();return t===null?this.eatIdentifierToken():this.parsePostFixExpression(t,n)},t.prototype.parsePostFixExpression=function(t,i){for(var r,u;;){r=this.currentToken().tokenKind;switch(r){case 73:if(i)return t;t=this.factory.invocationExpression(t,this.parseArgumentList(null));continue;case 81:if(i)return t;if(u=this.tryParseArgumentList(),u!==null){t=this.factory.invocationExpression(t,u);continue}break;case 75:t=this.parseElementAccessExpression(t,i);continue;case 94:case 95:if(this.previousToken()!==null&&this.previousToken().hasTrailingNewLine())break;t=this.factory.postfixUnaryExpression(n.SyntaxFacts.getPostfixUnaryExpressionFromOperatorToken(r),t,this.eatAnyToken());continue;case 77:t=this.factory.memberAccessExpression(t,this.eatToken(77),this.eatIdentifierNameToken());continue}return t}},t.prototype.tryParseArgumentList=function(){var t=null,i,f;if(this.currentToken().tokenKind===81){i=this.getRewindPoint();try{t=this.tryParseTypeArgumentList(!0);var r=this.currentToken(),e=r.tokenKind===73,u=r.tokenKind===77,o=e||u;if(t===null||!o)return this.rewind(i),null;if(u)return f=new n.SyntaxDiagnostic(this.fileName,this.currentTokenStart(),r.width(),138,null),this.addDiagnostic(f),this.factory.argumentList(t,n.Syntax.emptyToken(73),n.Syntax.emptySeparatedList,n.Syntax.emptyToken(74))}finally{this.releaseRewindPoint(i)}}return this.currentToken().tokenKind===73?this.parseArgumentList(t):null},t.prototype.parseArgumentList=function(t){var i=this.eatToken(73),arguments=n.Syntax.emptySeparatedList,r,u;return i.fullWidth()>0&&(r=this.parseSeparatedSyntaxList(16384),arguments=r.list,i=this.addSkippedTokensAfterToken(i,r.skippedTokens)),u=this.eatToken(74),this.factory.argumentList(t,i,arguments,u)},t.prototype.parseElementAccessExpression=function(t,i){var u=this.currentTokenStart(),s=this.eatToken(75),r,f,e,o;return this.currentToken().tokenKind===76&&i?(f=this.currentTokenStart()+this.currentToken().width(),e=new n.SyntaxDiagnostic(this.fileName,u,f-u,137,null),this.addDiagnostic(e),r=n.Syntax.emptyToken(11)):r=this.parseExpression(!0),o=this.eatToken(76),this.factory.elementAccessExpression(t,s,r,o)},t.prototype.parseTermWorker=function(){var n=this.currentToken(),i,t;if(n.tokenKind===86)return this.parseSimpleArrowFunctionExpression();if(this.isIdentifier(n))return this.isSimpleArrowFunctionExpression()?this.parseSimpleArrowFunctionExpression():this.eatIdentifierToken();i=n.tokenKind;switch(i){case 35:return this.parseThisExpression();case 37:case 24:return this.parseLiteralExpression();case 32:return this.parseLiteralExpression();case 31:return this.parseObjectCreationExpression();case 27:return this.parseFunctionExpression();case 50:return this.parseSuperExpression();case 39:return this.parseTypeOfExpression();case 21:return this.parseDeleteExpression();case 41:return this.parseVoidExpression();case 13:return this.parseLiteralExpression();case 12:return this.parseLiteralExpression();case 14:return this.parseLiteralExpression();case 75:return this.parseArrayLiteralExpression();case 71:return this.parseObjectLiteralExpression();case 73:return this.parseParenthesizedOrArrowFunctionExpression();case 81:return this.parseCastOrArrowFunctionExpression();case 119:case 120:if(t=this.tryReparseDivideAsRegularExpression(),t!==null)return t}return null},t.prototype.tryReparseDivideAsRegularExpression=function(){var t=this.currentToken(),i;if(this.previousToken()!==null){i=this.previousToken().tokenKind;switch(i){case 11:return null;case 35:case 37:case 24:return null;case 14:case 13:case 12:case 94:case 95:case 76:case 72:return null}}if(t=this.currentTokenAllowingRegularExpression(),t.tokenKind===119||t.tokenKind===120)return null;if(t.tokenKind===12)return this.parseLiteralExpression();throw n.Errors.invalidOperation();},t.prototype.parseTypeOfExpression=function(){var n=this.eatKeyword(39),t=this.parseUnaryExpression();return this.factory.typeOfExpression(n,t)},t.prototype.parseDeleteExpression=function(){var n=this.eatKeyword(21),t=this.parseUnaryExpression();return this.factory.deleteExpression(n,t)},t.prototype.parseVoidExpression=function(){var n=this.eatKeyword(41),t=this.parseUnaryExpression();return this.factory.voidExpression(n,t)},t.prototype.parseSuperExpression=function(){return this.eatKeyword(50)},t.prototype.parseFunctionExpression=function(){var r=this.eatKeyword(27),n=null,t,i;return this.isIdentifier(this.currentToken())&&(n=this.eatIdentifierToken()),t=this.parseCallSignature(!1),i=this.parseBlock(!1,!0),this.factory.functionExpression(r,n,t,i)},t.prototype.parseObjectCreationExpression=function(){var n=this.eatKeyword(31),t=this.parseTerm(!0),i=this.tryParseArgumentList();return this.factory.objectCreationExpression(n,t,i)},t.prototype.parseCastOrArrowFunctionExpression=function(){var t=this.getRewindPoint(),n;try{return(n=this.tryParseArrowFunctionExpression(),n!==null)?n:(this.rewind(t),this.parseCastExpression())}finally{this.releaseRewindPoint(t)}},t.prototype.parseCastExpression=function(){var n=this.eatToken(81),t=this.parseType(),i=this.eatToken(82),r=this.parseUnaryExpression();return this.factory.castExpression(n,t,i,r)},t.prototype.parseParenthesizedOrArrowFunctionExpression=function(){var n=this.tryParseArrowFunctionExpression();if(n!==null)return n;var t=this.eatToken(73),i=this.parseExpression(!0),r=this.eatToken(74);return this.factory.parenthesizedExpression(t,i,r)},t.prototype.tryParseArrowFunctionExpression=function(){var i=this.currentToken().tokenKind,n,t;if(this.isDefinitelyArrowFunctionExpression())return this.parseParenthesizedArrowFunctionExpression(!1);if(!this.isPossiblyArrowFunctionExpression())return null;n=this.getRewindPoint();try{return t=this.parseParenthesizedArrowFunctionExpression(!0),t===null&&this.rewind(n),t}finally{this.releaseRewindPoint(n)}},t.prototype.parseParenthesizedArrowFunctionExpression=function(n){var u=this.currentToken(),r=this.parseCallSignature(!0),t,i;return n&&this.currentToken().tokenKind!==86?null:(t=this.eatToken(86),i=this.parseArrowFunctionBody(),this.factory.parenthesizedArrowFunctionExpression(r,t,i))},t.prototype.parseArrowFunctionBody=function(){return this.isBlock()?this.parseBlock(!1,!1):this.parseAssignmentExpression(!0)},t.prototype.isSimpleArrowFunctionExpression=function(){return this.currentToken().tokenKind===86?!0:this.isIdentifier(this.currentToken())&&this.peekToken(1).tokenKind===86},t.prototype.parseSimpleArrowFunctionExpression=function(){var n=this.eatIdentifierToken(),t=this.eatToken(86),i=this.parseArrowFunctionBody();return this.factory.simpleArrowFunctionExpression(n,t,i)},t.prototype.isBlock=function(){return this.currentToken().tokenKind===71},t.prototype.isDefinitelyArrowFunctionExpression=function(){var r=this.currentToken(),i,n,t;return r.tokenKind!==73?!1:(i=this.peekToken(1),i.tokenKind===74)?(n=this.peekToken(2),n.tokenKind===107||n.tokenKind===86||n.tokenKind===71):i.tokenKind===78?!0:this.isIdentifier(i)?(n=this.peekToken(2),n.tokenKind===107)?!0:(t=this.peekToken(3),n.tokenKind===106&&(t.tokenKind===107||t.tokenKind===74||t.tokenKind===80))?!0:n.tokenKind===74&&t.tokenKind===86?!0:!1:!1},t.prototype.isPossiblyArrowFunctionExpression=function(){var r=this.currentToken(),t,n,i;return r.tokenKind!==73?!0:(t=this.peekToken(1),!this.isIdentifier(t))?!1:(n=this.peekToken(2),n.tokenKind===108)?!0:n.tokenKind===80?!0:n.tokenKind===74&&(i=this.peekToken(3),i.tokenKind===107)?!0:!1},t.prototype.parseObjectLiteralExpression=function(){var n=this.eatToken(71),t=this.parseSeparatedSyntaxList(32768),r=t.list,i;return n=this.addSkippedTokensAfterToken(n,t.skippedTokens),i=this.eatToken(72),this.factory.objectLiteralExpression(n,r,i)},t.prototype.parsePropertyAssignment=function(){if(this.isGetAccessorPropertyAssignment(!1))return this.parseGetAccessorPropertyAssignment();if(this.isSetAccessorPropertyAssignment(!1))return this.parseSetAccessorPropertyAssignment();if(this.isFunctionPropertyAssignment(!1))return this.parseFunctionPropertyAssignment();if(this.isSimplePropertyAssignment(!1))return this.parseSimplePropertyAssignment();throw n.Errors.invalidOperation();},t.prototype.isPropertyAssignment=function(n){return this.isGetAccessorPropertyAssignment(n)||this.isSetAccessorPropertyAssignment(n)||this.isFunctionPropertyAssignment(n)||this.isSimplePropertyAssignment(n)},t.prototype.isGetAccessorPropertyAssignment=function(n){return this.currentToken().tokenKind===65&&this.isPropertyName(this.peekToken(1),n)},t.prototype.parseGetAccessorPropertyAssignment=function(){var n=this.eatKeyword(65),t=this.eatPropertyName(),i=this.eatToken(73),r=this.eatToken(74),u=this.parseOptionalTypeAnnotation(!1),f=this.parseBlock(!1,!0);return this.factory.getAccessorPropertyAssignment(n,t,i,r,u,f)},t.prototype.isSetAccessorPropertyAssignment=function(n){return this.currentToken().tokenKind===69&&this.isPropertyName(this.peekToken(1),n)},t.prototype.parseSetAccessorPropertyAssignment=function(){var n=this.eatKeyword(69),t=this.eatPropertyName(),i=this.eatToken(73),r=this.parseParameter(),u=this.eatToken(74),f=this.parseBlock(!1,!0);return this.factory.setAccessorPropertyAssignment(n,t,i,r,u,f)},t.prototype.eatPropertyName=function(){return n.SyntaxFacts.isIdentifierNameOrAnyKeyword(this.currentToken())?this.eatIdentifierNameToken():this.eatAnyToken()},t.prototype.isFunctionPropertyAssignment=function(n){return this.isPropertyName(this.currentToken(),n)&&this.isCallSignature(1)},t.prototype.parseFunctionPropertyAssignment=function(){var n=this.eatPropertyName(),t=this.parseCallSignature(!1),i=this.parseBlock(!1,!0);return this.factory.functionPropertyAssignment(n,t,i)},t.prototype.isSimplePropertyAssignment=function(n){return this.isPropertyName(this.currentToken(),n)},t.prototype.parseSimplePropertyAssignment=function(){var n=this.eatPropertyName(),t=this.eatToken(107),i=this.parseAssignmentExpression(!0);return this.factory.simplePropertyAssignment(n,t,i)},t.prototype.isPropertyName=function(t,i){if(n.SyntaxFacts.isIdentifierNameOrAnyKeyword(t))return i?this.isIdentifier(t):!0;switch(t.tokenKind){case 14:case 13:return!0;default:return!1}},t.prototype.parseArrayLiteralExpression=function(){var n=this.eatToken(75),t=this.parseSeparatedSyntaxList(65536),r=t.list,i;return n=this.addSkippedTokensAfterToken(n,t.skippedTokens),i=this.eatToken(76),this.factory.arrayLiteralExpression(n,r,i)},t.prototype.parseLiteralExpression=function(){return this.eatAnyToken()},t.prototype.parseThisExpression=function(){return this.eatKeyword(35)},t.prototype.parseBlock=function(i,r){var u=this.eatToken(71),f=n.Syntax.emptyList,o;if(i||u.width()>0){var s=this.isInStrictMode,h=r?t.updateStrictModeState:null,e=this.parseSyntaxList(32,h);f=e.list;u=this.addSkippedTokensAfterToken(u,e.skippedTokens);this.setStrictMode(s)}return o=this.eatToken(72),this.factory.block(u,f,o)},t.prototype.parseCallSignature=function(n){var t=this.parseOptionalTypeParameterList(n),i=this.parseParameterList(),r=this.parseOptionalTypeAnnotation(!1);return this.factory.callSignature(t,i,r)},t.prototype.parseOptionalTypeParameterList=function(n){var t,r;if(this.currentToken().tokenKind!==81)return null;t=this.getRewindPoint();try{var i=this.eatToken(81),u=this.parseSeparatedSyntaxList(524288),f=u.list;return(i=this.addSkippedTokensAfterToken(i,u.skippedTokens),r=this.eatToken(82),n&&r.fullWidth()===0)?(this.rewind(t),null):this.factory.typeParameterList(i,f,r)}finally{this.releaseRewindPoint(t)}},t.prototype.isTypeParameter=function(){return this.isIdentifier(this.currentToken())},t.prototype.parseTypeParameter=function(){var n=this.eatIdentifierToken(),t=this.parseOptionalConstraint();return this.factory.typeParameter(n,t)},t.prototype.parseOptionalConstraint=function(){if(this.currentToken().kind()!==48)return null;var n=this.eatKeyword(48),t=this.parseType();return this.factory.constraint(n,t)},t.prototype.parseParameterList=function(){var t=this.eatToken(73),r=n.Syntax.emptySeparatedList,i,u;return t.width()>0&&(i=this.parseSeparatedSyntaxList(131072),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),u=this.eatToken(74),this.factory.parameterList(t,r,u)},t.prototype.isTypeAnnotation=function(){return this.currentToken().tokenKind===107},t.prototype.parseOptionalTypeAnnotation=function(n){return this.isTypeAnnotation()?this.parseTypeAnnotation(n):null},t.prototype.parseTypeAnnotation=function(n){var t=this.eatToken(107),i=n&&this.currentToken().tokenKind===14?this.eatToken(14):this.parseType();return this.factory.typeAnnotation(t,i)},t.prototype.isType=function(){return this.isPredefinedType()||this.isTypeLiteral()||this.isName()},t.prototype.parseType=function(){for(var n=this.parseNonArrayType(),t,i;this.currentToken().tokenKind===75;)t=this.eatToken(75),i=this.eatToken(76),n=this.factory.arrayType(n,t,i);return n},t.prototype.parseNonArrayType=function(){return this.isPredefinedType()?this.parsePredefinedType():this.isTypeLiteral()?this.parseTypeLiteral():this.parseNameOrGenericType()},t.prototype.parseNameOrGenericType=function(){var n=this.parseName(),t=this.tryParseTypeArgumentList(!1);return t===null?n:this.factory.genericType(n,t)},t.prototype.parseTypeLiteral=function(){if(this.isObjectType())return this.parseObjectType();if(this.isFunctionType())return this.parseFunctionType();if(this.isConstructorType())return this.parseConstructorType();throw n.Errors.invalidOperation();},t.prototype.parseFunctionType=function(){var n=this.parseOptionalTypeParameterList(!1),t=this.parseParameterList(),i=this.eatToken(86),r=this.parseType();return this.factory.functionType(n,t,i,r)},t.prototype.parseConstructorType=function(){var n=this.eatKeyword(31),t=this.parseParameterList(),i=this.eatToken(86),r=this.parseType();return this.factory.constructorType(n,null,t,i,r)},t.prototype.isTypeLiteral=function(){return this.isObjectType()||this.isFunctionType()||this.isConstructorType()},t.prototype.isObjectType=function(){return this.currentToken().tokenKind===71},t.prototype.isFunctionType=function(){var n=this.currentToken().tokenKind;return n===73||n===81},t.prototype.isConstructorType=function(){return this.currentToken().tokenKind===31},t.prototype.parsePredefinedType=function(){return this.eatAnyToken()},t.prototype.isPredefinedType=function(){switch(this.currentToken().tokenKind){case 60:case 68:case 61:case 62:case 70:case 41:return!0}return!1},t.prototype.isParameter=function(){if(this.currentNode()!==null&&this.currentNode().kind()===242)return!0;var n=this.currentToken();return n.tokenKind===78?!0:t.isPublicOrPrivateKeyword(n)?!0:this.isIdentifier(n)},t.prototype.parseParameter=function(){var i,n;if(this.currentNode()!==null&&this.currentNode().kind()===242)return this.eatNode();i=this.tryEatToken(78);n=null;t.isPublicOrPrivateKeyword(this.currentToken())&&(n=this.eatAnyToken());var u=this.eatIdentifierToken(),f=this.tryEatToken(106),e=this.parseOptionalTypeAnnotation(!0),r=null;return this.isEqualsValueClause(!0)&&(r=this.parseEqualsValueClause(!0)),this.factory.parameter(i,n,u,f,e,r)},t.prototype.parseSyntaxList=function(n,t){var i,r;return typeof t=="undefined"&&(t=null),i=this.listParsingState,this.listParsingState|=n,r=this.parseSyntaxListWorker(n,t),this.listParsingState=i,r},t.prototype.parseSeparatedSyntaxList=function(n){var i=this.listParsingState,t;return this.listParsingState|=n,t=this.parseSeparatedSyntaxListWorker(n),this.listParsingState=i,t},t.prototype.abortParsingListOrMoveToNextToken=function(n,t,i){var r,u;for(this.reportUnexpectedTokenDiagnostic(n),r=262144;r>=1;r>>=1)if((this.listParsingState&r)!=0&&(this.isExpectedListTerminator(r)||this.isExpectedListItem(r,!0)))return!0;return u=this.currentToken(),this.moveToNextToken(),this.addSkippedTokenToList(t,i,u),!1},t.prototype.addSkippedTokenToList=function(n,t,i){for(var u,f,r=n.length-1;r>=0;r--)if(u=n[r],f=u.lastToken(),f.fullWidth()>0){n[r]=this.addSkippedTokenAfterNodeOrToken(u,i);return}t.push(i)},t.prototype.tryParseExpectedListItem=function(n,t,i,r){if(this.isExpectedListItem(n,t)){var u=this.parseExpectedListItem(n);i.push(u);r!==null&&r(this,i)}},t.prototype.listIsTerminated=function(n){return this.isExpectedListTerminator(n)||this.currentToken().tokenKind===10},t.prototype.getArray=function(){return this.arrayPool.length>0?this.arrayPool.pop():[]},t.prototype.returnZeroOrOneLengthArray=function(n){n.length<=1&&this.returnArray(n)},t.prototype.returnArray=function(n){n.length=0;this.arrayPool.push(n)},t.prototype.parseSyntaxListWorker=function(t,i){for(var r=this.getArray(),u=this.getArray(),f,e,o,s;;)if(f=r.length,this.tryParseExpectedListItem(t,!1,r,i),e=r.length,e===f){if(this.listIsTerminated(t))break;if(o=this.abortParsingListOrMoveToNextToken(t,r,u),o)break}return s=n.Syntax.list(r),this.returnZeroOrOneLengthArray(r),{skippedTokens:u,list:s}},t.prototype.parseSeparatedSyntaxListWorker=function(t){var i=this.getArray(),r=this.getArray(),s,h,c,e,l;n.Debug.assert(i.length===0);n.Debug.assert(r.length===0);n.Debug.assert(r!==i);for(var f=this.separatorKind(t),a=f===79,u=!1,o=!1;;){if(s=i.length,this.tryParseExpectedListItem(t,u,i,null),h=i.length,h===s){if(this.listIsTerminated(t)){o=!0;break}if(c=this.abortParsingListOrMoveToNextToken(t,i,r),c)break;else{u=!0;continue}}if(u=!1,e=this.currentToken(),e.tokenKind===f||e.tokenKind===80){i.push(this.eatAnyToken());continue}if(this.listIsTerminated(t)){o=!0;break}if(a&&this.canEatAutomaticSemicolon(!1)){i.push(this.eatExplicitOrAutomaticSemicolon(!1));continue}i.push(this.eatToken(f));u=!0}return l=n.Syntax.separatedList(i),this.returnZeroOrOneLengthArray(i),{skippedTokens:r,list:l}},t.prototype.separatorKind=function(t){switch(t){case 2048:case 16384:case 256:case 4096:case 8192:case 32768:case 131072:case 65536:case 262144:case 524288:return 80;case 512:return 79;case 1:case 1024:case 2:case 4:case 8:case 16:case 32:default:throw n.Errors.notYetImplemented();}},t.prototype.reportUnexpectedTokenDiagnostic=function(t){var i=this.currentToken(),r=new n.SyntaxDiagnostic(this.fileName,this.currentTokenStart(),i.width(),12,[this.getExpectedListElementType(t)]);this.addDiagnostic(r)},t.prototype.addDiagnostic=function(n){this.diagnostics.length>0&&this.diagnostics[this.diagnostics.length-1].start()===n.start()||this.diagnostics.push(n)},t.prototype.isExpectedListTerminator=function(t){switch(t){case 1:return this.isExpectedSourceUnit_ModuleElementsTerminator();case 1024:return this.isExpectedClassOrInterfaceDeclaration_HeritageClausesTerminator();case 2:return this.isExpectedClassDeclaration_ClassElementsTerminator();case 4:return this.isExpectedModuleDeclaration_ModuleElementsTerminator();case 8:return this.isExpectedSwitchStatement_SwitchClausesTerminator();case 16:return this.isExpectedSwitchClause_StatementsTerminator();case 32:return this.isExpectedBlock_StatementsTerminator();case 64:return this.isExpectedTryBlock_StatementsTerminator();case 128:return this.isExpectedCatchBlock_StatementsTerminator();case 256:return this.isExpectedEnumDeclaration_EnumElementsTerminator();case 512:return this.isExpectedObjectType_TypeMembersTerminator();case 16384:return this.isExpectedArgumentList_AssignmentExpressionsTerminator();case 2048:return this.isExpectedHeritageClause_TypeNameListTerminator();case 4096:return this.isExpectedVariableDeclaration_VariableDeclarators_AllowInTerminator();case 8192:return this.isExpectedVariableDeclaration_VariableDeclarators_DisallowInTerminator();case 32768:return this.isExpectedObjectLiteralExpression_PropertyAssignmentsTerminator();case 131072:return this.isExpectedParameterList_ParametersTerminator();case 262144:return this.isExpectedTypeArgumentList_TypesTerminator();case 524288:return this.isExpectedTypeParameterList_TypeParametersTerminator();case 65536:return this.isExpectedLiteralExpression_AssignmentExpressionsTerminator();default:throw n.Errors.invalidOperation();}},t.prototype.isExpectedSourceUnit_ModuleElementsTerminator=function(){return this.currentToken().tokenKind===10},t.prototype.isExpectedEnumDeclaration_EnumElementsTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedModuleDeclaration_ModuleElementsTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedObjectType_TypeMembersTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedObjectLiteralExpression_PropertyAssignmentsTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedLiteralExpression_AssignmentExpressionsTerminator=function(){return this.currentToken().tokenKind===76},t.prototype.isExpectedTypeArgumentList_TypesTerminator=function(){var n=this.currentToken();return n.tokenKind===82?!0:this.canFollowTypeArgumentListInExpression(n.tokenKind)?!0:!1},t.prototype.isExpectedTypeParameterList_TypeParametersTerminator=function(){var n=this.currentToken();return n.tokenKind===82?!0:n.tokenKind===73||n.tokenKind===71||n.tokenKind===48||n.tokenKind===51?!0:!1},t.prototype.isExpectedParameterList_ParametersTerminator=function(){var n=this.currentToken();return n.tokenKind===74?!0:n.tokenKind===71?!0:n.tokenKind===86?!0:!1},t.prototype.isExpectedVariableDeclaration_VariableDeclarators_DisallowInTerminator=function(){return this.currentToken().tokenKind===79||this.currentToken().tokenKind===74?!0:this.currentToken().tokenKind===29?!0:!1},t.prototype.isExpectedVariableDeclaration_VariableDeclarators_AllowInTerminator=function(){return this.previousToken().tokenKind===80?!1:this.currentToken().tokenKind===86?!0:this.canEatExplicitOrAutomaticSemicolon(!1)},t.prototype.isExpectedClassOrInterfaceDeclaration_HeritageClausesTerminator=function(){var n=this.currentToken();return n.tokenKind===71||n.tokenKind===72?!0:!1},t.prototype.isExpectedHeritageClause_TypeNameListTerminator=function(){var n=this.currentToken();return n.tokenKind===48||n.tokenKind===51?!0:this.isExpectedClassOrInterfaceDeclaration_HeritageClausesTerminator()?!0:!1},t.prototype.isExpectedArgumentList_AssignmentExpressionsTerminator=function(){var n=this.currentToken();return n.tokenKind===74||n.tokenKind===79},t.prototype.isExpectedClassDeclaration_ClassElementsTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedSwitchStatement_SwitchClausesTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedSwitchClause_StatementsTerminator=function(){return this.currentToken().tokenKind===72||this.isSwitchClause()},t.prototype.isExpectedBlock_StatementsTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedTryBlock_StatementsTerminator=function(){return this.currentToken().tokenKind===17||this.currentToken().tokenKind===25},t.prototype.isExpectedCatchBlock_StatementsTerminator=function(){return this.currentToken().tokenKind===25},t.prototype.isExpectedListItem=function(t,i){switch(t){case 1:return this.isModuleElement(i);case 1024:return this.isHeritageClause();case 2:return this.isClassElement(i);case 4:return this.isModuleElement(i);case 8:return this.isSwitchClause();case 16:return this.isStatement(i);case 32:return this.isStatement(i);case 64:case 128:return!1;case 256:return this.isEnumElement(i);case 4096:case 8192:return this.isVariableDeclarator();case 512:return this.isTypeMember(i);case 16384:return this.isExpectedArgumentList_AssignmentExpression();case 2048:return this.isHeritageClauseTypeName();case 32768:return this.isPropertyAssignment(i);case 131072:return this.isParameter();case 262144:return this.isType();case 524288:return this.isTypeParameter();case 65536:return this.isAssignmentOrOmittedExpression();default:throw n.Errors.invalidOperation();}},t.prototype.isExpectedArgumentList_AssignmentExpression=function(){return this.isExpression()?!0:this.currentToken().tokenKind===80?!0:!1},t.prototype.parseExpectedListItem=function(t){switch(t){case 1:return this.parseModuleElement();case 1024:return this.parseHeritageClause();case 2:return this.parseClassElement(!1);case 4:return this.parseModuleElement();case 8:return this.parseSwitchClause();case 16:return this.parseStatement();case 32:return this.parseStatement();case 256:return this.parseEnumElement();case 512:return this.parseTypeMember();case 16384:return this.parseAssignmentExpression(!0);case 2048:return this.parseNameOrGenericType();case 4096:return this.parseVariableDeclarator(!0,!1);case 8192:return this.parseVariableDeclarator(!1,!1);case 32768:return this.parsePropertyAssignment();case 65536:return this.parseAssignmentOrOmittedExpression();case 131072:return this.parseParameter();case 262144:return this.parseType();case 524288:return this.parseTypeParameter();default:throw n.Errors.invalidOperation();}},t.prototype.getExpectedListElementType=function(t){switch(t){case 1:return n.Strings.module__class__interface__enum__import_or_statement;case 1024:return"{";case 2:return n.Strings.constructor__function__accessor_or_variable;case 4:return n.Strings.module__class__interface__enum__import_or_statement;case 8:return n.Strings.case_or_default_clause;case 16:return n.Strings.statement;case 32:return n.Strings.statement;case 4096:case 8192:return n.Strings.identifier;case 256:return n.Strings.identifier;case 512:return n.Strings.call__construct__index__property_or_function_signature;case 16384:return n.Strings.expression;case 2048:return n.Strings.type_name;case 32768:return n.Strings.property_or_accessor;case 131072:return n.Strings.parameter;case 262144:return n.Strings.type;case 524288:return n.Strings.type_parameter;case 65536:return n.Strings.expression;default:throw n.Errors.invalidOperation();}},t}();t.parse=s;t.incrementalParse=h})(n.Parser||(n.Parser={}));var t=n.Parser}(TypeScript||(TypeScript={})),function(n){var i=function(){function i(n,t,i,r,u,f,e){this._allDiagnostics=null;this._sourceUnit=n;this._isDeclaration=t;this._parserDiagnostics=i;this._fileName=r;this._lineMap=u;this._languageVersion=f;this._parseOptions=e}return i.prototype.toJSON=function(){var t={};return t.isDeclaration=this._isDeclaration,t.languageVersion=n.LanguageVersion[this._languageVersion],t.parseOptions=this._parseOptions,this.diagnostics().length>0&&(t.diagnostics=this.diagnostics()),t.sourceUnit=this._sourceUnit,t.lineMap=this._lineMap,t},i.prototype.sourceUnit=function(){return this._sourceUnit},i.prototype.isDeclaration=function(){return this._isDeclaration},i.prototype.computeDiagnostics=function(){if(this._parserDiagnostics.length>0)return this._parserDiagnostics;var n=[];return this.sourceUnit().accept(new t(this,n)),n},i.prototype.diagnostics=function(){return this._allDiagnostics===null&&(this._allDiagnostics=this.computeDiagnostics()),this._allDiagnostics},i.prototype.fileName=function(){return this._fileName},i.prototype.lineMap=function(){return this._lineMap},i.prototype.languageVersion=function(){return this._languageVersion},i.prototype.parseOptions=function(){return this._parseOptions},i.prototype.structuralEquals=function(t){return n.ArrayUtilities.sequenceEquals(this.diagnostics(),t.diagnostics(),n.SyntaxDiagnostic.equals)&&this.sourceUnit().structuralEquals(t.sourceUnit())},i}(),t;n.SyntaxTree=i;t=function(t){function i(n,i){t.call(this);this.syntaxTree=n;this.diagnostics=i;this.inAmbientDeclaration=!1;this.inBlock=!1;this.currentConstructor=null}return __extends(i,t),i.prototype.childFullStart=function(t,i){return this.position()+n.Syntax.childOffset(t,i)},i.prototype.childStart=function(n,t){return this.childFullStart(n,t)+t.leadingTriviaWidth()},i.prototype.pushDiagnostic=function(t,i,r,u){typeof u=="undefined"&&(u=null);this.diagnostics.push(new n.SyntaxDiagnostic(this.syntaxTree.fileName(),t,i,r,u))},i.prototype.pushDiagnostic1=function(t,i,r,u){typeof u=="undefined"&&(u=null);this.diagnostics.push(new n.SyntaxDiagnostic(this.syntaxTree.fileName(),t+i.leadingTriviaWidth(),i.width(),r,u))},i.prototype.visitCatchClause=function(n){n.typeAnnotation&&this.pushDiagnostic(this.childStart(n,n.typeAnnotation),n.typeAnnotation.width(),17);t.prototype.visitCatchClause.call(this,n)},i.prototype.checkParameterListOrder=function(n){for(var r=this.childFullStart(n,n.parameters),u=!1,s=n.parameters.nonSeparatorCount(),e,o,t,i=0,f=n.parameters.childCount();i<f;i++){if(e=n.parameters.childAt(i),i%2==0)if(o=i/2,t=n.parameters.childAt(i),t.dotDotDotToken){if(o!==s-1)return this.pushDiagnostic1(r,t,18),!0;if(t.questionToken)return this.pushDiagnostic1(r,t,56),!0;if(t.equalsValueClause)return this.pushDiagnostic1(r,t,57),!0}else if(t.questionToken||t.equalsValueClause){if(u=!0,t.questionToken&&t.equalsValueClause)return this.pushDiagnostic1(r,t,19),!0}else if(u)return this.pushDiagnostic1(r,t,20),!0;r+=e.fullWidth()}return!1},i.prototype.checkParameterListAcessibilityModifiers=function(t){var u,i,f,e,r,o;if(this.currentConstructor!==null&&this.currentConstructor.parameterList===t&&this.currentConstructor.block&&!this.inAmbientDeclaration)return!1;for(u=this.childFullStart(t,t.parameters),i=0,f=t.parameters.childCount();i<f;i++)e=t.parameters.childAt(i),i%2==0&&(r=t.parameters.childAt(i),r.publicOrPrivateKeyword&&(o=u+n.Syntax.childOffset(r,r.publicOrPrivateKeyword),this.pushDiagnostic1(o,r.publicOrPrivateKeyword,43))),u+=e.fullWidth();return!1},i.prototype.checkForTrailingSeparator=function(n,t){var r,i,u,f;if(t.childCount()===0||t.childCount()%2==1)return!1;for(r=this.childFullStart(n,t),i=0,u=t.childCount();i<u;i++)f=t.childAt(i),i===u-1&&this.pushDiagnostic1(r,f,13),r+=f.fullWidth();return!0},i.prototype.checkForAtLeastOneElement=function(n,t,i){if(t.childCount()>0)return!1;var r=this.childFullStart(n,t),u=this.syntaxTree.sourceUnit().findToken(r);return this.pushDiagnostic1(r,u.token(),12,[i]),!0},i.prototype.visitParameterList=function(n){if(this.checkParameterListAcessibilityModifiers(n)||this.checkParameterListOrder(n)||this.checkForTrailingSeparator(n,n.parameters)){this.skip(n);return}t.prototype.visitParameterList.call(this,n)},i.prototype.visitHeritageClause=function(i){if(this.checkForTrailingSeparator(i,i.typeNames)||this.checkForAtLeastOneElement(i,i.typeNames,n.Strings.type_name)){this.skip(i);return}t.prototype.visitHeritageClause.call(this,i)},i.prototype.visitArgumentList=function(n){if(this.checkForTrailingSeparator(n,n.arguments)){this.skip(n);return}t.prototype.visitArgumentList.call(this,n)},i.prototype.visitVariableDeclaration=function(i){if(this.checkForTrailingSeparator(i,i.variableDeclarators)||this.checkForAtLeastOneElement(i,i.variableDeclarators,n.Strings.identifier)){this.skip(i);return}t.prototype.visitVariableDeclaration.call(this,i)},i.prototype.visitTypeArgumentList=function(i){if(this.checkForTrailingSeparator(i,i.typeArguments)||this.checkForAtLeastOneElement(i,i.typeArguments,n.Strings.identifier)){this.skip(i);return}t.prototype.visitTypeArgumentList.call(this,i)},i.prototype.visitTypeParameterList=function(i){if(this.checkForTrailingSeparator(i,i.typeParameters)||this.checkForAtLeastOneElement(i,i.typeParameters,n.Strings.identifier)){this.skip(i);return}t.prototype.visitTypeParameterList.call(this,i)},i.prototype.checkIndexSignatureParameter=function(n){var i=this.childFullStart(n,n.parameter),t=n.parameter;if(t.dotDotDotToken)return this.pushDiagnostic1(i,t,21),!0;if(t.publicOrPrivateKeyword)return this.pushDiagnostic1(i,t,22),!0;if(t.questionToken)return this.pushDiagnostic1(i,t,23),!0;if(t.equalsValueClause)return this.pushDiagnostic1(i,t,24),!0;if(t.typeAnnotation){if(t.typeAnnotation.type.kind()!==70&&t.typeAnnotation.type.kind()!==68)return this.pushDiagnostic1(i,t,27),!0}else return this.pushDiagnostic1(i,t,26),!0;return!1},i.prototype.visitIndexSignature=function(n){if(this.checkIndexSignatureParameter(n)){this.skip(n);return}if(!n.typeAnnotation){this.pushDiagnostic1(this.position(),n,25);this.skip(n);return}t.prototype.visitIndexSignature.call(this,n)},i.prototype.checkClassDeclarationHeritageClauses=function(t){for(var r=this.childFullStart(t,t.heritageClauses),e=!1,f=!1,i,u=0,o=t.heritageClauses.childCount();u<o;u++){if(n.Debug.assert(u<=2),i=t.heritageClauses.childAt(u),i.extendsOrImplementsKeyword.tokenKind===48){if(e)return this.pushDiagnostic1(r,i,28),!0;if(f)return this.pushDiagnostic1(r,i,29),!0;if(i.typeNames.nonSeparatorCount()>1)return this.pushDiagnostic1(r,i,30),!0;e=!0}else{if(n.Debug.assert(i.extendsOrImplementsKeyword.tokenKind===51),f)return this.pushDiagnostic1(r,i,31),!0;f=!0}r+=i.fullWidth()}return!1},i.prototype.checkForDisallowedDeclareModifier=function(t){if(this.inAmbientDeclaration){var i=n.SyntaxUtilities.getToken(t,64);if(i)return this.pushDiagnostic1(this.childFullStart(t,i),i,41),!0}return!1},i.prototype.checkForRequiredDeclareModifier=function(t,i,r){if(!this.inAmbientDeclaration&&this.syntaxTree.isDeclaration()&&!n.SyntaxUtilities.containsToken(r,64))return this.pushDiagnostic1(this.childFullStart(t,i),i.firstToken(),49),!0},i.prototype.checkFunctionOverloads=function(t,i){var f,h,r,c,u,l;if(!this.inAmbientDeclaration&&!this.syntaxTree.isDeclaration()){var e=this.childFullStart(t,i),o=!1,s=null;for(f=0,h=i.childCount();f<h;f++){if(r=i.childAt(f),c=f===h-1,o){if(r.kind()!==129)return this.pushDiagnostic1(e,r.firstToken(),44),!0;if(u=r,u.identifier.valueText()!==s)return l=e+n.Syntax.childOffset(r,u.identifier),this.pushDiagnostic1(l,u.identifier,46,[s]),!0}if(r.kind()===129)if(u=r,n.SyntaxUtilities.containsToken(u.modifiers,64))o=!1,s="";else if(o=u.block===null,s=u.identifier.valueText(),c&&o)return this.pushDiagnostic1(e,r.firstToken(),44),!0;e+=r.fullWidth()}}return!1},i.prototype.checkClassOverloads=function(t){var f,h,i,c,l,a;if(!this.inAmbientDeclaration&&!n.SyntaxUtilities.containsToken(t.modifiers,64)){var u=this.childFullStart(t,t.classElements),e=!1,o=!1,s=null,r=null;for(f=0,h=t.classElements.childCount();f<h;f++){if(i=t.classElements.childAt(f),c=f===h-1,e){if(i.kind()!==135)return this.pushDiagnostic1(u,i.firstToken(),44),!0;if(r=i,r.propertyName.valueText()!==s)return l=u+n.Syntax.childOffset(i,r.propertyName),this.pushDiagnostic1(l,r.propertyName,46,[s]),!0}else if(o&&i.kind()!==137)return this.pushDiagnostic1(u,i.firstToken(),45),!0;if(i.kind()===135){if(r=i,e=r.block===null,s=r.propertyName.valueText(),c&&e)return this.pushDiagnostic1(u,i.firstToken(),44),!0}else if(i.kind()===137&&(a=i,o=a.block===null,c&&o))return this.pushDiagnostic1(u,i.firstToken(),45),!0;u+=i.fullWidth()}}return!1},i.prototype.checkForReservedName=function(t,i,r){for(var s=this.childFullStart(t,i),u,o,f=i,e;f!==null;){f.kind()===122?(e=f,u=e.right,o=s+this.childFullStart(e,u),f=e.left):(n.Debug.assert(f.kind()===11),u=f,o=s,f=null);switch(u.valueText()){case"any":case"number":case"bool":case"string":case"void":return this.pushDiagnostic(o+u.leadingTriviaWidth(),u.width(),r,[u.valueText()]),!0}}return!1},i.prototype.visitClassDeclaration=function(i){if(this.checkForReservedName(i,i.identifier,60)||this.checkForDisallowedDeclareModifier(i.modifiers)||this.checkForRequiredDeclareModifier(i,i.classKeyword,i.modifiers)||this.checkModuleElementModifiers(i.modifiers)||this.checkClassDeclarationHeritageClauses(i)||this.checkClassOverloads(i)){this.skip(i);return}var r=this.inAmbientDeclaration;this.inAmbientDeclaration=this.inAmbientDeclaration||this.syntaxTree.isDeclaration()||n.SyntaxUtilities.containsToken(i.modifiers,64);t.prototype.visitClassDeclaration.call(this,i);this.inAmbientDeclaration=r},i.prototype.checkInterfaceDeclarationHeritageClauses=function(t){for(var u=this.childFullStart(t,t.heritageClauses),f=!1,i,r=0,e=t.heritageClauses.childCount();r<e;r++){if(n.Debug.assert(r<=1),i=t.heritageClauses.childAt(r),i.extendsOrImplementsKeyword.tokenKind===48){if(f)return this.pushDiagnostic1(u,i,28),!0;f=!0}else return n.Debug.assert(i.extendsOrImplementsKeyword.tokenKind===51),this.pushDiagnostic1(u,i,36),!0;u+=i.fullWidth()}return!1},i.prototype.checkInterfaceModifiers=function(n){for(var r=this.position(),i,t=0,u=n.childCount();t<u;t++){if(i=n.childAt(t),i.tokenKind===64)return this.pushDiagnostic1(r,i,48),!0;r+=i.fullWidth()}return!1},i.prototype.visitInterfaceDeclaration=function(n){if(this.checkForReservedName(n,n.identifier,61)||this.checkInterfaceModifiers(n.modifiers)||this.checkModuleElementModifiers(n.modifiers)||this.checkInterfaceDeclarationHeritageClauses(n)){this.skip(n);return}t.prototype.visitInterfaceDeclaration.call(this,n)},i.prototype.checkClassElementModifiers=function(n){for(var i=this.position(),f=!1,u=!1,t,o,r=0,e=n.childCount();r<e;r++){if(t=n.childAt(r),t.tokenKind===57||t.tokenKind===55){if(f)return this.pushDiagnostic1(i,t,32),!0;if(u)return o=n.childAt(r-1),this.pushDiagnostic1(i,t,33,[t.text(),o.text()]),!0;f=!0}else if(t.tokenKind===58){if(u)return this.pushDiagnostic1(i,t,34,[t.text()]),!0;u=!0}else return this.pushDiagnostic1(i,t,35,[t.text()]),!0;i+=t.fullWidth()}return!1},i.prototype.visitMemberVariableDeclaration=function(n){if(this.checkClassElementModifiers(n.modifiers)){this.skip(n);return}t.prototype.visitMemberVariableDeclaration.call(this,n)},i.prototype.visitMemberFunctionDeclaration=function(n){if(this.checkClassElementModifiers(n.modifiers)){this.skip(n);return}t.prototype.visitMemberFunctionDeclaration.call(this,n)},i.prototype.checkGetMemberAccessorParameter=function(n){var t=this.childFullStart(n,n.getKeyword);return n.parameterList.parameters.childCount()!==0?(this.pushDiagnostic1(t,n.getKeyword,55),!0):!1},i.prototype.checkEcmaScriptVersionIsAtLeast=function(n,t,i,r){if(this.syntaxTree.languageVersion()<i){var u=this.childFullStart(n,t);return this.pushDiagnostic1(u,t,r),!0}return!1},i.prototype.visitGetMemberAccessorDeclaration=function(n){if(this.checkEcmaScriptVersionIsAtLeast(n,n.getKeyword,1,59)||this.checkClassElementModifiers(n.modifiers)||this.checkGetMemberAccessorParameter(n)){this.skip(n);return}t.prototype.visitGetMemberAccessorDeclaration.call(this,n)},i.prototype.checkSetMemberAccessorParameter=function(t){var u=this.childFullStart(t,t.setKeyword);if(t.parameterList.parameters.childCount()!==1)return this.pushDiagnostic1(u,t.setKeyword,50),!0;var f=this.childFullStart(t,t.parameterList),r=f+n.Syntax.childOffset(t.parameterList,t.parameterList.openParenToken),i=t.parameterList.parameters.childAt(0);return i.publicOrPrivateKeyword?(this.pushDiagnostic1(r,i,51),!0):i.questionToken?(this.pushDiagnostic1(r,i,52),!0):i.equalsValueClause?(this.pushDiagnostic1(r,i,53),!0):i.dotDotDotToken?(this.pushDiagnostic1(r,i,54),!0):!1},i.prototype.visitSetMemberAccessorDeclaration=function(n){if(this.checkEcmaScriptVersionIsAtLeast(n,n.setKeyword,1,59)||this.checkClassElementModifiers(n.modifiers)||this.checkSetMemberAccessorParameter(n)){this.skip(n);return}t.prototype.visitSetMemberAccessorDeclaration.call(this,n)},i.prototype.visitGetAccessorPropertyAssignment=function(n){if(this.checkEcmaScriptVersionIsAtLeast(n,n.getKeyword,1,59)){this.skip(n);return}t.prototype.visitGetAccessorPropertyAssignment.call(this,n)},i.prototype.visitSetAccessorPropertyAssignment=function(n){if(this.checkEcmaScriptVersionIsAtLeast(n,n.setKeyword,1,59)){this.skip(n);return}t.prototype.visitSetAccessorPropertyAssignment.call(this,n)},i.prototype.visitEnumDeclaration=function(i){if(this.checkForReservedName(i,i.identifier,62)||this.checkForDisallowedDeclareModifier(i.modifiers)||this.checkForRequiredDeclareModifier(i,i.enumKeyword,i.modifiers)||this.checkModuleElementModifiers(i.modifiers),this.checkEnumElements(i)){this.skip(i);return}var r=this.inAmbientDeclaration;this.inAmbientDeclaration=this.inAmbientDeclaration||this.syntaxTree.isDeclaration()||n.SyntaxUtilities.containsToken(i.modifiers,64);t.prototype.visitEnumDeclaration.call(this,i);this.inAmbientDeclaration=r},i.prototype.checkEnumElements=function(n){for(var u=this.childFullStart(n,n.enumElements),f=!1,r,i,o,t=0,e=n.enumElements.childCount();t<e;t++){if(r=n.enumElements.childAt(t),t%2==0){if(i=r,!i.equalsValueClause&&f)return this.pushDiagnostic1(u,i,64,null),!0;i.equalsValueClause&&(o=i.equalsValueClause.value,o.kind()!==13&&(f=!0))}u+=r.fullWidth()}return!1},i.prototype.visitInvocationExpression=function(n){n.expression.kind()===50&&n.argumentList.typeArgumentList!==null&&this.pushDiagnostic1(this.position(),n,37);t.prototype.visitInvocationExpression.call(this,n)},i.prototype.checkModuleElementModifiers=function(t){for(var r=this.position(),e=!1,f=!1,i,u=0,o=t.childCount();u<o;u++){if(i=t.childAt(u),i.tokenKind===57||i.tokenKind===55||i.tokenKind===58)return this.pushDiagnostic1(r,i,47,[i.text()]),!0;if(i.tokenKind===64){if(f){this.pushDiagnostic1(r,i,32);return}f=!0}else if(i.tokenKind===47){if(e){this.pushDiagnostic1(r,i,34,[i.text()]);return}if(f){this.pushDiagnostic1(r,i,33,[n.SyntaxFacts.getText(47),n.SyntaxFacts.getText(64)]);return}e=!0}r+=i.fullWidth()}return!1},i.prototype.checkForDisallowedImportDeclaration=function(n){var r,t,f,i,u;if(n.stringLiteral===null)for(r=this.childFullStart(n,n.moduleElements),t=0,f=n.moduleElements.childCount();t<f;t++)i=n.moduleElements.childAt(t),i.kind()===133&&(u=i,u.moduleReference.kind()===245&&this.pushDiagnostic1(r,u,201,null)),r+=i.fullWidth();return!1},i.prototype.visitModuleDeclaration=function(i){var r,u;if(this.checkForReservedName(i,i.moduleName,63)||this.checkForDisallowedDeclareModifier(i.modifiers)||this.checkForRequiredDeclareModifier(i,i.moduleKeyword,i.modifiers)||this.checkModuleElementModifiers(i.modifiers)||this.checkForDisallowedImportDeclaration(i)||this.checkForDisallowedExports(i,i.moduleElements)||this.checkForMultipleExportAssignments(i,i.moduleElements)){this.skip(i);return}if(!n.SyntaxUtilities.containsToken(i.modifiers,64)&&this.checkFunctionOverloads(i,i.moduleElements)){this.skip(i);return}if(i.stringLiteral&&!this.inAmbientDeclaration&&!n.SyntaxUtilities.containsToken(i.modifiers,64)){r=this.childFullStart(i,i.stringLiteral);this.pushDiagnostic1(r,i.stringLiteral,38);this.skip(i);return}if(!i.stringLiteral&&this.checkForDisallowedExportAssignment(i)){this.skip(i);return}u=this.inAmbientDeclaration;this.inAmbientDeclaration=this.inAmbientDeclaration||this.syntaxTree.isDeclaration()||n.SyntaxUtilities.containsToken(i.modifiers,64);t.prototype.visitModuleDeclaration.call(this,i);this.inAmbientDeclaration=u},i.prototype.checkForDisallowedExports=function(t,i){for(var o=!1,e,u,r=0,f=i.childCount();r<f;r++)if(u=i.childAt(r),n.SyntaxUtilities.hasExportKeyword(u)){o=!0;break}if(e=this.childFullStart(t,i),o)for(r=0,f=i.childCount();r<f;r++){if(u=i.childAt(r),u.kind()===134)return this.pushDiagnostic1(e,u,67),!0;e+=u.fullWidth()}return!1},i.prototype.checkForMultipleExportAssignments=function(n,t){for(var u=this.childFullStart(n,t),f=!1,e=!1,r,i=0,o=t.childCount();i<o;i++)r=t.childAt(i),r.kind()===134&&(f&&(this.pushDiagnostic1(u,r,68),e=!0),f=!0),u+=r.fullWidth();return e},i.prototype.checkForDisallowedExportAssignment=function(n){for(var r=this.childFullStart(n,n.moduleElements),i,t=0,u=n.moduleElements.childCount();t<u;t++){if(i=n.moduleElements.childAt(t),i.kind()===134)return this.pushDiagnostic1(r,i,66),!0;r+=i.fullWidth()}return!1},i.prototype.visitBlock=function(n){if(this.inAmbientDeclaration||this.syntaxTree.isDeclaration()){this.pushDiagnostic1(this.position(),n.firstToken(),40);this.skip(n);return}if(this.checkFunctionOverloads(n,n.statements)){this.skip(n);return}var i=this.inBlock;this.inBlock=!0;t.prototype.visitBlock.call(this,n);this.inBlock=i},i.prototype.checkForStatementInAmbientContxt=function(n){return this.inAmbientDeclaration||this.syntaxTree.isDeclaration()?(this.pushDiagnostic1(this.position(),n.firstToken(),39),!0):!1},i.prototype.visitBreakStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitBreakStatement.call(this,n)},i.prototype.visitContinueStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitContinueStatement.call(this,n)},i.prototype.visitDebuggerStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitDebuggerStatement.call(this,n)},i.prototype.visitDoStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitDoStatement.call(this,n)},i.prototype.visitEmptyStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitEmptyStatement.call(this,n)},i.prototype.visitExpressionStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitExpressionStatement.call(this,n)},i.prototype.visitForInStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitForInStatement.call(this,n)},i.prototype.visitForStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitForStatement.call(this,n)},i.prototype.visitIfStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitIfStatement.call(this,n)},i.prototype.visitLabeledStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitLabeledStatement.call(this,n)},i.prototype.visitReturnStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitReturnStatement.call(this,n)},i.prototype.visitSwitchStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitSwitchStatement.call(this,n)},i.prototype.visitThrowStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitThrowStatement.call(this,n)},i.prototype.visitTryStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitTryStatement.call(this,n)},i.prototype.visitWhileStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitWhileStatement.call(this,n)},i.prototype.visitWithStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitWithStatement.call(this,n)},i.prototype.checkForDisallowedModifiers=function(n,t){if(this.inBlock&&t.childCount()>0){var i=this.childFullStart(n,t);return this.pushDiagnostic1(i,t.childAt(0),58),!0}return!1},i.prototype.visitFunctionDeclaration=function(i){if(this.checkForDisallowedDeclareModifier(i.modifiers)||this.checkForDisallowedModifiers(i,i.modifiers)||this.checkForRequiredDeclareModifier(i,i.functionKeyword,i.modifiers)||this.checkModuleElementModifiers(i.modifiers)){this.skip(i);return}var r=this.inAmbientDeclaration;this.inAmbientDeclaration=this.inAmbientDeclaration||this.syntaxTree.isDeclaration()||n.SyntaxUtilities.containsToken(i.modifiers,64);t.prototype.visitFunctionDeclaration.call(this,i);this.inAmbientDeclaration=r},i.prototype.visitVariableStatement=function(i){if(this.checkForDisallowedDeclareModifier(i.modifiers)||this.checkForDisallowedModifiers(i,i.modifiers)||this.checkForRequiredDeclareModifier(i,i.variableDeclaration,i.modifiers)||this.checkModuleElementModifiers(i.modifiers)){this.skip(i);return}var r=this.inAmbientDeclaration;this.inAmbientDeclaration=this.inAmbientDeclaration||this.syntaxTree.isDeclaration()||n.SyntaxUtilities.containsToken(i.modifiers,64);t.prototype.visitVariableStatement.call(this,i);this.inAmbientDeclaration=r},i.prototype.checkListSeparators=function(t,i,r){for(var e=this.childFullStart(t,i),f,u=0,o=i.childCount();u<o;u++)f=i.childAt(u),u%2==1&&f.kind()!==r&&this.pushDiagnostic1(e,f,9,[n.SyntaxFacts.getText(r)]),e+=f.fullWidth();return!1},i.prototype.visitObjectType=function(n){if(this.checkListSeparators(n,n.typeMembers,79)){this.skip(n);return}var i=this.inAmbientDeclaration;this.inAmbientDeclaration=!0;t.prototype.visitObjectType.call(this,n);this.inAmbientDeclaration=i},i.prototype.visitArrayType=function(n){var i=this.inAmbientDeclaration;this.inAmbientDeclaration=!0;t.prototype.visitArrayType.call(this,n);this.inAmbientDeclaration=i},i.prototype.visitFunctionType=function(n){var i=this.inAmbientDeclaration;this.inAmbientDeclaration=!0;t.prototype.visitFunctionType.call(this,n);this.inAmbientDeclaration=i},i.prototype.visitConstructorType=function(n){var i=this.inAmbientDeclaration;this.inAmbientDeclaration=!0;t.prototype.visitConstructorType.call(this,n);this.inAmbientDeclaration=i},i.prototype.visitEqualsValueClause=function(n){if(this.inAmbientDeclaration){this.pushDiagnostic1(this.position(),n.firstToken(),42);this.skip(n);return}t.prototype.visitEqualsValueClause.call(this,n)},i.prototype.visitConstructorDeclaration=function(n){var i=this.currentConstructor;this.currentConstructor=n;t.prototype.visitConstructorDeclaration.call(this,n);this.currentConstructor=i},i.prototype.visitSourceUnit=function(n){if(this.checkFunctionOverloads(n,n.moduleElements)||this.checkForDisallowedExports(n,n.moduleElements)||this.checkForMultipleExportAssignments(n,n.moduleElements)){this.skip(n);return}t.prototype.visitSourceUnit.call(this,n)},i.prototype.visitExternalModuleReference=function(n){if(n.moduleOrRequireKeyword.tokenKind===66&&!this.syntaxTree.parseOptions().allowModuleKeywordInExternalModuleReference()){this.pushDiagnostic1(this.position(),n.moduleOrRequireKeyword,65);this.skip(n);return}t.prototype.visitExternalModuleReference.call(this,n)},i}(n.PositionTrackingWalker)}(TypeScript||(TypeScript={})),function(n){var t=function(t){function i(n){t.call(this);this.textSpan=n;this._position=0}return __extends(i,t),i.prototype.visitToken=function(n){this._position+=n.fullWidth()},i.prototype.visitNode=function(t){var i=new n.TextSpan(this.position(),t.fullWidth());i.intersectsWithTextSpan(this.textSpan)?t.accept(this):this._position+=t.fullWidth()},i.prototype.position=function(){return this._position},i}(n.SyntaxWalker)}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(){}return t.lookupInUnicodeMap=function(n,t){if(n<t[0])return!1;for(var r=0,u=t.length,i;r+1<u;){if(i=r+(u-r)/2,i-=i%2,t[i]<=n&&n<=t[i+1])return!0;n<t[i]?u=i:r=i+2}return!1},t.isIdentifierStart=function(i,r){if(r===0)return t.lookupInUnicodeMap(i,t.unicodeES3IdentifierStart);if(r===1)return t.lookupInUnicodeMap(i,t.unicodeES5IdentifierStart);throw n.Errors.argumentOutOfRange("languageVersion");},t.isIdentifierPart=function(i,r){if(r===0)return t.lookupInUnicodeMap(i,t.unicodeES3IdentifierPart);if(r===1)return t.lookupInUnicodeMap(i,t.unicodeES5IdentifierPart);throw n.Errors.argumentOutOfRange("languageVersion");},t.unicodeES3IdentifierStart=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1569,1594,1600,1610,1649,1747,1749,1749,1765,1766,1786,1788,1808,1808,1810,1836,1920,1957,2309,2361,2365,2365,2384,2384,2392,2401,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2784,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2877,2877,2908,2909,2911,2913,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3294,3294,3296,3297,3333,3340,3342,3344,3346,3368,3370,3385,3424,3425,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3805,3840,3840,3904,3911,3913,3946,3976,3979,4096,4129,4131,4135,4137,4138,4176,4181,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6067,6176,6263,6272,6312,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8319,8319,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12329,12337,12341,12344,12346,12353,12436,12445,12446,12449,12538,12540,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65138,65140,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],t.unicodeES3IdentifierPart=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,768,846,864,866,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1155,1158,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1425,1441,1443,1465,1467,1469,1471,1471,1473,1474,1476,1476,1488,1514,1520,1522,1569,1594,1600,1621,1632,1641,1648,1747,1749,1756,1759,1768,1770,1773,1776,1788,1808,1836,1840,1866,1920,1968,2305,2307,2309,2361,2364,2381,2384,2388,2392,2403,2406,2415,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2492,2494,2500,2503,2504,2507,2509,2519,2519,2524,2525,2527,2531,2534,2545,2562,2562,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2649,2652,2654,2654,2662,2676,2689,2691,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2784,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2876,2883,2887,2888,2891,2893,2902,2903,2908,2909,2911,2913,2918,2927,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3006,3010,3014,3016,3018,3021,3031,3031,3047,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3134,3140,3142,3144,3146,3149,3157,3158,3168,3169,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3262,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3297,3302,3311,3330,3331,3333,3340,3342,3344,3346,3368,3370,3385,3390,3395,3398,3400,3402,3405,3415,3415,3424,3425,3430,3439,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3805,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3946,3953,3972,3974,3979,3984,3991,3993,4028,4038,4038,4096,4129,4131,4135,4137,4138,4140,4146,4150,4153,4160,4169,4176,4185,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,4969,4977,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6099,6112,6121,6160,6169,6176,6263,6272,6313,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8255,8256,8319,8319,8400,8412,8417,8417,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12335,12337,12341,12344,12346,12353,12436,12441,12442,12445,12446,12449,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65056,65059,65075,65076,65101,65103,65136,65138,65140,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65381,65470,65474,65479,65482,65487,65490,65495,65498,65500],t.unicodeES5IdentifierStart=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1319,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2208,2208,2210,2220,2308,2361,2365,2365,2384,2384,2392,2401,2417,2423,2425,2431,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3133,3160,3161,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3424,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6263,6272,6312,6314,6314,6320,6389,6400,6428,6480,6509,6512,6516,6528,6571,6593,6599,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7401,7404,7406,7409,7413,7414,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11823,11823,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42647,42656,42735,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43648,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],t.unicodeES5IdentifierPart=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,768,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1155,1159,1162,1319,1329,1366,1369,1369,1377,1415,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1488,1514,1520,1522,1552,1562,1568,1641,1646,1747,1749,1756,1759,1768,1770,1788,1791,1791,1808,1866,1869,1969,1984,2037,2042,2042,2048,2093,2112,2139,2208,2208,2210,2220,2276,2302,2304,2403,2406,2415,2417,2423,2425,2431,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2525,2527,2531,2534,2545,2561,2563,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2641,2641,2649,2652,2654,2654,2662,2677,2689,2691,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2787,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2876,2884,2887,2888,2891,2893,2902,2903,2908,2909,2911,2915,2918,2927,2929,2929,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3016,3018,3021,3024,3024,3031,3031,3046,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3140,3142,3144,3146,3149,3157,3158,3160,3161,3168,3171,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3260,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3299,3302,3311,3313,3314,3330,3331,3333,3340,3342,3344,3346,3386,3389,3396,3398,3400,3402,3406,3415,3415,3424,3427,3430,3439,3450,3455,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3807,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3948,3953,3972,3974,3991,3993,4028,4038,4038,4096,4169,4176,4253,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4957,4959,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5908,5920,5940,5952,5971,5984,5996,5998,6e3,6002,6003,6016,6099,6103,6103,6108,6109,6112,6121,6155,6157,6160,6169,6176,6263,6272,6314,6320,6389,6400,6428,6432,6443,6448,6459,6470,6509,6512,6516,6528,6571,6576,6601,6608,6617,6656,6683,6688,6750,6752,6780,6783,6793,6800,6809,6823,6823,6912,6987,6992,7001,7019,7027,7040,7155,7168,7223,7232,7241,7245,7293,7376,7378,7380,7414,7424,7654,7676,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8204,8205,8255,8256,8276,8276,8305,8305,8319,8319,8336,8348,8400,8412,8417,8417,8421,8432,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11647,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11744,11775,11823,11823,12293,12295,12321,12335,12337,12341,12344,12348,12353,12438,12441,12442,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42539,42560,42607,42612,42621,42623,42647,42655,42737,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43047,43072,43123,43136,43204,43216,43225,43232,43255,43259,43259,43264,43309,43312,43347,43360,43388,43392,43456,43471,43481,43520,43574,43584,43597,43600,43609,43616,43638,43642,43643,43648,43714,43739,43741,43744,43759,43762,43766,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44010,44012,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65024,65039,65056,65062,65075,65076,65101,65103,65136,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],t}();n.Unicode=t}(TypeScript||(TypeScript={})),function(n){function t(n,t){return(n&t)!=0}function i(n,t){return n&~t}function s(n){return n}var r,u,f,e,o,h,c;n.hasFlag=t;n.withoutFlag=i,function(n){n[n.None=0]="None";n[n.SingleLine=2]="SingleLine";n[n.OptionalName=4]="OptionalName";n[n.TypeReference=8]="TypeReference";n[n.EnumElement=16]="EnumElement";n[n.EnumMapElement=32]="EnumMapElement"}(n.ASTFlags||(n.ASTFlags={}));r=n.ASTFlags,function(n){n[n.None=0]="None";n[n.Exported=1]="Exported";n[n.Private=2]="Private";n[n.Public=4]="Public";n[n.Ambient=8]="Ambient";n[n.Static=16]="Static"}(n.DeclFlags||(n.DeclFlags={}));u=n.DeclFlags,function(n){n[n.None=0]="None";n[n.Exported=1]="Exported";n[n.Private=2]="Private";n[n.Public=4]="Public";n[n.Ambient=8]="Ambient";n[n.Static=16]="Static";n[n.IsEnum=128]="IsEnum";n[n.IsWholeFile=256]="IsWholeFile";n[n.IsDynamic=512]="IsDynamic"}(n.ModuleFlags||(n.ModuleFlags={}));f=n.ModuleFlags,function(n){n[n.None=0]="None";n[n.Exported=1]="Exported";n[n.Private=2]="Private";n[n.Public=4]="Public";n[n.Ambient=8]="Ambient";n[n.Static=16]="Static";n[n.Property=256]="Property";n[n.ClassProperty=2048]="ClassProperty";n[n.Constant=4096]="Constant";n[n.EnumElement=8192]="EnumElement"}(n.VariableFlags||(n.VariableFlags={}));e=n.VariableFlags,function(n){n[n.None=0]="None";n[n.Exported=1]="Exported";n[n.Private=2]="Private";n[n.Public=4]="Public";n[n.Ambient=8]="Ambient";n[n.Static=16]="Static";n[n.GetAccessor=32]="GetAccessor";n[n.SetAccessor=64]="SetAccessor";n[n.Signature=128]="Signature";n[n.Method=256]="Method";n[n.CallMember=512]="CallMember";n[n.ConstructMember=1024]="ConstructMember";n[n.IsFatArrowFunction=2048]="IsFatArrowFunction";n[n.IndexerMember=4096]="IndexerMember";n[n.IsFunctionExpression=8192]="IsFunctionExpression";n[n.IsFunctionProperty=16384]="IsFunctionProperty"}(n.FunctionFlags||(n.FunctionFlags={}));o=n.FunctionFlags;n.ToDeclFlags=s,function(n){n[n.SuccessfulComparison=0]="SuccessfulComparison";n[n.RequiredPropertyIsMissing=2]="RequiredPropertyIsMissing";n[n.IncompatibleSignatures=4]="IncompatibleSignatures";n[n.SourceSignatureHasTooManyParameters=3]="SourceSignatureHasTooManyParameters";n[n.IncompatibleReturnTypes=16]="IncompatibleReturnTypes";n[n.IncompatiblePropertyTypes=32]="IncompatiblePropertyTypes";n[n.IncompatibleParameterTypes=64]="IncompatibleParameterTypes";n[n.InconsistantPropertyAccesibility=128]="InconsistantPropertyAccesibility"}(n.TypeRelationshipFlags||(n.TypeRelationshipFlags={}));h=n.TypeRelationshipFlags,function(n){n[n.Synchronous=0]="Synchronous";n[n.Asynchronous=1]="Asynchronous"}(n.ModuleGenTarget||(n.ModuleGenTarget={}));c=n.ModuleGenTarget}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.None=0]="None";n[n.List=1]="List";n[n.Script=2]="Script";n[n.TrueLiteral=3]="TrueLiteral";n[n.FalseLiteral=4]="FalseLiteral";n[n.StringLiteral=5]="StringLiteral";n[n.RegularExpressionLiteral=6]="RegularExpressionLiteral";n[n.NumericLiteral=7]="NumericLiteral";n[n.NullLiteral=8]="NullLiteral";n[n.TypeParameter=9]="TypeParameter";n[n.GenericType=10]="GenericType";n[n.TypeRef=11]="TypeRef";n[n.FunctionDeclaration=12]="FunctionDeclaration";n[n.ClassDeclaration=13]="ClassDeclaration";n[n.InterfaceDeclaration=14]="InterfaceDeclaration";n[n.ModuleDeclaration=15]="ModuleDeclaration";n[n.ImportDeclaration=16]="ImportDeclaration";n[n.VariableDeclarator=17]="VariableDeclarator";n[n.VariableDeclaration=18]="VariableDeclaration";n[n.Parameter=19]="Parameter";n[n.Name=20]="Name";n[n.ArrayLiteralExpression=21]="ArrayLiteralExpression";n[n.ObjectLiteralExpression=22]="ObjectLiteralExpression";n[n.OmittedExpression=23]="OmittedExpression";n[n.VoidExpression=24]="VoidExpression";n[n.CommaExpression=25]="CommaExpression";n[n.PlusExpression=26]="PlusExpression";n[n.NegateExpression=27]="NegateExpression";n[n.DeleteExpression=28]="DeleteExpression";n[n.ThisExpression=29]="ThisExpression";n[n.SuperExpression=30]="SuperExpression";n[n.InExpression=31]="InExpression";n[n.MemberAccessExpression=32]="MemberAccessExpression";n[n.InstanceOfExpression=33]="InstanceOfExpression";n[n.TypeOfExpression=34]="TypeOfExpression";n[n.ElementAccessExpression=35]="ElementAccessExpression";n[n.InvocationExpression=36]="InvocationExpression";n[n.ObjectCreationExpression=37]="ObjectCreationExpression";n[n.AssignmentExpression=38]="AssignmentExpression";n[n.AddAssignmentExpression=39]="AddAssignmentExpression";n[n.SubtractAssignmentExpression=40]="SubtractAssignmentExpression";n[n.DivideAssignmentExpression=41]="DivideAssignmentExpression";n[n.MultiplyAssignmentExpression=42]="MultiplyAssignmentExpression";n[n.ModuloAssignmentExpression=43]="ModuloAssignmentExpression";n[n.AndAssignmentExpression=44]="AndAssignmentExpression";n[n.ExclusiveOrAssignmentExpression=45]="ExclusiveOrAssignmentExpression";n[n.OrAssignmentExpression=46]="OrAssignmentExpression";n[n.LeftShiftAssignmentExpression=47]="LeftShiftAssignmentExpression";n[n.SignedRightShiftAssignmentExpression=48]="SignedRightShiftAssignmentExpression";n[n.UnsignedRightShiftAssignmentExpression=49]="UnsignedRightShiftAssignmentExpression";n[n.ConditionalExpression=50]="ConditionalExpression";n[n.LogicalOrExpression=51]="LogicalOrExpression";n[n.LogicalAndExpression=52]="LogicalAndExpression";n[n.BitwiseOrExpression=53]="BitwiseOrExpression";n[n.BitwiseExclusiveOrExpression=54]="BitwiseExclusiveOrExpression";n[n.BitwiseAndExpression=55]="BitwiseAndExpression";n[n.EqualsWithTypeConversionExpression=56]="EqualsWithTypeConversionExpression";n[n.NotEqualsWithTypeConversionExpression=57]="NotEqualsWithTypeConversionExpression";n[n.EqualsExpression=58]="EqualsExpression";n[n.NotEqualsExpression=59]="NotEqualsExpression";n[n.LessThanExpression=60]="LessThanExpression";n[n.LessThanOrEqualExpression=61]="LessThanOrEqualExpression";n[n.GreaterThanExpression=62]="GreaterThanExpression";n[n.GreaterThanOrEqualExpression=63]="GreaterThanOrEqualExpression";n[n.AddExpression=64]="AddExpression";n[n.SubtractExpression=65]="SubtractExpression";n[n.MultiplyExpression=66]="MultiplyExpression";n[n.DivideExpression=67]="DivideExpression";n[n.ModuloExpression=68]="ModuloExpression";n[n.LeftShiftExpression=69]="LeftShiftExpression";n[n.SignedRightShiftExpression=70]="SignedRightShiftExpression";n[n.UnsignedRightShiftExpression=71]="UnsignedRightShiftExpression";n[n.BitwiseNotExpression=72]="BitwiseNotExpression";n[n.LogicalNotExpression=73]="LogicalNotExpression";n[n.PreIncrementExpression=74]="PreIncrementExpression";n[n.PreDecrementExpression=75]="PreDecrementExpression";n[n.PostIncrementExpression=76]="PostIncrementExpression";n[n.PostDecrementExpression=77]="PostDecrementExpression";n[n.CastExpression=78]="CastExpression";n[n.ParenthesizedExpression=79]="ParenthesizedExpression";n[n.Member=80]="Member";n[n.Block=81]="Block";n[n.BreakStatement=82]="BreakStatement";n[n.ContinueStatement=83]="ContinueStatement";n[n.DebuggerStatement=84]="DebuggerStatement";n[n.DoStatement=85]="DoStatement";n[n.EmptyStatement=86]="EmptyStatement";n[n.ExportAssignment=87]="ExportAssignment";n[n.ExpressionStatement=88]="ExpressionStatement";n[n.ForInStatement=89]="ForInStatement";n[n.ForStatement=90]="ForStatement";n[n.IfStatement=91]="IfStatement";n[n.LabeledStatement=92]="LabeledStatement";n[n.ReturnStatement=93]="ReturnStatement";n[n.SwitchStatement=94]="SwitchStatement";n[n.ThrowStatement=95]="ThrowStatement";n[n.TryStatement=96]="TryStatement";n[n.VariableStatement=97]="VariableStatement";n[n.WhileStatement=98]="WhileStatement";n[n.WithStatement=99]="WithStatement";n[n.CaseClause=100]="CaseClause";n[n.CatchClause=101]="CatchClause";n[n.Comment=102]="Comment"})(n.NodeType||(n.NodeType={}));var t=n.NodeType}(TypeScript||(TypeScript={})),function(n){var i=function(){function n(){this.prototype=undefined;this.toString=undefined;this.toLocaleString=undefined;this.valueOf=undefined;this.hasOwnProperty=undefined;this.propertyIsEnumerable=undefined;this.isPrototypeOf=undefined;this.constructor=undefined}return n}(),t,r;n.BlockIntrinsics=i;t=function(){function n(){this.itemCount=0;this.table=new i}return n.prototype.getAllKeys=function(){var t=[],n;for(n in this.table)this.table[n]!==undefined&&t.push(n);return t},n.prototype.add=function(n,t){return this.table[n]!==undefined?!1:(this.table[n]=t,this.itemCount++,!0)},n.prototype.addOrUpdate=function(n,t){return this.table[n]!==undefined?(this.table[n]=t,!1):(this.table[n]=t,this.itemCount++,!0)},n.prototype.map=function(n,t){var i,r;for(i in this.table)r=this.table[i],r!==undefined&&n(i,this.table[i],t)},n.prototype.every=function(n,t){var i,r;for(i in this.table)if(r=this.table[i],r!==undefined&&!n(i,this.table[i],t))return!1;return!0},n.prototype.some=function(n,t){var i,r;for(i in this.table)if(r=this.table[i],r!==undefined&&n(i,this.table[i],t))return!0;return!1},n.prototype.count=function(){return this.itemCount},n.prototype.lookup=function(n){var t=this.table[n];return t===undefined?null:t},n}();n.StringHashTable=t;r=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.getAllKeys=function(){var t=[];return n.prototype.map.call(this,function(n,i){i!==undefined&&t.push(n.substring(1))},null),t},t.prototype.add=function(t,i){return n.prototype.add.call(this,"#"+t,i)},t.prototype.addOrUpdate=function(t,i){return n.prototype.addOrUpdate.call(this,"#"+t,i)},t.prototype.map=function(t,i){return n.prototype.map.call(this,function(n,i,r){return t(n.substring(1),i,r)},i)},t.prototype.every=function(t,i){return n.prototype.every.call(this,function(n,i,r){return t(n.substring(1),i,r)},i)},t.prototype.some=function(t,i){return n.prototype.some.call(this,function(n,i,r){return t(n.substring(1),i,r)},i)},t.prototype.lookup=function(t){return n.prototype.lookup.call(this,"#"+t)},t}(t);n.IdentiferNameHashTable=r}(TypeScript||(TypeScript={})),function(n){function l(n,i){return t(n,i,!1)}function a(n,i){return t(n,i,!0)}function t(n,t,i){return n===t?!0:n!==null&&t!==null&&n.nodeType===t.nodeType&&n.structuralEquals(t,i)}function h(t,i,r){return n.ArrayUtilities.sequenceEquals(t,i,r?a:l)}var f=function(){function n(){this.minChar=-1;this.limChar=-1;this.trailingTriviaWidth=0}return n}(),r,v,u,c,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,e,ot,st,ht,ct,o,lt,s,at,vt,i,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,ci,li,ai,vi,yi,pi,wi,bi;n.ASTSpan=f;n.astID=0;n.structuralEqualsNotIncludingPosition=l;n.structuralEqualsIncludingPosition=a;r=function(){function t(t){this.nodeType=t;this.minChar=-1;this.limChar=-1;this.trailingTriviaWidth=0;this._flags=0;this.typeCheckPhase=-1;this.astID=n.astID++;this.passCreated=n.CompilerDiagnostics.analysisPass;this.preComments=null;this.postComments=null;this.docComments=null}return t.prototype.shouldEmit=function(){return!0},t.prototype.isExpression=function(){return!1},t.prototype.isStatementOrExpression=function(){return!1},t.prototype.getFlags=function(){return this._flags},t.prototype.setFlags=function(n){this._flags=n},t.prototype.getLength=function(){return this.limChar-this.minChar},t.prototype.getID=function(){return this.astID},t.prototype.isDeclaration=function(){return!1},t.prototype.isStatement=function(){return!1},t.prototype.emit=function(n){n.emitComments(this,!0);n.recordSourceMappingStart(this);this.emitWorker(n);n.recordSourceMappingEnd(this);n.emitComments(this,!1)},t.prototype.emitWorker=function(){throw new Error("please implement in derived class");},t.prototype.getDocComments=function(){var r,t,n,i;if(!this.isDeclaration()||!this.preComments||this.preComments.length===0)return[];if(!this.docComments){for(r=this.preComments.length,t=[],n=r-1;n>=0;n--){if(this.preComments[n].isDocComment()&&(i=t.length>0?t[t.length-1]:null,i===null||this.preComments[n].limLine===i.minLine||this.preComments[n].limLine+1===i.minLine)){t.push(this.preComments[n]);continue}break}this.docComments=t.reverse()}return this.docComments},t.prototype.structuralEquals=function(n,t){return t&&(this.minChar!==n.minChar||this.limChar!==n.limChar)?!1:this._flags===n._flags&&h(this.preComments,n.preComments,t)&&h(this.postComments,n.postComments,t)},t}();n.AST=r;v=function(n){function t(){n.call(this,1);this.members=[]}return __extends(t,n),t.prototype.append=function(n){return this.members[this.members.length]=n,this},t.prototype.emit=function(n){n.recordSourceMappingStart(this);n.emitModuleElements(this);n.recordSourceMappingEnd(this)},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)&&h(this.members,t.members,i)},t}(r);n.ASTList=v;u=function(n){function t(t){n.call(this,t)}return __extends(t,n),t}(r);n.Expression=u;c=function(n){function t(t){n.call(this,20);this.actualText=t;this.setText(t)}return __extends(t,n),t.prototype.setText=function(n){this.actualText=n;this.text=n},t.prototype.isMissing=function(){return!1},t.prototype.emit=function(n){n.emitName(this,!0)},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)&&this.text===t.text&&this.actualText===t.actualText&&this.isMissing()===t.isMissing()},t}(u);n.Identifier=c;y=function(n){function t(){n.call(this,"__missing")}return __extends(t,n),t.prototype.isMissing=function(){return!0},t.prototype.emit=function(){},t}(c);n.MissingIdentifier=y;p=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.emitWorker=function(n){switch(this.nodeType){case 8:n.writeToOutput("null");break;case 4:n.writeToOutput("false");break;case 3:n.writeToOutput("true");break;default:throw new Error("please implement in derived class");}},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)},t}(u);n.LiteralExpression=p;w=function(t){function i(){t.call(this,29)}return __extends(i,t),i.prototype.emitWorker=function(t){t.thisFunctionDeclaration&&n.hasFlag(t.thisFunctionDeclaration.getFunctionFlags(),2048)?t.writeToOutput("_this"):t.writeToOutput("this")},i.prototype.structuralEquals=function(n,i){return t.prototype.structuralEquals.call(this,n,i)},i}(u);n.ThisExpression=w;b=function(n){function t(){n.call(this,30)}return __extends(t,n),t.prototype.emitWorker=function(n){n.emitSuperReference()},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)},t}(u);n.SuperExpression=b;k=function(n){function i(t){n.call(this,79);this.expression=t}return __extends(i,n),i.prototype.emitWorker=function(n){n.writeToOutput("(");this.expression.emit(n);n.writeToOutput(")")},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.expression,i.expression,r)},i}(u);n.ParenthesizedExpression=k;d=function(n){function i(t,i){n.call(this,t);this.operand=i;this.castTerm=null}return __extends(i,n),i.prototype.emitWorker=function(n){switch(this.nodeType){case 76:this.operand.emit(n);n.writeToOutput("++");break;case 73:n.writeToOutput("!");this.operand.emit(n);break;case 77:this.operand.emit(n);n.writeToOutput("--");break;case 22:n.emitObjectLiteral(this);break;case 21:n.emitArrayLiteral(this);break;case 72:n.writeToOutput("~");this.operand.emit(n);break;case 27:n.writeToOutput("-");(this.operand.nodeType===27||this.operand.nodeType===75)&&n.writeToOutput(" ");this.operand.emit(n);break;case 26:n.writeToOutput("+");(this.operand.nodeType===26||this.operand.nodeType===74)&&n.writeToOutput(" ");this.operand.emit(n);break;case 74:n.writeToOutput("++");this.operand.emit(n);break;case 75:n.writeToOutput("--");this.operand.emit(n);break;case 34:n.writeToOutput("typeof ");this.operand.emit(n);break;case 28:n.writeToOutput("delete ");this.operand.emit(n);break;case 24:n.writeToOutput("void ");this.operand.emit(n);break;case 78:this.operand.emit(n);break;default:throw new Error("please implement in derived class");}},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.castTerm,i.castTerm,r)&&t(this.operand,i.operand,r)},i}(u);n.UnaryExpression=d;g=function(n){function i(t,i,r,u){n.call(this,t);this.target=i;this.typeArguments=r;this.arguments=u}return __extends(i,n),i.prototype.emitWorker=function(n){this.nodeType===37?n.emitNew(this.target,this.arguments):n.emitCall(this,this.target,this.arguments)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.target,i.target,r)&&t(this.typeArguments,i.typeArguments,r)&&t(this.arguments,i.arguments,r)},i}(u);n.CallExpression=g;nt=function(i){function r(n,t,r){i.call(this,n);this.operand1=t;this.operand2=r}return __extends(r,i),r.getTextForBinaryToken=function(t){switch(t){case 25:return",";case 38:return"=";case 39:return"+=";case 40:return"-=";case 42:return"*=";case 41:return"/=";case 43:return"%=";case 44:return"&=";case 45:return"^=";case 46:return"|=";case 47:return"<<=";case 48:return">>=";case 49:return">>>=";case 51:return"||";case 52:return"&&";case 53:return"|";case 54:return"^";case 55:return"&";case 56:return"==";case 57:return"!=";case 58:return"===";case 59:return"!==";case 60:return"<";case 62:return">";case 61:return"<=";case 63:return">=";case 33:return"instanceof";case 31:return"in";case 69:return"<<";case 70:return">>";case 71:return">>>";case 66:return"*";case 67:return"/";case 68:return"%";case 64:return"+";case 65:return"-"}throw n.Errors.invalidOperation();},r.prototype.emitWorker=function(t){var u,i;switch(this.nodeType){case 32:t.tryEmitConstant(this)||(this.operand1.emit(t),t.writeToOutput("."),t.emitName(this.operand2,!1));break;case 35:t.emitIndex(this.operand1,this.operand2);break;case 80:this.operand2.nodeType===12&&this.operand2.isAccessor()?(u=this.operand2,n.hasFlag(u.getFunctionFlags(),32)?t.writeToOutput("get "):t.writeToOutput("set "),this.operand1.emit(t)):(this.operand1.emit(t),t.writeToOutputTrimmable(": "));this.operand2.emit(t);break;case 25:this.operand1.emit(t);t.writeToOutput(", ");this.operand2.emit(t);break;default:this.operand1.emit(t);i=r.getTextForBinaryToken(this.nodeType);i==="instanceof"?t.writeToOutput(" instanceof "):i==="in"?t.writeToOutput(" in "):t.writeToOutputTrimmable(" "+i+" ");this.operand2.emit(t)}},r.prototype.structuralEquals=function(n,r){return i.prototype.structuralEquals.call(this,n,r)&&t(this.operand1,n.operand1,r)&&t(this.operand2,n.operand2,r)},r}(u);n.BinaryExpression=nt;tt=function(n){function i(t,i,r){n.call(this,50);this.operand1=t;this.operand2=i;this.operand3=r}return __extends(i,n),i.prototype.emitWorker=function(n){this.operand1.emit(n);n.writeToOutput(" ? ");this.operand2.emit(n);n.writeToOutput(" : ");this.operand3.emit(n)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.operand1,i.operand1,r)&&t(this.operand2,i.operand2,r)&&t(this.operand3,i.operand3,r)},i}(u);n.ConditionalExpression=tt;it=function(n){function t(t,i){n.call(this,7);this.value=t;this.text=i}return __extends(t,n),t.prototype.emitWorker=function(n){n.writeToOutput(this.text)},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)&&this.value===t.value&&this.text===t.text},t}(u);n.NumberLiteral=it;rt=function(n){function t(t){n.call(this,6);this.text=t}return __extends(t,n),t.prototype.emitWorker=function(n){n.writeToOutput(this.text)},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)&&this.text===t.text},t}(u);n.RegexLiteral=rt;ut=function(n){function t(t,i){n.call(this,5);this.actualText=t;this.text=i}return __extends(t,n),t.prototype.emitWorker=function(n){n.writeToOutput(this.actualText)},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)&&this.actualText===t.actualText},t}(u);n.StringLiteral=ut;ft=function(n){function i(t,i){n.call(this,16);this.id=t;this.alias=i;this.isDynamicImport=!1}return __extends(i,n),i.prototype.isStatementOrExpression=function(){return!0},i.prototype.isDeclaration=function(){return!0},i.prototype.emit=function(n){var t,i,r;n.importStatementShouldBeEmitted(this)&&(t=n.modAliasId,i=n.firstModAlias,n.recordSourceMappingStart(this),n.emitComments(this,!0),n.writeToOutput("var "+this.id.actualText+" = "),n.modAliasId=this.id.actualText,n.firstModAlias=this.firstAliasedModToString(),r=this.alias.nodeType===11?this.alias.term:this.alias,n.emitJavascript(r,!1),n.writeToOutput(";"),n.emitComments(this,!1),n.recordSourceMappingEnd(this),n.modAliasId=t,n.firstModAlias=i)},i.prototype.getAliasName=function(n){if(typeof n=="undefined"&&(n=this.alias),n.nodeType===20)return n.actualText;var t=n;return this.getAliasName(t.operand1)+"."+this.getAliasName(t.operand2)},i.prototype.firstAliasedModToString=function(){if(this.alias.nodeType===20)return this.alias.actualText;var n=this.alias,t=n.term.operand1;return t.actualText},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.id,i.id,r)&&t(this.alias,i.alias,r)},i}(r);n.ImportDeclaration=ft;et=function(n){function i(t){n.call(this,87);this.id=t}return __extends(i,n),i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.id,i.id,r)},i.prototype.emit=function(n){n.setExportAssignmentIdentifier(this.id.actualText)},i}(r);n.ExportAssignment=et;e=function(i){function r(n,t){i.call(this,t);this.id=n;this.init=null;this.isImplicitlyInitialized=!1;this.typeExpr=null;this._varFlags=0}return __extends(r,i),r.prototype.isDeclaration=function(){return!0},r.prototype.isStatementOrExpression=function(){return!0},r.prototype.getVarFlags=function(){return this._varFlags},r.prototype.setVarFlags=function(n){this._varFlags=n},r.prototype.isProperty=function(){return n.hasFlag(this.getVarFlags(),256)},r.prototype.structuralEquals=function(n,r){return i.prototype.structuralEquals.call(this,n,r)&&this._varFlags===n._varFlags&&t(this.init,n.init,r)&&t(this.typeExpr,n.typeExpr,r)&&t(this.id,n.id,r)},r}(r);n.BoundDecl=e;ot=function(t){function i(n){t.call(this,n,17)}return __extends(i,t),i.prototype.isExported=function(){return n.hasFlag(this.getVarFlags(),1)},i.prototype.isStatic=function(){return n.hasFlag(this.getVarFlags(),16)},i.prototype.emit=function(n){n.emitVariableDeclarator(this)},i}(e);n.VariableDeclarator=ot;st=function(n){function t(t){n.call(this,t,19);this.isOptional=!1}return __extends(t,n),t.prototype.isOptionalArg=function(){return this.isOptional||this.init},t.prototype.emitWorker=function(n){n.writeToOutput(this.id.actualText)},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)&&this.isOptional===t.isOptional},t}(e);n.Parameter=st;ht=function(i){function r(n,t,r,u,f,e){i.call(this,e);this.name=n;this.block=t;this.isConstructor=r;this.typeArguments=u;this.arguments=f;this.hint=null;this._functionFlags=0;this.returnTypeAnnotation=null;this.variableArgList=!1;this.classDecl=null}return __extends(r,i),r.prototype.isDeclaration=function(){return!0},r.prototype.getFunctionFlags=function(){return this._functionFlags},r.prototype.setFunctionFlags=function(n){this._functionFlags=n},r.prototype.structuralEquals=function(n,r){return i.prototype.structuralEquals.call(this,n,r)&&this._functionFlags===n._functionFlags&&this.hint===n.hint&&this.variableArgList===n.variableArgList&&t(this.name,n.name,r)&&t(this.block,n.block,r)&&this.isConstructor===n.isConstructor&&t(this.typeArguments,n.typeArguments,r)&&t(this.arguments,n.arguments,r)},r.prototype.shouldEmit=function(){return!n.hasFlag(this.getFunctionFlags(),128)&&!n.hasFlag(this.getFunctionFlags(),8)},r.prototype.emit=function(n){n.emitFunction(this)},r.prototype.getNameText=function(){return this.name?this.name.actualText:this.hint},r.prototype.isMethod=function(){return(this.getFunctionFlags()&256)!=0},r.prototype.isCallMember=function(){return n.hasFlag(this.getFunctionFlags(),512)},r.prototype.isConstructMember=function(){return n.hasFlag(this.getFunctionFlags(),1024)},r.prototype.isIndexerMember=function(){return n.hasFlag(this.getFunctionFlags(),4096)},r.prototype.isSpecialFn=function(){return this.isCallMember()||this.isIndexerMember()||this.isConstructMember()},r.prototype.isAccessor=function(){return n.hasFlag(this.getFunctionFlags(),32)||n.hasFlag(this.getFunctionFlags(),64)},r.prototype.isGetAccessor=function(){return n.hasFlag(this.getFunctionFlags(),32)},r.prototype.isSetAccessor=function(){return n.hasFlag(this.getFunctionFlags(),64)},r.prototype.isStatic=function(){return n.hasFlag(this.getFunctionFlags(),16)},r.prototype.isSignature=function(){return(this.getFunctionFlags()&128)!=0},r}(r);n.FunctionDeclaration=ht;ct=function(n){function i(){n.call(this,2);this.moduleElements=null;this.referencedFiles=[];this.requiresExtendsBlock=!1;this.isDeclareFile=!1;this.topLevelMod=null;this.containsUnicodeChar=!1;this.containsUnicodeCharInComment=!1}return __extends(i,n),i.prototype.emit=function(n){this.isDeclareFile||n.emitScriptElements(this,this.requiresExtendsBlock)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.moduleElements,i.moduleElements,r)},i}(r);n.Script=ct;o=function(n){function i(t,i,r){n.call(this,t);this.name=i;this.members=r}return __extends(i,n),i.prototype.isDeclaration=function(){return!0},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.name,i.name,r)&&t(this.members,i.members,r)},i}(r);n.NamedDeclaration=o;lt=function(t){function i(n,i,r){t.call(this,15,n,i);this.endingToken=r;this._moduleFlags=0;this.amdDependencies=[];this.containsUnicodeChar=!1;this.containsUnicodeCharInComment=!1;this.prettyName=this.name.actualText}return __extends(i,t),i.prototype.getModuleFlags=function(){return this._moduleFlags},i.prototype.setModuleFlags=function(n){this._moduleFlags=n},i.prototype.structuralEquals=function(n,i){return t.prototype.structuralEquals.call(this,n,i)?this._moduleFlags===n._moduleFlags:!1},i.prototype.isEnum=function(){return n.hasFlag(this.getModuleFlags(),128)},i.prototype.isWholeFile=function(){return n.hasFlag(this.getModuleFlags(),256)},i.prototype.shouldEmit=function(){var t,r,i;if(n.hasFlag(this.getModuleFlags(),8))return!1;if(n.hasFlag(this.getModuleFlags(),128))return!0;for(t=0,r=this.members.members.length;t<r;t++)if(i=this.members.members[t],i.nodeType===15){if(i.shouldEmit())return!0}else if(i.nodeType!==14)return!0;return!1},i.prototype.emit=function(n){this.shouldEmit()&&(n.emitComments(this,!0),n.emitModule(this),n.emitComments(this,!1))},i}(o);n.ModuleDeclaration=lt;s=function(n){function i(t,i,r,u,f,e){n.call(this,t,i,e);this.typeParameters=r;this.extendsList=u;this.implementsList=f;this._varFlags=0}return __extends(i,n),i.prototype.getVarFlags=function(){return this._varFlags},i.prototype.setVarFlags=function(n){this._varFlags=n},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&this._varFlags===i._varFlags&&t(this.typeParameters,i.typeParameters,r)&&t(this.extendsList,i.extendsList,r)&&t(this.implementsList,i.implementsList,r)},i}(o);n.TypeDeclaration=s;at=function(t){function i(n,i,r,u,f){t.call(this,13,n,i,u,f,r);this.constructorDecl=null;this.endingToken=null}return __extends(i,t),i.prototype.shouldEmit=function(){return!n.hasFlag(this.getVarFlags(),8)},i.prototype.emit=function(n){n.emitClass(this)},i}(s);n.ClassDeclaration=at;vt=function(n){function t(t,i,r,u,f){n.call(this,14,t,i,u,f,r)}return __extends(t,n),t.prototype.shouldEmit=function(){return!1},t}(s);n.InterfaceDeclaration=vt;i=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.isStatement=function(){return!0},t.prototype.isStatementOrExpression=function(){return!0},t}(r);n.Statement=i;yt=function(n){function i(t){n.call(this,95);this.expression=t}return __extends(i,n),i.prototype.emitWorker=function(n){n.writeToOutput("throw ");this.expression.emit(n);n.writeToOutput(";")},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.expression,i.expression,r)},i}(i);n.ThrowStatement=yt;pt=function(n){function i(t){n.call(this,88);this.expression=t}return __extends(i,n),i.prototype.emitWorker=function(n){this.expression.emit(n);n.writeToOutput(";")},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.expression,i.expression,r)},i}(i);n.ExpressionStatement=pt;wt=function(n){function i(t,i){n.call(this,92);this.identifier=t;this.statement=i}return __extends(i,n),i.prototype.emitWorker=function(n){n.recordSourceMappingStart(this.identifier);n.writeToOutput(this.identifier.actualText);n.recordSourceMappingEnd(this.identifier);n.writeLineToOutput(":");n.emitJavascript(this.statement,!0)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.identifier,i.identifier,r)&&t(this.statement,i.statement,r)},i}(i);n.LabeledStatement=wt;bt=function(n){function i(t){n.call(this,18);this.declarators=t}return __extends(i,n),i.prototype.emit=function(n){n.emitVariableDeclaration(this)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.declarators,i.declarators,r)},i}(r);n.VariableDeclaration=bt;kt=function(i){function r(n){i.call(this,97);this.declaration=n}return __extends(r,i),r.prototype.shouldEmit=function(){if(n.hasFlag(this.getFlags(),32))return!1;var t=this.declaration.declarators.members[0];return!n.hasFlag(t.getVarFlags(),8)||t.init!==null},r.prototype.emitWorker=function(t){n.hasFlag(this.getFlags(),16)?t.emitEnumElement(this.declaration.declarators.members[0]):(this.declaration.emit(t),t.writeToOutput(";"))},r.prototype.structuralEquals=function(n,r){return i.prototype.structuralEquals.call(this,n,r)&&t(this.declaration,n.declaration,r)},r}(i);n.VariableStatement=kt;dt=function(n){function i(t){n.call(this,81);this.statements=t;this.closeBraceSpan=null}return __extends(i,n),i.prototype.emitWorker=function(n){n.writeLineToOutput(" {");n.indenter.increaseIndent();this.statements&&n.emitModuleElements(this.statements);n.indenter.decreaseIndent();n.emitIndent();n.writeToOutput("}")},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.statements,i.statements,r)},i}(i);n.Block=dt;gt=function(n){function t(t){n.call(this,t);this.target=null;this.resolvedTarget=null}return __extends(t,n),t.prototype.hasExplicitTarget=function(){return this.target},t.prototype.emitWorker=function(n){this.nodeType===82?n.writeToOutput("break"):n.writeToOutput("continue");this.hasExplicitTarget()&&n.writeToOutput(" "+this.target);n.writeToOutput(";")},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)&&this.target===t.target},t}(i);n.Jump=gt;ni=function(n){function i(t,i){n.call(this,98);this.cond=t;this.body=i}return __extends(i,n),i.prototype.emitWorker=function(n){n.writeToOutput("while (");this.cond.emit(n);n.writeToOutput(")");n.emitBlockOrStatement(this.body)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.cond,i.cond,r)&&t(this.body,i.body,r)},i}(i);n.WhileStatement=ni;ti=function(n){function i(t,i){n.call(this,85);this.body=t;this.cond=i;this.whileSpan=null}return __extends(i,n),i.prototype.emitWorker=function(n){n.writeToOutput("do");n.emitBlockOrStatement(this.body);n.recordSourceMappingStart(this.whileSpan);n.writeToOutput(" while");n.recordSourceMappingEnd(this.whileSpan);n.writeToOutput("(");this.cond.emit(n);n.writeToOutput(")");n.writeToOutput(";")},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.body,i.body,r)&&t(this.cond,i.cond,r)},i}(i);n.DoStatement=ti;ii=function(n){function i(t,i,r){n.call(this,91);this.cond=t;this.thenBod=i;this.elseBod=r;this.statement=new f}return __extends(i,n),i.prototype.emitWorker=function(n){n.recordSourceMappingStart(this.statement);n.writeToOutput("if (");this.cond.emit(n);n.writeToOutput(")");n.recordSourceMappingEnd(this.statement);n.emitBlockOrStatement(this.thenBod);this.elseBod&&(this.elseBod.nodeType===91?(n.writeToOutput(" else "),this.elseBod.emit(n)):(n.writeToOutput(" else"),n.emitBlockOrStatement(this.elseBod)))},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.cond,i.cond,r)&&t(this.thenBod,i.thenBod,r)&&t(this.elseBod,i.elseBod,r)},i}(i);n.IfStatement=ii;ri=function(n){function i(t){n.call(this,93);this.returnExpression=t}return __extends(i,n),i.prototype.emitWorker=function(n){this.returnExpression?(n.writeToOutput("return "),this.returnExpression.emit(n),n.writeToOutput(";")):n.writeToOutput("return;")},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.returnExpression,i.returnExpression,r)},i}(i);n.ReturnStatement=ri;ui=function(n){function i(t,i,r){n.call(this,89);this.lval=t;this.obj=i;this.body=r;this.statement=new f}return __extends(i,n),i.prototype.emitWorker=function(n){n.recordSourceMappingStart(this.statement);n.writeToOutput("for (");this.lval.emit(n);n.writeToOutput(" in ");this.obj.emit(n);n.writeToOutput(")");n.recordSourceMappingEnd(this.statement);n.emitBlockOrStatement(this.body)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.lval,i.lval,r)&&t(this.obj,i.obj,r)&&t(this.body,i.body,r)},i}(i);n.ForInStatement=ui;fi=function(n){function i(t,i,r,u){n.call(this,90);this.init=t;this.cond=i;this.incr=r;this.body=u}return __extends(i,n),i.prototype.emitWorker=function(n){n.writeToOutput("for (");this.init&&(this.init.nodeType!==1?this.init.emit(n):(n.setInVarBlock(this.init.members.length),n.emitCommaSeparatedList(this.init)));n.writeToOutput("; ");n.emitJavascript(this.cond,!1);n.writeToOutput("; ");n.emitJavascript(this.incr,!1);n.writeToOutput(")");n.emitBlockOrStatement(this.body)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.init,i.init,r)&&t(this.cond,i.cond,r)&&t(this.incr,i.incr,r)&&t(this.body,i.body,r)},i}(i);n.ForStatement=fi;ei=function(n){function i(t,i){n.call(this,99);this.expr=t;this.body=i}return __extends(i,n),i.prototype.emitWorker=function(n){n.writeToOutput("with (");this.expr&&this.expr.emit(n);n.writeToOutput(")");n.emitBlockOrStatement(this.body)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.expr,i.expr,r)&&t(this.body,i.body,r)},i}(i);n.WithStatement=ei;oi=function(n){function i(t){n.call(this,94);this.val=t;this.defaultCase=null;this.statement=new f}return __extends(i,n),i.prototype.emitWorker=function(n){var r,t,u,i;for(n.recordSourceMappingStart(this.statement),n.writeToOutput("switch ("),this.val.emit(n),n.writeToOutput(")"),n.recordSourceMappingEnd(this.statement),n.writeLineToOutput(" {"),n.indenter.increaseIndent(),r=null,t=0,u=this.caseList.members.length;t<u;t++)i=this.caseList.members[t],n.emitSpaceBetweenConstructs(r,i),n.emitJavascript(i,!0),r=i;n.indenter.decreaseIndent();n.emitIndent();n.writeToOutput("}")},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.caseList,i.caseList,r)&&t(this.val,i.val,r)},i}(i);n.SwitchStatement=oi;si=function(n){function i(){n.call(this,100);this.expr=null;this.colonSpan=new f}return __extends(i,n),i.prototype.emitWorker=function(n){this.expr?(n.writeToOutput("case "),this.expr.emit(n)):n.writeToOutput("default");n.recordSourceMappingStart(this.colonSpan);n.writeToOutput(":");n.recordSourceMappingEnd(this.colonSpan);this.body.members.length===1&&this.body.members[0].nodeType===81?(this.body.members[0].emit(n),n.writeLineToOutput("")):(n.writeLineToOutput(""),n.indenter.increaseIndent(),this.body.emit(n),n.indenter.decreaseIndent())},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.expr,i.expr,r)&&t(this.body,i.body,r)},i}(r);n.CaseClause=si;hi=function(n){function i(t,i){n.call(this,9);this.name=t;this.constraint=i}return __extends(i,n),i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.name,i.name,r)&&t(this.constraint,i.constraint,r)},i}(r);n.TypeParameter=hi;ci=function(n){function i(t,i){n.call(this,10);this.name=t;this.typeArguments=i}return __extends(i,n),i.prototype.emit=function(n){this.name.emit(n)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.name,i.name,r)&&t(this.typeArguments,i.typeArguments,r)},i}(r);n.GenericType=ci;li=function(n){function i(t,i){n.call(this,11);this.term=t;this.arrayCount=i}return __extends(i,n),i.prototype.emit=function(){throw new Error("should not emit a type ref");},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.term,i.term,r)&&this.arrayCount===i.arrayCount},i}(r);n.TypeReference=li;ai=function(n){function i(t,i,r){n.call(this,96);this.tryBody=t;this.catchClause=i;this.finallyBody=r}return __extends(i,n),i.prototype.emitWorker=function(n){n.writeToOutput("try ");this.tryBody.emit(n);n.emitJavascript(this.catchClause,!1);this.finallyBody&&(n.writeToOutput(" finally"),this.finallyBody.emit(n))},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.tryBody,i.tryBody,r)&&t(this.catchClause,i.catchClause,r)&&t(this.finallyBody,i.finallyBody,r)},i}(i);n.TryStatement=ai;vi=function(n){function i(t,i){n.call(this,101);this.param=t;this.body=i;this.statement=new f}return __extends(i,n),i.prototype.emitWorker=function(n){n.writeToOutput(" ");n.recordSourceMappingStart(this.statement);n.writeToOutput("catch (");this.param.id.emit(n);n.writeToOutput(")");n.recordSourceMappingEnd(this.statement);this.body.emit(n)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.param,i.param,r)&&t(this.body,i.body,r)},i}(r);n.CatchClause=vi;yi=function(n){function t(){n.call(this,84)}return __extends(t,n),t.prototype.emitWorker=function(n){n.writeToOutput("debugger;")},t}(i);n.DebuggerStatement=yi;pi=function(n){function t(){n.call(this,23)}return __extends(t,n),t.prototype.emitWorker=function(){},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)},t}(u);n.OmittedExpression=pi;wi=function(n){function t(){n.call(this,86)}return __extends(t,n),t.prototype.emitWorker=function(n){n.writeToOutput(";")},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)},t}(i);n.EmptyStatement=wi;bi=function(t){function i(n,i,r){t.call(this,102);this.content=n;this.isBlockComment=i;this.endsLine=r;this.text=null;this.docCommentText=null}return __extends(i,t),i.prototype.structuralEquals=function(n,i){return t.prototype.structuralEquals.call(this,n,i)&&this.minLine===n.minLine&&this.content===n.content&&this.isBlockComment===n.isBlockComment&&this.endsLine===n.endsLine},i.prototype.getText=function(){if(this.text===null)if(this.isBlockComment){this.text=this.content.split("\n");for(var n=0;n<this.text.length;n++)this.text[n]=this.text[n].replace(/^\s+|\s+$/g,"")}else this.text=[this.content.replace(/^\s+|\s+$/g,"")];return this.text},i.prototype.isDocComment=function(){return this.isBlockComment?this.content.charAt(2)==="*"&&this.content.charAt(3)!=="/":!1},i.prototype.getDocCommentTextValue=function(){return this.docCommentText===null&&(this.docCommentText=i.cleanJSDocComment(this.content)),this.docCommentText},i.consumeLeadingSpace=function(t,i,r){var u=t.length,f;for(r!==undefined&&(u=n.min(i+r,u));i<u;i++)if(f=t.charCodeAt(i),f!==32&&f!==9)return i;return u!==t.length?u:-1},i.isSpaceChar=function(n,t){var r=n.length,i;return t<r?(i=n.charCodeAt(t),i===32||i===9):t===r},i.cleanDocCommentLine=function(n,t,r){var u=i.consumeLeadingSpace(n,0),f,e;if(u!==-1){if(f=u,t&&n.charAt(u)==="*")if(e=u+1,u=i.consumeLeadingSpace(n,e,r),u!==-1)f=u-e;else return null;return{minChar:u,limChar:n.charAt(n.length-1)==="\r"?n.length-1:n.length,jsDocSpacesRemoved:f}}return null},i.cleanJSDocComment=function(n,t){var a=[],c,e,h,u,f,o,s,r,l,v;for(n=n.replace("/**",""),n.length>=2&&n.charAt(n.length-1)==="/"&&n.charAt(n.length-2)==="*"&&(n=n.substring(0,n.length-2)),c=n.split("\n"),e=!1,h=0;h<c.length;h++)if(u=c[h],f=i.cleanDocCommentLine(u,!0,t),f){for(o="",s=f.minChar,r=u.indexOf("@",f.minChar);0<=r&&r<f.limChar;r=u.indexOf("@",r+1))l=e,u.indexOf("param",r+1)===r+1&&i.isSpaceChar(u,r+6)?(l||(o+=u.substring(s,r)),s=r,e=!0):l&&(s=r,e=!1);e||(o+=u.substring(s,f.limChar));v=i.cleanDocCommentLine(o,!1);v&&(t===undefined&&(t=f.jsDocSpacesRemoved),a.push(o))}return a.join("\n")},i.getDocCommentText=function(n){for(var r=[],i,t=0;t<n.length;t++)i=n[t].getDocCommentTextValue(),i!==""&&r.push(i);return r.join("\n")},i.getParameterDocCommentText=function(n,t){var o,u,r,f,s,h;if(t.length===0||!t[0].isBlockComment)return"";for(o=0;o<t.length;o++)for(u=t[o].content,r=u.indexOf("@param",0);0<=r;r=u.indexOf("@param",r))if(r+=6,i.isSpaceChar(u,r)){if(r=i.consumeLeadingSpace(u,r),r===-1)break;if(u.charCodeAt(r)===123){for(r++,f=0,s=1;r<u.length;r++){if(f=u.charCodeAt(r),f===123){s++;continue}if(f===125)if(s--,s===0)break;else continue;if(f===64)break}if(r===u.length)break;if(f===64)continue;if(r=i.consumeLeadingSpace(u,r+1),r===-1)break}if(n===u.substr(r,n.length)&&i.isSpaceChar(u,r+n.length)){if(r=i.consumeLeadingSpace(u,r+n.length),r===-1)return"";var c=u.indexOf("@",r),a=u.substring(r,c<0?u.length:c),l=undefined,e=u.substring(0,r).lastIndexOf("\n")+1;return e!==0&&e<r&&u.charAt(e+1)==="\r"&&e++,h=i.consumeLeadingSpace(u,e),h!==r&&u.charAt(h)==="*"&&(l=r-h-1),i.cleanJSDocComment(a,l)}}return""},i}(r);n.Comment=bi}(TypeScript||(TypeScript={})),function(n){function e(){return r||(r=new i),r}var u=function(){function n(){this.goChildren=!0}return n}(),f,i,r,t;n.AstWalkOptions=u;f=function(){function n(n,t,i,r,u){this.childrenWalkers=n;this.pre=t;this.post=i;this.options=r;this.state=u}return n.prototype.walk=function(n,t){var i=this.pre(n,t,this),r;return i===undefined&&(i=n),this.options.goChildren?this.childrenWalkers[n.nodeType](n,t,this):this.options.goChildren=!0,this.post?(r=this.post(i,t,this),r===undefined&&(r=i),r):i},n}();i=function(){function i(){this.childrenWalkers=[];this.initChildrenWalkers()}return i.prototype.walk=function(n,t,i,r,u){return this.getWalker(t,i,r,u).walk(n,null)},i.prototype.getWalker=function(n,t,i,r){return this.getSlowWalker(n,t,i,r)},i.prototype.getSlowWalker=function(n,t,i,r){return i||(i=new u),new f(this.childrenWalkers,n,t,i,r)},i.prototype.initChildrenWalkers=function(){this.childrenWalkers[0]=t.walkNone;this.childrenWalkers[86]=t.walkNone;this.childrenWalkers[23]=t.walkNone;this.childrenWalkers[3]=t.walkNone;this.childrenWalkers[4]=t.walkNone;this.childrenWalkers[29]=t.walkNone;this.childrenWalkers[30]=t.walkNone;this.childrenWalkers[5]=t.walkNone;this.childrenWalkers[6]=t.walkNone;this.childrenWalkers[8]=t.walkNone;this.childrenWalkers[21]=t.walkUnaryExpressionChildren;this.childrenWalkers[22]=t.walkUnaryExpressionChildren;this.childrenWalkers[24]=t.walkUnaryExpressionChildren;this.childrenWalkers[25]=t.walkBinaryExpressionChildren;this.childrenWalkers[26]=t.walkUnaryExpressionChildren;this.childrenWalkers[27]=t.walkUnaryExpressionChildren;this.childrenWalkers[28]=t.walkUnaryExpressionChildren;this.childrenWalkers[31]=t.walkBinaryExpressionChildren;this.childrenWalkers[32]=t.walkBinaryExpressionChildren;this.childrenWalkers[33]=t.walkBinaryExpressionChildren;this.childrenWalkers[34]=t.walkUnaryExpressionChildren;this.childrenWalkers[7]=t.walkNone;this.childrenWalkers[20]=t.walkNone;this.childrenWalkers[9]=t.walkTypeParameterChildren;this.childrenWalkers[10]=t.walkGenericTypeChildren;this.childrenWalkers[11]=t.walkTypeReferenceChildren;this.childrenWalkers[35]=t.walkBinaryExpressionChildren;this.childrenWalkers[36]=t.walkCallExpressionChildren;this.childrenWalkers[37]=t.walkCallExpressionChildren;this.childrenWalkers[38]=t.walkBinaryExpressionChildren;this.childrenWalkers[39]=t.walkBinaryExpressionChildren;this.childrenWalkers[40]=t.walkBinaryExpressionChildren;this.childrenWalkers[41]=t.walkBinaryExpressionChildren;this.childrenWalkers[42]=t.walkBinaryExpressionChildren;this.childrenWalkers[43]=t.walkBinaryExpressionChildren;this.childrenWalkers[44]=t.walkBinaryExpressionChildren;this.childrenWalkers[45]=t.walkBinaryExpressionChildren;this.childrenWalkers[46]=t.walkBinaryExpressionChildren;this.childrenWalkers[47]=t.walkBinaryExpressionChildren;this.childrenWalkers[48]=t.walkBinaryExpressionChildren;this.childrenWalkers[49]=t.walkBinaryExpressionChildren;this.childrenWalkers[50]=t.walkTrinaryExpressionChildren;this.childrenWalkers[51]=t.walkBinaryExpressionChildren;this.childrenWalkers[52]=t.walkBinaryExpressionChildren;this.childrenWalkers[53]=t.walkBinaryExpressionChildren;this.childrenWalkers[54]=t.walkBinaryExpressionChildren;this.childrenWalkers[55]=t.walkBinaryExpressionChildren;this.childrenWalkers[56]=t.walkBinaryExpressionChildren;this.childrenWalkers[57]=t.walkBinaryExpressionChildren;this.childrenWalkers[58]=t.walkBinaryExpressionChildren;this.childrenWalkers[59]=t.walkBinaryExpressionChildren;this.childrenWalkers[60]=t.walkBinaryExpressionChildren;this.childrenWalkers[61]=t.walkBinaryExpressionChildren;this.childrenWalkers[62]=t.walkBinaryExpressionChildren;this.childrenWalkers[63]=t.walkBinaryExpressionChildren;this.childrenWalkers[64]=t.walkBinaryExpressionChildren;this.childrenWalkers[65]=t.walkBinaryExpressionChildren;this.childrenWalkers[66]=t.walkBinaryExpressionChildren;this.childrenWalkers[67]=t.walkBinaryExpressionChildren;this.childrenWalkers[68]=t.walkBinaryExpressionChildren;this.childrenWalkers[69]=t.walkBinaryExpressionChildren;this.childrenWalkers[70]=t.walkBinaryExpressionChildren;this.childrenWalkers[71]=t.walkBinaryExpressionChildren;this.childrenWalkers[72]=t.walkUnaryExpressionChildren;this.childrenWalkers[73]=t.walkUnaryExpressionChildren;this.childrenWalkers[74]=t.walkUnaryExpressionChildren;this.childrenWalkers[75]=t.walkUnaryExpressionChildren;this.childrenWalkers[76]=t.walkUnaryExpressionChildren;this.childrenWalkers[77]=t.walkUnaryExpressionChildren;this.childrenWalkers[78]=t.walkUnaryExpressionChildren;this.childrenWalkers[79]=t.walkParenthesizedExpressionChildren;this.childrenWalkers[12]=t.walkFuncDeclChildren;this.childrenWalkers[80]=t.walkBinaryExpressionChildren;this.childrenWalkers[17]=t.walkBoundDeclChildren;this.childrenWalkers[18]=t.walkVariableDeclarationChildren;this.childrenWalkers[19]=t.walkBoundDeclChildren;this.childrenWalkers[93]=t.walkReturnStatementChildren;this.childrenWalkers[82]=t.walkNone;this.childrenWalkers[83]=t.walkNone;this.childrenWalkers[95]=t.walkThrowStatementChildren;this.childrenWalkers[90]=t.walkForStatementChildren;this.childrenWalkers[89]=t.walkForInStatementChildren;this.childrenWalkers[91]=t.walkIfStatementChildren;this.childrenWalkers[98]=t.walkWhileStatementChildren;this.childrenWalkers[85]=t.walkDoStatementChildren;this.childrenWalkers[81]=t.walkBlockChildren;this.childrenWalkers[100]=t.walkCaseClauseChildren;this.childrenWalkers[94]=t.walkSwitchStatementChildren;this.childrenWalkers[96]=t.walkTryStatementChildren;this.childrenWalkers[101]=t.walkCatchClauseChildren;this.childrenWalkers[1]=t.walkListChildren;this.childrenWalkers[2]=t.walkScriptChildren;this.childrenWalkers[13]=t.walkClassDeclChildren;this.childrenWalkers[14]=t.walkTypeDeclChildren;this.childrenWalkers[15]=t.walkModuleDeclChildren;this.childrenWalkers[16]=t.walkImportDeclChildren;this.childrenWalkers[87]=t.walkExportAssignmentChildren;this.childrenWalkers[99]=t.walkWithStatementChildren;this.childrenWalkers[88]=t.walkExpressionStatementChildren;this.childrenWalkers[92]=t.walkLabeledStatementChildren;this.childrenWalkers[97]=t.walkVariableStatementChildren;this.childrenWalkers[102]=t.walkNone;this.childrenWalkers[84]=t.walkNone;for(var i in n.NodeType)if(n.NodeType.hasOwnProperty(i)&&n.StringUtilities.isString(n.NodeType[i])&&this.childrenWalkers[i]===undefined)throw new Error("initWalkers function is not up to date with enum content!");},i}();n.AstWalkerFactory=i;n.getAstWalkerFactory=e,function(n){function r(){}function u(n,t,i){for(var u=n.members.length,r=0;r<u;r++)n.members[r]=i.walk(n.members[r],n)}function f(n,t,i){n.expression&&(n.expression=i.walk(n.expression,n))}function e(n,t,i){n.castTerm&&(n.castTerm=i.walk(n.castTerm,n));n.operand&&(n.operand=i.walk(n.operand,n))}function o(n,t,i){n.expression&&(n.expression=i.walk(n.expression,n))}function s(n,t,i){n.operand1&&(n.operand1=i.walk(n.operand1,n));n.operand2&&(n.operand2=i.walk(n.operand2,n))}function h(n,t,i){n.name&&(n.name=i.walk(n.name,n));n.constraint&&(n.constraint=i.walk(n.constraint,n))}function c(n,t,i){n.name&&(n.name=i.walk(n.name,n));n.typeArguments&&(n.typeArguments=i.walk(n.typeArguments,n))}function l(n,t,i){n.term&&(n.term=i.walk(n.term,n))}function a(n,t,i){n.target=i.walk(n.target,n);n.typeArguments&&(n.typeArguments=i.walk(n.typeArguments,n));n.arguments&&(n.arguments=i.walk(n.arguments,n))}function v(n,t,i){n.operand1&&(n.operand1=i.walk(n.operand1,n));n.operand2&&(n.operand2=i.walk(n.operand2,n));n.operand3&&(n.operand3=i.walk(n.operand3,n))}function y(n,t,i){n.name&&(n.name=i.walk(n.name,n));n.typeArguments&&(n.typeArguments=i.walk(n.typeArguments,n));n.arguments&&(n.arguments=i.walk(n.arguments,n));n.returnTypeAnnotation&&(n.returnTypeAnnotation=i.walk(n.returnTypeAnnotation,n));n.block&&(n.block=i.walk(n.block,n))}function p(n,t,i){n.id&&(n.id=i.walk(n.id,n));n.init&&(n.init=i.walk(n.init,n));n.typeExpr&&(n.typeExpr=i.walk(n.typeExpr,n))}function w(n,t,i){n.returnExpression&&(n.returnExpression=i.walk(n.returnExpression,n))}function b(n,t,i){n.init&&(n.init=i.walk(n.init,n));n.cond&&(n.cond=i.walk(n.cond,n));n.incr&&(n.incr=i.walk(n.incr,n));n.body&&(n.body=i.walk(n.body,n))}function k(n,t,i){n.lval=i.walk(n.lval,n);n.obj=i.walk(n.obj,n);n.body&&(n.body=i.walk(n.body,n))}function d(n,t,i){n.cond=i.walk(n.cond,n);n.thenBod&&(n.thenBod=i.walk(n.thenBod,n));n.elseBod&&(n.elseBod=i.walk(n.elseBod,n))}function g(n,t,i){n.cond=i.walk(n.cond,n);n.body&&(n.body=i.walk(n.body,n))}function nt(n,t,i){n.cond=i.walk(n.cond,n);n.body&&(n.body=i.walk(n.body,n))}function tt(n,t,i){n.statements&&(n.statements=i.walk(n.statements,n))}function it(n,t,i){n.declarators&&(n.declarators=i.walk(n.declarators,n))}function rt(n,t,i){n.expr&&(n.expr=i.walk(n.expr,n));n.body&&(n.body=i.walk(n.body,n))}function ut(n,t,i){n.val&&(n.val=i.walk(n.val,n));n.caseList&&(n.caseList=i.walk(n.caseList,n))}function ft(n,t,i){n.tryBody&&(n.tryBody=i.walk(n.tryBody,n));n.catchClause&&(n.catchClause=i.walk(n.catchClause,n));n.finallyBody&&(n.finallyBody=i.walk(n.finallyBody,n))}function et(n,t,i){n.param&&(n.param=i.walk(n.param,n));n.body&&(n.body=i.walk(n.body,n))}function t(n,t,i){n.name=i.walk(n.name,n);n.members&&(n.members=i.walk(n.members,n))}function i(n,i,r){t(n,i,r)}function ot(n,t,r){i(n,t,r);n.typeParameters&&(n.typeParameters=r.walk(n.typeParameters,n));n.extendsList&&(n.extendsList=r.walk(n.extendsList,n));n.implementsList&&(n.implementsList=r.walk(n.implementsList,n))}function st(n,t,i){n.moduleElements&&(n.moduleElements=i.walk(n.moduleElements,n))}function ht(n,t,r){i(n,t,r);n.typeParameters&&(n.typeParameters=r.walk(n.typeParameters,n));n.extendsList&&(n.extendsList=r.walk(n.extendsList,n));n.implementsList&&(n.implementsList=r.walk(n.implementsList,n))}function ct(n,i,r){t(n,i,r)}function lt(n,t,i){n.id&&(n.id=i.walk(n.id,n));n.alias&&(n.alias=i.walk(n.alias,n))}function at(n,t,i){n.id&&(n.id=i.walk(n.id,n))}function vt(n,t,i){n.expr&&(n.expr=i.walk(n.expr,n));n.body&&(n.body=i.walk(n.body,n))}function yt(n,t,i){n.expression=i.walk(n.expression,n)}function pt(n,t,i){n.identifier=i.walk(n.identifier,n);n.statement=i.walk(n.statement,n)}function wt(n,t,i){n.declaration=i.walk(n.declaration,n)}n.walkNone=r;n.walkListChildren=u;n.walkThrowStatementChildren=f;n.walkUnaryExpressionChildren=e;n.walkParenthesizedExpressionChildren=o;n.walkBinaryExpressionChildren=s;n.walkTypeParameterChildren=h;n.walkGenericTypeChildren=c;n.walkTypeReferenceChildren=l;n.walkCallExpressionChildren=a;n.walkTrinaryExpressionChildren=v;n.walkFuncDeclChildren=y;n.walkBoundDeclChildren=p;n.walkReturnStatementChildren=w;n.walkForStatementChildren=b;n.walkForInStatementChildren=k;n.walkIfStatementChildren=d;n.walkWhileStatementChildren=g;n.walkDoStatementChildren=nt;n.walkBlockChildren=tt;n.walkVariableDeclarationChildren=it;n.walkCaseClauseChildren=rt;n.walkSwitchStatementChildren=ut;n.walkTryStatementChildren=ft;n.walkCatchClauseChildren=et;n.walkRecordChildren=t;n.walkNamedTypeChildren=i;n.walkClassDeclChildren=ot;n.walkScriptChildren=st;n.walkTypeDeclChildren=ht;n.walkModuleDeclChildren=ct;n.walkImportDeclChildren=lt;n.walkExportAssignmentChildren=at;n.walkWithStatementChildren=vt;n.walkExpressionStatementChildren=yt;n.walkLabeledStatementChildren=pt;n.walkVariableStatementChildren=wt}(t||(t={}))}(TypeScript||(TypeScript={})),function(n){(function(t){function r(t,r){var f=function(n){return u.options.goChildren=i(!0,n,r),n},e=function(n){return i(!1,n,r),n},u=n.getAstWalkerFactory().getWalker(f,e);u.walk(t,null)}function i(t,i,r){var f=i.nodeType,u=n.NodeType[f]+"Callback";return r[u]?r[u](t,i):r.DefaultCallback?r.DefaultCallback(t,i):!0}t.walk=r})(n.AstWalkerWithDetailCallback||(n.AstWalkerWithDetailCallback={}));var t=n.AstWalkerWithDetailCallback}(TypeScript||(TypeScript={})),function(n){function u(n,t){return n>=t?n:t}function f(n,t){return n<=t?n:t}function r(n){return n===null?!1:n.minChar===-1||n.limChar===-1?!1:!0}function o(t,u,f,e){typeof f=="undefined"&&(f=!0);typeof e=="undefined"&&(e=0);var s=function(n){var t,r,i;if(n&&n.length>0)for(t=0;t<n.length;t++)r=n[t].minChar,i=n[t].limChar+(f?n[t].trailingTriviaWidth:0),n[t].isBlockComment||i++,u>=r&&u<i&&o.path.push(n[t])},h=function(i,h,c){var l;if(r(i)){var y=n.hasFlag(e,1)||i.nodeType===20||i.nodeType===32||i.nodeType===11||u===t.limChar+t.trailingTriviaWidth,a=i.minChar,v=i.limChar+(f?i.trailingTriviaWidth:0)+(y?1:0);u>=a&&u<v&&(l=o.path.ast(),(l===null||i.minChar>=l.minChar&&i.limChar+(f?i.trailingTriviaWidth:0)<=l.limChar+(f?l.trailingTriviaWidth:0))&&o.path.push(i));u<v&&s(i.preComments);u>=a&&s(i.postComments);n.hasFlag(e,2)||(c.options.goChildren=a<=u&&u<=v)}return i},o=new i;return n.getAstWalkerFactory().walk(t,h,null,null,o),o.path}function s(i,r){var u=function(n,t,i){var u=i.state;return u.push(n),r(u,i),n},f=function(n,t,i){var r=i.state;return r.pop(),n},e=new t;n.getAstWalkerFactory().walk(i,u,f,null,e)}var t,i,e;n.max=u;n.min=f;t=function(){function n(){this.asts=[];this.top=-1}return n.reverseIndexOf=function(n,t){return n===null||n.length<=t?null:n[n.length-t-1]},n.prototype.clone=function(){var t=new n;return t.asts=this.asts.map(function(n){return n}),t.top=this.top,t},n.prototype.pop=function(){var n=this.ast();for(this.up();this.asts.length>this.count();)this.asts.pop();return n},n.prototype.push=function(n){while(this.asts.length>this.count())this.asts.pop();this.top=this.asts.length;this.asts.push(n)},n.prototype.up=function(){if(this.top<=-1)throw new Error("Invalid call to 'up'");this.top--},n.prototype.down=function(){if(this.top===this.ast.length-1)throw new Error("Invalid call to 'down'");this.top++},n.prototype.nodeType=function(){return this.ast()===null?0:this.ast().nodeType},n.prototype.ast=function(){return n.reverseIndexOf(this.asts,this.asts.length-(this.top+1))},n.prototype.parent=function(){return n.reverseIndexOf(this.asts,this.asts.length-this.top)},n.prototype.count=function(){return this.top+1},n.prototype.get=function(n){return this.asts[n]},n.prototype.isNameOfClass=function(){return this.ast()===null||this.parent()===null?!1:this.ast().nodeType===20&&this.parent().nodeType===13&&this.parent().name===this.ast()},n.prototype.isNameOfInterface=function(){return this.ast()===null||this.parent()===null?!1:this.ast().nodeType===20&&this.parent().nodeType===14&&this.parent().name===this.ast()},n.prototype.isNameOfArgument=function(){return this.ast()===null||this.parent()===null?!1:this.ast().nodeType===20&&this.parent().nodeType===19&&this.parent().id===this.ast()},n.prototype.isNameOfVariable=function(){return this.ast()===null||this.parent()===null?!1:this.ast().nodeType===20&&this.parent().nodeType===17&&this.parent().id===this.ast()},n.prototype.isNameOfModule=function(){return this.ast()===null||this.parent()===null?!1:this.ast().nodeType===20&&this.parent().nodeType===15&&this.parent().name===this.ast()},n.prototype.isNameOfFunction=function(){return this.ast()===null||this.parent()===null?!1:this.ast().nodeType===20&&this.parent().nodeType===12&&this.parent().name===this.ast()},n.prototype.isBodyOfFunction=function(){return this.count()>=2&&this.asts[this.top-1].nodeType===12&&this.asts[this.top-1].block===this.asts[this.top-0]},n.prototype.isArgumentListOfFunction=function(){return this.count()>=2&&this.asts[this.top-0].nodeType===1&&this.asts[this.top-1].nodeType===12&&this.asts[this.top-1].arguments===this.asts[this.top-0]},n.prototype.isTargetOfCall=function(){return this.count()>=2&&this.asts[this.top-1].nodeType===36&&this.asts[this.top-1].target===this.asts[this.top]},n.prototype.isTargetOfNew=function(){return this.count()>=2&&this.asts[this.top-1].nodeType===37&&this.asts[this.top-1].target===this.asts[this.top]},n.prototype.isInClassImplementsList=function(){return this.ast()===null||this.parent()===null?!1:this.parent().nodeType===13&&this.isMemberOfList(this.parent().implementsList,this.ast())},n.prototype.isInInterfaceExtendsList=function(){return this.ast()===null||this.parent()===null?!1:this.parent().nodeType===14&&this.isMemberOfList(this.parent().extendsList,this.ast())},n.prototype.isMemberOfMemberAccessExpression=function(){return this.count()>1&&this.parent().nodeType===32&&this.parent().operand2===this.asts[this.top]?!0:!1},n.prototype.isCallExpression=function(){return this.count()>=1&&(this.asts[this.top-0].nodeType===36||this.asts[this.top-0].nodeType===37)},n.prototype.isCallExpressionTarget=function(){if(this.count()<2)return!1;var n=this.top,t=this.asts[n].nodeType;for((t===29||t===30||t===20)&&n--;n>=0;){if(n<this.top&&this.asts[n].nodeType===32&&this.asts[n].operand2===this.asts[n+1]){n--;continue}break}return n<this.top&&(this.asts[n].nodeType===36||this.asts[n].nodeType===37)&&this.asts[n+1]===this.asts[n].target},n.prototype.isDeclaration=function(){if(this.ast()!==null)switch(this.ast().nodeType){case 13:case 14:case 15:case 12:case 17:return!0}return!1},n.prototype.isMemberOfList=function(n,t){if(n&&n.members)for(var i=0,r=n.members.length;i<r;i++)if(n.members[i]===t)return!0;return!1},n}();n.AstPath=t;n.isValidAstNode=r;i=function(){function t(){this.path=new n.AstPath}return t}();n.AstPathContext=i,function(n){n[n.Default=0]="Default";n[n.EdgeInclusive=1]="EdgeInclusive";n[n.DontPruneSearchBasedOnPosition=2]="DontPruneSearchBasedOnPosition"}(n.GetAstPathOptions||(n.GetAstPathOptions={}));e=n.GetAstPathOptions;n.getAstPathToPosition=o;n.walkAST=s}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.encode=function(t){if(t<64)return n.encodedValues.charAt(t);throw TypeError(t+": not a 64 based value");},n.decodeChar=function(t){if(t.length===1)return n.encodedValues.indexOf(t);throw TypeError('"'+t+'" must have length 1');},n.encodedValues="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n}(),i=function(){function n(){}return n.encode=function(n){var i,r;n=n<0?(-n<<1)+1:n<<1;i="";do r=n&31,n=n>>5,n>0&&(r=r|32),i=i+t.encode(r);while(n>0);return i},n.decode=function(n){for(var r=0,f=!1,e=0,u,i=0;i<n.length;i++)if(u=t.decodeChar(n[i]),i===0?((u&1)==1&&(f=!0),r=u>>1&15):r=r|(u&31)<<e,e+=i===0?4:5,(u&32)!=32)return{value:f?-r:r,rest:n.substr(i+1)};throw new Error('Base64 value "'+n+'" finished with a continuation bit');},n}();n.Base64VLQFormat=i}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n}(),i,r;n.SourceMapPosition=t;i=function(){function n(){this.start=new t;this.end=new t;this.nameIndex=-1;this.childMappings=[]}return n}();n.SourceMapping=i;r=function(){function t(t,i,r,u,f,e){this.sourceMapFileName=r;this.jsFile=u;this.sourceMapOut=f;this.sourceMappings=[];this.currentMappings=[];this.names=[];this.currentNameIndex=[];this.currentMappings.push(this.sourceMappings);i=n.switchToForwardSlashes(i);this.jsFileName=n.getPrettyName(i,!1,!0);var o=i.lastIndexOf(this.jsFileName),s=i.substring(0,o);e&&(i.indexOf("://")===-1&&(i="file:///"+i),this.jsFileName=i);this.tsFileName=n.getRelativePathToFixedPath(s,t)}return t.emitSourceMapping=function(i){var u=i[0],o,v,y,p;u.jsFile.WriteLine("//@ sourceMappingURL="+u.jsFileName+t.MapFileExtension);var w=u.sourceMapOut,r="",s=[],h=0,c=0,b=0,k=0,d=0,g=0,l=[],f=0,a=!1,e=null;for(o=0;o<i.length;o++)u=i[o],v=s.length,s.push(u.tsFileName),u.names.length>0&&l.push.apply(l,u.names),y=function(t,i){if(e===null||e.emittedColumn!==t.emittedColumn||e.emittedLine!==t.emittedLine){if(c!==t.emittedLine){while(c<t.emittedLine)h=0,r=r+";",c++;a=!1}else a&&(r=r+",");r=r+n.Base64VLQFormat.encode(t.emittedColumn-h);h=t.emittedColumn;r=r+n.Base64VLQFormat.encode(v-d);d=v;r=r+n.Base64VLQFormat.encode(t.sourceLine-1-k);k=t.sourceLine-1;r=r+n.Base64VLQFormat.encode(t.sourceColumn-b);b=t.sourceColumn;i>=0&&(r=r+n.Base64VLQFormat.encode(f+i-g),g=f+i);a=!0;e=t}},p=function(n){for(var t,i=0;i<n.length;i++)t=n[i],y(t.start,t.nameIndex),p(t.childMappings),y(t.end,t.nameIndex)},p(u.sourceMappings),f=f+u.names.length;w.Write(JSON.stringify({version:3,file:u.jsFileName,sources:s,names:l,mappings:r}));w.Close()},t.MapFileExtension=".map",t}();n.SourceMapper=r}(TypeScript||(TypeScript={})),function(n){var f,t,r,i,u;(function(n){n[n.Prog=0]="Prog";n[n.Module=1]="Module";n[n.DynamicModule=2]="DynamicModule";n[n.Class=3]="Class";n[n.Constructor=4]="Constructor";n[n.Function=5]="Function";n[n.Args=6]="Args";n[n.Interface=7]="Interface"})(n.EmitContainer||(n.EmitContainer={}));f=n.EmitContainer;t=function(){function n(){this.column=0;this.line=0;this.container=0}return n}();n.EmitState=t;r=function(){function n(n){this.compilationSettings=n;this.ioHost=null;this.outputMany=!0;this.commonDirectoryPath=""}return n.prototype.mapOutputFileName=function(n,t){if(this.outputMany){var i=n;return this.compilationSettings.outputOption!==""&&(i=n.replace(this.commonDirectoryPath,""),i=this.compilationSettings.outputOption+i),t(i,!1)}return t(this.compilationSettings.outputOption,!0)},n}();n.EmitOptions=r;i=function(){function n(){this.indentAmt=0}return n.prototype.increaseIndent=function(){this.indentAmt+=n.indentStep},n.prototype.decreaseIndent=function(){this.indentAmt-=n.indentStep},n.prototype.getIndent=function(){var t=n.indentStrings[this.indentAmt],i;if(t===undefined){for(t="",i=0;i<this.indentAmt;i=i+n.indentStep)t+=n.indentStepString;n.indentStrings[this.indentAmt]=t}return t},n.indentStep=4,n.indentStepString="    ",n.indentStrings=[],n}();n.Indenter=i;u=function(){function r(r,u,f,e){this.emittingFileName=r;this.outfile=u;this.emitOptions=f;this.semanticInfoChain=e;this.globalThisCapturePrologueEmitted=!1;this.extendsPrologueEmitted=!1;this.thisClassNode=null;this.thisFunctionDeclaration=null;this.moduleName="";this.emitState=new t;this.indenter=new i;this.modAliasId=null;this.firstModAlias=null;this.allSourceMappers=[];this.sourceMapper=null;this.captureThisStmtString="var _this = this;";this.varListCountStack=[0];this.pullTypeChecker=null;this.declStack=[];this.resolvingContext=new n.PullTypeResolutionContext;this.exportAssignmentIdentifier=null;this.document=null;n.globalSemanticInfoChain=e;n.globalBinder.semanticInfoChain=e;this.pullTypeChecker=new n.PullTypeChecker(f.compilationSettings,e)}return r.prototype.pushDecl=function(n){n&&(this.declStack[this.declStack.length]=n)},r.prototype.popDecl=function(n){n&&this.declStack.length--},r.prototype.getEnclosingDecl=function(){var n=this.declStack.length;return n>0?this.declStack[n-1]:null},r.prototype.setTypeCheckerUnit=function(n){if(!this.pullTypeChecker.resolver){this.pullTypeChecker.setUnit(n);return}this.pullTypeChecker.resolver.setUnitPath(n)},r.prototype.setExportAssignmentIdentifier=function(n){this.exportAssignmentIdentifier=n},r.prototype.getExportAssignmentIdentifier=function(){return this.exportAssignmentIdentifier},r.prototype.setDocument=function(n){this.document=n},r.prototype.importStatementShouldBeEmitted=function(n){if(!n.isDynamicImport)return!0;var t=this.semanticInfoChain.getDeclForAST(n,this.document.fileName),i=t.getSymbol();return i.getIsUsedAsValue()},r.prototype.setSourceMappings=function(n){this.allSourceMappers.push(n);this.sourceMapper=n},r.prototype.writeToOutput=function(n){this.outfile.Write(n);this.emitState.column+=n.length},r.prototype.writeToOutputTrimmable=function(n){this.emitOptions.compilationSettings.minWhitespace&&(n=n.replace(/[\s]*/g,""));this.writeToOutput(n)},r.prototype.writeLineToOutput=function(n){if(this.emitOptions.compilationSettings.minWhitespace){this.writeToOutput(n);var t=n.charCodeAt(n.length-1);t===32||t===59||t===91||this.writeToOutput(" ")}else this.outfile.WriteLine(n),this.emitState.column=0,this.emitState.line++},r.prototype.writeCaptureThisStatement=function(n){this.emitIndent();this.recordSourceMappingStart(n);this.writeToOutput(this.captureThisStmtString);this.recordSourceMappingEnd(n);this.writeLineToOutput("")},r.prototype.setInVarBlock=function(n){this.varListCountStack[this.varListCountStack.length-1]=n},r.prototype.setContainer=function(n){var t=this.emitState.container;return this.emitState.container=n,t},r.prototype.getIndentString=function(){return this.emitOptions.compilationSettings.minWhitespace?"":this.indenter.getIndent()},r.prototype.emitIndent=function(){this.writeToOutput(this.getIndentString())},r.prototype.emitCommentInPlace=function(n){var t=n.getText(),r=!1,i;if(n.isBlockComment)if(this.emitState.column===0&&this.emitIndent(),this.recordSourceMappingStart(n),this.writeToOutput(t[0]),t.length>1||n.endsLine){for(i=1;i<t.length;i++)this.writeLineToOutput(""),this.emitIndent(),this.writeToOutput(t[i]);this.recordSourceMappingEnd(n);this.writeLineToOutput("");r=!0}else this.recordSourceMappingEnd(n);else this.emitState.column===0&&this.emitIndent(),this.recordSourceMappingStart(n),this.writeToOutput(t[0]),this.recordSourceMappingEnd(n),this.writeLineToOutput(""),r=!0;r?this.emitIndent():this.writeToOutput(" ")},r.prototype.emitComments=function(n,t){var i=t?n.preComments:n.postComments,r;if(this.emitOptions.compilationSettings.emitComments&&i&&i.length!==0)for(r=0;r<i.length;r++)this.emitCommentInPlace(i[r])},r.prototype.emitObjectLiteral=function(t){var i=!n.hasFlag(t.getFlags(),2),r;this.writeToOutput("{");r=t.operand;r.members.length>0&&(i?this.writeLineToOutput(""):this.writeToOutput(" "),this.indenter.increaseIndent(),this.emitCommaSeparatedList(r,i),this.indenter.decreaseIndent(),i?this.emitIndent():this.writeToOutput(" "));this.writeToOutput("}")},r.prototype.emitArrayLiteral=function(t){var i=!n.hasFlag(t.getFlags(),2),r;this.writeToOutput("[");r=t.operand;r.members.length>0&&(i&&this.writeLineToOutput(""),this.indenter.increaseIndent(),this.emitCommaSeparatedList(r,i),this.indenter.decreaseIndent(),i&&this.emitIndent());this.writeToOutput("]")},r.prototype.emitNew=function(n,t){if(this.writeToOutput("new "),n.nodeType===11){var i=n;i.arrayCount?this.writeToOutput("Array()"):(i.term.emit(this),this.writeToOutput("()"))}else n.emit(this),this.recordSourceMappingStart(t),this.writeToOutput("("),this.emitCommaSeparatedList(t),this.writeToOutput(")"),this.recordSourceMappingEnd(t)},r.prototype.getVarDeclFromIdentifier=function(t){var o,r,u,f,e,i;return(n.CompilerDiagnostics.assert(t.boundDecl&&t.boundDecl.init&&t.boundDecl.init.nodeType===20,"The init expression of bound declaration when emitting as constant has to be indentifier"),o=t.boundDecl.init,r=o,this.setTypeCheckerUnit(this.document.fileName),u=this.resolvingContext.resolvingTypeReference?this.pullTypeChecker.resolver.resolveTypeNameExpression(r,t.pullDecl.getParentDecl(),this.resolvingContext).symbol:this.pullTypeChecker.resolver.resolveNameExpression(r,t.pullDecl.getParentDecl(),this.resolvingContext).symbol,u&&(f=u.getDeclarations(),f.length===1&&(e=f[0],i=this.semanticInfoChain.getASTForDecl(e),i&&i.nodeType===17)))?{boundDecl:i,pullDecl:e}:null},r.prototype.getConstantValue=function(n){var t=n.boundDecl.init,u,i,r;if(t){if(t.nodeType===7)return u=t,u.value;if(t.nodeType===69){if(i=t,i.operand1.nodeType===7&&i.operand2.nodeType===7)return i.operand1.value<<i.operand2.value}else if(t.nodeType===20&&(r=this.getVarDeclFromIdentifier(n),r))return this.getConstantValue(r)}return null},r.prototype.getConstantDecl=function(n){var t,r,u,i;return(this.setTypeCheckerUnit(this.document.fileName),t=this.pullTypeChecker.resolver.resolveDottedNameExpression(n,this.getEnclosingDecl(),this.resolvingContext).symbol,t&&t.hasFlag(524288)&&(r=t.getDeclarations(),r.length===1&&(u=r[0],i=this.semanticInfoChain.getASTForDecl(u),i&&i.nodeType===17)))?{boundDecl:i,pullDecl:u}:null},r.prototype.tryEmitConstant=function(n){var u,i,r,t;return this.emitOptions.compilationSettings.propagateConstants?(u=n.operand2,i=this.getConstantDecl(n),i&&(r=this.getConstantValue(i),r!==null))?(this.writeToOutput(r.toString()),t=" /* ",t+=u.actualText,t+=" */",this.writeToOutput(t),!0):!1:!1},r.prototype.emitCall=function(n,t,i){this.emitSuperCall(n)||(t.nodeType===12&&this.writeToOutput("("),n.target.nodeType===30&&this.emitState.container===4?this.writeToOutput("_super.call"):this.emitJavascript(t,!1),t.nodeType===12&&this.writeToOutput(")"),this.recordSourceMappingStart(i),this.writeToOutput("("),n.target.nodeType===30&&this.emitState.container===4&&(this.writeToOutput("this"),i&&i.members.length&&this.writeToOutput(", ")),this.emitCommaSeparatedList(i),this.writeToOutput(")"),this.recordSourceMappingEnd(i))},r.prototype.emitInnerFunction=function(t,i,r){var e,o,s,h,v,f,u,y;typeof r=="undefined"&&(r=!0);e=this.semanticInfoChain.getDeclForAST(t,this.document.fileName);this.pushDecl(e);o=!1;r&&this.emitComments(t,!0);o&&this.writeToOutput("(");this.recordSourceMappingStart(t);var c=t.isAccessor()?n.PullHelpers.getAccessorSymbol(t,this.semanticInfoChain,this.document.fileName):null,l=c?c.getContainer():null,a=l?l.getKind():0;if(t.isAccessor()&&a!==8&&a!==33554432||this.writeToOutput("function "),t.isConstructor&&this.writeToOutput(this.thisClassNode.name.actualText),i&&(s=t.getNameText(),s&&!t.isAccessor()&&(t.name&&this.recordSourceMappingStart(t.name),this.writeToOutput(s),t.name&&this.recordSourceMappingEnd(t.name))),this.writeToOutput("("),h=0,t.arguments){for(this.emitComments(t.arguments,!0),v=this.setContainer(6),h=t.arguments.members.length,f=h,t.variableArgList&&f--,u=0;u<f;u++)y=t.arguments.members[u],y.emit(this),u<f-1&&this.writeToOutput(", ");this.setContainer(v);this.emitComments(t.arguments,!1)}this.writeLineToOutput(") {");t.isConstructor?this.recordSourceMappingNameStart("constructor"):t.isGetAccessor()?this.recordSourceMappingNameStart("get_"+t.getNameText()):t.isSetAccessor()?this.recordSourceMappingNameStart("set_"+t.getNameText()):this.recordSourceMappingNameStart(t.getNameText());this.indenter.increaseIndent();this.emitDefaultValueAssignments(t);this.emitRestParameterInitializer(t);this.shouldCaptureThis(t)&&this.writeCaptureThisStatement(t);t.isConstructor?this.emitConstructorStatements(t):this.emitModuleElements(t.block.statements);this.indenter.decreaseIndent();this.emitIndent();this.recordSourceMappingStart(t.block.closeBraceSpan);this.writeToOutput("}");this.recordSourceMappingNameEnd();this.recordSourceMappingEnd(t.block.closeBraceSpan);this.recordSourceMappingEnd(t);o&&this.writeToOutput(")");this.recordSourceMappingEnd(t);this.emitComments(t,!1);this.popDecl(e)},r.prototype.emitDefaultValueAssignments=function(n){var r=n.arguments.members.length,i,t;for(n.variableArgList&&r--,i=0;i<r;i++)t=n.arguments.members[i],t.init&&(this.emitIndent(),this.recordSourceMappingStart(t),this.writeToOutput("if (typeof "+t.id.actualText+' === "undefined") { '),this.recordSourceMappingStart(t.id),this.writeToOutput(t.id.actualText),this.recordSourceMappingEnd(t.id),this.writeToOutput(" = "),this.emitJavascript(t.init,!1),this.writeLineToOutput("; }"),this.recordSourceMappingEnd(t))},r.prototype.emitRestParameterInitializer=function(n){if(n.variableArgList){var i=n.arguments.members.length,t=n.arguments.members[i-1];this.emitIndent();this.recordSourceMappingStart(t);this.writeToOutput("var ");this.recordSourceMappingStart(t.id);this.writeToOutput(t.id.actualText);this.recordSourceMappingEnd(t.id);this.writeLineToOutput(" = [];");this.recordSourceMappingEnd(t);this.emitIndent();this.writeToOutput("for (");this.recordSourceMappingStart(t);this.writeToOutput("var _i = 0;");this.recordSourceMappingEnd(t);this.writeToOutput(" ");this.recordSourceMappingStart(t);this.writeToOutput("_i < (arguments.length - "+(i-1)+")");this.recordSourceMappingEnd(t);this.writeToOutput("; ");this.recordSourceMappingStart(t);this.writeToOutput("_i++");this.recordSourceMappingEnd(t);this.writeLineToOutput(") {");this.indenter.increaseIndent();this.emitIndent();this.recordSourceMappingStart(t);this.writeToOutput(t.id.actualText+"[_i] = arguments[_i + "+(i-1)+"];");this.recordSourceMappingEnd(t);this.writeLineToOutput("");this.indenter.decreaseIndent();this.emitIndent();this.writeLineToOutput("}")}},r.prototype.getImportDecls=function(){for(var e=this.semanticInfoChain.getUnit(this.document.fileName),o=[],i=e.getTopLevelDecls(),t,u,s,f,r;i.length>0;)t=i.shift(),t.getKind()&256&&(u=e.getASTForDecl(t),u.alias.nodeType===20&&(s=u.alias.actualText,n.isQuoted(s)&&(f=t.getSymbol(),r=f&&f.getType(),r&&r!==this.semanticInfoChain.anyTypeSymbol&&!r.isError()&&o.push(t)))),i=i.concat(t.getChildDecls());return o},r.prototype.getModuleImportAndDependencyList=function(n){var u="",i="",e=this.semanticInfoChain.getUnit(this.document.fileName),r=this.getImportDecls(this.document.fileName),t;if(r.length)for(t=0;t<r.length;t++){var f=r[t],o=f.getSymbol(),s=e.getASTForDecl(f);o.getIsUsedAsValue()&&(t<=r.length-1&&(i+=", ",u+=", "),u+="__"+f.getName()+"__",i+=s.firstAliasedModToString())}for(t=0;t<n.amdDependencies.length;t++)i+=', "'+n.amdDependencies[t]+'"';return{importList:u,dependencyList:i}},r.prototype.shouldCaptureThis=function(n){var i,t;return n.nodeType===2?(i=this.semanticInfoChain.getUnit(this.document.fileName).getTopLevelDecls()[0],(i.getFlags()&262144)==262144):(t=this.semanticInfoChain.getDeclForAST(n,this.document.fileName),t)?(t.getFlags()&262144)==262144:!1},r.prototype.emitModule=function(t){var c=this.semanticInfoChain.getDeclForAST(t,this.document.fileName),s,e,o,l,a;this.pushDecl(c);s=t.name.actualText;n.isTSFile(s)&&t.name.setText(s.substring(0,s.length-3));var h=n.hasFlag(t.getModuleFlags(),512),v=this.outfile,k=this.emittingFileName,d=this.allSourceMappers,y=this.sourceMapper,g=this.emitState.column,nt=this.emitState.line,i=this.setContainer(1),u=this.moduleName,f=n.hasFlag(t.getModuleFlags(),1),r=n.hasFlag(t.getModuleFlags(),256);if(this.moduleName=t.name.actualText,h){if(this.setExportAssignmentIdentifier(null),this.setContainer(2),this.recordSourceMappingStart(t),this.emitOptions.compilationSettings.moduleGenTarget===1){var p='["require", "exports"',w="require, exports",b=this.getModuleImportAndDependencyList(t);w+=b.importList;p+=b.dependencyList+"]";this.writeLineToOutput("define("+p+", function("+w+") {")}}else f||(this.recordSourceMappingStart(t),this.writeToOutput("var "),this.recordSourceMappingStart(t.name),this.writeToOutput(this.moduleName),this.recordSourceMappingEnd(t.name),this.writeLineToOutput(";"),this.recordSourceMappingEnd(t),this.emitIndent()),this.writeToOutput("("),this.recordSourceMappingStart(t),this.writeToOutput("function ("),this.recordSourceMappingStart(t.name),this.writeToOutput(this.moduleName),this.recordSourceMappingEnd(t.name),this.writeLineToOutput(") {");r||this.recordSourceMappingNameStart(this.moduleName);h&&this.emitOptions.compilationSettings.moduleGenTarget!==1||this.indenter.increaseIndent();this.shouldCaptureThis(t)&&this.writeCaptureThisStatement(t);this.emitModuleElements(t.members);h&&this.emitOptions.compilationSettings.moduleGenTarget!==1||this.indenter.decreaseIndent();this.emitIndent();h?(e=this.getExportAssignmentIdentifier(),o=c.getSymbol().getExportAssignedValueSymbol(),this.emitOptions.compilationSettings.moduleGenTarget===1?(!e||!o||o.getKind()&n.PullElementKind.SomeTypeReference||(this.indenter.increaseIndent(),this.emitIndent(),this.writeLineToOutput("return "+e+";"),this.indenter.decreaseIndent()),this.writeToOutput("});")):!e||!o||o.getKind()&n.PullElementKind.SomeTypeReference||(this.emitIndent(),this.writeLineToOutput("module.exports = "+e+";")),r||this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t),this.outfile!==v&&(this.emitSourceMapsAndClose(),y!==null&&(this.allSourceMappers=d,this.sourceMapper=y,this.emitState.column=g,this.emitState.line=nt),this.outfile=v,this.emittingFileName=k)):(l=i===2,this.recordSourceMappingStart(t.endingToken),i===0&&f?(this.writeToOutput("}"),r||this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t.endingToken),this.writeToOutput(")(this."+this.moduleName+" || (this."+this.moduleName+" = {}));")):f||i===0?(a=u!==""?(l?"exports":u)+".":u,this.writeToOutput("}"),r||this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t.endingToken),this.writeToOutput(")("+a+this.moduleName+" || ("+a+this.moduleName+" = {}));")):f||i===0?(this.writeToOutput("}"),r||this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t.endingToken),this.writeToOutput(")();")):(this.writeToOutput("}"),r||this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t.endingToken),this.writeToOutput(")("+this.moduleName+" || ("+this.moduleName+" = {}));")),this.recordSourceMappingEnd(t),i!==0&&f&&(this.recordSourceMappingStart(t),l?(this.writeLineToOutput(""),this.emitIndent(),this.writeToOutput("var "+this.moduleName+" = exports."+this.moduleName+";")):(this.writeLineToOutput(""),this.emitIndent(),this.writeToOutput("var "+this.moduleName+" = "+u+"."+this.moduleName+";")),this.recordSourceMappingEnd(t)));this.setContainer(i);this.moduleName=u;this.popDecl(c)},r.prototype.emitEnumElement=function(n){this.writeToOutput(this.moduleName);this.writeToOutput("[");this.writeToOutput(this.moduleName);this.writeToOutput('["');this.writeToOutput(n.id.text);this.writeToOutput('"] = ');n.init.emit(this);this.writeToOutput('] = "');this.writeToOutput(n.id.text);this.writeToOutput('";')},r.prototype.emitIndex=function(n,t){n.emit(this);this.writeToOutput("[");t.emit(this);this.writeToOutput("]")},r.prototype.emitFunction=function(t){var r,u,i,f;n.hasFlag(t.getFunctionFlags(),128)||(u=this.thisFunctionDeclaration,this.thisFunctionDeclaration=t,r=t.isConstructor?this.setContainer(4):this.setContainer(5),i=t.getNameText(),(r!==4||(t.getFunctionFlags()&256)==0)&&(this.recordSourceMappingStart(t),this.emitInnerFunction(t,t.name&&!t.name.isMissing())),this.setContainer(r),this.thisFunctionDeclaration=u,n.hasFlag(t.getFunctionFlags(),128)||(n.hasFlag(t.getFunctionFlags(),16)?this.thisClassNode&&(this.writeLineToOutput(""),t.isAccessor()?this.emitPropertyAccessor(t,this.thisClassNode.name.actualText,!1):(this.emitIndent(),this.recordSourceMappingStart(t),this.writeToOutput(this.thisClassNode.name.actualText+"."+i+" = "+i+";"),this.recordSourceMappingEnd(t))):(this.emitState.container===1||this.emitState.container===2)&&n.hasFlag(t.getFunctionFlags(),1)&&(this.writeLineToOutput(""),this.emitIndent(),f=this.emitState.container===1?this.moduleName:"exports",this.recordSourceMappingStart(t),this.writeToOutput(f+"."+i+" = "+i+";"),this.recordSourceMappingEnd(t))))},r.prototype.emitAmbientVarDecl=function(n){n.init&&(this.emitComments(n,!0),this.recordSourceMappingStart(n),this.recordSourceMappingStart(n.id),this.writeToOutput(n.id.actualText),this.recordSourceMappingEnd(n.id),this.writeToOutput(" = "),this.emitJavascript(n.init,!1),this.recordSourceMappingEnd(n),this.emitComments(n,!1))},r.prototype.varListCount=function(){return this.varListCountStack[this.varListCountStack.length-1]},r.prototype.emitVarDeclVar=function(){return this.varListCount()>=0&&(this.writeToOutput("var "),this.setInVarBlock(-this.varListCount())),!0},r.prototype.onEmitVar=function(){this.varListCount()>0?this.setInVarBlock(this.varListCount()-1):this.varListCount()<0&&this.setInVarBlock(this.varListCount()+1)},r.prototype.emitVariableDeclaration=function(t){var r=t.declarators.members[0],u=this.semanticInfoChain.getSymbolAndDiagnosticsForAST(r,this.document.fileName),f=u&&u.symbol,e=f?f.getContainer():null,c=e?e.getKind():0,l=c===8,o,i,s,h;if(this.emitComments(t,!0),this.recordSourceMappingStart(t),this.setInVarBlock(t.declarators.members.length),o=n.hasFlag(r.getVarFlags(),8)&&r.init===null,!o)for(i=0,s=t.declarators.members.length;i<s;i++)h=t.declarators.members[i],i>0&&(l?this.writeToOutputTrimmable(";"):this.writeToOutputTrimmable(", ")),h.emit(this);this.recordSourceMappingEnd(t);this.emitComments(t,!1)},r.prototype.emitVariableDeclarator=function(n){var u=this.semanticInfoChain.getDeclForAST(n,this.document.fileName),s;if(this.pushDecl(u),(n.getVarFlags()&8)==8)this.emitAmbientVarDecl(n),this.onEmitVar();else{this.emitComments(n,!0);this.recordSourceMappingStart(n);var f=this.semanticInfoChain.getSymbolAndDiagnosticsForAST(n,this.document.fileName),e=f&&f.symbol,t=e?e.getContainer():null,i=t?t.getKind():0,o=t?t.getAssociatedContainerType():null,r=o?o.getKind():0;i===8?this.emitState.container!==6&&(n.isStatic()?this.writeToOutput(t.getName()+"."):this.writeToOutput("this.")):i===64||i===32||r===4||r===32||r===64?n.isExported()||n.isProperty()?this.emitState.container===2?this.writeToOutput("exports."):this.writeToOutput(this.moduleName+"."):this.emitVarDeclVar():this.emitVarDeclVar();this.recordSourceMappingStart(n.id);this.writeToOutput(n.id.actualText);this.recordSourceMappingEnd(n.id);s=n.init!==null;s&&(this.writeToOutputTrimmable(" = "),this.varListCountStack.push(0),n.init.emit(this),this.varListCountStack.pop());i===8&&this.emitState.container!==6&&this.writeToOutput(";");this.onEmitVar();this.recordSourceMappingEnd(n);this.emitComments(n,!1)}this.popDecl(u)},r.prototype.symbolIsUsedInItsEnclosingContainer=function(n,t){var f,e,o,i,r,u;if(typeof t=="undefined"&&(t=!1),f=n.getDeclarations(),f.length&&(e=this.getEnclosingDecl(),e&&(o=f[0].getParentDecl(),o))){for(i=o,r=e;i;){if(i.getKind()===(t?32:4))break;i=i.getParentDecl()}if(i)while(r){if(r.getKind()===(t?32:4))break;r=r.getParentDecl()}if(i&&r)return u=i===r,!u&&n.hasFlag(32768)&&(u=i===r.getParentDecl()),u}return!1},r.prototype.emitName=function(t,i){var u,o,h,c,s;if(this.emitComments(t,!0),this.recordSourceMappingStart(t),!t.isMissing()){this.setTypeCheckerUnit(this.document.fileName);var l=this.resolvingContext.resolvingTypeReference?this.pullTypeChecker.resolver.resolveTypeNameExpression(t,this.getEnclosingDecl(),this.resolvingContext):this.pullTypeChecker.resolver.resolveNameExpression(t,this.getEnclosingDecl(),this.resolvingContext),r=l.symbol,a=l.symbolAlias,e=r.getKind(),y=a&&a.getDeclarations()[0].getParentDecl()==this.getEnclosingDecl();if(i&&this.emitState.container!==6&&r&&(u=r.getContainer(),u))if(o=u.getKind(),o===8)r.hasFlag(16)?this.writeToOutput(u.getName()+"."):e===4096&&(this.emitThis(),this.writeToOutput("."));else if(n.PullHelpers.symbolIsModule(u)||o===64||u.hasFlag(163840))e===4096||e===67108864?this.writeToOutput(u.getDisplayName()+"."):r.hasFlag(1)&&e===1024&&!r.hasFlag(163840)?this.writeToOutput(u.getDisplayName()+"."):r.hasFlag(1)&&!this.symbolIsUsedInItsEnclosingContainer(r)&&this.writeToOutput(u.getDisplayName()+".");else if(o===32||u.hasFlag(65536))e===4096?this.writeToOutput("exports."):!r.hasFlag(1)||y||r.hasFlag(n.PullElementFlags.ImplicitVariable)||r.getKind()===32768||r.getKind()===8||r.getKind()===64||this.writeToOutput("exports.");else if(e===4096)u.getKind()===8&&(this.emitThis(),this.writeToOutput("."));else{for(h=r.getDeclarations(),c=!0,s=0;s<h.length;s++)h[s].getScriptName()===this.document.fileName&&(c=!1);c&&this.writeToOutput(u.getName()+".")}if(r&&e===32)if(this.emitOptions.compilationSettings.moduleGenTarget===1)this.writeToOutput("__"+this.modAliasId+"__");else{var p=this.semanticInfoChain.getASTForSymbol(r,this.document.fileName),f=t.actualText,v=r.hasFlag(8);f=v?f:this.firstModAlias?this.firstModAlias:n.quoteBaseName(f);f=v?f:n.isRelative(n.stripQuotes(f))?f:n.quoteStr("./"+n.stripQuotes(f));this.writeToOutput("require("+f+")")}else this.writeToOutput(t.actualText)}this.recordSourceMappingEnd(t);this.emitComments(t,!1)},r.prototype.recordSourceMappingNameStart=function(n){if(this.sourceMapper){var t=n;n?this.sourceMapper.currentNameIndex.length>0&&(t=this.sourceMapper.names[this.sourceMapper.currentNameIndex[this.sourceMapper.currentNameIndex.length-1]]+"."+n):t="";this.sourceMapper.names.push(t);this.sourceMapper.currentNameIndex.push(this.sourceMapper.names.length-1)}},r.prototype.recordSourceMappingNameEnd=function(){this.sourceMapper&&this.sourceMapper.currentNameIndex.pop()},r.prototype.recordSourceMappingStart=function(t){var r,i,u,f;this.sourceMapper&&n.isValidAstNode(t)&&(r={line:-1,character:-1},i=new n.SourceMapping,i.start.emittedColumn=this.emitState.column,i.start.emittedLine=this.emitState.line,u=this.document.lineMap,u.fillLineAndCharacterFromPosition(t.minChar,r),i.start.sourceColumn=r.character,i.start.sourceLine=r.line+1,u.fillLineAndCharacterFromPosition(t.limChar,r),i.end.sourceColumn=r.character,i.end.sourceLine=r.line+1,this.sourceMapper.currentNameIndex.length>0&&(i.nameIndex=this.sourceMapper.currentNameIndex[this.sourceMapper.currentNameIndex.length-1]),f=this.sourceMapper.currentMappings[this.sourceMapper.currentMappings.length-1],f.push(i),this.sourceMapper.currentMappings.push(i.childMappings))},r.prototype.recordSourceMappingEnd=function(t){if(this.sourceMapper&&n.isValidAstNode(t)){this.sourceMapper.currentMappings.pop();var i=this.sourceMapper.currentMappings[this.sourceMapper.currentMappings.length-1],r=i[i.length-1];r.end.emittedColumn=this.emitState.column;r.end.emittedLine=this.emitState.line}},r.prototype.emitSourceMapsAndClose=function(){this.sourceMapper!==null&&n.SourceMapper.emitSourceMapping(this.allSourceMappers);try{this.outfile.Close()}catch(t){r.throwEmitterError(t)}},r.prototype.emitParameterPropertyAndMemberVariableAssignments=function(){var u=this.thisClassNode.constructorDecl,i,t,r,f;if(u&&u.arguments)for(t=0,r=u.arguments.members.length;t<r;t++)i=u.arguments.members[t],(i.getVarFlags()&256)!=0&&(this.emitIndent(),this.recordSourceMappingStart(i),this.recordSourceMappingStart(i.id),this.writeToOutput("this."+i.id.actualText),this.recordSourceMappingEnd(i.id),this.writeToOutput(" = "),this.recordSourceMappingStart(i.id),this.writeToOutput(i.id.actualText),this.recordSourceMappingEnd(i.id),this.writeLineToOutput(";"),this.recordSourceMappingEnd(i));for(t=0,r=this.thisClassNode.members.members.length;t<r;t++)this.thisClassNode.members.members[t].nodeType===17&&(f=this.thisClassNode.members.members[t],!n.hasFlag(f.getVarFlags(),16)&&f.init&&(this.emitIndent(),this.emitVariableDeclarator(f),this.writeLineToOutput("")))},r.prototype.emitCommaSeparatedList=function(n,t){var i,r,u;if(typeof t=="undefined"&&(t=!1),n!==null)for(i=0,r=n.members.length;i<r;i++)u=n.members[i],this.emitJavascript(u,t),i<r-1&&this.writeToOutput(t?",":", "),t&&this.writeLineToOutput("")},r.prototype.emitModuleElements=function(n){var r,i,u,t;if(n!==null){for(this.emitComments(n,!0),r=null,i=0,u=n.members.length;i<u;i++)t=n.members[i],t.shouldEmit()&&(this.emitSpaceBetweenConstructs(r,t),this.emitJavascript(t,!0),this.writeLineToOutput(""),r=t);this.emitComments(n,!1)}},r.prototype.isDirectivePrologueElement=function(n){if(n.nodeType===88){var t=n;return t.expression.nodeType===5}return!1},r.prototype.emitSpaceBetweenConstructs=function(n,t){if(n!==null&&t!==null&&n.minChar!==-1&&n.limChar!==-1&&t.minChar!==-1&&t.limChar!==-1){var i=this.document.lineMap,r=i.getLineNumberFromPosition(n.limChar),u=i.getLineNumberFromPosition(t.minChar);u-r>1&&this.writeLineToOutput("")}},r.prototype.emitScriptElements=function(n,t){var u=n.moduleElements,r,f,e,i;for(this.emitComments(u,!0),r=0,f=u.members.length;r<f;r++){if(i=u.members[r],!this.isDirectivePrologueElement(i))break;this.emitJavascript(i,!0);this.writeLineToOutput("")}for(this.emitPrologue(n,t),e=null;r<f;r++)i=u.members[r],i.shouldEmit()&&(this.emitSpaceBetweenConstructs(e,i),this.emitJavascript(i,!0),this.writeLineToOutput(""),e=i);this.emitComments(u,!1)},r.prototype.emitConstructorStatements=function(n){var i=n.block.statements,t,e,r;if(i!==null){this.emitComments(i,!0);var o=this.thisClassNode.extendsList&&this.thisClassNode.extendsList.members.length>0,u=o?1:0,f=null;for(t=0,e=i.members.length;t<e;t++)t===u&&this.emitParameterPropertyAndMemberVariableAssignments(),r=i.members[t],r.shouldEmit()&&(this.emitSpaceBetweenConstructs(f,r),this.emitJavascript(r,!0),this.writeLineToOutput(""),f=r);t===u&&this.emitParameterPropertyAndMemberVariableAssignments();this.emitComments(i,!1)}},r.prototype.emitJavascript=function(n,t){n!==null&&(t&&this.indenter.indentAmt>0&&this.emitIndent(),n.emit(this))},r.prototype.emitPropertyAccessor=function(t,i,r){var f,u;(n.hasFlag(t.getFunctionFlags(),32)||(f=n.PullHelpers.getAccessorSymbol(t,this.semanticInfoChain,this.document.fileName),!f.getGetter()))&&(this.emitIndent(),this.recordSourceMappingStart(t),this.writeLineToOutput("Object.defineProperty("+i+(r?'.prototype, "':', "')+t.name.actualText+'", {'),this.indenter.increaseIndent(),u=n.PullHelpers.getGetterAndSetterFunction(t,this.semanticInfoChain,this.document.fileName),u.getter&&(this.emitIndent(),this.recordSourceMappingStart(u.getter),this.writeToOutput("get: "),this.emitInnerFunction(u.getter,!1),this.writeLineToOutput(",")),u.setter&&(this.emitIndent(),this.recordSourceMappingStart(u.setter),this.writeToOutput("set: "),this.emitInnerFunction(u.setter,!1),this.writeLineToOutput(",")),this.emitIndent(),this.writeLineToOutput("enumerable: true,"),this.emitIndent(),this.writeLineToOutput("configurable: true"),this.indenter.decreaseIndent(),this.emitIndent(),this.writeLineToOutput("});"),this.recordSourceMappingEnd(t))},r.prototype.emitPrototypeMember=function(n,t){n.isAccessor()?this.emitPropertyAccessor(n,t,!0):(this.emitIndent(),this.recordSourceMappingStart(n),this.emitComments(n,!0),this.writeToOutput(t+".prototype."+n.getNameText()+" = "),this.emitInnerFunction(n,!1,!1),this.writeLineToOutput(";"))},r.prototype.emitClass=function(t){var o=this.semanticInfoChain.getDeclForAST(t,this.document.fileName),s,i,r,e,c;this.pushDecl(o);s=this.thisClassNode;this.thisClassNode=t;i=t.name.actualText;this.emitComments(t,!0);r=this.setContainer(3);this.recordSourceMappingStart(t);this.writeToOutput("var "+i);var u=t.extendsList&&t.extendsList.members.length,f=null,h=null;u?this.writeLineToOutput(" = (function (_super) {"):this.writeLineToOutput(" = (function () {");this.recordSourceMappingNameStart(i);this.indenter.increaseIndent();u&&(f=t.extendsList.members[0],h=f.nodeType===36?f.target:f,this.emitIndent(),this.writeLineToOutput("__extends("+i+", _super);"));this.emitIndent();e=t.constructorDecl;e?(e.emit(this),this.writeLineToOutput("")):(this.recordSourceMappingStart(t),this.indenter.increaseIndent(),this.writeLineToOutput("function "+t.name.actualText+"() {"),this.recordSourceMappingNameStart("constructor"),u&&(this.emitIndent(),this.writeLineToOutput("_super.apply(this, arguments);")),this.emitParameterPropertyAndMemberVariableAssignments(),this.indenter.decreaseIndent(),this.emitIndent(),this.writeLineToOutput("}"),this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t));this.emitClassMembers(t);this.emitIndent();this.recordSourceMappingStart(t.endingToken);this.writeLineToOutput("return "+i+";");this.recordSourceMappingEnd(t.endingToken);this.indenter.decreaseIndent();this.emitIndent();this.recordSourceMappingStart(t.endingToken);this.writeToOutput("}");this.recordSourceMappingNameEnd();this.recordSourceMappingEnd(t.endingToken);this.recordSourceMappingStart(t);this.writeToOutput(")(");u&&(this.resolvingContext.resolvingTypeReference=!0,this.emitJavascript(h,!1),this.resolvingContext.resolvingTypeReference=!1);this.writeToOutput(");");this.recordSourceMappingEnd(t);(r===1||r===2)&&n.hasFlag(t.getVarFlags(),1)&&(this.writeLineToOutput(""),this.emitIndent(),c=r===1?this.moduleName:"exports",this.recordSourceMappingStart(t),this.writeToOutput(c+"."+i+" = "+i+";"),this.recordSourceMappingEnd(t));this.recordSourceMappingEnd(t);this.emitComments(t,!1);this.setContainer(r);this.thisClassNode=s;this.popDecl(o)},r.prototype.emitClassMembers=function(t){for(var o=null,i,f,u,r=0,e=t.members.members.length;r<e;r++)f=t.members.members[r],f.nodeType===12&&(i=f,n.hasFlag(i.getFunctionFlags(),256)&&!i.isSignature()&&(this.emitSpaceBetweenConstructs(o,i),n.hasFlag(i.getFunctionFlags(),16)?i.isAccessor()?this.emitPropertyAccessor(i,this.thisClassNode.name.actualText,!1):(this.emitIndent(),this.recordSourceMappingStart(i),this.writeToOutput(t.name.actualText+"."+i.name.actualText+" = "),this.emitInnerFunction(i,!1),this.writeLineToOutput(";")):this.emitPrototypeMember(i,t.name.actualText),o=i));for(r=0,e=t.members.members.length;r<e;r++)f=t.members.members[r],f.nodeType===17&&(u=f,n.hasFlag(u.getVarFlags(),16)&&u.init&&(this.emitSpaceBetweenConstructs(o,u),this.emitIndent(),this.recordSourceMappingStart(u),this.writeToOutput(t.name.actualText+"."+u.id.actualText+" = "),u.init.emit(this),this.writeLineToOutput(";"),this.recordSourceMappingEnd(u),o=u))},r.prototype.emitPrologue=function(n,t){this.extendsPrologueEmitted||t&&(this.extendsPrologueEmitted=!0,this.writeLineToOutput("var __extends = this.__extends || function (d, b) {"),this.writeLineToOutput("    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];"),this.writeLineToOutput("    function __() { this.constructor = d; }"),this.writeLineToOutput("    __.prototype = b.prototype;"),this.writeLineToOutput("    d.prototype = new __();"),this.writeLineToOutput("};"));this.globalThisCapturePrologueEmitted||this.shouldCaptureThis(n)&&(this.globalThisCapturePrologueEmitted=!0,this.writeLineToOutput(this.captureThisStmtString))},r.prototype.emitSuperReference=function(){this.writeToOutput("_super.prototype")},r.prototype.emitSuperCall=function(n){if(n.target.nodeType===32){var t=n.target;if(t.operand1.nodeType===30)return t.emit(this),this.writeToOutput(".call("),this.emitThis(),n.arguments&&n.arguments.members.length>0&&(this.writeToOutput(", "),this.emitCommaSeparatedList(n.arguments)),this.writeToOutput(")"),!0}return!1},r.prototype.emitThis=function(){!this.thisFunctionDeclaration||this.thisFunctionDeclaration.isMethod()||this.thisFunctionDeclaration.isConstructor?this.writeToOutput("this"):this.writeToOutput("_this")},r.prototype.emitBlockOrStatement=function(n){n.nodeType===81?n.emit(this):(this.writeLineToOutput(""),this.indenter.increaseIndent(),this.emitJavascript(n,!0),this.indenter.decreaseIndent())},r.throwEmitterError=function(n){var t=new Error(n.message);t.isEmitterError=!0;throw t;},r.handleEmitterError=function(t,i){if(i.isEmitterError===!0)return[new n.Diagnostic(t,0,0,275,[i.message])];throw i;},r}();n.Emitter=u}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){this.prefix="";this.suffix=""}return n.prototype.isString=function(){return!1},n.prototype.isArray=function(){return!1},n.prototype.isMarker=function(){return!this.isString()&&!this.isArray()},n.prototype.toString=function(){return n.memberNameToString(this)},n.memberNameToString=function(t,i,r){var u,f,e;if(typeof r=="undefined"&&(r=0),u=t.prefix,t.isString())u+=t.text;else if(t.isArray())for(f=t,e=0;e<f.entries.length;e++){if(f.entries[e].isMarker()){i&&i.push(r+u.length);continue}u+=n.memberNameToString(f.entries[e],i,r+u.length);u+=f.delim}return u+t.suffix},n.create=function(n,t,u){if(typeof n=="string")return new i(n);var f=new r;return t&&(f.prefix=t),u&&(f.suffix=u),f.entries.push(n),f},n}(),i,r;n.MemberName=t;i=function(n){function t(t){n.call(this);this.text=t}return __extends(t,n),t.prototype.isString=function(){return!0},t}(t);n.MemberNameString=i;r=function(n){function t(){n.call(this);this.delim="";this.entries=[]}return __extends(t,n),t.prototype.isArray=function(){return!0},t.prototype.add=function(n){this.entries.push(n)},t.prototype.addAll=function(n){for(var t=0;t<n.length;t++)this.entries.push(n[t])},t}(t);n.MemberNameArray=r}(TypeScript||(TypeScript={})),function(n){function i(n){return n.replace(/"/g,"").replace(/'/g,"")}function o(n){return n.indexOf("'")!==-1}function v(n){return n.indexOf('"')!==-1||o(n)}function u(n){return'"'+n+'"'}function y(n){return n.indexOf('"')!==-1?(n=n.replace('"',"'"),n=n.replace('"',"'")):(n=n.replace("'",'"'),n=n.replace("'",'"')),n}function t(n){return n.replace(/\\/g,"/")}function r(n){return n.length>5&&n.substring(n.length-5,n.length)===".d.ts"?n.substring(0,n.length-5):n.length>3&&n.substring(n.length-3,n.length)===".ts"?n.substring(0,n.length-3):n.length>3&&n.substring(n.length-3,n.length)===".js"?n.substring(0,n.length-3):n}function p(n){return s(n)?e(n):e(n)}function f(n,t){var i=n.toLocaleUpperCase(),r=t.toLocaleUpperCase(),u=r.length;return i.length>u&&i.substring(i.length-u,i.length)===r}function w(n){return f(n,".js")}function s(n){return f(n,".ts")}function b(n){return f(n,".d.ts")}function k(n,f,e){typeof f=="undefined"&&(f=!0);typeof e=="undefined"&&(e=!1);var s=e?t(n):r(i(n)),o=this.getPathComponents(s);return o.length?f?u(o[o.length-1]):o[o.length-1]:n}function h(n){return n.split("/")}function d(n,i){var e,o;i=t(i);for(var u=this.getPathComponents(i),f=this.getPathComponents(n),r=0;r<u.length&&r<f.length;r++)if(f[r]!==u[r])break;if(r!==0){for(e="",o=u.slice(r,u.length);r<f.length;r++)f[r]!==""&&(e=e+"../");return e+o.join("/")}return i}function g(n){var f=r(i(n)),e=c(f),t,o;return e===""?n:(t=f.split(e),o=t.length>1?1:0,u(t[o]))}function e(n){return r(i(n))+".d.ts"}function nt(n){return n.charAt(0)==="."}function tt(n){return n.charAt(0)==="\\"||n.charAt(0)==="/"||n.indexOf(":\\")!==-1||n.indexOf(":/")!==-1}function c(n){if(n==="")return n;var t=n.indexOf("/")!==-1;return t?a(n):""}function l(n){n=t(n);var i=h(n);return i.slice(0,i.length-1)}function a(n){var t=l(n);return t.join("/")+"/"}function it(i){var e,r,u,f;for(/^\\\\[^\\]/.test(i)&&(i="file:"+i),e=this.getPathComponents(t(i)),r=[],u=0;u<e.length;u++)if(f=e[u],f!=="."){if(r.length>0&&n.ArrayUtilities.last(r)!==".."&&f===".."){r.pop();continue}r.push(f)}return r.join("/")}n.stripQuotes=i;n.isSingleQuoted=o;n.isQuoted=v;n.quoteStr=u;n.swapQuotes=y;n.switchToForwardSlashes=t;n.trimModName=r;n.getDeclareFilePath=p;n.isJSFile=w;n.isTSFile=s;n.isDTSFile=b;n.getPrettyName=k;n.getPathComponents=h;n.getRelativePathToFixedPath=d;n.quoteBaseName=g;n.changePathToDTS=e;n.isRelative=nt;n.isRooted=tt;n.getRootFilePath=c;n.filePathComponents=l;n.filePath=a;n.normalizePath=it}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n,t){this.path=n;this.fileInformation=t;this.referencedFiles=null;this.lineStarts=null}return t.prototype.getText=function(n,t){return this.fileInformation.contents().substring(n,t)},t.prototype.getLength=function(){return this.fileInformation.contents().length},t.prototype.getLineStartPositions=function(){return this.lineStarts===null&&(this.lineStarts=n.LineMap.fromString(this.fileInformation.contents()).lineStarts()),this.lineStarts},t.prototype.getTextChangeRangeSinceVersion=function(){throw n.Errors.notYetImplemented();},t}(),i,r;n.SourceUnit=t;i=function(){function t(t,i){this.compilationSettings=t;this.ioHost=i;this.code=[];this.inputFileNameToOutputFileName=new n.StringHashTable}return t.prototype.getSourceUnit=function(t){for(var e=n.switchToForwardSlashes(t.toUpperCase()),r,f,i=0,u=this.code.length;i<u;i++)if(r=this.code[i],f=n.switchToForwardSlashes(r.path.toUpperCase()),e===f)return r;return null},t}();n.CompilationEnvironment=i;r=function(){function i(n){this.environment=n;this.visited={}}return i.prototype.resolveCode=function(i,r,u,f){var o={fileInformation:null,path:i},c=this.environment.ioHost,w=n.isRelative(i),d=w?!1:n.isRooted(i),e=w?c.resolvePath(r+"/"+i):d||!r||u?i:r+"/"+i,v,s,h,a;if(n.isTSFile(e)||(e+=".ts"),e=n.switchToForwardSlashes(n.stripQuotes(e)),v=this.environment.compilationSettings.useCaseSensitiveFileResolution?e:e.toLocaleUpperCase(),!this.visited[v]){if(w||d||!u)try{n.CompilerDiagnostics.debugPrint("   Reading code from "+e);try{o.fileInformation=c.readFile(e)}catch(g){if(g.isUnsupportedEncoding){f.errorReporter.addDiagnostic(new n.Diagnostic(null,0,0,276,[e]));return}n.isTSFile(e)&&(e=n.changePathToDTS(e),n.CompilerDiagnostics.debugPrint("   Reading code from "+e),o.fileInformation=c.readFile(e))}n.CompilerDiagnostics.debugPrint("   Found code at "+e);o.path=e;this.visited[v]=!0}catch(nt){if(nt.isUnsupportedEncoding){f.errorReporter.addDiagnostic(new n.Diagnostic(null,0,0,276,[e]));return}return n.CompilerDiagnostics.debugPrint("   Did not find code for "+i),!1}else{try{o=c.findFile(r,e);o||n.isTSFile(e)&&(e=n.changePathToDTS(e),o=c.findFile(r,e))}catch(tt){return n.CompilerDiagnostics.debugPrint("   Did not find code for "+e),!1}o?(o.path=n.switchToForwardSlashes(n.stripQuotes(o.path)),n.CompilerDiagnostics.debugPrint(i+" resolved to: "+o.path),o.fileInformation=o.fileInformation,this.visited[v]=!0):n.CompilerDiagnostics.debugPrint("Could not find "+i)}if(o&&o.fileInformation!==null){var b=c.dirName(o.path),y=new t(o.path,o.fileInformation),l=n.preProcessFile(o.path,y,this.environment.compilationSettings),k=c.resolvePath(o.path),p;for(y.referencedFiles=l.referencedFiles,h=0;h<l.referencedFiles.length;h++){if(s=l.referencedFiles[h],e=n.isRooted(s.path)?s.path:b+"/"+s.path,e=c.resolvePath(e),k===e){f.errorReporter.addDiagnostic(new n.Diagnostic(e,s.position,s.length,270,null));continue}p=this.resolveCode(s.path,b,!1,f);p||f.errorReporter.addDiagnostic(new n.Diagnostic(k,s.position,s.length,271,[s.path]))}for(h=0;h<l.importedFiles.length;h++)a=l.importedFiles[h],p=this.resolveCode(a.path,b,!0,f),p||f.errorReporter.addDiagnostic(new n.Diagnostic(k,a.position,a.length,272,[a.path]));f.postResolution(y.path,y)}}return!0},i}();n.CodeResolver=r}(TypeScript||(TypeScript={})),function(n){function f(t){var i=/^(\/\/\/\s*<reference\s+path=)('|")(.+?)\2\s*(static=('|")(.+?)\2\s*)*\/>/gim.exec(t);if(i){var r=n.normalizePath(i[3]),f=n.normalizePath(r),u=i.length>=7&&i[6]==="true";return u&&n.CompilerDiagnostics.debugPrint(r+" is resident"),{line:0,character:0,position:0,length:0,path:n.switchToForwardSlashes(f),isResident:u}}return null}function e(n){var t=/^(\/\/\/\s*<implicit-import\s*)*\/>/gim.exec(n);return t?!0:!1}function o(n,t){var i=u(n,t,null,!1);return i.referencedFiles}function s(i,r,u,f){for(var o=0,e={line:-1,character:-1},s,h,c;u.tokenKind!==10;)u.tokenKind===49&&(s=o+u.leadingTriviaWidth(),u=r.scan(t,!1),n.SyntaxFacts.isIdentifierNameOrAnyKeyword(u)&&(u=r.scan(t,!1),u.tokenKind===108&&(u=r.scan(t,!1),(u.tokenKind===66||u.tokenKind===67)&&(u=r.scan(t,!1),u.tokenKind===73&&(h=r.absoluteIndex(),u=r.scan(t,!1),i.fillLineAndCharacterFromPosition(s,e),u.tokenKind===14&&(c={line:e.line,character:e.character,position:h+u.leadingTriviaWidth(),length:u.width(),path:n.stripQuotes(n.switchToForwardSlashes(u.text())),isResident:!1},f.push(c))))))),o=r.absoluteIndex(),u=r.scan(t,!1)}function h(n,t,i,r){for(var a=t.leadingTrivia(),s=0,h={line:-1,character:-1},v=!1,e,c,u,p,l,o=0,y=a.count();o<y;o++)e=a.syntaxTriviaAt(o),e.kind()===7&&(c=e.fullText(),u=f(c),u&&(n.fillLineAndCharacterFromPosition(s,h),u.position=s,u.length=e.fullWidth(),u.line=h.line,u.character=h.character,r.push(u)),i&&(p=/^(\/\/\/\s*<reference\s+no-default-lib=)('|")(.+?)\2\s*\/>/gim,l=p.exec(c),l&&(v=l[3]==="true"))),s+=e.fullWidth();return{noDefaultLib:v}}function u(u,f,e,o){var l,p;typeof o=="undefined"&&(o=!0);e=e||new i;var c=n.SimpleText.fromScriptSnapshot(f),a=new n.Scanner(u,c,e.codeGenTarget,r),v=a.scan(t,!1),y=[];return o&&s(c.lineMap(),a,v,y),l=[],p=h(c.lineMap(),v,e,l),t.length=0,{settings:e,referencedFiles:l,importedFiles:y,isLibFile:p.noDefaultLib}}function c(t){return new n.ParseOptions(t.allowAutomaticSemicolonInsertion,t.allowModuleKeywordInExternalModuleReference)}var i=function(){function n(){this.propagateConstants=!1;this.minWhitespace=!1;this.emitComments=!1;this.watch=!1;this.exec=!1;this.resolve=!0;this.disallowBool=!1;this.allowAutomaticSemicolonInsertion=!0;this.allowModuleKeywordInExternalModuleReference=!0;this.useDefaultLib=!0;this.codeGenTarget=0;this.moduleGenTarget=0;this.outputOption="";this.mapSourceFiles=!1;this.emitFullSourceMapPath=!1;this.generateDeclarationFiles=!1;this.useCaseSensitiveFileResolution=!1;this.gatherDiagnostics=!1;this.updateTC=!1;this.implicitAny=!1}return n}(),r,t;n.CompilationSettings=i;n.getImplicitImport=e;n.getReferencedFiles=o;r=n.ArrayUtilities.createArray(2048,0);t=[];n.preProcessFile=u;n.getParseOptions=c}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n,t,i){this.ioHost=n;this.path=t;this.writeByteOrderMark=i;this.contents="";this.onNewLine=!0}return t.prototype.Write=function(n){this.contents+=n;this.onNewLine=!1},t.prototype.WriteLine=function(n){this.contents+=n;this.contents+="\r\n";this.onNewLine=!0},t.prototype.Close=function(){try{this.ioHost.writeFile(this.path,this.contents,this.writeByteOrderMark)}catch(t){n.Emitter.throwEmitterError(t)}},t}(),i;n.TextWriter=t;i=function(){function i(i,r,u,f){this.emittingFileName=i;this.semanticInfoChain=r;this.emitOptions=u;this.writeByteOrderMark=f;this.fileName=null;this.declFile=null;this.indenter=new n.Indenter;this.declarationContainerStack=[];this.isDottedModuleName=[];this.ignoreCallbackAst=null;this.singleDeclFile=null;this.varListCount=0;this.declFile=new t(u.ioHost,i,f)}return i.prototype.widenType=function(n){return n===this.semanticInfoChain.undefinedTypeSymbol||n===this.semanticInfoChain.nullTypeSymbol?this.semanticInfoChain.anyTypeSymbol:n},i.prototype.close=function(){try{this.declFile.Close()}catch(t){n.Emitter.throwEmitterError(t)}},i.prototype.emitDeclarations=function(t){n.AstWalkerWithDetailCallback.walk(t,this)},i.prototype.getAstDeclarationContainer=function(){return this.declarationContainerStack[this.declarationContainerStack.length-1]},i.prototype.emitDottedModuleName=function(){return this.isDottedModuleName.length===0?!1:this.isDottedModuleName[this.isDottedModuleName.length-1]},i.prototype.getIndentString=function(n){return typeof n=="undefined"&&(n=!1),this.emitOptions.compilationSettings.minWhitespace?"":this.indenter.getIndent()},i.prototype.emitIndent=function(){this.declFile.Write(this.getIndentString())},i.prototype.canEmitSignature=function(t,i,r,u){var f,e;return(typeof r=="undefined"&&(r=!0),typeof u=="undefined"&&(u=!0),f=u?this.getAstDeclarationContainer():this.declarationContainerStack[this.declarationContainerStack.length-2],f.nodeType===15&&!n.hasFlag(t,1))?(e=this.semanticInfoChain.getSymbolAndDiagnosticsForAST(i,this.fileName).symbol,e&&e.isExternallyVisible()):!r&&f.nodeType===2&&n.hasFlag(t,8)?!1:!0},i.prototype.canEmitPrePostAstSignature=function(t,i,r){return this.ignoreCallbackAst?(n.CompilerDiagnostics.assert(this.ignoreCallbackAst!==i,"Ignore Callback AST mismatch"),this.ignoreCallbackAst=null,!1):r&&!this.canEmitSignature(t,i,!0,r)?(this.ignoreCallbackAst=i,!1):!0},i.prototype.getDeclFlagsString=function(t,i){var r=this.getIndentString(),u,f;return n.hasFlag(t,16)?(n.hasFlag(t,2)&&(r+="private "),r+="static "):n.hasFlag(t,2)?r+="private ":n.hasFlag(t,4)?r+="public ":(u=!n.hasFlag(t,1),f=this.getAstDeclarationContainer(),f.nodeType===15&&n.hasFlag(f.getModuleFlags(),256)&&n.hasFlag(t,1)&&(r+="export ",u=!0),u&&i!=="interface"&&(r+="declare "),r+=i+" "),r},i.prototype.emitDeclFlags=function(n,t){this.declFile.Write(this.getDeclFlagsString(n,t))},i.prototype.canEmitTypeAnnotationSignature=function(t){return typeof t=="undefined"&&(t=0),!n.hasFlag(t,2)},i.prototype.pushDeclarationContainer=function(n){this.declarationContainerStack.push(n)},i.prototype.popDeclarationContainer=function(t){n.CompilerDiagnostics.assert(t!==this.getAstDeclarationContainer(),"Declaration container mismatch");this.declarationContainerStack.pop()},i.prototype.emitTypeNamesMember=function(n,t){var i,r;if(typeof t=="undefined"&&(t=!1),n.prefix==="{ "?(t&&this.emitIndent(),this.declFile.WriteLine("{"),this.indenter.increaseIndent(),t=!0):n.prefix!==""&&(t&&this.emitIndent(),this.declFile.Write(n.prefix),t=!1),n.isString())t&&this.emitIndent(),this.declFile.Write(n.text);else if(n.isArray())for(i=n,r=0;r<i.entries.length;r++)this.emitTypeNamesMember(i.entries[r],t),i.delim==="; "&&this.declFile.WriteLine(";");n.suffix==="}"?(this.indenter.decreaseIndent(),this.emitIndent(),this.declFile.Write(n.suffix)):this.declFile.Write(n.suffix)},i.prototype.emitTypeSignature=function(n){var t=this.getAstDeclarationContainer(),i=this.semanticInfoChain.getDeclForAST(t,this.fileName),r=i.getSymbol(),u=n.getScopedNameEx(r);this.emitTypeNamesMember(u)},i.prototype.emitComment=function(n){var i=n.getText(),t;for(this.declFile.onNewLine?this.emitIndent():n.isBlockComment||(this.declFile.WriteLine(""),this.emitIndent()),this.declFile.Write(i[0]),t=1;t<i.length;t++)this.declFile.WriteLine(""),this.emitIndent(),this.declFile.Write(i[t]);n.endsLine||!n.isBlockComment?this.declFile.WriteLine(""):this.declFile.Write(" ")},i.prototype.emitDeclarationComments=function(n,t){if(typeof t=="undefined"&&(t=!0),this.emitOptions.compilationSettings.emitComments){var i=n.getDocComments();this.writeDeclarationComments(i,t)}},i.prototype.writeDeclarationComments=function(n,t){if(typeof t=="undefined"&&(t=!0),n.length>0){for(var i=0;i<n.length;i++)this.emitComment(n[i]);t?this.declFile.onNewLine||this.declFile.WriteLine(""):this.declFile.onNewLine&&this.emitIndent()}},i.prototype.emitTypeOfBoundDecl=function(n){var i=this.semanticInfoChain.getDeclForAST(n,this.fileName),r=i.getSymbol(),t=this.widenType(r.getType());t&&(n.typeExpr||n.init&&t!==this.semanticInfoChain.anyTypeSymbol)&&(this.declFile.Write(": "),this.emitTypeSignature(t))},i.prototype.VariableDeclaratorCallback=function(t,i){if(t&&this.canEmitSignature(n.ToDeclFlags(i.getVarFlags()),i,!1)){var r=this.getAstDeclarationContainer().nodeType===14;this.emitDeclarationComments(i);r?(this.emitIndent(),this.declFile.Write(i.id.actualText),n.hasFlag(i.id.getFlags(),4)&&this.declFile.Write("?")):(this.varListCount>=0&&(this.emitDeclFlags(n.ToDeclFlags(i.getVarFlags()),"var"),this.varListCount=-this.varListCount),this.declFile.Write(i.id.actualText));this.canEmitTypeAnnotationSignature(n.ToDeclFlags(i.getVarFlags()))&&this.emitTypeOfBoundDecl(i);this.varListCount>0?this.varListCount--:this.varListCount<0&&this.varListCount++;this.varListCount<0?this.declFile.Write(", "):this.declFile.WriteLine(";")}return!1},i.prototype.BlockCallback=function(){return!1},i.prototype.VariableStatementCallback=function(){return!0},i.prototype.VariableDeclarationCallback=function(n,t){return this.varListCount=n?t.declarators.members.length:0,!0},i.prototype.emitArgDecl=function(t,i){this.indenter.increaseIndent();this.emitDeclarationComments(t,!1);this.declFile.Write(t.id.actualText);t.isOptionalArg()&&this.declFile.Write("?");this.indenter.decreaseIndent();this.canEmitTypeAnnotationSignature(n.ToDeclFlags(i.getFunctionFlags()))&&this.emitTypeOfBoundDecl(t)},i.prototype.isOverloadedCallSignature=function(n){var i=this.semanticInfoChain.getDeclForAST(n,this.fileName),r=i.getSymbol(),u=r.getType(),t=u.getCallSignatures();return t&&t.length>1},i.prototype.FunctionDeclarationCallback=function(t,i){var h,u,r,e,o,f,a,v,s;if(!t)return!1;if(i.isAccessor())return this.emitPropertyAccessorSignature(i);var c=this.getAstDeclarationContainer().nodeType===14,y=this.semanticInfoChain.getSymbolAndDiagnosticsForAST(i,this.fileName).symbol,l=y.getType();if(i.block){if((h=l.getConstructSignatures(),h&&h.length>1)||this.isOverloadedCallSignature(i))return!1}else if(!c&&n.hasFlag(i.getFunctionFlags(),2)&&this.isOverloadedCallSignature(i)){u=l.getCallSignatures();n.Debug.assert(u&&u.length>1);var p=u[0].isDefinition()?u[1]:u[0],w=p.getDeclarations()[0],b=this.semanticInfoChain.getASTForDecl(w);if(b!==i)return!1}if(!this.canEmitSignature(n.ToDeclFlags(i.getFunctionFlags()),i,!1))return!1;if(r=this.semanticInfoChain.getDeclForAST(i,this.fileName).getSignatureSymbol(),this.emitDeclarationComments(i),i.isConstructor?(this.emitIndent(),this.declFile.Write("constructor"),this.emitTypeParameters(i.typeArguments,r)):(e=i.getNameText(),c?(this.emitIndent(),i.isConstructMember()?(this.declFile.Write("new"),this.emitTypeParameters(i.typeArguments,r)):i.isCallMember()||i.isIndexerMember()?this.emitTypeParameters(i.typeArguments,r):(this.declFile.Write(e),this.emitTypeParameters(i.typeArguments,r),n.hasFlag(i.name.getFlags(),4)&&this.declFile.Write("? "))):(this.emitDeclFlags(n.ToDeclFlags(i.getFunctionFlags()),"function"),e==="__missing"&&i.name&&i.name.isMissing()?i.isConstructMember()&&this.declFile.Write("new"):this.declFile.Write(e),this.emitTypeParameters(i.typeArguments,r))),i.isIndexerMember()?this.declFile.Write("["):this.declFile.Write("("),i.arguments)for(o=i.arguments.members.length,i.variableArgList&&o--,f=0;f<o;f++)a=i.arguments.members[f],this.emitArgDecl(a,i),f<o-1&&this.declFile.Write(", ");return i.variableArgList&&(v=i.arguments.members[i.arguments.members.length-1],i.arguments.members.length>1?this.declFile.Write(", ..."):this.declFile.Write("..."),this.emitArgDecl(v,i)),i.isIndexerMember()?this.declFile.Write("]"):this.declFile.Write(")"),!i.isConstructor&&this.canEmitTypeAnnotationSignature(n.ToDeclFlags(i.getFunctionFlags()))&&(s=r.getReturnType(),(i.returnTypeAnnotation||s&&s!==this.semanticInfoChain.anyTypeSymbol)&&(this.declFile.Write(": "),this.emitTypeSignature(s))),this.declFile.WriteLine(";"),!1},i.prototype.emitBaseExpression=function(n,t){var i=this.semanticInfoChain.getSymbolAndDiagnosticsForAST(n.members[t],this.fileName),r=i&&i.symbol;this.emitTypeSignature(r)},i.prototype.emitBaseList=function(n,t){var r=t?n.extendsList:n.implementsList,u,f,i;if(r&&r.members.length>0)for(u=t?"extends":"implements",this.declFile.Write(" "+u+" "),f=r.members.length,i=0;i<f;i++)i>0&&this.declFile.Write(", "),this.emitBaseExpression(r,i)},i.prototype.emitAccessorDeclarationComments=function(t){if(this.emitOptions.compilationSettings.emitComments){var r=n.PullHelpers.getGetterAndSetterFunction(t,this.semanticInfoChain,this.fileName),i=[];r.getter&&(i=i.concat(r.getter.getDocComments()));r.setter&&(i=i.concat(r.setter.getDocComments()));this.writeDeclarationComments(i)}},i.prototype.emitPropertyAccessorSignature=function(t){var i=n.PullHelpers.getAccessorSymbol(t,this.semanticInfoChain,this.fileName),r;return!n.hasFlag(t.getFunctionFlags(),32)&&i.getGetter()?!1:(this.emitAccessorDeclarationComments(t),this.emitDeclFlags(n.ToDeclFlags(t.getFunctionFlags()),"var"),this.declFile.Write(t.name.actualText),this.canEmitTypeAnnotationSignature(n.ToDeclFlags(t.getFunctionFlags()))&&(this.declFile.Write(" : "),r=i.getType(),this.emitTypeSignature(r)),this.declFile.WriteLine(";"),!1)},i.prototype.emitClassMembersFromConstructorDefinition=function(t){var u,r,i;if(t.arguments)for(u=t.arguments.members.length,t.variableArgList&&u--,r=0;r<u;r++)i=t.arguments.members[r],n.hasFlag(i.getVarFlags(),256)&&(this.emitDeclarationComments(i),this.emitDeclFlags(n.ToDeclFlags(i.getVarFlags()),"var"),this.declFile.Write(i.id.actualText),this.canEmitTypeAnnotationSignature(n.ToDeclFlags(i.getVarFlags()))&&this.emitTypeOfBoundDecl(i),this.declFile.WriteLine(";"))},i.prototype.ClassDeclarationCallback=function(t,i){if(!this.canEmitPrePostAstSignature(n.ToDeclFlags(i.getVarFlags()),i,t))return!1;if(t){var r=i.name.actualText;this.emitDeclarationComments(i);this.emitDeclFlags(n.ToDeclFlags(i.getVarFlags()),"class");this.declFile.Write(r);this.pushDeclarationContainer(i);this.emitTypeParameters(i.typeParameters);this.emitBaseList(i,!0);this.emitBaseList(i,!1);this.declFile.WriteLine(" {");this.indenter.increaseIndent();i.constructorDecl&&this.emitClassMembersFromConstructorDefinition(i.constructorDecl)}else this.indenter.decreaseIndent(),this.popDeclarationContainer(i),this.emitIndent(),this.declFile.WriteLine("}");return!0},i.prototype.emitTypeParameters=function(n,t){var r,f;if(n&&n.members.length){this.declFile.Write("<");var e=this.getAstDeclarationContainer(),o=this.semanticInfoChain.getDeclForAST(e,this.fileName),u=o.getSymbol(),i;for(t?i=t.getTypeParameters():(i=u.getTypeArguments(),i&&i.length||(i=u.getTypeParameters())),r=0;r<i.length;r++)r&&this.declFile.Write(", "),f=i[r].getScopedNameEx(u,!0),this.emitTypeNamesMember(f);this.declFile.Write(">")}},i.prototype.InterfaceDeclarationCallback=function(t,i){if(!this.canEmitPrePostAstSignature(n.ToDeclFlags(i.getVarFlags()),i,t))return!1;if(t){var r=i.name.actualText;this.emitDeclarationComments(i);this.emitDeclFlags(n.ToDeclFlags(i.getVarFlags()),"interface");this.declFile.Write(r);this.pushDeclarationContainer(i);this.emitTypeParameters(i.typeParameters);this.emitBaseList(i,!0);this.declFile.WriteLine(" {");this.indenter.increaseIndent()}else this.indenter.decreaseIndent(),this.popDeclarationContainer(i),this.emitIndent(),this.declFile.WriteLine("}");return!0},i.prototype.ImportDeclarationCallback=function(t,i){if(t){var u=this.semanticInfoChain.getDeclForAST(i,this.fileName),r=u.getSymbol();(r.getTypeUsedExternally()||n.PullContainerTypeSymbol.usedAsSymbol(r.getContainer(),r))&&(this.emitDeclarationComments(i),this.emitIndent(),this.declFile.Write("import "),this.declFile.Write(i.id.actualText+" = "),i.isDynamicImport?this.declFile.WriteLine("require("+i.getAliasName()+");"):this.declFile.WriteLine(i.getAliasName()+";"))}return!1},i.prototype.emitEnumSignature=function(t){var u,r,i,f;if(!this.canEmitSignature(n.ToDeclFlags(t.getModuleFlags()),t))return!1;for(this.emitDeclarationComments(t),this.emitDeclFlags(n.ToDeclFlags(t.getModuleFlags()),"enum"),this.declFile.WriteLine(t.name.actualText+" {"),this.indenter.increaseIndent(),u=t.members.members.length,r=0;r<u;r++)i=t.members.members[r],i.nodeType!==97||n.hasFlag(i.getFlags(),32)||(f=i,this.emitDeclarationComments(i),this.emitIndent(),this.declFile.WriteLine(f.declaration.declarators.members[0].id.actualText+","));return this.indenter.decreaseIndent(),this.emitIndent(),this.declFile.WriteLine("}"),!1},i.prototype.ModuleDeclarationCallback=function(i,r){var e,o,u,f;if(n.hasFlag(r.getModuleFlags(),256)){if(n.hasFlag(r.getModuleFlags(),512))if(i)this.emitOptions.outputMany||(this.singleDeclFile=this.declFile,n.CompilerDiagnostics.assert(this.indenter.indentAmt===0,"Indent has to be 0 when outputing new file"),e=this.emitOptions.mapOutputFileName(this.fileName,n.TypeScriptCompiler.mapToDTSFileName),o=r.containsUnicodeChar||this.emitOptions.compilationSettings.emitComments&&r.containsUnicodeCharInComment,this.declFile=new t(this.emitOptions.ioHost,e,this.writeByteOrderMark)),this.pushDeclarationContainer(r);else{if(!this.emitOptions.outputMany){n.CompilerDiagnostics.assert(this.singleDeclFile!==this.declFile,"singleDeclFile cannot be null as we are going to revert back to it");n.CompilerDiagnostics.assert(this.indenter.indentAmt===0,"Indent has to be 0 when outputing new file");try{this.declFile.Close()}catch(s){n.Emitter.throwEmitterError(s)}this.declFile=this.singleDeclFile}this.popDeclarationContainer(r)}return!0}return r.isEnum()?(i&&this.emitEnumSignature(r),!1):this.canEmitPrePostAstSignature(n.ToDeclFlags(r.getModuleFlags()),r,i)?(i?(this.emitDottedModuleName()?this.dottedModuleEmit+=".":this.dottedModuleEmit=this.getDeclFlagsString(n.ToDeclFlags(r.getModuleFlags()),"module"),this.dottedModuleEmit+=r.name.actualText,u=r.members.members.length===1&&r.members.members[0].nodeType===15&&!r.members.members[0].isEnum()&&n.hasFlag(r.members.members[0].getModuleFlags(),1),f=r.getDocComments(),u=u&&(f===null||f.length===0),this.isDottedModuleName.push(u),this.pushDeclarationContainer(r),u||(this.emitDeclarationComments(r),this.declFile.Write(this.dottedModuleEmit),this.declFile.WriteLine(" {"),this.indenter.increaseIndent())):(this.emitDottedModuleName()||(this.indenter.decreaseIndent(),this.emitIndent(),this.declFile.WriteLine("}")),this.popDeclarationContainer(r),this.isDottedModuleName.pop()),!0):!1},i.prototype.ExportAssignmentCallback=function(n,t){return n&&(this.emitIndent(),this.declFile.Write("export = "),this.declFile.Write(t.id.actualText),this.declFile.WriteLine(";")),!1},i.prototype.ScriptCallback=function(t,i){var r,u,f;if(t){if(this.emitOptions.outputMany)for(r=0;r<i.referencedFiles.length;r++)u=i.referencedFiles[r].path,f=n.isRooted(u)?this.emitOptions.mapOutputFileName(u,n.TypeScriptCompiler.mapToDTSFileName):n.getDeclareFilePath(i.referencedFiles[r].path),this.declFile.WriteLine('/// <reference path="'+f+'" />');this.pushDeclarationContainer(i)}else this.popDeclarationContainer(i);return!0},i.prototype.DefaultCallback=function(n,t){return!t.isStatement()},i}();n.DeclarationEmitter=i}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n){var u=Math.max(1,t.computeM(n)),f=Math.max(1,t.computeK(n)),e=u+7&-8,i,r;for(this.bitArray=[],i=0,r=e;i<r;i++)this.bitArray[i]=!1;this.hashFunctionCount=f}return t.computeM=function(n){var i=t.falsePositiveProbability,r=n,u=r*Math.log(i),f=Math.log(1/Math.pow(2,Math.log(2)));return Math.ceil(u/f)},t.computeK=function(n){var i=n,r=t.computeM(n),u=Math.log(2)*r/i;return Math.round(u)},t.prototype.computeHash=function(t,i){for(var f=1540483477,e=t.length,r=Math.abs(i^e),o=0;e>=2;){var s=this.getCharacter(t,o),h=this.getCharacter(t,o+1),u=Math.abs(s|h<<16);u=n.IntegerUtilities.integerMultiplyLow32Bits(u,f);u^=u>>24;u=n.IntegerUtilities.integerMultiplyLow32Bits(u,f);r=n.IntegerUtilities.integerMultiplyLow32Bits(r,f);r^=u;o+=2;e-=2}return e==1&&(r^=this.getCharacter(t,o),r=n.IntegerUtilities.integerMultiplyLow32Bits(r,f)),r^=r>>13,r=n.IntegerUtilities.integerMultiplyLow32Bits(r,f),r^=r>>15,Math.round(r)},t.prototype.getCharacter=function(n,t){return n.charCodeAt(t)},t.prototype.addKeys=function(n){for(var t in n)this.add(t)},t.prototype.add=function(n){for(var i,t=0;t<this.hashFunctionCount;t++)i=this.computeHash(n,t),i=i%this.bitArray.length,this.bitArray[Math.abs(i)]=!0},t.prototype.probablyContains=function(n){for(var i,t=0;t<this.hashFunctionCount;t++)if(i=this.computeHash(n,t),i=i%this.bitArray.length,!this.bitArray[Math.abs(i)])return!1;return!0},t.prototype.isEquivalent=function(n){return t.isEquivalent(this.bitArray,n.bitArray)&&this.hashFunctionCount==n.hashFunctionCount},t.isEquivalent=function(n,t){if(n.length!=t.length)return!1;for(var i=0;i<n.length;i++)if(n[i]!=t[i])return!1;return!0},t.falsePositiveProbability=.0001,t}();n.BloomFilter=t}(TypeScript||(TypeScript={})),function(n){var t=function(n){function t(t){n.call(this);this.list=t}return __extends(t,n),t.prototype.visitToken=function(n){this.list[n.text()]=!0},t}(n.SyntaxWalker);n.IdentifierWalker=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){this.map={}}return n.prototype.link=function(n,t){this.map[n]=t},n.prototype.unlink=function(n){this.map[n]=undefined},n.prototype.read=function(n){return this.map[n]},n.prototype.flush=function(){this.map={}},n.prototype.unpatch=function(){return null},n}(),i;n.DataMap=t;i=function(n){function t(t){n.call(this);this.parent=t;this.diffs={}}return __extends(t,n),t.prototype.link=function(n,t){this.diffs[n]=t},t.prototype.unlink=function(n){this.diffs[n]=undefined},t.prototype.read=function(n){var t=this.diffs[n];return t?t:this.parent.read(n)},t.prototype.flush=function(){this.diffs={}},t.prototype.unpatch=function(){return this.flush(),this.parent},t}(t);n.PatchedDataMap=i}(TypeScript||(TypeScript={})),function(n){var t,i,r;(function(n){n[n.None=0]="None";n[n.Exported=1]="Exported";n[n.Private=2]="Private";n[n.Public=4]="Public";n[n.Ambient=8]="Ambient";n[n.Static=16]="Static";n[n.GetAccessor=32]="GetAccessor";n[n.SetAccessor=64]="SetAccessor";n[n.Optional=128]="Optional";n[n.Call=256]="Call";n[n.Constructor=512]="Constructor";n[n.Index=1024]="Index";n[n.Signature=2048]="Signature";n[n.Enum=4096]="Enum";n[n.FatArrow=8192]="FatArrow";n[n.ClassConstructorVariable=16384]="ClassConstructorVariable";n[n.InitializedModule=32768]="InitializedModule";n[n.InitializedDynamicModule=65536]="InitializedDynamicModule";n[n.InitializedEnum=131072]="InitializedEnum";n[n.MustCaptureThis=262144]="MustCaptureThis";n[n.Constant=524288]="Constant";n[n.ExpressionElement=1048576]="ExpressionElement";n[n.DeclaredInAWithBlock=2097152]="DeclaredInAWithBlock";n[n.ImplicitVariable=n.ClassConstructorVariable|n.InitializedModule|n.InitializedDynamicModule|n.InitializedEnum]="ImplicitVariable";n[n.SomeInitializedModule=n.InitializedModule|n.InitializedDynamicModule|n.InitializedEnum]="SomeInitializedModule"})(n.PullElementFlags||(n.PullElementFlags={}));t=n.PullElementFlags,function(n){n[n.None=0]="None";n[n.Global=0]="Global";n[n.Script=1]="Script";n[n.Primitive=2]="Primitive";n[n.Container=4]="Container";n[n.Class=8]="Class";n[n.Interface=16]="Interface";n[n.DynamicModule=32]="DynamicModule";n[n.Enum=64]="Enum";n[n.Array=128]="Array";n[n.TypeAlias=256]="TypeAlias";n[n.ObjectLiteral=512]="ObjectLiteral";n[n.Variable=1024]="Variable";n[n.Parameter=2048]="Parameter";n[n.Property=4096]="Property";n[n.TypeParameter=8192]="TypeParameter";n[n.Function=16384]="Function";n[n.ConstructorMethod=32768]="ConstructorMethod";n[n.Method=65536]="Method";n[n.FunctionExpression=131072]="FunctionExpression";n[n.GetAccessor=262144]="GetAccessor";n[n.SetAccessor=524288]="SetAccessor";n[n.CallSignature=1048576]="CallSignature";n[n.ConstructSignature=2097152]="ConstructSignature";n[n.IndexSignature=4194304]="IndexSignature";n[n.ObjectType=8388608]="ObjectType";n[n.FunctionType=16777216]="FunctionType";n[n.ConstructorType=33554432]="ConstructorType";n[n.EnumMember=67108864]="EnumMember";n[n.ErrorType=134217728]="ErrorType";n[n.Expression=268435456]="Expression";n[n.WithBlock=536870912]="WithBlock";n[n.CatchBlock=1073741824]="CatchBlock";n[n.All=n.Script|n.Global|n.Primitive|n.Container|n.Class|n.Interface|n.DynamicModule|n.Enum|n.Array|n.TypeAlias|n.ObjectLiteral|n.Variable|n.Parameter|n.Property|n.TypeParameter|n.Function|n.ConstructorMethod|n.Method|n.FunctionExpression|n.GetAccessor|n.SetAccessor|n.CallSignature|n.ConstructSignature|n.IndexSignature|n.ObjectType|n.FunctionType|n.ConstructorType|n.EnumMember|n.ErrorType|n.Expression|n.WithBlock|n.CatchBlock]="All";n[n.SomeFunction=n.Function|n.ConstructorMethod|n.Method|n.FunctionExpression|n.GetAccessor|n.SetAccessor|n.CallSignature|n.ConstructSignature|n.IndexSignature]="SomeFunction";n[n.SomeValue=n.Variable|n.Parameter|n.Property|n.EnumMember|n.SomeFunction]="SomeValue";n[n.SomeType=n.Script|n.Global|n.Primitive|n.Class|n.Interface|n.Enum|n.Array|n.ObjectType|n.FunctionType|n.ConstructorType|n.TypeParameter|n.ErrorType]="SomeType";n[n.AcceptableAlias=n.Variable|n.SomeFunction|n.Class|n.Interface|n.Enum|n.Container|n.ObjectType|n.FunctionType|n.ConstructorType]="AcceptableAlias";n[n.SomeContainer=n.Container|n.DynamicModule|n.TypeAlias]="SomeContainer";n[n.SomeBlock=n.WithBlock|n.CatchBlock]="SomeBlock";n[n.SomeSignature=n.CallSignature|n.ConstructSignature|n.IndexSignature]="SomeSignature";n[n.SomeAccessor=n.GetAccessor|n.SetAccessor]="SomeAccessor";n[n.SomeTypeReference=n.Interface|n.ObjectType|n.FunctionType|n.ConstructorType]="SomeTypeReference";n[n.SomeLHS=n.Variable|n.Property|n.Parameter|n.SetAccessor|n.Method]="SomeLHS";n[n.InterfaceTypeExtension=n.Interface|n.Class|n.Enum]="InterfaceTypeExtension";n[n.ClassTypeExtension=n.Interface|n.Class]="ClassTypeExtension";n[n.EnumTypeExtension=n.Interface|n.Enum]="EnumTypeExtension"}(n.PullElementKind||(n.PullElementKind={}));i=n.PullElementKind,function(n){n[n.TypedAs=0]="TypedAs";n[n.ContextuallyTypedAs=1]="ContextuallyTypedAs";n[n.ProvidesInferredType=2]="ProvidesInferredType";n[n.ArrayType=3]="ArrayType";n[n.ArrayOf=4]="ArrayOf";n[n.PublicMember=5]="PublicMember";n[n.PrivateMember=6]="PrivateMember";n[n.ConstructorMethod=7]="ConstructorMethod";n[n.Aliases=8]="Aliases";n[n.ExportAliases=9]="ExportAliases";n[n.ContainedBy=10]="ContainedBy";n[n.Extends=11]="Extends";n[n.Implements=12]="Implements";n[n.Parameter=13]="Parameter";n[n.ReturnType=14]="ReturnType";n[n.CallSignature=15]="CallSignature";n[n.ConstructSignature=16]="ConstructSignature";n[n.IndexSignature=17]="IndexSignature";n[n.TypeParameter=18]="TypeParameter";n[n.TypeArgument=19]="TypeArgument";n[n.TypeParameterSpecializedTo=20]="TypeParameterSpecializedTo";n[n.SpecializedTo=21]="SpecializedTo";n[n.TypeConstraint=22]="TypeConstraint";n[n.ContributesToExpression=23]="ContributesToExpression";n[n.GetterFunction=24]="GetterFunction";n[n.SetterFunction=25]="SetterFunction"}(n.SymbolLinkKind||(n.SymbolLinkKind={}));r=n.SymbolLinkKind}(TypeScript||(TypeScript={})),function(n){var t,r,i;n.pullDeclID=0;n.lastBoundPullDeclId=0;t=function(){function t(t,i,r,u,f,e){this.symbol=null;this.declGroups=new n.BlockIntrinsics;this.signatureSymbol=null;this.specializingSignatureSymbol=null;this.childDecls=[];this.typeParameters=[];this.childDeclTypeCache=new n.BlockIntrinsics;this.childDeclValueCache=new n.BlockIntrinsics;this.childDeclNamespaceCache=new n.BlockIntrinsics;this.childDeclTypeParameterCache=new n.BlockIntrinsics;this.declID=n.pullDeclID++;this.declFlags=0;this.diagnostics=null;this.parentDecl=null;this._parentPath=null;this._isBound=!1;this.synthesizedValDecl=null;this.declName=t;this.declType=r;this.declFlags=u;this.span=f;this.scriptName=e;i!==this.declName&&(this.declDisplayName=i)}return t.prototype.getDeclID=function(){return this.declID},t.prototype.getName=function(){return this.declName},t.prototype.getKind=function(){return this.declType},t.prototype.getDisplayName=function(){return this.declDisplayName===undefined?this.declName:this.declDisplayName},t.prototype.setSymbol=function(n){this.symbol=n},t.prototype.ensureSymbolIsBound=function(t){if(typeof t=="undefined"&&(t=!1),!(t&&this.signatureSymbol||this.symbol)&&!this._isBound&&this.declType!=1){var i=n.globalBinder.semanticInfo;n.globalBinder.setUnit(this.scriptName);n.globalBinder.bindDeclToPullSymbol(this);i&&n.globalBinder.setUnit(i.getPath())}},t.prototype.getSymbol=function(){return this.declType==1?null:(this.ensureSymbolIsBound(),this.symbol)},t.prototype.hasSymbol=function(){return this.symbol!=null},t.prototype.setSignatureSymbol=function(n){this.signatureSymbol=n},t.prototype.getSignatureSymbol=function(){return this.ensureSymbolIsBound(!0),this.signatureSymbol},t.prototype.hasSignature=function(){return this.signatureSymbol!=null},t.prototype.setSpecializingSignatureSymbol=function(n){this.specializingSignatureSymbol=n},t.prototype.getSpecializingSignatureSymbol=function(){return this.specializingSignatureSymbol?this.specializingSignatureSymbol:this.signatureSymbol},t.prototype.getFlags=function(){return this.declFlags},t.prototype.setFlags=function(n){this.declFlags=n},t.prototype.getSpan=function(){return this.span},t.prototype.setSpan=function(n){this.span=n},t.prototype.getScriptName=function(){return this.scriptName},t.prototype.setValueDecl=function(n){this.synthesizedValDecl=n},t.prototype.getValueDecl=function(){return this.synthesizedValDecl},t.prototype.isEqual=function(n){return this.declName===n.declName&&this.declType===n.declType&&this.declFlags===n.declFlags&&this.scriptName===n.scriptName&&this.span.start()===n.span.start()&&this.span.end()===n.span.end()},t.prototype.getParentDecl=function(){return this.parentDecl},t.prototype.setParentDecl=function(n){this.parentDecl=n},t.prototype.addDiagnostic=function(n){n&&(this.diagnostics||(this.diagnostics=[]),this.diagnostics[this.diagnostics.length]=n)},t.prototype.getDiagnostics=function(){return this.diagnostics},t.prototype.setErrors=function(n){if(n){this.diagnostics=[];for(var t=0;t<n.length;t++)n[t].adjustOffset(this.span.start()),this.diagnostics[this.diagnostics.length]=n[t]}},t.prototype.resetErrors=function(){this.diagnostics=[]},t.prototype.getChildDeclCache=function(t){return t===8192?this.childDeclTypeParameterCache:n.hasFlag(t,n.PullElementKind.SomeContainer)?this.childDeclNamespaceCache:n.hasFlag(t,n.PullElementKind.SomeType)?this.childDeclTypeCache:this.childDeclValueCache},t.prototype.addChildDecl=function(n){n.getKind()===8192?this.typeParameters[this.typeParameters.length]=n:this.childDecls[this.childDecls.length]=n;var i=n.getName(),r=this.getChildDeclCache(n.getKind()),t=r[i];t||(t=[]);t.push(n);r[i]=t},t.prototype.searchChildDecls=function(t,i){var u=i&n.PullElementKind.SomeType?this.childDeclTypeCache:i&n.PullElementKind.SomeContainer?this.childDeclNamespaceCache:this.childDeclValueCache,r=u[t];return r?r:i&n.PullElementKind.SomeType&&(r=this.childDeclTypeParameterCache[t],r)?r:[]},t.prototype.getChildDecls=function(){return this.childDecls},t.prototype.getTypeParameters=function(){return this.typeParameters},t.prototype.addVariableDeclToGroup=function(n){var t=this.declGroups[n.getName()];t?t.addDecl(n):(t=new i(n.getName()),t.addDecl(n),this.declGroups[n.getName()]=t)},t.prototype.getVariableDeclGroups=function(){var n=[],t;for(t in this.declGroups)this.declGroups[t]&&(n[n.length]=this.declGroups[t].getDecls());return n},t.prototype.getParentPath=function(){return this._parentPath},t.prototype.setParentPath=function(n){this._parentPath=n},t.prototype.setIsBound=function(n){this._isBound=n},t.prototype.isBound=function(){return this._isBound},t}();n.PullDecl=t;r=function(n){function t(t,i,r,u){n.call(this,"","",131072,i,r,u);this.functionExpressionName=t}return __extends(t,n),t.prototype.getFunctionExpressionName=function(){return this.functionExpressionName},t}(t);n.PullFunctionExpressionDecl=r;i=function(){function n(n){this.name=n;this._decls=[]}return n.prototype.addDecl=function(n){n.getName()===this.name&&(this._decls[this._decls.length]=n)},n.prototype.getDecls=function(){return this._decls},n}();n.PullDeclGroup=i}(TypeScript||(TypeScript={})),function(n){function rt(n,r,f,e){var o=f.getCachedArrayType(),et,h,c,v,y;if(!o||(o.getKind()&16)==0)return null;if(o.isGeneric())return et=o.getDeclarations()[0],u(o,[r],f,et,e);if(r.getArrayType())return r.getArrayType();h=new s;h.addDeclaration(o.getDeclarations()[0]);r.setArrayType(h);h.addOutgoingLink(r,4);var p=null,w=null,rt=null,b=null,ot=null,nt=null,ut=null,k=null,l=null,d=null,tt=null,it=null,ft=null,g=o.getMembers();for(c=0;c<g.length;c++)if(f.resolveDeclaredSymbol(g[c],null,e),g[c].getKind()===65536){for(b=g[c],f.resolveDeclaredSymbol(b,null,e),ot=b.getType(),nt=new t(b.getName(),65536),ut=new a,nt.setType(ut),nt.addDeclaration(b.getDeclarations()[0]),k=ot.getCallSignatures(),v=0;v<k.length;v++){for(l=new i(1048576),l.addDeclaration(k[v].getDeclarations()[0]),d=k[v].getParameters(),ft=k[v].getReturnType(),ft===n?l.setReturnType(r):l.setReturnType(ft),y=0;y<d.length;y++)(tt=new t(d[y].getName(),d[y].getKind()),it=d[y].getType(),it!==null)&&(it===n?tt.setType(r):tt.setType(it),l.addParameter(tt));ut.addSignature(l)}h.addMember(nt,5)}else p=g[c],w=new t(p.getName(),p.getKind()),w.addDeclaration(p.getDeclarations()[0]),rt=p.getType(),rt===n?w.setType(r):w.setType(rt),h.addMember(w,5);return h.addOutgoingLink(o,3),h}function h(n,t){var i,r;if(n.isTypeParameter())return n==t;if(i=n.getTypeArguments(),i)for(r=0;r<i.length;r++)if(h(i[r],t))return!0;return!1}function it(n){var t=n.getDeclarations()[0];return n.isGeneric()?n.getKind()&24?t.getSymbol().getType():n:n}function p(n,t){if(n==t)return!1;if(!(n.isTypeParameter()&&t.isTypeParameter()))return!0;var i=n.getDeclarations()[0].getParentDecl(),r=t.getDeclarations()[0].getParentDecl();if(i==r)return!0;while(i){if(i.getFlags()&16)return!0;if(i==r)return!1;i=i.getParentDecl()}return!0}function u(f,e,o,a,v,w){var ui,vt,fi,li,ot,hi,bt,ei,nt,ti,ii,ri,ut,ai,at,kt,ft,yt,vi,yi,pi,rt,b,wt,nr,oi,tr,ir;if(f.isPrimitive()||!f.isGeneric())return f;if(ui=e!=null,(e===null||v.specializingToAny&&e.length)&&(e=[]),f.isTypeParameter())return v.specializingToAny?o.semanticInfoChain.anyTypeSymbol:(vt=v.findSpecializationForType(f),vt!=f&&p(vt,f))?vt:e&&e.length&&p(e[0],f)?e[0]:f;if(f.isArray())return f.currentlyBeingSpecialized()?f:(fi=null,v.specializingToAny?fi=o.semanticInfoChain.anyTypeSymbol:(li=f.getElementType(),fi=u(li,e,o,a,v,w)),u(o.getCachedArrayType(),[fi],o,a,v));ot=f.getTypeParameters();!v.specializingToAny&&ui&&ot.length>e.length&&(ui=!1);var g=null,st=f.getDeclarations()[0],ht=it(f),si=f===o.getCachedArrayType()||f.isArray();if(ui||v.specializingToAny){if(!e.length||v.specializingToAny)for(b=0;b<ot.length;b++)e[e.length]=o.semanticInfoChain.anyTypeSymbol;for(si?g=e[0].getArrayType():e.length&&(g=ht.getSpecialization(e)),g||ot.length||!v.specializingToAny||(g=ht.getSpecialization([o.semanticInfoChain.anyTypeSymbol])),b=0;b<e.length;b++)if(!e[b].isTypeParameter()&&(e[b]==ht||h(e[b],ot[b])))return nt=o.semanticInfoChain.getASTForDecl(st),nt&&e[b]!=o.getCachedArrayType()?(ei=v.postError(a.getScriptName(),nt.minChar,nt.getLength(),225,null,a,!0),o.getNewErrorTypeSymbol(ei)):o.semanticInfoChain.anyTypeSymbol}else{for(hi=f.getTypeArguments(),bt=hi?hi:ot,b=0;b<bt.length;b++){if(!bt[b].isTypeParameter()&&(e[b]==ht||h(bt[b],ot[b])))return nt=o.semanticInfoChain.getASTForDecl(st),nt&&e[b]!=o.getCachedArrayType()?(ei=v.postError(a.getScriptName(),nt.minChar,nt.getLength(),225,null,a,!0),o.getNewErrorTypeSymbol(ei)):o.semanticInfoChain.anyTypeSymbol;vt=u(bt[b],null,o,a,v,w);e[b]=vt!=null?vt:bt[b]}g=ht.getSpecialization(e)}if(ti=ht.getTypeParameters(),ti.length&&ti.length==e.length){for(b=0;b<e.length;b++)if(e[b]!=ti[b])break;if(b==ti.length)return ht}if(g){if(g.isResolved()||g.currentlyBeingSpecialized())return g;f.invalidateSpecializations()}if(ii=v.inSpecialization,v.inSpecialization=!0,n.nSpecializationsCreated++,g=f.isClass()?new l(f.getName()):si?new s:f.isTypeParameter()?new y(f.getName(),f.isFunctionTypeParameter()):new r(f.getName(),f.getKind()),g.setRootSymbol(ht),g.setIsBeingSpecialized(),g.setTypeArguments(e),ht.addSpecialization(g,e),si&&(g.setElementType(e[0]),e[0].setArrayType(g)),f.currentlyBeingSpecialized())return g;for(ri=f.currentlyBeingSpecialized(),f.getKind()==33554432&&f.setIsBeingSpecialized(),ut={},b=0;b<ot.length;b++)ot[b]!=e[b]&&(ut[ot[b].getSymbolID().toString()]=e[b]),g.addMember(ot[b],18,!0);if(ai=f.getExtendedTypes(),yt=f.getDeclarations(),ai.length)for(b=0;b<yt.length;b++)at=yt[b],kt=o.semanticInfoChain.getASTForDecl(at),kt.extendsList&&(ft=o.getUnitPath(),o.setUnitPath(at.getScriptName()),v.pushTypeSpecializationCache(ut),vi=o.resolveTypeReference(new n.TypeReference(kt.extendsList.members[0],0),at,v).symbol,o.setUnitPath(ft),v.popTypeSpecializationCache(),g.addExtendedType(vi));if(yi=f.getImplementedTypes(),yi.length)for(b=0;b<yt.length;b++)at=yt[b],kt=o.semanticInfoChain.getASTForDecl(at),kt.implementsList&&(ft=o.getUnitPath(),o.setUnitPath(at.getScriptName()),v.pushTypeSpecializationCache(ut),pi=o.resolveTypeReference(new n.TypeReference(kt.implementsList.members[0],0),at,v).symbol,o.setUnitPath(ft),v.popTypeSpecializationCache(),g.addImplementedType(pi));var wi=f.getCallSignatures(!1),bi=f.getConstructSignatures(!1),ki=f.getIndexSignatures(!1),di=f.getMembers(),k,d,tt=null,nt=null,ct,dt,gt=null,ni=null;for(b=0;b<wi.length;b++){if(d=wi[b],d.currentlyBeingSpecialized())k=d;else{for(v.pushTypeSpecializationCache(ut),tt=d.getDeclarations()[0],ft=o.getUnitPath(),o.setUnitPath(tt.getScriptName()),k=new i(d.getKind()),n.nSpecializedSignaturesCreated++,k.mimicSignature(d,o),nt=o.semanticInfoChain.getASTForDecl(tt),n.Debug.assert(nt!=null,"Call signature for type '"+f.toString()+"' could not be specialized because of a stale declaration"),ni=tt.getSpecializingSignatureSymbol(),tt.setSpecializingSignatureSymbol(k),d.isResolved()||d.isResolving()||o.resolveDeclaredSymbol(d,a,new n.PullTypeResolutionContext),o.resolveAST(nt,!1,st,v),tt.setSpecializingSignatureSymbol(ni),ct=d.getParameters(),dt=k.getParameters(),rt=0;rt<ct.length;rt++)dt[rt].setType(ct[rt].getType());if(k.setResolved(),o.setUnitPath(ft),gt=k.getReturnType(),gt||k.setReturnType(d.getReturnType()),d.setIsBeingSpecialized(),k.setRootSymbol(d),k=c(k,!0,ut,null,o,st,v),d.setIsSpecialized(),v.popTypeSpecializationCache(),!k)return v.inSpecialization=ii,f.setValueIsBeingSpecialized(ri),n.Debug.assert(!1,"returning from call"),o.semanticInfoChain.anyTypeSymbol}g.addCallSignature(k);k.hasGenericParameter()&&g.setHasGenericSignature()}for(b=0;b<bi.length;b++){if(d=bi[b],d.currentlyBeingSpecialized())k=d;else{for(v.pushTypeSpecializationCache(ut),tt=d.getDeclarations()[0],ft=o.getUnitPath(),o.setUnitPath(tt.getScriptName()),k=new i(d.getKind()),n.nSpecializedSignaturesCreated++,k.mimicSignature(d,o),nt=o.semanticInfoChain.getASTForDecl(tt),n.Debug.assert(nt!=null,"Construct signature for type '"+f.toString()+"' could not be specialized because of a stale declaration"),ni=tt.getSpecializingSignatureSymbol(),tt.setSpecializingSignatureSymbol(k),d.isResolved()||d.isResolving()||o.resolveDeclaredSymbol(d,a,new n.PullTypeResolutionContext),o.resolveAST(nt,!1,st,v),tt.setSpecializingSignatureSymbol(ni),ct=d.getParameters(),dt=k.getParameters(),rt=0;rt<ct.length;rt++)dt[rt].setType(ct[rt].getType());if(k.setResolved(),o.setUnitPath(ft),gt=k.getReturnType(),gt||k.setReturnType(d.getReturnType()),d.setIsBeingSpecialized(),k.setRootSymbol(d),k=c(k,!0,ut,null,o,st,v),d.setIsSpecialized(),v.popTypeSpecializationCache(),!k)return v.inSpecialization=ii,f.setValueIsBeingSpecialized(ri),n.Debug.assert(!1,"returning from construct"),o.semanticInfoChain.anyTypeSymbol}g.addConstructSignature(k);k.hasGenericParameter()&&g.setHasGenericSignature()}for(b=0;b<ki.length;b++){if(d=ki[b],d.currentlyBeingSpecialized())k=d;else{for(v.pushTypeSpecializationCache(ut),tt=d.getDeclarations()[0],ft=o.getUnitPath(),o.setUnitPath(tt.getScriptName()),k=new i(d.getKind()),n.nSpecializedSignaturesCreated++,k.mimicSignature(d,o),nt=o.semanticInfoChain.getASTForDecl(tt),n.Debug.assert(nt!=null,"Index signature for type '"+f.toString()+"' could not be specialized because of a stale declaration"),ni=tt.getSpecializingSignatureSymbol(),tt.setSpecializingSignatureSymbol(k),d.isResolved()||d.isResolving()||o.resolveDeclaredSymbol(d,a,new n.PullTypeResolutionContext),o.resolveAST(nt,!1,st,v),tt.setSpecializingSignatureSymbol(ni),ct=d.getParameters(),dt=k.getParameters(),rt=0;rt<ct.length;rt++)dt[rt].setType(ct[rt].getType());if(k.setResolved(),o.setUnitPath(ft),gt=k.getReturnType(),gt||k.setReturnType(d.getReturnType()),d.setIsBeingSpecialized(),k.setRootSymbol(d),k=c(k,!0,ut,null,o,st,v),d.setIsSpecialized(),v.popTypeSpecializationCache(),!k)return v.inSpecialization=ii,f.setValueIsBeingSpecialized(ri),n.Debug.assert(!1,"returning from index"),o.semanticInfoChain.anyTypeSymbol}g.addIndexSignature(k);k.hasGenericParameter()&&g.setHasGenericSignature()}var et=null,pt=null,lt=null,gi=null,ci=null;for(b=0;b<di.length;b++)et=di[b],et.setIsBeingSpecialized(),yt=et.getDeclarations(),pt=new t(et.getName(),et.getKind()),pt.setRootSymbol(et),et.getIsOptional()&&pt.setIsOptional(),et.isResolved()||o.resolveDeclaredSymbol(et,st,v),lt=et.getType(),lt||(lt=g),ci=ut[lt.getSymbolID().toString()],ci?pt.setType(ci):lt.isGeneric()&&!lt.isFixed()?(ft=o.getUnitPath(),o.setUnitPath(yt[0].getScriptName()),v.pushTypeSpecializationCache(ut),gi=u(lt,lt.getIsSpecialized()?null:e,o,st,v,w),o.setUnitPath(ft),v.popTypeSpecializationCache(),pt.setType(gi)):pt.setType(lt),et.setIsSpecialized(),g.addMember(pt,et.hasFlag(2)?6:5);return f.isClass()&&(wt=f.getConstructorMethod(),wt.isResolved()||(nr=v.isSpecializingConstructorMethod,v.isSpecializingConstructorMethod=!0,o.resolveDeclaredSymbol(wt,a,v),v.isSpecializingConstructorMethod=nr),oi=new t(wt.getName(),32768),tr=u(wt.getType(),e,o,st,v,w),oi.setType(tr),ir=wt.getDeclarations(),oi.setRootSymbol(wt),g.setConstructorMethod(oi)),g.setIsSpecialized(),g.setResolved(),f.setValueIsBeingSpecialized(ri),v.inSpecialization=ii,g}function c(r,f,e,o,s,h,c,l){var a,it,b,tt,d,g,y,v,rt,p;if(r.currentlyBeingSpecialized())return r;if(r.isResolved()||r.isResolving()||s.resolveDeclaredSymbol(r,h,c),a=r.getSpecialization(o),a)return a;r.setIsBeingSpecialized();it=c.inSpecialization;c.inSpecialization=!0;a=new i(r.getKind());n.nSpecializedSignaturesCreated++;a.setRootSymbol(r);r.hasVariableParamList()&&a.setHasVariableParamList();r.hasGenericParameter()&&a.setHasGenericParameter();r.addSpecialization(a,o);var w=r.getParameters(),k=r.getTypeParameters(),nt=r.getReturnType();for(v=0;v<k.length;v++)a.addTypeParameter(k[v]);if(r.hasGenericParameter()&&a.setHasGenericParameter(),g=new n.BlockIntrinsics,y=null,f)for(v=0;v<k.length;v++)g[k[v].getName()]=!0,y||(y={}),y[k[v].getSymbolID().toString()]=k[v];for(c.pushTypeSpecializationCache(e),f&&y&&c.pushTypeSpecializationCache(y),rt=g[nt.getName()]?nt:u(nt,null,s,h,c,l),f&&y&&c.popTypeSpecializationCache(),c.popTypeSpecializationCache(),a.setReturnType(rt),p=0;p<w.length;p++)b=new t(w[p].getName(),w[p].getKind()),b.setRootSymbol(w[p]),d=w[p].getType(),c.pushTypeSpecializationCache(e),f&&y&&c.pushTypeSpecializationCache(y),tt=g[d.getName()]?d:u(d,null,s,h,c,l),f&&y&&c.popTypeSpecializationCache(),c.popTypeSpecializationCache(),w[p].getIsOptional()&&b.setIsOptional(),w[p].getIsVarArg()&&(b.setIsVarArg(),a.setHasVariableParamList()),s.isTypeArgumentOrWrapper(tt)&&a.setHasGenericParameter(),b.setType(tt),a.addParameter(b,b.getIsOptional());return r.setIsSpecialized(),c.inSpecialization=it,a}function f(n){for(var i="",t=0;t<n.length;t++)i+=n[t].getSymbolID().toString()+"#";return i}var t,w,i,r,e,b,k,l,o,d,g,a,nt,v,y,tt,s;n.pullSymbolID=0;n.lastBoundPullSymbolID=0;n.globalTyvarID=0;t=function(){function t(t,i){this.pullSymbolID=n.pullSymbolID++;this.outgoingLinks=new n.LinkList;this.incomingLinks=new n.LinkList;this.declarations=new n.LinkList;this.cachedPathIDs={};this.cachedContainerLink=null;this.cachedTypeLink=null;this.cachedDeclarations=null;this.hasBeenResolved=!1;this.isOptional=!1;this.inResolution=!1;this.isSynthesized=!1;this.isBound=!1;this.rebindingID=0;this.isVarArg=!1;this.isSpecialized=!1;this.isBeingSpecialized=!1;this.rootSymbol=null;this.typeChangeUpdateVersion=-1;this.addUpdateVersion=-1;this.removeUpdateVersion=-1;this.docComments=null;this.isPrinting=!1;this.name=t;this.declKind=i}return t.prototype.getSymbolID=function(){return this.pullSymbolID},t.prototype.isType=function(){return(this.declKind&n.PullElementKind.SomeType)!=0},t.prototype.isSignature=function(){return(this.declKind&n.PullElementKind.SomeSignature)!=0},t.prototype.isArray=function(){return(this.declKind&128)!=0},t.prototype.isPrimitive=function(){return this.declKind===2},t.prototype.isAccessor=function(){return!1},t.prototype.isError=function(){return!1},t.prototype.isAlias=function(){return!1},t.prototype.isContainer=function(){return!1},t.prototype.findAliasedType=function(n){for(var r,t,u,i=0;i<n.length;i++)for(r=n[i].getChildDecls(),t=0;t<r.length;t++)if(r[t].getKind()===256&&(u=r[t].getSymbol(),o.usedAsSymbol(u,this)))return u;return null},t.prototype.getAliasedSymbol=function(n){var t,i,r;return n?(t=n.pathToRoot(),t.length&&t[t.length-1].getKind()===32)?(i=t[t.length-1].getDeclarations(),r=this.findAliasedType(i),r):null:null},t.prototype.getName=function(n){var t=this.getAliasedSymbol(n);return t?t.getName():this.name},t.prototype.getDisplayName=function(n){var t=this.getAliasedSymbol(n);return t?t.getDisplayName():this.getDeclarations()[0].getDisplayName()},t.prototype.getKind=function(){return this.declKind},t.prototype.setKind=function(n){this.declKind=n},t.prototype.setIsOptional=function(){this.isOptional=!0},t.prototype.getIsOptional=function(){return this.isOptional},t.prototype.getIsVarArg=function(){return this.isVarArg},t.prototype.setIsVarArg=function(){this.isVarArg=!0},t.prototype.setIsSynthesized=function(){this.isSynthesized=!0},t.prototype.getIsSynthesized=function(){return this.isSynthesized},t.prototype.setIsSpecialized=function(){this.isSpecialized=!0;this.isBeingSpecialized=!1},t.prototype.getIsSpecialized=function(){return this.isSpecialized},t.prototype.currentlyBeingSpecialized=function(){return this.isBeingSpecialized},t.prototype.setIsBeingSpecialized=function(){this.isBeingSpecialized=!0},t.prototype.setValueIsBeingSpecialized=function(n){this.isBeingSpecialized=n},t.prototype.getRootSymbol=function(){return this.rootSymbol?this.rootSymbol:this},t.prototype.setRootSymbol=function(n){this.rootSymbol=n},t.prototype.setIsBound=function(n){this.isBound=!0;this.rebindingID=n},t.prototype.getRebindingID=function(){return this.rebindingID},t.prototype.getIsBound=function(){return this.isBound},t.prototype.addCacheID=function(n){this.cachedPathIDs[n]||(this.cachedPathIDs[n]=!0)},t.prototype.invalidateCachedIDs=function(n){for(var t in this.cachedPathIDs)n[t]&&(n[t]=undefined)},t.prototype.addDeclaration=function(t){(n.Debug.assert(!!t),this.rootSymbol)||(this.declarations.addItem(t),this.cachedDeclarations?this.cachedDeclarations[this.cachedDeclarations.length]=t:this.cachedDeclarations=[t])},t.prototype.getDeclarations=function(){return this.rootSymbol?this.rootSymbol.getDeclarations():(this.cachedDeclarations||(this.cachedDeclarations=[]),this.cachedDeclarations)},t.prototype.removeDeclaration=function(n){this.rootSymbol||(this.declarations.remove(function(t){return t===n}),this.cachedDeclarations=this.declarations.find(function(n){return n}))},t.prototype.updateDeclarations=function(n,t){this.rootSymbol||this.declarations.update(n,t)},t.prototype.addOutgoingLink=function(t,i){var r=new n.PullSymbolLink(this,t,i);return this.outgoingLinks.addItem(r),t.incomingLinks.addItem(r),r},t.prototype.findOutgoingLinks=function(n){return this.outgoingLinks.find(n)},t.prototype.findIncomingLinks=function(n){return this.incomingLinks.find(n)},t.prototype.removeOutgoingLink=function(n){n&&(this.outgoingLinks.remove(function(t){return t===n}),n.end.incomingLinks&&n.end.incomingLinks.remove(function(t){return t===n}))},t.prototype.updateOutgoingLinks=function(n,t){this.outgoingLinks&&this.outgoingLinks.update(n,t)},t.prototype.updateIncomingLinks=function(n,t){this.incomingLinks&&this.incomingLinks.update(n,t)},t.prototype.removeAllLinks=function(){var n=this;this.updateOutgoingLinks(function(t){return n.removeOutgoingLink(t)},null);this.updateIncomingLinks(function(n){return n.start.removeOutgoingLink(n)},null)},t.prototype.setContainer=function(n){var t=this.addOutgoingLink(n,10);this.cachedContainerLink=t;n.addContainedByLink(t)},t.prototype.getContainer=function(){if(this.cachedContainerLink)return this.cachedContainerLink.end;if(this.getIsSpecialized()){var n=this.findIncomingLinks(function(n){return n.kind==21});if(n.length==1)return n[0].start.getContainer()}return null},t.prototype.unsetContainer=function(){this.cachedContainerLink&&this.removeOutgoingLink(this.cachedContainerLink);this.invalidate()},t.prototype.setType=function(n){this.cachedTypeLink&&this.unsetType();this.cachedTypeLink=this.addOutgoingLink(n,0)},t.prototype.getType=function(){return this.cachedTypeLink?this.cachedTypeLink.end:null},t.prototype.unsetType=function(){var n=!1;this.cachedTypeLink&&(this.removeOutgoingLink(this.cachedTypeLink),n=!0);n&&this.invalidate()},t.prototype.isTyped=function(){return this.getType()!=null},t.prototype.setResolved=function(){this.hasBeenResolved=!0;this.inResolution=!1},t.prototype.isResolved=function(){return this.hasBeenResolved},t.prototype.startResolving=function(){this.inResolution=!0},t.prototype.isResolving=function(){return this.inResolution},t.prototype.setUnresolved=function(){this.hasBeenResolved=!1;this.isBound=!1;this.inResolution=!1},t.prototype.invalidate=function(){this.docComments=null;this.hasBeenResolved=!1;this.isBound=!1;this.declarations.update(function(n){return n.resetErrors()},null)},t.prototype.hasFlag=function(n){for(var i=this.getDeclarations(),t=0,r=i.length;t<r;t++)if((i[t].getFlags()&n)!=0)return!0;return!1},t.prototype.allDeclsHaveFlag=function(n){for(var i=this.getDeclarations(),t=0,r=i.length;t<r;t++)if(!((i[t].getFlags()&n)!=0))return!1;return!0},t.prototype.pathToRoot=function(){for(var t=[],n=this,i;n;)n.isType()&&(i=n.getAssociatedContainerType(),i&&(n=i)),t[t.length]=n,n=n.getContainer();return t},t.prototype.findCommonAncestorPath=function(n){var t=this.pathToRoot(),e,f,i,h,c,u,l,a,o,s,r;if(t.length===1)return t;if(n)e=n.pathToRoot();else return t;for(f=-1,i=0,h=t.length;i<h;i++){for(c=t[i],u=0,l=e.length;u<l;u++)if(a=e[u],c===a&&(o=null,i>0&&(r=t[i-1].getDeclarations(),r.length&&(o=r[0].getParentDecl())),s=null,u>0&&(r=e[u-1].getDeclarations(),r.length&&(s=r[0].getParentDecl())),!o||!s||o==s)){f=i;break}if(f>=0)break}return f>=0?t.slice(0,f):t},t.prototype.toString=function(){return this.getNameAndTypeName()},t.prototype.getNamePartForFullName=function(){return this.getDisplayName(null,!0)},t.prototype.fullName=function(t){var f=this.pathToRoot(),r="",u=this.getAliasedSymbol(t),i,e;if(u)return u.getDisplayName();for(i=1;i<f.length;i++)if(u=f[i].getAliasedSymbol(t),u){r=u.getDisplayName()+"."+r;break}else{if(e=f[i].getNamePartForFullName(),f[i].getKind()==32&&!n.isQuoted(e))break;if(e==="")break;r=e+"."+r}return r+this.getNamePartForFullName()},t.prototype.getScopedName=function(t,i){var f=this.findCommonAncestorPath(t),r="",e=this.getAliasedSymbol(t),u,o,s;if(e)return e.getDisplayName();for(u=1;u<f.length;u++)if(o=f[u].getKind(),o===4||o===32)if(e=f[u].getAliasedSymbol(t),e){r=e.getDisplayName()+"."+r;break}else if(o===4)r=f[u].getDisplayName()+"."+r;else{s=f[u].getDisplayName();n.isQuoted(s)&&(r=s+"."+r);break}else break;return r+this.getDisplayName(t,i)},t.prototype.getScopedNameEx=function(t,i){var r=this.getScopedName(t,i);return n.MemberName.create(r)},t.prototype.getTypeName=function(n,t){var i=this.getTypeNameEx(n,t);return i.toString()},t.prototype.getTypeNameEx=function(t,i){var u=this.getType(),r;return u?(r=i?this.getTypeNameForFunctionSignature("",t,i):null,r||(r=u.getScopedNameEx(t,!0,i)),r):n.MemberName.create("")},t.prototype.getTypeNameForFunctionSignature=function(t,r,u){var f=this.getType();if(f&&!f.isNamedTypeSymbol()&&this.declKind!=4096&&this.declKind!=1024&&this.declKind!=2048){var o=f.getCallSignatures(),e=new n.MemberNameArray,s=i.getSignaturesTypeNameEx(o,t,!1,!1,r,u);return e.addAll(s),e}return null},t.prototype.getNameAndTypeName=function(n){var t=this.getNameAndTypeNameEx(n);return t.toString()},t.prototype.getNameAndTypeNameEx=function(t){var u=this.getType(),f=this.getScopedNameEx(t),r,i,e;return u?(r=f.toString()+(this.getIsOptional()?"?":""),i=this.getTypeNameForFunctionSignature(r,t),i||(e=u.getScopedNameEx(t),i=n.MemberName.create(e,r+": ","")),i):f},t.getTypeParameterString=function(n,i,r){return t.getTypeParameterStringEx(n,i,undefined,r).toString()},t.getTypeParameterStringEx=function(t,i,r,u){var f=new n.MemberNameArray,e;if(f.prefix="",t&&t.length){for(f.add(n.MemberName.create("<")),e=0;e<t.length;e++)e&&f.add(n.MemberName.create(", ")),r&&f.add(new n.MemberName),f.add(t[e].getScopedNameEx(i,u)),r&&f.add(new n.MemberName);f.add(n.MemberName.create(">"))}return f},t.getIsExternallyVisible=function(n,t,i){if(i){for(var r=0;r<i.length;r++)if(i[r]===n)return!0}else i=[];return t===n?!0:(i=i.concat(t),n.isExternallyVisible(i))},t.prototype.isExternallyVisible=function(n){var r=this.getKind(),u,i,f;return r===2?!0:this.isType()&&(u=this.getAssociatedContainerType(),u)?t.getIsExternallyVisible(u,this,n):this.hasFlag(2)?!1:(i=this.getContainer(),i===null)?!0:(i.getKind()==32||i.getAssociatedContainerType()&&i.getAssociatedContainerType().getKind()==32)&&(f=i.getKind()==32?i:i.getAssociatedContainerType(),o.usedAsSymbol(f,this))?!0:!this.hasFlag(1)&&r!=4096&&r!=65536?!1:t.getIsExternallyVisible(i,this,n)},t.prototype.isModule=function(){return this.getKind()==4||this.isOneDeclarationOfKind(4)},t.prototype.isOneDeclarationOfKind=function(n){for(var i=this.getDeclarations(),t=0;t<i.length;t++)if(i[t].getKind()===n)return!0;return!1},t}();n.PullSymbol=t;w=function(n){function t(){n.call(this,"",268435456);this.contributingSymbols=[]}return __extends(t,n),t.prototype.addContributingSymbol=function(n){var t=this.addOutgoingLink(n,23);this.contributingSymbols[this.contributingSymbols.length]=n},t.prototype.getContributingSymbols=function(){return this.contributingSymbols},t}(t);n.PullExpressionSymbol=w;i=function(i){function r(n){i.call(this,"",n);this.parameterLinks=null;this.typeParameterLinks=null;this.returnTypeLink=null;this.hasOptionalParam=!1;this.nonOptionalParamCount=0;this.hasVarArgs=!1;this.specializationCache={};this.memberTypeParameterNameCache=null;this.hasAGenericParameter=!1;this.stringConstantOverload=undefined}return __extends(r,i),r.prototype.isDefinition=function(){return!1},r.prototype.hasVariableParamList=function(){return this.hasVarArgs},r.prototype.setHasVariableParamList=function(){this.hasVarArgs=!0},r.prototype.setHasGenericParameter=function(){this.hasAGenericParameter=!0},r.prototype.hasGenericParameter=function(){return this.hasAGenericParameter},r.prototype.isGeneric=function(){return this.hasAGenericParameter||this.typeParameterLinks&&this.typeParameterLinks.length!=0},r.prototype.addParameter=function(n,t){typeof t=="undefined"&&(t=!1);this.parameterLinks||(this.parameterLinks=[]);var i=this.addOutgoingLink(n,13);this.parameterLinks[this.parameterLinks.length]=i;this.hasOptionalParam=t;t||this.nonOptionalParamCount++},r.prototype.addSpecialization=function(n,t){t&&t.length&&(this.specializationCache[f(t)]=n)},r.prototype.getSpecialization=function(n){if(n){var t=this.specializationCache[f(n)];if(t)return t}return null},r.prototype.addTypeParameter=function(t){this.typeParameterLinks||(this.typeParameterLinks=[]);this.memberTypeParameterNameCache||(this.memberTypeParameterNameCache=new n.BlockIntrinsics);var i=this.addOutgoingLink(t,18);this.typeParameterLinks[this.typeParameterLinks.length]=i;this.memberTypeParameterNameCache[i.end.getName()]=i.end},r.prototype.getNonOptionalParameterCount=function(){return this.nonOptionalParamCount},r.prototype.setReturnType=function(n){n&&(this.returnTypeLink&&this.removeOutgoingLink(this.returnTypeLink),this.returnTypeLink=this.addOutgoingLink(n,14))},r.prototype.getParameters=function(){var t=[],n;if(this.parameterLinks)for(n=0;n<this.parameterLinks.length;n++)t[t.length]=this.parameterLinks[n].end;return t},r.prototype.getTypeParameters=function(){var t=[],n;if(this.typeParameterLinks)for(n=0;n<this.typeParameterLinks.length;n++)t[t.length]=this.typeParameterLinks[n].end;return t},r.prototype.findTypeParameter=function(t){var i;if(!this.memberTypeParameterNameCache&&(this.memberTypeParameterNameCache=new n.BlockIntrinsics,this.typeParameterLinks))for(i=0;i<this.typeParameterLinks.length;i++)this.memberTypeParameterNameCache[this.typeParameterLinks[i].end.getName()]=this.typeParameterLinks[i].end;return this.memberTypeParameterNameCache[t]},r.prototype.removeParameter=function(n){var i,t;if(this.parameterLinks)for(t=0;t<this.parameterLinks.length;t++)if(n===this.parameterLinks[t].end){i=this.parameterLinks[t];this.removeOutgoingLink(i);break}this.invalidate()},r.prototype.mimicSignature=function(n,i){var o=n.getTypeParameters(),e,r,f,u,s;if(o)for(e=0;e<o.length;e++)this.addTypeParameter(o[e]);if(r=n.getParameters(),r)for(u=0;u<r.length;u++)f=new t(r[u].getName(),2048),f.setRootSymbol(r[u]),r[u].getIsOptional()&&f.setIsOptional(),r[u].getIsVarArg()&&(f.setIsVarArg(),this.setHasVariableParamList()),this.addParameter(f);s=n.getReturnType();i.isTypeArgumentOrWrapper(s)||this.setReturnType(s)},r.prototype.getReturnType=function(){if(this.returnTypeLink)return this.returnTypeLink.end;var n=this.findOutgoingLinks(function(n){return n.kind===14});return n.length?(this.returnTypeLink=n[0],this.returnTypeLink.end):null},r.prototype.parametersAreFixed=function(){var t,n;if(!this.isGeneric())return!0;if(this.parameterLinks)for(n=0;n<this.parameterLinks.length;n++)if(t=this.parameterLinks[n].end.getType(),t&&!t.isFixed())return!1;return!0},r.prototype.isFixed=function(){var n,t,i;if(!this.isGeneric())return!0;if(this.parameterLinks)for(n=null,t=0;t<this.parameterLinks.length;t++)if(n=this.parameterLinks[t].end.getType(),n&&!n.isFixed())return!1;return this.returnTypeLink?(i=this.returnTypeLink.end,i.isFixed()):!0},r.prototype.invalidate=function(){if(this.parameterLinks=this.findOutgoingLinks(function(n){return n.kind===13}),this.nonOptionalParamCount=0,this.hasOptionalParam=!1,this.hasAGenericParameter=!1,this.stringConstantOverload=undefined,this.parameterLinks)for(var n=0;n<this.parameterLinks.length;n++)if(this.parameterLinks[n].end.invalidate(),this.parameterLinks[n].end.getIsOptional()){this.hasOptionalParam;break}else this.nonOptionalParamCount++;i.prototype.invalidate.call(this)},r.prototype.isStringConstantOverloadSignature=function(){var i,n,t;if(this.stringConstantOverload===undefined)for(i=this.getParameters(),this.stringConstantOverload=!1,n=0;n<i.length;n++)t=i[n].getType(),t&&t.isPrimitive()&&t.isStringConstant()&&(this.stringConstantOverload=!0);return this.stringConstantOverload},r.getSignatureTypeMemberName=function(t,i,u){var f=new n.MemberNameArray,e=r.getSignaturesTypeNameEx(i,"",!1,!1,u,!0,t);return f.addAll(e),f},r.getSignaturesTypeNameEx=function(t,i,r,u,f,e,o){var c=[],h=t.length,l,a,v,s,y;for(!e&&h>1&&(r=!1),l=!1,o&&o.isDefinition()&&h>1&&(o=null),s=0;s<h;s++){if(h>1&&t[s].isDefinition()){l=!0;continue}if(a=t[s],e&&o&&(a=o),c.push(a.getSignatureTypeNameEx(i,r,u,f)),e)break}if(e&&c.length&&h>1){for(v=c[c.length-1],s=s+1;s<h;s++)if(t[s].isDefinition()){l=!0;break}y=" (+ "+(l?h-2:h-1)+" overload(s))";v.add(n.MemberName.create(y))}return c},r.prototype.toString=function(n){return this.getSignatureTypeNameEx(this.getScopedNameEx().toString(),!1,!1,undefined,undefined,n).toString()},r.prototype.getSignatureTypeNameEx=function(i,r,u,f,e,o){var l=new n.MemberNameArray,s,c,a,h,y;for(l.add(t.getTypeParameterStringEx(this.getTypeParameters(),f,o,!0)),u?l.add(n.MemberName.create("[")):l.add(n.MemberName.create("(")),s=new n.MemberNameArray,s.prefix=i,o?(s.prefix=i,s.addAll(l.entries)):s.prefix=i+l.toString(),c=this.getParameters(),a=c.length,h=0;h<a;h++){var v=c[h].getType(),w=v?": ":"",p=c[h].getIsVarArg(),b=p?"...":"",k=!p&&c[h].getIsOptional()?"?":"";e&&s.add(new n.MemberName);s.add(n.MemberName.create(b+c[h].getScopedNameEx(f).toString()+k+w));v&&s.add(v.getScopedNameEx(f));e&&s.add(new n.MemberName);h<a-1&&s.add(n.MemberName.create(", "))}return r?u?s.add(n.MemberName.create("] => ")):s.add(n.MemberName.create(") => ")):u?s.add(n.MemberName.create("]: ")):s.add(n.MemberName.create("): ")),y=this.getReturnType(),y?s.add(y.getScopedNameEx(f)):s.add(n.MemberName.create("any")),s},r}(t);n.PullSignatureSymbol=i;r=function(r){function u(){r.apply(this,arguments);this.memberLinks=null;this.typeParameterLinks=null;this.specializationLinks=null;this.containedByLinks=null;this.memberNameCache=null;this.memberTypeNameCache=null;this.memberTypeParameterNameCache=null;this.containedMemberCache=null;this.typeArguments=null;this.specializedTypeCache=null;this.memberCache=null;this.implementedTypeLinks=null;this.extendedTypeLinks=null;this.callSignatureLinks=null;this.constructSignatureLinks=null;this.indexSignatureLinks=null;this.arrayType=null;this.hasGenericSignature=!1;this.hasGenericMember=!1;this.knownBaseTypeCount=0;this._hasBaseTypeConflict=!1;this.invalidatedSpecializations=!1;this.associatedContainerTypeSymbol=null;this.constructorMethod=null;this.hasDefaultConstructor=!1}return __extends(u,r),u.prototype.getKnownBaseTypeCount=function(){return this.knownBaseTypeCount},u.prototype.resetKnownBaseTypeCount=function(){this.knownBaseTypeCount=0},u.prototype.incrementKnownBaseCount=function(){this.knownBaseTypeCount++},u.prototype.setHasBaseTypeConflict=function(){this._hasBaseTypeConflict=!0},u.prototype.hasBaseTypeConflict=function(){return this._hasBaseTypeConflict},u.prototype.setUnresolved=function(){var t,n;for(r.prototype.setUnresolved.call(this),t=this.getKnownSpecializations(),n=0;n<t.length;n++)t[n].setUnresolved()},u.prototype.isType=function(){return!0},u.prototype.isClass=function(){return this.getKind()==8||this.constructorMethod!=null},u.prototype.hasMembers=function(){var i=this.memberLinks&&this.memberLinks.length!=0,t,n;if(i)return!0;for(t=this.getExtendedTypes(),n=0;n<t.length;n++)if(t[n].hasMembers())return!0;return!1},u.prototype.isFunction=function(){return!1},u.prototype.isConstructor=function(){return!1},u.prototype.isTypeParameter=function(){return!1},u.prototype.isTypeVariable=function(){return!1},u.prototype.isError=function(){return!1},u.prototype.setHasGenericSignature=function(){this.hasGenericSignature=!0},u.prototype.getHasGenericSignature=function(){return this.hasGenericSignature},u.prototype.setHasGenericMember=function(){this.hasGenericMember=!0},u.prototype.getHasGenericMember=function(){return this.hasGenericMember},u.prototype.setAssociatedContainerType=function(n){this.associatedContainerTypeSymbol=n},u.prototype.getAssociatedContainerType=function(){return this.associatedContainerTypeSymbol},u.prototype.getType=function(){return this},u.prototype.getArrayType=function(){return this.arrayType},u.prototype.getElementType=function(){var n=this.findOutgoingLinks(function(n){return n.kind===4});return n.length?n[0].end:null},u.prototype.setArrayType=function(n){this.arrayType=n;n.addOutgoingLink(this,4)},u.prototype.addContainedByLink=function(t){this.containedByLinks||(this.containedByLinks=[]);this.containedMemberCache||(this.containedMemberCache=new n.BlockIntrinsics);this.containedByLinks[this.containedByLinks.length]=t;this.containedMemberCache[t.start.getName()]=t.start},u.prototype.findContainedMember=function(t){if(!this.containedByLinks){this.containedByLinks=this.findIncomingLinks(function(n){return n.kind===10});this.containedMemberCache=new n.BlockIntrinsics;for(var i=0;i<this.containedByLinks.length;i++)this.containedMemberCache[this.containedByLinks[i].start.getName()]=this.containedByLinks[i].start}return this.containedMemberCache[t]},u.prototype.addMember=function(t,i,r){var u=this.addOutgoingLink(t,i);r||t.setContainer(this);this.memberLinks||(this.memberLinks=[]);this.memberCache&&this.memberNameCache||this.populateMemberCache();t.isType()?t.isTypeParameter()?(this.typeParameterLinks||(this.typeParameterLinks=[]),this.memberTypeParameterNameCache||(this.memberTypeParameterNameCache=new n.BlockIntrinsics),this.typeParameterLinks[this.typeParameterLinks.length]=u,this.memberTypeParameterNameCache[t.getName()]=t):(this.memberTypeNameCache||(this.memberTypeNameCache=new n.BlockIntrinsics),this.memberLinks[this.memberLinks.length]=u,this.memberTypeNameCache[t.getName()]=t,this.memberCache[this.memberCache.length]=t):(this.memberLinks[this.memberLinks.length]=u,this.memberCache[this.memberCache.length]=t,this.memberNameCache||this.populateMemberCache(),this.memberNameCache[t.getName()]=t)},u.prototype.removeMember=function(n){var r,u,i=n.isType()&&n.isTypeParameter()?this.typeParameterLinks:this.memberLinks,t;if(i)for(t=0;t<i.length;t++)if(n===i[t].end){r=i[t];u=r.end;u.unsetContainer();this.removeOutgoingLink(r);break}this.invalidate()},u.prototype.getMembers=function(){var n,t;if(this.memberCache)return this.memberCache;if(n=[],this.memberLinks)for(t=0;t<this.memberLinks.length;t++)n[n.length]=this.memberLinks[t].end;return n.length&&(this.memberCache=n),n},u.prototype.setHasDefaultConstructor=function(n){typeof n=="undefined"&&(n=!0);this.hasDefaultConstructor=n},u.prototype.getHasDefaultConstructor=function(){return this.hasDefaultConstructor},u.prototype.getConstructorMethod=function(){return this.constructorMethod},u.prototype.setConstructorMethod=function(n){this.constructorMethod=n},u.prototype.getTypeParameters=function(){var t=[],n;if(this.typeParameterLinks)for(n=0;n<this.typeParameterLinks.length;n++)t[t.length]=this.typeParameterLinks[n].end;return t},u.prototype.isGeneric=function(){return this.typeParameterLinks&&this.typeParameterLinks.length!=0||this.hasGenericSignature||this.hasGenericMember||this.typeArguments&&this.typeArguments.length},u.prototype.isFixed=function(){if(!this.isGeneric())return!0;if(this.typeParameterLinks&&this.typeArguments){if(!this.typeArguments.length||this.typeArguments.length<this.typeParameterLinks.length)return!1;for(var n=0;n<this.typeArguments.length;n++)if(!this.typeArguments[n].isFixed())return!1;return!0}return!1},u.prototype.addSpecialization=function(t,i){i&&i.length&&(this.specializedTypeCache||(this.specializedTypeCache=new n.BlockIntrinsics),this.specializationLinks||(this.specializationLinks=[]),this.specializationLinks[this.specializationLinks.length]=this.addOutgoingLink(t,21),this.specializedTypeCache[f(i)]=t)},u.prototype.getSpecialization=function(t){if(!t||!t.length)return null;if(!this.specializedTypeCache)return this.specializedTypeCache=new n.BlockIntrinsics,null;var i=this.specializedTypeCache[f(t)];return i?i:null},u.prototype.getKnownSpecializations=function(){var n=[],t;if(this.specializedTypeCache)for(t in this.specializedTypeCache)this.specializedTypeCache[t]&&(n[n.length]=this.specializedTypeCache[t]);return n},u.prototype.invalidateSpecializations=function(){var t,n;if(!this.invalidatedSpecializations){for(t=this.getKnownSpecializations(),n=0;n<t.length;n++)t[n].invalidate();if(this.specializationLinks&&this.specializationLinks.length)for(n=0;n<this.specializationLinks.length;n++)this.removeOutgoingLink(this.specializationLinks[n]);this.specializationLinks=null;this.specializedTypeCache=null;this.invalidatedSpecializations=!0}},u.prototype.removeSpecialization=function(n){var t,i;if(this.specializationLinks&&this.specializationLinks.length)for(t=0;t<this.specializationLinks.length;t++)if(this.specializationLinks[t].end===n){this.removeOutgoingLink(this.specializationLinks[t]);break}if(this.specializedTypeCache)for(i in this.specializedTypeCache)this.specializedTypeCache[i]===n&&(this.specializedTypeCache[i]=undefined)},u.prototype.getTypeArguments=function(){return this.typeArguments},u.prototype.setTypeArguments=function(n){this.typeArguments=n},u.prototype.addCallSignature=function(n){this.callSignatureLinks||(this.callSignatureLinks=[]);var t=this.addOutgoingLink(n,15);this.callSignatureLinks[this.callSignatureLinks.length]=t;n.isGeneric()&&(this.hasGenericSignature=!0)},u.prototype.addCallSignatures=function(n){this.callSignatureLinks||(this.callSignatureLinks=[]);for(var t=0;t<n.length;t++)this.addCallSignature(n[t])},u.prototype.addConstructSignature=function(n){this.constructSignatureLinks||(this.constructSignatureLinks=[]);var t=this.addOutgoingLink(n,16);this.constructSignatureLinks[this.constructSignatureLinks.length]=t;n.isGeneric()&&(this.hasGenericSignature=!0)},u.prototype.addConstructSignatures=function(n){this.constructSignatureLinks||(this.constructSignatureLinks=[]);for(var t=0;t<n.length;t++)this.addConstructSignature(n[t])},u.prototype.addIndexSignature=function(n){this.indexSignatureLinks||(this.indexSignatureLinks=[]);var t=this.addOutgoingLink(n,17);this.indexSignatureLinks[this.indexSignatureLinks.length]=t;n.isGeneric()&&(this.hasGenericSignature=!0)},u.prototype.addIndexSignatures=function(n){this.indexSignatureLinks||(this.indexSignatureLinks=[]);for(var t=0;t<n.length;t++)this.addIndexSignature(n[t])},u.prototype.hasOwnCallSignatures=function(){return!!this.callSignatureLinks},u.prototype.getCallSignatures=function(n){var i,r,t;if(typeof n=="undefined"&&(n=!0),i=[],this.callSignatureLinks)for(t=0;t<this.callSignatureLinks.length;t++)i[i.length]=this.callSignatureLinks[t].end;if(n)for(r=this.getExtendedTypes(),t=0;t<r.length;t++)r[t].hasBase(this)||(i=i.concat(r[t].getCallSignatures()));return i},u.prototype.hasOwnConstructSignatures=function(){return!!this.constructSignatureLinks},u.prototype.getConstructSignatures=function(n){var i,r,t;if(typeof n=="undefined"&&(n=!0),i=[],this.constructSignatureLinks)for(t=0;t<this.constructSignatureLinks.length;t++)i[i.length]=this.constructSignatureLinks[t].end;if(n&&!(this.getKind()==33554432))for(r=this.getExtendedTypes(),t=0;t<r.length;t++)r[t].hasBase(this)||(i=i.concat(r[t].getConstructSignatures()));return i},u.prototype.hasOwnIndexSignatures=function(){return!!this.indexSignatureLinks},u.prototype.getIndexSignatures=function(n){var i,r,t;if(typeof n=="undefined"&&(n=!0),i=[],this.indexSignatureLinks)for(t=0;t<this.indexSignatureLinks.length;t++)i[i.length]=this.indexSignatureLinks[t].end;if(n)for(r=this.getExtendedTypes(),t=0;t<r.length;t++)r[t].hasBase(this)||(i=i.concat(r[t].getIndexSignatures()));return i},u.prototype.removeCallSignature=function(n,t){var r,i;if(typeof t=="undefined"&&(t=!0),this.callSignatureLinks)for(i=0;i<this.callSignatureLinks.length;i++)if(n===this.callSignatureLinks[i].end){r=this.callSignatureLinks[i];this.removeOutgoingLink(r);break}t&&this.invalidate()},u.prototype.recomputeCallSignatures=function(){this.callSignatureLinks=this.findOutgoingLinks(function(n){return n.kind===15})},u.prototype.removeConstructSignature=function(n,t){var r,i;if(typeof t=="undefined"&&(t=!0),this.constructSignatureLinks)for(i=0;i<this.constructSignatureLinks.length;i++)if(n===this.constructSignatureLinks[i].end){r=this.constructSignatureLinks[i];this.removeOutgoingLink(r);break}t&&this.invalidate()},u.prototype.recomputeConstructSignatures=function(){this.constructSignatureLinks=this.findOutgoingLinks(function(n){return n.kind===16})},u.prototype.removeIndexSignature=function(n,t){var r,i;if(typeof t=="undefined"&&(t=!0),this.indexSignatureLinks)for(i=0;i<this.indexSignatureLinks.length;i++)if(n===this.indexSignatureLinks[i].end){r=this.indexSignatureLinks[i];this.removeOutgoingLink(r);break}t&&this.invalidate()},u.prototype.recomputeIndexSignatures=function(){this.indexSignatureLinks=this.findOutgoingLinks(function(n){return n.kind===17})},u.prototype.addImplementedType=function(n){this.implementedTypeLinks||(this.implementedTypeLinks=[]);var t=this.addOutgoingLink(n,12);this.implementedTypeLinks[this.implementedTypeLinks.length]=t},u.prototype.getImplementedTypes=function(){var t=[],n;if(this.implementedTypeLinks)for(n=0;n<this.implementedTypeLinks.length;n++)t[t.length]=this.implementedTypeLinks[n].end;return t},u.prototype.removeImplementedType=function(n){var i,t;if(this.implementedTypeLinks)for(t=0;t<this.implementedTypeLinks.length;t++)if(n===this.implementedTypeLinks[t].end){i=this.implementedTypeLinks[t];this.removeOutgoingLink(i);break}this.invalidate()},u.prototype.addExtendedType=function(n){this.extendedTypeLinks||(this.extendedTypeLinks=[]);var t=this.addOutgoingLink(n,11);this.extendedTypeLinks[this.extendedTypeLinks.length]=t},u.prototype.getExtendedTypes=function(){var t=[],n;if(this.extendedTypeLinks)for(n=0;n<this.extendedTypeLinks.length;n++)t[t.length]=this.extendedTypeLinks[n].end;return t},u.prototype.hasBase=function(n,t){var r,u,i;if((typeof t=="undefined"&&(t=null),this===n)||t&&(this===t||this.getRootSymbol()===t))return!0;for(t||(t=this),r=this.getExtendedTypes(),i=0;i<r.length;i++)if(r[i].hasBase(n,t))return!0;for(u=this.getImplementedTypes(),i=0;i<u.length;i++)if(u[i].hasBase(n,t))return!0;return!1},u.prototype.isValidBaseKind=function(n,t){if(n.isError())return!1;var i=this.isClass();if(t){if(i)return n.getKind()===8}else if(!i)return!1;return!!(n.getKind()&152)},u.prototype.removeExtendedType=function(n){var i,t;if(this.extendedTypeLinks)for(t=0;t<this.extendedTypeLinks.length;t++)if(n===this.extendedTypeLinks[t].end){i=this.extendedTypeLinks[t];this.removeOutgoingLink(i);break}this.invalidate()},u.prototype.findMember=function(n,t){var i,r;if(typeof t=="undefined"&&(t=!0),this.memberNameCache||this.populateMemberCache(),i=this.memberNameCache[n],t){if(i)return i}else return i;if(!i&&this.extendedTypeLinks)for(r=0;r<this.extendedTypeLinks.length;r++)if(i=this.extendedTypeLinks[r].end.findMember(n),i)return i;return this.findNestedType(n)},u.prototype.findNestedType=function(n,t){typeof t=="undefined"&&(t=0);var i;return this.memberTypeNameCache||this.populateMemberTypeCache(),i=this.memberTypeNameCache[n],i&&t!=0&&(i=(i.getKind()&t)!=0?i:null),i},u.prototype.populateMemberCache=function(){if((!this.memberNameCache||!this.memberCache)&&(this.memberNameCache=new n.BlockIntrinsics,this.memberCache=[],this.memberLinks))for(var t=0;t<this.memberLinks.length;t++)this.memberNameCache[this.memberLinks[t].end.getName()]=this.memberLinks[t].end,this.memberCache[this.memberCache.length]=this.memberLinks[t].end},u.prototype.populateMemberTypeCache=function(){var i,t;if(!this.memberTypeNameCache&&(this.memberTypeNameCache=new n.BlockIntrinsics,i=!1,this.memberCache||(this.memberCache=[],this.memberNameCache=new n.BlockIntrinsics,i=!0),this.memberLinks))for(t=0;t<this.memberLinks.length;t++)this.memberLinks[t].end.isType()?(this.memberTypeNameCache[this.memberLinks[t].end.getName()]=this.memberLinks[t].end,this.memberCache[this.memberCache.length]=this.memberLinks[t].end):i&&(this.memberNameCache[this.memberLinks[t].end.getName()]=this.memberLinks[t].end,this.memberCache[this.memberCache.length]=this.memberLinks[t].end)},u.prototype.getAllMembers=function(n,t){var u=[],i=0,f=0,o=0,r=0,e,s,h;for(this.memberCache||this.populateMemberCache(),this.memberTypeNameCache||this.populateMemberTypeCache(),this.memberNameCache||this.populateMemberCache(),i=0,r=this.memberCache.length;i<r;i++)e=this.memberCache[i],e.getKind()&n&&(t||!e.hasFlag(2))&&(u[u.length]=e);if(this.extendedTypeLinks)for(i=0,r=this.extendedTypeLinks.length;i<r;i++)for(s=this.extendedTypeLinks[i].end.getAllMembers(n,t),f=0,o=s.length;f<o;f++)h=s[f],this.memberNameCache[h.getName()]||(u[u.length]=h);return u},u.prototype.findTypeParameter=function(t){var i;if(!this.memberTypeParameterNameCache&&(this.memberTypeParameterNameCache=new n.BlockIntrinsics,this.typeParameterLinks))for(i=0;i<this.typeParameterLinks.length;i++)this.memberTypeParameterNameCache[this.typeParameterLinks[i].end.getName()]=this.typeParameterLinks[i].end;return this.memberTypeParameterNameCache[t]},u.prototype.cleanTypeParameters=function(){if(this.typeParameterLinks)for(var n=0;n<this.typeParameterLinks.length;n++)this.removeOutgoingLink(this.typeParameterLinks[n]);this.typeParameterLinks=null;this.memberTypeParameterNameCache=null},u.prototype.setResolved=function(){this.invalidatedSpecializations=!0;r.prototype.setResolved.call(this)},u.prototype.invalidate=function(){this.constructorMethod&&this.constructorMethod.invalidate();this.memberNameCache=null;this.memberCache=null;this.memberTypeNameCache=null;this.containedMemberCache=null;this.invalidatedSpecializations=!1;this.containedByLinks=null;this.memberLinks=this.findOutgoingLinks(function(n){return n.kind===6||n.kind===5});this.typeParameterLinks=this.findOutgoingLinks(function(n){return n.kind===18});this.callSignatureLinks=this.findOutgoingLinks(function(n){return n.kind===15});this.constructSignatureLinks=this.findOutgoingLinks(function(n){return n.kind===16});this.indexSignatureLinks=this.findOutgoingLinks(function(n){return n.kind===17});this.implementedTypeLinks=this.findOutgoingLinks(function(n){return n.kind===12});this.extendedTypeLinks=this.findOutgoingLinks(function(n){return n.kind===11});this.knownBaseTypeCount=0;r.prototype.invalidate.call(this)},u.prototype.getNamePartForFullName=function(){var u=r.prototype.getNamePartForFullName.call(this),n=this.getTypeArguments(),i;return n&&n.length||(n=this.getTypeParameters()),i=t.getTypeParameterString(n,this,!0),u+i},u.prototype.getScopedName=function(n,t){return this.getScopedNameEx(n,t).toString()},u.prototype.isNamedTypeSymbol=function(){var n=this.getKind();return n===2||n===8||n===4||n===32||n===256||n===64||n===8192||(n===16||n===8388608)&&this.getName()!=""?!0:!1},u.prototype.toString=function(n){return this.getScopedNameEx(null,n).toString()},u.prototype.getScopedNameEx=function(i,u,f,e){var s,o;return this.isNamedTypeSymbol()?(s=new n.MemberNameArray,s.prefix=r.prototype.getScopedName.call(this,i,u),o=this.getTypeArguments(),o&&o.length||(o=this.getTypeParameters()),s.add(t.getTypeParameterStringEx(o,i,e,u)),s):this.getMemberTypeNameEx(!0,i,f)},u.prototype.hasOnlyOverloadCallSignatures=function(){var n=this.getMembers(),t=this.getCallSignatures(),i=this.getConstructSignatures();return n.length===0&&i.length===0&&t.length>1},u.prototype.getMemberTypeNameEx=function(t,r,u){var h=this.getMembers(),c=this.getCallSignatures(),l=this.getConstructSignatures(),o=this.getIndexSignatures(),v,s,b,y,p,e;if(h.length>0||c.length>0||l.length>0||o.length>0){var f=new n.MemberNameArray,a=!t||o.length!=0,w="; ";for(v=0;v<h.length;v++)s=h[v].getNameAndTypeNameEx(r),s.isArray()&&s.delim===w?f.addAll(s.entries):f.add(s),a=!0;if(b=u&&!a&&this.hasOnlyOverloadCallSignatures(),y=c.length+l.length+o.length,y!=0||h.length!=0)return p=!a&&y===1,c.length>0&&(e=i.getSignaturesTypeNameEx(c,"",p,!1,r,b),f.addAll(e)),l.length>0&&(e=i.getSignaturesTypeNameEx(l,"new",p,!1,r),f.addAll(e)),o.length>0&&(e=i.getSignaturesTypeNameEx(o,"",p,!0,r),f.addAll(e)),a||!b&&y>1&&t?(f.prefix="{ ",f.suffix="}",f.delim=w):f.entries.length>1&&(f.delim=w),f}return n.MemberName.create("{}")},u.prototype.isExternallyVisible=function(n){var u=r.prototype.isExternallyVisible.call(this,n),i,f;if(u&&(i=this.getTypeArguments(),i&&i.length||(i=this.getTypeParameters()),i))for(f=0;f<i.length;f++)if(u=t.getIsExternallyVisible(i[f],this,n),!u)break;return u},u.prototype.setType=function(){n.Debug.assert(!1,"tried to set type of type")},u}(t);n.PullTypeSymbol=r;e=function(n){function t(t){n.call(this,t,2)}return __extends(t,n),t.prototype.isResolved=function(){return!0},t.prototype.isStringConstant=function(){return!1},t.prototype.isFixed=function(){return!0},t.prototype.invalidate=function(){},t}(r);n.PullPrimitiveTypeSymbol=e;b=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.isStringConstant=function(){return!0},t}(e);n.PullStringConstantTypeSymbol=b;k=function(n){function t(t,i,r){typeof r=="undefined"&&(r=null);n.call(this,"error");this.diagnostic=t;this.delegateType=i;this._data=r}return __extends(t,n),t.prototype.isError=function(){return!0},t.prototype.getDiagnostic=function(){return this.diagnostic},t.prototype.getName=function(n,t){return this.delegateType.getName(n,t)},t.prototype.getDisplayName=function(n,t){return this.delegateType.getDisplayName(n,t)},t.prototype.toString=function(){return this.delegateType.toString()},t.prototype.isResolved=function(){return!1},t.prototype.setData=function(n){this._data=n},t.prototype.getData=function(){return this._data},t}(e);n.PullErrorTypeSymbol=k;l=function(n){function t(t){n.call(this,t,8)}return __extends(t,n),t}(r);n.PullClassTypeSymbol=l;o=function(n){function t(t,i){typeof i=="undefined"&&(i=4);n.call(this,t,i);this.instanceSymbol=null;this._exportAssignedValueSymbol=null;this._exportAssignedTypeSymbol=null;this._exportAssignedContainerSymbol=null}return __extends(t,n),t.prototype.isContainer=function(){return!0},t.prototype.setInstanceSymbol=function(n){this.instanceSymbol=n},t.prototype.getInstanceSymbol=function(){return this.instanceSymbol},t.prototype.invalidate=function(){this.instanceSymbol&&this.instanceSymbol.invalidate();n.prototype.invalidate.call(this)},t.prototype.setExportAssignedValueSymbol=function(n){this._exportAssignedValueSymbol=n},t.prototype.getExportAssignedValueSymbol=function(){return this._exportAssignedValueSymbol},t.prototype.setExportAssignedTypeSymbol=function(n){this._exportAssignedTypeSymbol=n},t.prototype.getExportAssignedTypeSymbol=function(){return this._exportAssignedTypeSymbol},t.prototype.setExportAssignedContainerSymbol=function(n){this._exportAssignedContainerSymbol=n},t.prototype.getExportAssignedContainerSymbol=function(){return this._exportAssignedContainerSymbol},t.prototype.resetExportAssignedSymbols=function(){this._exportAssignedContainerSymbol=null;this._exportAssignedTypeSymbol=null;this._exportAssignedValueSymbol=null},t.usedAsSymbol=function(n,i){if(!n||!n.isContainer())return!1;if(n.getType()==i)return!0;var r=n,f=r.getExportAssignedValueSymbol(),e=r.getExportAssignedTypeSymbol(),u=r.getExportAssignedContainerSymbol();return f||e||u?f==i||e==i||u==i||t.usedAsSymbol(u,i):!1},t}(r);n.PullContainerTypeSymbol=o;d=function(t){function i(n){t.call(this,n,256);this.typeAliasLink=null;this.isUsedAsValue=!1;this.typeUsedExternally=!1;this.retrievingExportAssignment=!1}return __extends(i,t),i.prototype.isAlias=function(){return!0},i.prototype.isContainer=function(){return!0},i.prototype.setAliasedType=function(t){n.Debug.assert(!t.isError(),"Attempted to alias an error");this.typeAliasLink&&this.removeOutgoingLink(this.typeAliasLink);this.typeAliasLink=this.addOutgoingLink(t,8)},i.prototype.getExportAssignedValueSymbol=function(){if(!this.typeAliasLink||this.retrievingExportAssignment)return null;if(this.typeAliasLink.end.isContainer()){this.retrievingExportAssignment=!0;var n=this.typeAliasLink.end.getExportAssignedValueSymbol();return this.retrievingExportAssignment=!1,n}return null},i.prototype.getExportAssignedTypeSymbol=function(){if(!this.typeAliasLink||this.retrievingExportAssignment)return null;if(this.typeAliasLink.end.isContainer()){this.retrievingExportAssignment=!0;var n=this.typeAliasLink.end.getExportAssignedTypeSymbol();return this.retrievingExportAssignment=!1,n}return null},i.prototype.getExportAssignedContainerSymbol=function(){if(!this.typeAliasLink||this.retrievingExportAssignment)return null;if(this.typeAliasLink.end.isContainer()){this.retrievingExportAssignment=!0;var n=this.typeAliasLink.end.getExportAssignedContainerSymbol();return this.retrievingExportAssignment=!1,n}return null},i.prototype.getType=function(){return this.typeAliasLink?this.typeAliasLink.end:null},i.prototype.setType=function(n){this.setAliasedType(n)},i.prototype.setIsUsedAsValue=function(){this.isUsedAsValue=!0},i.prototype.getIsUsedAsValue=function(){return this.isUsedAsValue},i.prototype.setIsTypeUsedExternally=function(){this.typeUsedExternally=!0},i.prototype.getTypeUsedExternally=function(){return this.typeUsedExternally},i.prototype.getMembers=function(){return this.typeAliasLink?this.typeAliasLink.end.getMembers():[]},i.prototype.getCallSignatures=function(){return this.typeAliasLink?this.typeAliasLink.end.getCallSignatures():[]},i.prototype.getConstructSignatures=function(){return this.typeAliasLink?this.typeAliasLink.end.getConstructSignatures():[]},i.prototype.getIndexSignatures=function(){return this.typeAliasLink?this.typeAliasLink.end.getIndexSignatures():[]},i.prototype.findMember=function(n){return this.typeAliasLink?this.typeAliasLink.end.findMember(n):null},i.prototype.findNestedType=function(n){return this.typeAliasLink?this.typeAliasLink.end.findNestedType(n):null},i.prototype.getAllMembers=function(n,t){return this.typeAliasLink?this.typeAliasLink.end.getAllMembers(n,t):[]},i.prototype.invalidate=function(){this.isUsedAsValue=!1;t.prototype.invalidate.call(this)},i}(r);n.PullTypeAliasSymbol=d;g=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.isDefinition=function(){return!0},t}(i);n.PullDefinitionSignatureSymbol=g;a=function(n){function t(){n.call(this,"",16777216);this.definitionSignature=null}return __extends(t,n),t.prototype.isFunction=function(){return!0},t.prototype.invalidate=function(){var i=this.getCallSignatures(),t;if(i.length)for(t=0;t<i.length;t++)i[t].invalidate();this.definitionSignature=null;n.prototype.invalidate.call(this)},t.prototype.addSignature=function(n){this.addCallSignature(n);n.isDefinition()&&(this.definitionSignature=n)},t.prototype.getDefinitionSignature=function(){return this.definitionSignature},t}(r);n.PullFunctionTypeSymbol=a;nt=function(n){function t(){n.call(this,"",33554432);this.definitionSignature=null}return __extends(t,n),t.prototype.isFunction=function(){return!0},t.prototype.isConstructor=function(){return!0},t.prototype.invalidate=function(){this.definitionSignature=null;n.prototype.invalidate.call(this)},t.prototype.addSignature=function(n){this.addConstructSignature(n);n.isDefinition()&&(this.definitionSignature=n)},t.prototype.addTypeParameter=function(n,t){var r,i;for(this.addMember(n,18,t),r=this.getConstructSignatures(),i=0;i<r.length;i++)r[i].addTypeParameter(n)},t.prototype.getDefinitionSignature=function(){return this.definitionSignature},t}(r);n.PullConstructorTypeSymbol=nt;v=function(n){function i(t,i){n.call(this,t,8192);this._isFunctionTypeParameter=i;this.constraintLink=null}return __extends(i,n),i.prototype.isTypeParameter=function(){return!0},i.prototype.isFunctionTypeParameter=function(){return this._isFunctionTypeParameter},i.prototype.isFixed=function(){return!1},i.prototype.setConstraint=function(n){this.constraintLink&&this.removeOutgoingLink(this.constraintLink);this.constraintLink=this.addOutgoingLink(n,22)},i.prototype.getConstraint=function(){return this.constraintLink?this.constraintLink.end:null},i.prototype.isGeneric=function(){return!0},i.prototype.fullName=function(n){var t=this.getDisplayName(n),i=this.getContainer(),r;return i&&(r=i.fullName(n),t=t+" in "+r),t},i.prototype.getName=function(t,i){var r=n.prototype.getName.call(this,t);return this.isPrinting?r:(this.isPrinting=!0,i&&this.constraintLink&&(r+=" extends "+this.constraintLink.end.toString()),this.isPrinting=!1,r)},i.prototype.getDisplayName=function(t,i){var r=n.prototype.getDisplayName.call(this,t,i);return this.isPrinting?r:(this.isPrinting=!0,i&&this.constraintLink&&(r+=" extends "+this.constraintLink.end.toString()),this.isPrinting=!1,r)},i.prototype.isExternallyVisible=function(n){var i=this.getConstraint();return i?t.getIsExternallyVisible(i,this,n):!0},i}(r);n.PullTypeParameterSymbol=v;y=function(t){function i(i,r){t.call(this,i,r);this.tyvarID=n.globalTyvarID++}return __extends(i,t),i.prototype.isTypeParameter=function(){return!0},i.prototype.isTypeVariable=function(){return!0},i}(v);n.PullTypeVariableSymbol=y;tt=function(n){function t(t){n.call(this,t,4096);this.getterSymbolLink=null;this.setterSymbolLink=null}return __extends(t,n),t.prototype.isAccessor=function(){return!0},t.prototype.setSetter=function(n){this.setterSymbolLink=this.addOutgoingLink(n,25)},t.prototype.getSetter=function(){var n=null;return this.setterSymbolLink&&(n=this.setterSymbolLink.end),n},t.prototype.removeSetter=function(){this.setterSymbolLink&&this.removeOutgoingLink(this.setterSymbolLink)},t.prototype.setGetter=function(n){this.getterSymbolLink=this.addOutgoingLink(n,24)},t.prototype.getGetter=function(){var n=null;return this.getterSymbolLink&&(n=this.getterSymbolLink.end),n},t.prototype.removeGetter=function(){this.getterSymbolLink&&this.removeOutgoingLink(this.getterSymbolLink)},t.prototype.invalidate=function(){this.getterSymbolLink&&this.getterSymbolLink.end.invalidate();this.setterSymbolLink&&this.setterSymbolLink.end.invalidate();n.prototype.invalidate.call(this)},t}(t);n.PullAccessorSymbol=tt;s=function(t){function i(){t.call(this,"Array",128);this.elementType=null}return __extends(i,t),i.prototype.isArray=function(){return!0},i.prototype.getElementType=function(){return this.elementType},i.prototype.isGeneric=function(){return!0},i.prototype.setElementType=function(n){this.elementType=n},i.prototype.getScopedNameEx=function(t,i,r,u){var f=this.elementType?this.elementType.isArray()||this.elementType.isNamedTypeSymbol()?this.elementType.getScopedNameEx(t,!1,r,u):this.elementType.getMemberTypeNameEx(!1,t,r):n.MemberName.create("any");return n.MemberName.create(f,"","[]")},i.prototype.getMemberTypeNameEx=function(t,i,r){var u=this.elementType?this.elementType.getMemberTypeNameEx(!1,i,r):n.MemberName.create("any");return n.MemberName.create(u,"","[]")},i}(r);n.PullArrayTypeSymbol=s;n.specializeToArrayType=rt;n.typeWrapsTypeParameter=h;n.getRootType=it;n.nSpecializationsCreated=0;n.nSpecializedSignaturesCreated=0;n.shouldSpecializeTypeParameterForTypeParameter=p;n.specializeType=u;n.specializeSignature=c;n.getIDForTypeSubstitutions=f}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(t,i){this.semanticInfoChain=t;this.scriptName=i;this.parentChain=[];this.declPath=[];this.reBindingAfterChange=!1;this.startingDeclForRebind=n.pullDeclID;this.semanticInfo=this.semanticInfoChain.getUnit(this.scriptName)}return t.prototype.getParent=function(n){return typeof n=="undefined"&&(n=0),this.parentChain?this.parentChain[this.parentChain.length-1-n]:null},t.prototype.getDeclPath=function(){return this.declPath},t.prototype.pushParent=function(n){n&&(this.parentChain[this.parentChain.length]=n,this.declPath[this.declPath.length]=n.getName())},t.prototype.popParent=function(){this.parentChain.length&&(this.parentChain.length--,this.declPath.length--)},t}();n.PullSymbolBindingContext=t;n.time_in_findSymbol=0}(TypeScript||(TypeScript={})),function(n){var i=function(){function n(){this.typeParameter=null;this.isFixed=!1;this.inferenceCandidates=[]}return n.prototype.addCandidate=function(n){this.isFixed||(this.inferenceCandidates[this.inferenceCandidates.length]=n)},n}(),r,t,u;n.CandidateInferenceInfo=i;r=function(){function t(){this.inferenceCache={};this.candidateCache={}}return t.prototype.alreadyRelatingTypes=function(n,t){var i=n.getSymbolID().toString()+"#"+t.getSymbolID().toString();return this.inferenceCache[i]?!0:(this.inferenceCache[i]=!0,!1)},t.prototype.resetRelationshipCache=function(){this.inferenceCache={}},t.prototype.addInferenceRoot=function(n){var t=this.candidateCache[n.getSymbolID().toString()];t||(t=new i,t.typeParameter=n,this.candidateCache[n.getSymbolID().toString()]=t)},t.prototype.getInferenceInfo=function(n){return this.candidateCache[n.getSymbolID().toString()]},t.prototype.addCandidateForInference=function(n,t,i){var r=this.getInferenceInfo(n);r&&(t&&r.addCandidate(t),r.isFixed||(r.isFixed=i))},t.prototype.getInferenceCandidates=function(){var i=[],n,r,u,t;for(u in this.candidateCache)for(n=this.candidateCache[u],t=0;t<n.inferenceCandidates.length;t++)r={},r[n.typeParameter.getSymbolID().toString()]=n.inferenceCandidates[t],i[i.length]=r;return i},t.prototype.inferArgumentTypes=function(t,i){var r=null,o,e,u=[],s=!1,h,f;for(h in this.candidateCache){if(r=this.candidateCache[h],!r.inferenceCandidates.length){u[u.length]={param:r.typeParameter,type:t.semanticInfoChain.anyTypeSymbol};continue}if(o={getLength:function(){return r.inferenceCandidates.length},setTypeAtIndex:function(){},getTypeAtIndex:function(n){return r.inferenceCandidates[n].getType()}},e=t.widenType(t.findBestCommonType(r.inferenceCandidates[0],null,o,i,new n.TypeComparisonInfo)),e)for(f=0;f<u.length;f++)u[f].type==r.typeParameter&&(u[f].type=e);else s=!0;u[u.length]={param:r.typeParameter,type:e}}return{results:u,unfit:s}},t}();n.ArgumentInferenceContext=r;t=function(){function n(n,t,i){this.contextualType=n;this.provisional=t;this.substitutions=i;this.provisionallyTypedSymbols=[];this.provisionalDiagnostic=[]}return n.prototype.recordProvisionallyTypedSymbol=function(n){this.provisionallyTypedSymbols[this.provisionallyTypedSymbols.length]=n},n.prototype.invalidateProvisionallyTypedSymbols=function(){for(var n=0;n<this.provisionallyTypedSymbols.length;n++)this.provisionallyTypedSymbols[n].invalidate()},n.prototype.postDiagnostic=function(n){this.provisionalDiagnostic[this.provisionalDiagnostic.length]=n},n.prototype.hadProvisionalErrors=function(){return this.provisionalDiagnostic.length>0},n}();n.PullContextualTypeContext=t;u=function(){function i(){this.contextStack=[];this.typeSpecializationStack=[];this.genericASTResolutionStack=[];this.resolvingTypeReference=!1;this.resolvingNamespaceMemberAccess=!1;this.resolveAggressively=!1;this.canUseTypeSymbol=!1;this.specializingToAny=!1;this.specializingToObject=!1;this.isResolvingClassExtendedType=!1;this.isSpecializingSignatureAtCallSite=!1;this.isSpecializingConstructorMethod=!1;this.isComparingSpecializedSignatures=!1;this.inSpecialization=!1;this.suppressErrors=!1;this.inBaseTypeResolution=!1}return i.prototype.pushContextualType=function(n,i,r){this.contextStack.push(new t(n,i,r))},i.prototype.popContextualType=function(){var n=this.contextStack.pop();return n.invalidateProvisionallyTypedSymbols(),n},i.prototype.findSubstitution=function(n){var i=null,t;if(this.contextStack.length)for(t=this.contextStack.length-1;t>=0;t--)if(this.contextStack[t].substitutions&&(i=this.contextStack[t].substitutions[n.getSymbolID().toString()],i))break;return i},i.prototype.getContextualType=function(){var i=this.contextStack.length?this.contextStack[this.contextStack.length-1]:null,n,t;return i?(n=i.contextualType,!n)?null:(n.isTypeParameter()&&n.getConstraint()&&(n=n.getConstraint()),t=this.findSubstitution(n),t?t:n):null},i.prototype.inProvisionalResolution=function(){return this.contextStack.length?this.contextStack[this.contextStack.length-1].provisional:!1},i.prototype.isInBaseTypeResolution=function(){return this.inBaseTypeResolution},i.prototype.startBaseTypeResolution=function(){var n=this.inBaseTypeResolution;return this.inBaseTypeResolution=!0,n},i.prototype.doneBaseTypeResolution=function(n){this.inBaseTypeResolution=n},i.prototype.setTypeInContext=function(n,t){var i=this.findSubstitution(t);n.setType(i?i:t);this.contextStack.length&&this.inProvisionalResolution()&&this.contextStack[this.contextStack.length-1].recordProvisionallyTypedSymbol(n)},i.prototype.pushTypeSpecializationCache=function(n){this.typeSpecializationStack[this.typeSpecializationStack.length]=n},i.prototype.popTypeSpecializationCache=function(){this.typeSpecializationStack.length&&this.typeSpecializationStack.length--},i.prototype.findSpecializationForType=function(n){for(var i=null,t=this.typeSpecializationStack.length-1;t>=0;t--)if(i=this.typeSpecializationStack[t][n.getSymbolID().toString()],i)return i;return n},i.prototype.postError=function(t,i,r,u,f,e,o){typeof f=="undefined"&&(f=null);typeof e=="undefined"&&(e=null);typeof o=="undefined"&&(o=!1);var s=new n.SemanticDiagnostic(t,i,r,u,f);return this.postDiagnostic(s,e,o),s},i.prototype.postDiagnostic=function(n,t,i){this.inProvisionalResolution()?this.contextStack[this.contextStack.length-1].postDiagnostic(n):!this.suppressErrors&&t&&i&&t.addDiagnostic(n)},i.prototype.startResolvingTypeArguments=function(n){this.genericASTResolutionStack[this.genericASTResolutionStack.length]=n},i.prototype.isResolvingTypeArguments=function(n){for(var t=0;t<this.genericASTResolutionStack.length;t++)if(this.genericASTResolutionStack[t].getID()===n.getID())return!0;return!1},i.prototype.doneResolvingTypeArguments=function(){this.genericASTResolutionStack.length--},i}();n.PullTypeResolutionContext=u}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n,t,i){this.symbol=n;this.symbolAlias=t;this.diagnostics=i}return t.create=function(n,i){return new t(n,null,i)},t.empty=function(){return t._empty},t.fromSymbol=function(n){return new t(n,null,null)},t.fromAlias=function(n,i){return new t(n,i,null)},t.prototype.addDiagnostic=function(i){n.Debug.assert(this!==t._empty);this.diagnostics===null&&(this.diagnostics=[]);this.diagnostics.push(i)},t.prototype.withoutDiagnostics=function(){return this.diagnostics?t.fromSymbol(this.symbol):this},t._empty=new t(null,null,null),t}(),i,r,u,f;n.SymbolAndDiagnostics=t;i=function(){function n(){this.cacheSize=16;this.rdCache=[];this.nextUp=0;for(var n=0;n<this.cacheSize;n++)this.rdCache[n]={actuals:[],exactCandidates:[],conversionCandidates:[],id:n}}return n.prototype.getResolutionData=function(){var n=null;return this.nextUp<this.cacheSize&&(n=this.rdCache[this.nextUp]),n===null&&(this.cacheSize++,n={actuals:[],exactCandidates:[],conversionCandidates:[],id:this.cacheSize},this.rdCache[this.cacheSize]=n),this.nextUp++,n},n.prototype.returnResolutionData=function(n){n.actuals.length=0;n.exactCandidates.length=0;n.conversionCandidates.length=0;this.nextUp=n.id},n}();n.PullResolutionDataCache=i;r=function(){function n(){this.targetSymbol=null;this.targetTypeSymbol=null;this.resolvedSignatures=null;this.candidateSignature=null;this.actualParametersContextTypeSymbols=null}return n}();n.PullAdditionalCallResolutionData=r;u=function(){function n(){this.membersContextTypeSymbols=null}return n}();n.PullAdditionalObjectLiteralResolutionData=u;f=function(){function r(t,r,u){this.compilationSettings=t;this.semanticInfoChain=r;this.unitPath=u;this._cachedArrayInterfaceType=null;this._cachedNumberInterfaceType=null;this._cachedStringInterfaceType=null;this._cachedBooleanInterfaceType=null;this._cachedObjectInterfaceType=null;this._cachedFunctionInterfaceType=null;this._cachedIArgumentsInterfaceType=null;this._cachedRegExpInterfaceType=null;this.cachedFunctionArgumentsSymbol=null;this.assignableCache={};this.subtypeCache={};this.identicalCache={};this.resolutionDataCache=new i;this.currentUnit=null;this.cachedFunctionArgumentsSymbol=new n.PullSymbol("arguments",1024);this.cachedFunctionArgumentsSymbol.setType(this.cachedIArgumentsInterfaceType()?this.cachedIArgumentsInterfaceType():this.semanticInfoChain.anyTypeSymbol);this.cachedFunctionArgumentsSymbol.setResolved();var f=new n.PullDecl("arguments","arguments",2048,0,new n.TextSpan(0,0),u);f.setSymbol(this.cachedFunctionArgumentsSymbol);this.cachedFunctionArgumentsSymbol.addDeclaration(f);this.currentUnit=this.semanticInfoChain.getUnit(u)}return r.prototype.cleanCachedGlobals=function(){this._cachedArrayInterfaceType=null;this._cachedNumberInterfaceType=null;this._cachedStringInterfaceType=null;this._cachedBooleanInterfaceType=null;this._cachedObjectInterfaceType=null;this._cachedFunctionInterfaceType=null;this._cachedIArgumentsInterfaceType=null;this._cachedRegExpInterfaceType=null;this.cachedFunctionArgumentsSymbol=null;this.identicalCache={};this.subtypeCache={};this.assignableCache={}},r.prototype.cachedArrayInterfaceType=function(){return this._cachedArrayInterfaceType||(this._cachedArrayInterfaceType=this.getSymbolFromDeclPath("Array",[],16)),this._cachedArrayInterfaceType||(this._cachedArrayInterfaceType=this.semanticInfoChain.anyTypeSymbol),this._cachedArrayInterfaceType.isResolved()||this.resolveDeclaredSymbol(this._cachedArrayInterfaceType,null,new n.PullTypeResolutionContext),this._cachedArrayInterfaceType},r.prototype.getCachedArrayType=function(){return this.cachedArrayInterfaceType()},r.prototype.cachedNumberInterfaceType=function(){return this._cachedNumberInterfaceType||(this._cachedNumberInterfaceType=this.getSymbolFromDeclPath("Number",[],16)),this._cachedNumberInterfaceType&&!this._cachedNumberInterfaceType.isResolved()&&this.resolveDeclaredSymbol(this._cachedNumberInterfaceType,null,new n.PullTypeResolutionContext),this._cachedNumberInterfaceType},r.prototype.cachedStringInterfaceType=function(){return this._cachedStringInterfaceType||(this._cachedStringInterfaceType=this.getSymbolFromDeclPath("String",[],16)),this._cachedStringInterfaceType&&!this._cachedStringInterfaceType.isResolved()&&this.resolveDeclaredSymbol(this._cachedStringInterfaceType,null,new n.PullTypeResolutionContext),this._cachedStringInterfaceType},r.prototype.cachedBooleanInterfaceType=function(){return this._cachedBooleanInterfaceType||(this._cachedBooleanInterfaceType=this.getSymbolFromDeclPath("Boolean",[],16)),this._cachedBooleanInterfaceType&&!this._cachedBooleanInterfaceType.isResolved()&&this.resolveDeclaredSymbol(this._cachedBooleanInterfaceType,null,new n.PullTypeResolutionContext),this._cachedBooleanInterfaceType},r.prototype.cachedObjectInterfaceType=function(){return this._cachedObjectInterfaceType||(this._cachedObjectInterfaceType=this.getSymbolFromDeclPath("Object",[],16)),this._cachedObjectInterfaceType||(this._cachedObjectInterfaceType=this.semanticInfoChain.anyTypeSymbol),this._cachedObjectInterfaceType.isResolved()||this.resolveDeclaredSymbol(this._cachedObjectInterfaceType,null,new n.PullTypeResolutionContext),this._cachedObjectInterfaceType},r.prototype.cachedFunctionInterfaceType=function(){return this._cachedFunctionInterfaceType||(this._cachedFunctionInterfaceType=this.getSymbolFromDeclPath("Function",[],16)),this._cachedFunctionInterfaceType&&!this._cachedFunctionInterfaceType.isResolved()&&this.resolveDeclaredSymbol(this._cachedFunctionInterfaceType,null,new n.PullTypeResolutionContext),this._cachedFunctionInterfaceType},r.prototype.cachedIArgumentsInterfaceType=function(){return this._cachedIArgumentsInterfaceType||(this._cachedIArgumentsInterfaceType=this.getSymbolFromDeclPath("IArguments",[],16)),this._cachedIArgumentsInterfaceType&&!this._cachedIArgumentsInterfaceType.isResolved()&&this.resolveDeclaredSymbol(this._cachedIArgumentsInterfaceType,null,new n.PullTypeResolutionContext),this._cachedIArgumentsInterfaceType},r.prototype.cachedRegExpInterfaceType=function(){return this._cachedRegExpInterfaceType||(this._cachedRegExpInterfaceType=this.getSymbolFromDeclPath("RegExp",[],16)),this._cachedRegExpInterfaceType.isResolved()||this.resolveDeclaredSymbol(this._cachedRegExpInterfaceType,null,new n.PullTypeResolutionContext),this._cachedRegExpInterfaceType},r.prototype.getUnitPath=function(){return this.unitPath},r.prototype.setUnitPath=function(n){this.unitPath=n;this.currentUnit=this.semanticInfoChain.getUnit(n)},r.prototype.getDeclForAST=function(n){return this.semanticInfoChain.getDeclForAST(n,this.unitPath)},r.prototype.getSymbolAndDiagnosticsForAST=function(n){return this.semanticInfoChain.getSymbolAndDiagnosticsForAST(n,this.unitPath)},r.prototype.setSymbolAndDiagnosticsForAST=function(n,t,i){i&&(i.inProvisionalResolution()||i.inSpecialization)||this.semanticInfoChain.setSymbolAndDiagnosticsForAST(n,t,this.unitPath)},r.prototype.getASTForSymbol=function(n){return this.semanticInfoChain.getASTForSymbol(n,this.unitPath)},r.prototype.getASTForDecl=function(n){return this.semanticInfoChain.getASTForDecl(n)},r.prototype.getNewErrorTypeSymbol=function(t,i){return new n.PullErrorTypeSymbol(t,this.semanticInfoChain.anyTypeSymbol,i)},r.prototype.getEnclosingDecl=function(t){var i=n.getPathToDecl(t);return i.length?i.length>1&&i[i.length-1]===t?i[i.length-2]:i[i.length-1]:null},r.prototype.getExportedMemberSymbol=function(t,i){if(!(t.getKind()&69632)){var r=i.isContainer()?i:i.getAssociatedContainerType();if(r&&r.isContainer()&&!n.PullHelpers.symbolIsEnum(i))return t.hasFlag(1)?t:null}return t},r.prototype.getMemberSymbol=function(t,i,r,u){var f,e,h,o,s;if(typeof u=="undefined"&&(u=!1),f=null,f=i&n.PullElementKind.SomeValue?r.findMember(t):r.findNestedType(t),f)return this.getExportedMemberSymbol(f,r);if(e=r.getAssociatedContainerType(),e){if(e.isClass())return null;r=e}if(f=i&n.PullElementKind.SomeValue?r.findMember(t):r.findNestedType(t),f)return this.getExportedMemberSymbol(f,r);for(h=r.getDeclarations(),o=null,s=0;s<h.length;s++)if(o=h[s].searchChildDecls(t,i),o.length)return this.getExportedMemberSymbol(o[0].getSymbol(),r)},r.prototype.getSymbolFromDeclPath=function(t,i,r){for(var u=null,f,v=null,h,s=null,a=null,y=null,e=null,l,o,c=i.length-1;c>=0;c--){if(u=i[c],h=u.getKind(),u.getFlags()&2097152)return this.semanticInfoChain.anyTypeSymbol;if(h&36){if(f=u.searchChildDecls(t,r),f.length)return f[0].getSymbol();if(r&n.PullElementKind.SomeValue){if(f=u.searchChildDecls(t,r),f.length&&(s=f[0],s))return s.getSymbol();if(a=u.getSymbol().getInstanceSymbol(),a&&(y=a.getType(),e=this.getMemberSymbol(t,r,y),e&&e.getKind()&r))return e;if(f=u.searchChildDecls(t,256),f.length&&(o=f[0].getSymbol(),o.isAlias()))return o;s=u.getValueDecl();s&&(u=s)}if(v=u.getSymbol().getType(),e=this.getMemberSymbol(t,r,v),e)return e}else if(r&(n.PullElementKind.SomeType|n.PullElementKind.SomeContainer)||!(h&8)){if(l=null,h===131072&&t===u.getFunctionExpressionName()&&(l=u.getSymbol()),f=u.searchChildDecls(t,r),f.length)return u.getKind()&n.PullElementKind.SomeFunction&&u.ensureSymbolIsBound(),f[0].getSymbol();if(l)return l;if(r&n.PullElementKind.SomeValue&&(f=u.searchChildDecls(t,256),f.length&&(o=f[0].getSymbol(),o.isAlias())))return o}}return this.semanticInfoChain.findSymbol([t],r)},r.prototype.getVisibleDeclsFromDeclPath=function(n,t){for(var e=[],o=null,tt,s,u,l,w,b,k,it,a,rt,v,c,d,r,g,ut,nt,y,i,h,p,f=n.length-1;f>=0;f--){o=n[f];tt=o.getKind();u=o.getSymbol();l=o.getKind();l!==8&&l!==16&&this.addFilteredDecls(o.getChildDecls(),t,e);switch(l){case 4:case 32:if(u)for(w=u.getDeclarations(),i=0,h=w.length;i<h;i++)if(b=w[i],b!==o)for(k=b.getChildDecls(),r=0,it=k.length;r<it;r++)a=k[r],a.getFlags()&1&&a.getKind()&t&&e.push(a);break;case 8:case 16:if(u&&u.isGeneric())for(s=u.getTypeParameters(),r=0;r<s.length;r++)e.push(s[r].getDeclarations()[0]);break;case 131072:rt=o.getFunctionExpressionName();u&&rt&&e.push(u.getDeclarations()[0]);case 16384:case 32768:case 65536:if(u&&(v=u.getType(),v.getHasGenericSignature()&&(c=tt===32768?v.getConstructSignatures():v.getCallSignatures(),c&&c.length)))for(i=0;i<c.length;i++)if(d=c[i],d.isGeneric())for(s=d.getTypeParameters(),r=0;r<s.length;r++)e.push(s[r].getDeclarations()[0])}}for(g=this.semanticInfoChain.units,f=0,ut=g.length;f<ut;f++)if((nt=g[f],nt!==this.currentUnit||n.length==0)&&(y=nt.getTopLevelDecls(),y.length))for(i=0,h=y.length;i<h;i++)p=y[i],(p.getKind()===1||p.getKind()===0)&&this.addFilteredDecls(p.getChildDecls(),t,e);return e},r.prototype.addFilteredDecls=function(n,t,i){var r,f,u;if(n.length)for(r=0,f=n.length;r<f;r++)u=n[r],u.getKind()&t&&i.push(u)},r.prototype.getVisibleDecls=function(t){var i=t!==null?n.getPathToDecl(t):[],r;return t&&!i.length&&(i=[t]),r=n.PullElementKind.SomeType|n.PullElementKind.SomeContainer|n.PullElementKind.SomeValue,this.getVisibleDeclsFromDeclPath(i,r)},r.prototype.getVisibleContextSymbols=function(t,i){var f=i.getContextualType(),e,r,u;if(!f||this.isAnyOrEquivalent(f))return null;for(e=n.PullElementKind.SomeType|n.PullElementKind.SomeContainer|n.PullElementKind.SomeValue,r=f.getAllMembers(e,!1),u=0;u<r.length;u++)r[u].setUnresolved();return r},r.prototype.getVisibleMembersFromExpression=function(t,i,r){var et=r.canUseTypeSymbol,h,u,c,o,a,w,tt,it,s,f,b,v,k,y,rt,nt,p,ft,e;if((r.canUseTypeSymbol=!0,h=this.resolveAST(t,!1,i,r).symbol,r.canUseTypeSymbol=et,u=h.getType(),!u)||this.isAnyOrEquivalent(u))return null;if(u.isResolved()||this.resolveDeclaredSymbol(u,i,r),c=!1,o=u,o.getKind()===33554432&&(o=o.getConstructSignatures()[0].getReturnType()),o&&o.isClass()&&(a=n.getPathToDecl(i),a&&a.length))for(w=o.getDeclarations(),e=0,tt=w.length;e<tt;e++)if(it=w[e],a.indexOf(it)>=0){c=!0;break}if(s=n.PullElementKind.SomeType|n.PullElementKind.SomeContainer|n.PullElementKind.SomeValue,f=[],u.isContainer()&&u.getExportAssignedContainerSymbol()&&(u=u.getExportAssignedContainerSymbol()),u.isTypeParameter())b=u.getConstraint(),b&&(u=b,f=u.getAllMembers(s,!1));else if(h.getKind()==67108864&&(u=this.semanticInfoChain.numberTypeSymbol),u===this.semanticInfoChain.numberTypeSymbol&&this.cachedNumberInterfaceType()?u=this.cachedNumberInterfaceType():u===this.semanticInfoChain.stringTypeSymbol&&this.cachedStringInterfaceType()?u=this.cachedStringInterfaceType():u===this.semanticInfoChain.booleanTypeSymbol&&this.cachedBooleanInterfaceType()&&(u=this.cachedBooleanInterfaceType()),u.isResolved()||(v=this.resolveDeclaredSymbol(u,i,r),v!=u&&(h.isType()||r.setTypeInContext(h,v),u=v)),f=u.getAllMembers(s,c),u.isContainer())k=u.getInstanceSymbol(),k&&(y=k.getType(),y.isResolved()||this.resolveDeclaredSymbol(y,i,r),rt=y.getAllMembers(s,c),f=f.concat(rt));else if(u.isConstructor()){var d="prototype",ut=new n.PullSymbol(d,4096),l=u.getDeclarations()[0],g=new n.PullDecl(d,d,l.getKind(),l.getFlags(),l.getSpan(),l.getScriptName());this.currentUnit.addSynthesizedDecl(g);g.setParentDecl(l);ut.addDeclaration(g);f.push(ut)}else nt=u.getAssociatedContainerType(),nt&&(p=nt.getType(),p.isResolved()||this.resolveDeclaredSymbol(p,i,r),ft=p.getAllMembers(s,c),f=f.concat(ft));for(u.getCallSignatures().length&&this.cachedFunctionInterfaceType()&&(f=f.concat(this.cachedFunctionInterfaceType().getAllMembers(s,!1))),e=0;e<f.length;e++)f[e].isResolved()||this.resolveDeclaredSymbol(f[e],i,r),f[e].setUnresolved();return f},r.prototype.isAnyOrEquivalent=function(n){return n===this.semanticInfoChain.anyTypeSymbol||n.isError()},r.prototype.isNumberOrEquivalent=function(n){return n===this.semanticInfoChain.numberTypeSymbol||this.cachedNumberInterfaceType()&&n===this.cachedNumberInterfaceType()},r.prototype.isTypeArgumentOrWrapper=function(n){var t,i;if(!n||!n.isGeneric())return!1;if(n.isTypeParameter())return!0;if(n.isArray())return this.isTypeArgumentOrWrapper(n.getElementType());if(t=n.getTypeArguments(),t){for(i=0;i<t.length;i++)if(this.isTypeArgumentOrWrapper(t[i]))return!0}else return!0;return!1},r.prototype.isArrayOrEquivalent=function(n){return n.isArray()&&n.getElementType()||n==this.cachedArrayInterfaceType()},r.prototype.findTypeSymbolForDynamicModule=function(t,i,r){var e=t,u=r(t),o,f;if(u===null&&(u||(t=n.swapQuotes(e),u=r(t)),u||(t=n.stripQuotes(e)+".ts",u=r(t)),u||(t=n.stripQuotes(e)+".d.ts",u=r(t)),!u&&!n.isRelative(e)))for(t=e,o=n.stripQuotes(t),f=n.getRootFilePath(n.switchToForwardSlashes(i));u===null&&f!="";)t=n.normalizePath(f+o+".ts"),u=r(t),u===null&&(t=n.changePathToDTS(t),u=r(t)),u===null&&(f==="/"?f="":(f=n.normalizePath(f+".."),f=f&&f!="/"?f+"/":f));return u},r.prototype.resolveDeclaredSymbol=function(n,t,i){var u=i.resolvingTypeReference,r;return i.resolvingTypeReference=!1,r=this.resolveDeclaredSymbolWorker(n,t,i),i.resolvingTypeReference=u,r},r.prototype.resolveDeclaredSymbolWorker=function(t,i,r){var o,e,s,h,u,a,v;if(!t||t.isResolved())return t;if(t.isResolving()&&!t.currentlyBeingSpecialized())return t.isType()||t.setType(this.semanticInfoChain.anyTypeSymbol),t;var c=this.unitPath,l=t.getDeclarations(),f=null;for(u=0;u<l.length;u++){if(o=l[u],f=this.semanticInfoChain.getASTForDecl(o),!f||f.nodeType===80)return this.setUnitPath(c),t;this.setUnitPath(o.getScriptName());this.resolveAST(f,!1,i,r)}if(e=t.isType()?t.getTypeArguments():null,e&&e.length){for(s=t.getTypeParameters(),h={},u=0;u<s.length;u++)h[s[u].getSymbolID().toString()]=e[u];r.pushTypeSpecializationCache(h);a=n.getRootType(t.getType());v=n.specializeType(a,e,this,i,r,f);r.popTypeSpecializationCache();t=v}return this.setUnitPath(c),t},r.prototype.resolveModuleDeclaration=function(n,t){var u=this.getDeclForAST(n),r=u.getSymbol(),o,s,f,h,e,i;if(r.isResolved())return r;for(r.setResolved(),o=r.getDeclarations(),i=0;i<o.length;i++)for(s=o[i].getChildDecls(),f=0;f<s.length;f++)s[f].ensureSymbolIsBound();if(u.getKind()!=64)for(h=r.getInstanceSymbol(),h&&this.resolveDeclaredSymbol(h,u.getParentDecl(),t),e=n.members.members,i=0;i<e.length;i++)if(e[i].nodeType==87){this.resolveExportAssignmentStatement(e[i],u,t);break}return r},r.prototype.isTypeRefWithoutTypeArgs=function(n){if(n.nodeType!=11)return!1;if(n.term.nodeType==20)return!0;if(n.term.nodeType==32){var t=n.term;if(t.operand2.nodeType==20)return!0}return!1},r.prototype.resolveReferenceTypeDeclaration=function(i,r){var o=this.getDeclForAST(i),ft=this.getEnclosingDecl(o),f=o.getSymbol(),p=i.nodeType===13,et=this.getSymbolAndDiagnosticsForAST(i)!=null,v=[],y=[],w,b,k,d,g,ot,h,st,nt,a,s,ht,c,l,e,tt,it,rt,ut,u;if(f.isResolved()&&et||f.isResolving()&&!r.isInBaseTypeResolution())return f;if(w=f.isResolving(),f.startResolving(),!f.isResolved())for(b=f.getTypeParameters(),u=0;u<b.length;u++)this.resolveDeclaredSymbol(b[u],o,r);for(k=f.getDeclarations(),u=0;u<k.length;u++)for(d=k[u].getChildDecls(),e=0;e<d.length;e++)d[e].ensureSymbolIsBound();if(g=r.startBaseTypeResolution(),p||et||f.resetKnownBaseTypeCount(),i.extendsList){for(ot=r.isResolvingClassExtendedType,p&&(r.isResolvingClassExtendedType=!0),u=f.getKnownBaseTypeCount();u<i.extendsList.members.length;u=f.getKnownBaseTypeCount())if(f.incrementKnownBaseCount(),h=this.resolveTypeReference(new n.TypeReference(i.extendsList.members[u],0),o,r).symbol,f.isValidBaseKind(h,!0)&&(st=h,v[v.length]=h,h.isGeneric()&&h.isResolved()&&!h.getIsSpecialized()&&(h=this.specializeTypeToAny(h,ft,r),o.addDiagnostic(new n.Diagnostic(o.getScriptName(),i.minChar,i.getLength(),239))),!f.hasBase(h)))for(this.setSymbolAndDiagnosticsForAST(i.extendsList.members[u],t.fromSymbol(st),r),f.addExtendedType(h),nt=f.getKnownSpecializations(),e=0;e<nt.length;e++)nt[e].addExtendedType(h);r.isResolvingClassExtendedType=ot}if(!f.isResolved()&&!w)for(c=f.getExtendedTypes(),u=0;u<c.length;u++){for(l=c[u],e=0;e<v.length;e++)if(l==v[e])break;e==v.length&&f.removeExtendedType(l)}if(i.implementsList&&p)for(a=i.extendsList?i.extendsList.members.length:0,u=f.getKnownBaseTypeCount();u-a>=0&&u-a<i.implementsList.members.length;u=f.getKnownBaseTypeCount())f.incrementKnownBaseCount(),s=this.resolveTypeReference(new n.TypeReference(i.implementsList.members[u-a],0),o,r).symbol,f.isValidBaseKind(s,!1)&&(ht=s,y[y.length]=s,s.isGeneric()&&s.isResolved()&&!s.getIsSpecialized()?(s=this.specializeTypeToAny(s,ft,r),o.addDiagnostic(new n.Diagnostic(o.getScriptName(),i.minChar,i.getLength(),239)),this.setSymbolAndDiagnosticsForAST(i.implementsList.members[u-a],t.fromSymbol(s),r),f.addImplementedType(s)):f.hasBase(s)||(this.setSymbolAndDiagnosticsForAST(i.implementsList.members[u-a],t.fromSymbol(ht),r),f.addImplementedType(s)));if(!f.isResolved()&&!w)for(c=f.getImplementedTypes(),u=0;u<c.length;u++){for(l=c[u],e=0;e<y.length;e++)if(l==y[e])break;e==y.length&&f.removeImplementedType(l)}if(r.doneBaseTypeResolution(g),g&&(i.implementsList||i.extendsList))return f;if(!f.isResolved()){for(tt=f.getMembers(),u=0;u<tt.length;u++)this.resolveDeclaredSymbol(tt[u],o,r);if(!p){for(it=f.getCallSignatures(),u=0;u<it.length;u++)this.resolveDeclaredSymbol(it[u],o,r);for(rt=f.getConstructSignatures(),u=0;u<rt.length;u++)this.resolveDeclaredSymbol(rt[u],o,r);for(ut=f.getIndexSignatures(),u=0;u<ut.length;u++)this.resolveDeclaredSymbol(ut[u],o,r)}}return this.setSymbolAndDiagnosticsForAST(i.name,t.fromSymbol(f),r),this.setSymbolAndDiagnosticsForAST(i,t.fromSymbol(f),r),f.setResolved(),f},r.prototype.resolveClassDeclaration=function(t,i){var h=this.getDeclForAST(t),e=h.getSymbol(),o,b,u,f,s,y,r,d,p;if(e.isResolved())return e;this.resolveReferenceTypeDeclaration(t,i);var a=e.getConstructorMethod(),w=e.getExtendedTypes(),c=w.length?w[0]:null;if(a){if(o=a.getType(),b=o.getConstructSignatures(),!b.length)if(c){var g=c,nt=g.getConstructorMethod(),tt=nt.getType(),k=tt.getConstructSignatures(),v,l;for(r=0;r<k.length;r++){for(v=k[r],l=v.getParameters(),u=v.isDefinition()?new n.PullDefinitionSignatureSymbol(2097152):new n.PullSignatureSymbol(2097152),u.setReturnType(e),f=0;f<l.length;f++)u.addParameter(l[f],l[f].getIsOptional());for(s=o.getTypeParameters(),f=0;f<s.length;f++)u.addTypeParameter(s[f]);o.addConstructSignature(u);u.addDeclaration(h)}}else for(u=new n.PullSignatureSymbol(2097152),u.setReturnType(e),o.addConstructSignature(u),u.addDeclaration(h),s=o.getTypeParameters(),r=0;r<s.length;r++)u.addTypeParameter(s[r]);if(!e.isResolved())return e;for(y=o.getMembers(),this.resolveDeclaredSymbol(a,h,i),r=0;r<y.length;r++)this.resolveDeclaredSymbol(y[r],h,i);c&&(d=c.getConstructorMethod(),p=d.getType(),o.hasBase(p)||o.addExtendedType(p))}return e},r.prototype.resolveInterfaceDeclaration=function(n,t){var i=this.getDeclForAST(n),r=i.getSymbol();return this.resolveReferenceTypeDeclaration(n,t),r},r.prototype.resolveImportDeclaration=function(i,r){var l=this,e=this.getDeclForAST(i),o=this.getEnclosingDecl(e),f=e.getSymbol(),a=i.id.text,u=null,s,h,c;return f.isResolved()?f:(f.startResolving(),i.alias.nodeType===11?u=this.resolveTypeReference(i.alias,o,r).symbol:i.alias.nodeType===20&&(s=i.alias.actualText,n.isQuoted(s)?(h=i.alias.actualText,c=n.getPathToDecl(o),i.isDynamicImport=!0,u=this.findTypeSymbolForDynamicModule(h,e.getScriptName(),function(t){return l.getSymbolFromDeclPath(t,c,n.PullElementKind.SomeContainer)}),u||(e.addDiagnostic(new n.SemanticDiagnostic(this.currentUnit.getPath(),i.minChar,i.getLength(),140,[s])),u=this.semanticInfoChain.anyTypeSymbol)):u=this.resolveTypeReference(new n.TypeReference(i.alias,0),o,r).symbol),u&&(u.isContainer()?u.getExportAssignedValueSymbol()&&f.setIsUsedAsValue():(e.addDiagnostic(new n.Diagnostic(this.currentUnit.getPath(),i.minChar,i.getLength(),141)),u=this.semanticInfoChain.anyTypeSymbol),f.setAliasedType(u),f.setResolved(),this.semanticInfoChain.setSymbolAndDiagnosticsForAST(i.alias,t.fromSymbol(u),this.unitPath)),f)},r.prototype.resolveExportAssignmentStatement=function(i,r,u){var c=i.id.text,e=null,o=null,f=null,h=r.getSymbol(),l,s,p;if(!h.isType()&&h.isContainer())return r.addDiagnostic(new n.Diagnostic(r.getScriptName(),i.minChar,i.getLength(),230)),t.fromSymbol(this.semanticInfoChain.anyTypeSymbol);if(l=r!==null?[r]:[],f=this.getSymbolFromDeclPath(c,l,n.PullElementKind.SomeContainer),s=!0,f&&(s=(f.getKind()&n.PullElementKind.AcceptableAlias)!=0),!s&&f&&f.getKind()==256)if(f.isResolved()||this.resolveDeclaredSymbol(f,r,u),p=f.getType(),p.getKind()!=32)s=!0;else{var a=f.getExportAssignedValueSymbol(),v=f.getExportAssignedTypeSymbol(),y=f.getExportAssignedContainerSymbol();(a||v||y)&&(a&&(e=a),v&&(o=v),y&&(f=y),s=!0)}return s?(e||(e=this.getSymbolFromDeclPath(c,l,n.PullElementKind.SomeValue)),o||(o=this.getSymbolFromDeclPath(c,l,n.PullElementKind.SomeType)),!e&&!o&&!f)?t.create(this.semanticInfoChain.voidTypeSymbol,[u.postError(r.getScriptName(),i.minChar,i.getLength(),164,[c])]):(e&&(e.isResolved()||this.resolveDeclaredSymbol(e,r,u),h.setExportAssignedValueSymbol(e)),o&&(o.isResolved()||this.resolveDeclaredSymbol(o,r,u),h.setExportAssignedTypeSymbol(o)),f&&(f.isResolved()||this.resolveDeclaredSymbol(f,r,u),h.setExportAssignedContainerSymbol(f)),t.fromSymbol(this.semanticInfoChain.voidTypeSymbol)):(r.addDiagnostic(new n.Diagnostic(r.getScriptName(),i.minChar,i.getLength(),231)),t.fromSymbol(this.semanticInfoChain.voidTypeSymbol))},r.prototype.resolveFunctionTypeSignature=function(t,i,r){var u=null,f=this.getDeclForAST(t),l,o,s,e,c,h;if(f&&f.hasSymbol()||(l=this.semanticInfoChain.getUnit(this.unitPath),o=new n.DeclCollectionContext(l),o.scriptName=this.unitPath,i&&o.pushParent(i),n.getAstWalkerFactory().walk(t,n.preCollectDecls,n.postCollectDecls,null,o),f=this.getDeclForAST(t),this.currentUnit.addSynthesizedDecl(f),s=new n.PullSymbolBinder(this.semanticInfoChain),s.setUnit(this.unitPath),f.getKind()===33554432?s.bindConstructorTypeDeclarationToPullSymbol(f):s.bindFunctionTypeDeclarationToPullSymbol(f)),u=f.getSymbol(),e=u.getKind()===33554432?u.getConstructSignatures()[0]:u.getCallSignatures()[0],t.returnTypeAnnotation?(c=this.resolveTypeReference(t.returnTypeAnnotation,i,r).symbol,e.setReturnType(c),this.isTypeArgumentOrWrapper(c)&&(e.setHasGenericParameter(),u&&u.getType().setHasGenericSignature())):e.setReturnType(this.semanticInfoChain.anyTypeSymbol),t.arguments)for(h=0;h<t.arguments.members.length;h++)this.resolveFunctionTypeSignatureParameter(t.arguments.members[h],e,i,r);return u&&e.hasGenericParameter()&&u.getType().setHasGenericSignature(),e.hasGenericParameter()&&u&&u.getType().setHasGenericSignature(),u.setResolved(),u},r.prototype.resolveFunctionTypeSignatureParameter=function(t,i,r,u){var s=this.getDeclForAST(t),f=s.getSymbol(),e,o;t.typeExpr?(e=this.resolveTypeReference(t.typeExpr,r,u).symbol,!f.getIsVarArg()||e.isArray()||e==this.cachedArrayInterfaceType()||(o=u.postError(this.unitPath,t.minChar,t.getLength(),228,null,r),e=this.getNewErrorTypeSymbol(o)),u.setTypeInContext(f,e),this.isTypeArgumentOrWrapper(e)&&i.setHasGenericParameter()):f.getIsVarArg()&&f.getType()?this.cachedArrayInterfaceType()?u.setTypeInContext(f,n.specializeToArrayType(this.cachedArrayInterfaceType(),f.getType(),this,u)):u.setTypeInContext(f,f.getType()):u.setTypeInContext(f,this.semanticInfoChain.anyTypeSymbol);f.setResolved()},r.prototype.resolveFunctionExpressionParameter=function(t,i,r,u){var s=this.getDeclForAST(t),f=s.getSymbol(),e,o;t.typeExpr?(e=this.resolveTypeReference(t.typeExpr,r,u).symbol,!f.getIsVarArg()||e.isArray()||e==this.cachedArrayInterfaceType()||(o=u.postError(this.unitPath,t.minChar,t.getLength(),228,null,r),e=this.getNewErrorTypeSymbol(o)),u.setTypeInContext(f,e)):f.getIsVarArg()&&f.getType()?this.cachedArrayInterfaceType()?u.setTypeInContext(f,n.specializeToArrayType(this.cachedArrayInterfaceType(),f.getType(),this,u)):u.setTypeInContext(f,f.getType()):i?u.setTypeInContext(f,i.getType()):u.setTypeInContext(f,this.semanticInfoChain.anyTypeSymbol);f.setResolved()},r.prototype.resolveInterfaceTypeReference=function(t,i,r){var e=null,u=this.getDeclForAST(t),a,o,c,h;if(u||(a=this.semanticInfoChain.getUnit(this.unitPath),o=new n.DeclCollectionContext(a),o.scriptName=this.unitPath,i&&o.pushParent(i),n.getAstWalkerFactory().walk(t,n.preCollectDecls,n.postCollectDecls,null,o),u=this.getDeclForAST(t),this.currentUnit.addSynthesizedDecl(u),c=new n.PullSymbolBinder(this.semanticInfoChain),c.setUnit(this.unitPath),c.bindObjectTypeDeclarationToPullSymbol(u)),e=u.getSymbol(),t.members){var s=null,f=null,l=null,v=t.members;for(h=0;h<v.members.length;h++)s=this.getDeclForAST(v.members[h]),f=s.getKind()&n.PullElementKind.SomeSignature?s.getSignatureSymbol():s.getSymbol(),this.resolveDeclaredSymbol(f,i,r),l=f.getType(),(l&&l.isGeneric()||f.isSignature()&&f.isGeneric())&&e.setHasGenericMember()}return e.setResolved(),e},r.prototype.resolveTypeReference=function(n,t,i){if(n===null)return null;var r=this.getSymbolAndDiagnosticsForAST(n);return r||(r=this.computeTypeReferenceSymbol(n,t,i),r.symbol.isGeneric()||this.setSymbolAndDiagnosticsForAST(n,r,i)),r},r.prototype.computeTypeReferenceSymbol=function(i,r,u){var f=null,o=null,h,v,s,c,e,l,a;if(i.term.nodeType===20?(h=u.resolvingTypeReference,u.resolvingTypeReference=!0,o=this.resolveTypeNameExpression(i.term,r,u),f=o.symbol,u.resolvingTypeReference=h):i.term.nodeType===12?f=this.resolveFunctionTypeSignature(i.term,r,u):i.term.nodeType===14?f=this.resolveInterfaceTypeReference(i.term,r,u):i.term.nodeType===10?(o=this.resolveGenericTypeReference(i.term,r,u),f=o.symbol):i.term.nodeType===32?(v=i.term,h=u.resolvingTypeReference,o=this.resolveDottedTypeNameExpression(v,r,u),f=o.symbol,u.resolvingTypeReference=h):i.term.nodeType===5&&(s=i.term,f=new n.PullStringConstantTypeSymbol(s.actualText),c=new n.PullDecl(s.actualText,s.actualText,f.getKind(),null,new n.TextSpan(s.minChar,s.getLength()),r.getScriptName()),this.currentUnit.addSynthesizedDecl(c),f.addDeclaration(c)),!f)return t.create(this.getNewErrorTypeSymbol(null),[u.postError(this.unitPath,i.term.minChar,i.term.getLength(),146)]);if(f.isError())return t.fromSymbol(f);if(i.arrayCount){if(e=f.getArrayType(),e||(this.cachedArrayInterfaceType().isResolved()||this.resolveDeclaredSymbol(this.cachedArrayInterfaceType(),r,u),f.isNamedTypeSymbol()&&f.isGeneric()&&!f.isTypeParameter()&&f.isResolved()&&!f.getIsSpecialized()&&f.getTypeParameters().length&&f.getTypeArguments()==null&&!this.isArrayOrEquivalent(f)&&this.isTypeRefWithoutTypeArgs(i)&&(u.postError(this.unitPath,i.minChar,i.getLength(),239,null,r,!0),f=this.specializeTypeToAny(f,r,u)),e=n.specializeToArrayType(this.semanticInfoChain.elementTypeSymbol,f,this,u),e||(e=this.semanticInfoChain.anyTypeSymbol)),i.arrayCount>1)for(l=i.arrayCount-1;l>0;l--)a=e.getArrayType(),e=a?a:n.specializeToArrayType(this.semanticInfoChain.elementTypeSymbol,e,this,u);f=e}return t.fromSymbol(f)},r.prototype.resolveVariableDeclaration=function(t,i,r){var s=this.getDeclForAST(t),f,e,y,p,a,h,u,w,c,o,b,k,l,d,v;return(r&&s.getKind()==2048&&r.ensureSymbolIsBound(),f=s.getSymbol(),e=s.getValueDecl()?s.getValueDecl().getSymbol():null,f.isResolved())?(y=f.getType(),p=s.getValueDecl(),p&&(a=p.getSymbol(),a&&!a.isResolved()&&(a.setType(y),a.setResolved())),y):f.isResolving()&&!i.inSpecialization?(f.setType(this.semanticInfoChain.anyTypeSymbol),f.setResolved(),f):(f.startResolving(),h=this.getEnclosingDecl(s),h=h?h:r,o=null,t.typeExpr?(u=this.resolveTypeReference(t.typeExpr,h,i).symbol,u?u.isError()?(i.setTypeInContext(f,u),e&&i.setTypeInContext(e,u)):(u.isNamedTypeSymbol()&&u.isGeneric()&&!u.isTypeParameter()&&u.isResolved()&&!u.getIsSpecialized()&&u.getTypeParameters().length&&u.getTypeArguments()==null&&!this.isArrayOrEquivalent(u)&&this.isTypeRefWithoutTypeArgs(t.typeExpr)&&(i.postError(this.unitPath,t.typeExpr.minChar,t.typeExpr.getLength(),239,null,r,!0),u=this.specializeTypeToAny(u,r,i)),u.isContainer()?(w=u.getExportAssignedTypeSymbol(),w?u=w:(c=u.getType().getInstanceSymbol(),u=c&&n.PullHelpers.symbolIsEnum(c)?c.getType():this.getNewErrorTypeSymbol(o))):!f.getIsVarArg()||u.isArray()||u==this.cachedArrayInterfaceType()||(o=i.postError(this.unitPath,t.minChar,t.getLength(),228,null,r),u=this.getNewErrorTypeSymbol(o)),i.setTypeInContext(f,u),e&&e.setType(u),t.nodeType===19&&r&&(u.isGeneric()&&!u.isArray()||this.isTypeArgumentOrWrapper(u))&&(b=r.getSpecializingSignatureSymbol(),b&&b.setHasGenericParameter())):(o=i.postError(this.unitPath,t.minChar,t.getLength(),147,[t.id.actualText],s),f.setType(this.getNewErrorTypeSymbol(o)),e&&i.setTypeInContext(e,this.semanticInfoChain.anyTypeSymbol))):t.init?(k=this.resolveAST(t.init,!1,h,i),l=k&&k.symbol,l?(i.setTypeInContext(f,this.widenType(l.getType())),l.addOutgoingLink(f,2),e&&(i.setTypeInContext(e,l.getType()),l.addOutgoingLink(e,2))):(o=i.postError(this.unitPath,t.minChar,t.getLength(),147,[t.id.actualText],s),i.setTypeInContext(f,this.getNewErrorTypeSymbol(o)),e&&i.setTypeInContext(e,this.semanticInfoChain.anyTypeSymbol))):f.getKind()===4?(c=f.getInstanceSymbol(),d=c.getType(),d?i.setTypeInContext(f,d):i.setTypeInContext(f,this.semanticInfoChain.anyTypeSymbol)):(v=this.semanticInfoChain.anyTypeSymbol,f.getIsVarArg()&&(v=n.specializeToArrayType(this.cachedArrayInterfaceType(),v,this,i)),i.setTypeInContext(f,v),e&&e.setType(v)),f.setResolved(),e&&e.setResolved(),f)},r.prototype.resolveTypeParameterDeclaration=function(n,t){var f=this.getDeclForAST(n),r=f.getSymbol(),u,i;return r.isResolved()||r.isResolving()?r:(r.startResolving(),n.constraint&&(u=this.getEnclosingDecl(f),i=this.resolveTypeReference(n.constraint,u,t).symbol,i.isNamedTypeSymbol()&&i.isGeneric()&&!i.isTypeParameter()&&i.getTypeParameters().length&&i.getTypeArguments()==null&&!this.isArrayOrEquivalent(i)&&i.isResolved()&&this.isTypeRefWithoutTypeArgs(n.constraint)&&(t.postError(this.unitPath,n.constraint.minChar,n.constraint.getLength(),239,null,u,!0),i=this.specializeTypeToAny(i,u,t)),i&&r.setConstraint(i)),r.setResolved(),r)},r.prototype.resolveFunctionBodyReturnTypes=function(t,i,r,u,f){var p=this,h=[],c=[u],w=function(n,t,i){var r=!0,u;switch(n.nodeType){case 12:r=!1;break;case 93:u=n;h[h.length]={returnStatement:u,enclosingDecl:c[c.length-1]};r=!1;break;case 101:case 99:c[c.length]=p.getDeclForAST(n)}return i.options.goChildren=r,n},b=function(n,t,i){switch(n.nodeType){case 101:case 99:c.length--}return i.options.goChildren=!0,n},s,o,v,l,y,a,e;if(n.getAstWalkerFactory().walk(t.block,w,b),h.length){for(s=[],e=0;e<h.length;e++)if(h[e].returnStatement.returnExpression){if(o=this.resolveAST(h[e].returnStatement.returnExpression,r,h[e].enclosingDecl,f).symbol.getType(),o.isError()){i.setReturnType(o);return}s[s.length]=o}if(s.length)for(v={getLength:function(){return s.length},setTypeAtIndex:function(){},getTypeAtIndex:function(n){return s[n].getType()}},o=this.findBestCommonType(s[0],null,v,f,new n.TypeComparisonInfo),r&&o==this.semanticInfoChain.anyTypeSymbol&&(l=f.getContextualType(),l&&(o=l)),i.setReturnType(o?this.widenType(o):this.semanticInfoChain.anyTypeSymbol),this.isTypeArgumentOrWrapper(o)&&(y=this.getDeclForAST(t),a=y.getSymbol(),a&&a.getType().setHasGenericSignature()),e=0;e<s.length;e++)s[e].addOutgoingLink(i,2);else i.setReturnType(this.semanticInfoChain.voidTypeSymbol)}else i.setReturnType(this.semanticInfoChain.voidTypeSymbol)},r.prototype.resolveFunctionDeclaration=function(t,i){var f=this.getDeclForAST(t),e=f.getSymbol(),r=f.getSpecializingSignatureSymbol(),c=!1,l=t.isConstructor||n.hasFlag(t.getFunctionFlags(),1024),a,v,s,h,u,o,y;if(r){if(r.isResolved())return e;if(l&&!r.isResolving()&&(a=t.classDecl,a&&(v=this.getDeclForAST(a),s=v.getSymbol(),s.isResolved()||s.isResolving()||this.resolveDeclaredSymbol(s,this.getEnclosingDecl(v),i))),r.isResolving())return t.returnTypeAnnotation?(u=this.resolveTypeReference(t.returnTypeAnnotation,f,i).symbol,u?(this.isTypeArgumentOrWrapper(u)&&(r.setHasGenericParameter(),e&&e.getType().setHasGenericSignature()),r.setReturnType(u),l&&u===this.semanticInfoChain.voidTypeSymbol&&i.postError(this.unitPath,t.minChar,t.getLength(),198,null,f,!0)):(h=i.postError(this.unitPath,t.returnTypeAnnotation.minChar,t.returnTypeAnnotation.getLength(),197,null,f),r.setReturnType(this.getNewErrorTypeSymbol(h)),c=!0)):r.setReturnType(this.semanticInfoChain.anyTypeSymbol),r.setResolved(),e;if(r.startResolving(),t.typeArguments)for(o=0;o<t.typeArguments.members.length;o++)this.resolveTypeParameterDeclaration(t.typeArguments.members[o],i);if(t.arguments)for(o=0;o<t.arguments.members.length;o++)this.resolveVariableDeclaration(t.arguments.members[o],i,f);r.isGeneric()&&e&&e.getType().setHasGenericSignature();t.returnTypeAnnotation?(y=r.getReturnType(),u=this.resolveTypeReference(t.returnTypeAnnotation,f,i).symbol,u?this.isTypeArgumentOrWrapper(u)&&y&&!this.isTypeArgumentOrWrapper(y)||(this.isTypeArgumentOrWrapper(u)&&(r.setHasGenericParameter(),e&&e.getType().setHasGenericSignature()),r.setReturnType(u),l&&u===this.semanticInfoChain.voidTypeSymbol&&i.postError(this.unitPath,t.minChar,t.getLength(),198,null,f,!0)):(h=i.postError(this.unitPath,t.returnTypeAnnotation.minChar,t.returnTypeAnnotation.getLength(),197,null,f),r.setReturnType(this.getNewErrorTypeSymbol(h)),c=!0)):t.isConstructor||(t.isSignature()?r.setReturnType(this.semanticInfoChain.anyTypeSymbol):this.resolveFunctionBodyReturnTypes(t,r,!1,f,i));c||r.setResolved()}return e},r.prototype.resolveGetAccessorDeclaration=function(n,t){var u=this.getDeclForAST(n),r=u.getSymbol(),h=r.getGetter(),c=h.getType(),i=c.getCallSignatures()[0],y=!1,f,e,o,s,l,p,a,v,w,b;if(i){if(i.isResolved())return r;if(i.isResolving())return i.setReturnType(this.semanticInfoChain.anyTypeSymbol),i.setResolved(),r;if(i.startResolving(),n.arguments)for(e=0;e<n.arguments.members.length;e++)this.resolveVariableDeclaration(n.arguments.members[e],t,u);i.hasGenericParameter()&&h&&c.setHasGenericSignature();n.returnTypeAnnotation?(o=this.resolveTypeReference(n.returnTypeAnnotation,u,t).symbol,o?(this.isTypeArgumentOrWrapper(o)&&(i.setHasGenericParameter(),h&&c.setHasGenericSignature()),i.setReturnType(o)):(f=t.postError(this.unitPath,n.returnTypeAnnotation.minChar,n.returnTypeAnnotation.getLength(),197,null,u),i.setReturnType(this.getNewErrorTypeSymbol(f)),y=!0)):n.isSignature()?i.setReturnType(this.semanticInfoChain.anyTypeSymbol):this.resolveFunctionBodyReturnTypes(n,i,!1,u,t);y||i.setResolved()}return s=i.getReturnType(),l=r.getSetter(),l?(p=l.getType(),a=p.getCallSignatures()[0],a.isResolved()?(v=a.getParameters(),v.length&&(w=v[0],b=w.getType(),this.typesAreIdentical(s,b)||(f=t.postError(this.unitPath,n.minChar,n.getLength(),165,null,this.getEnclosingDecl(u)),r.setType(this.getNewErrorTypeSymbol(f))))):r.setType(s)):r.setType(s),r},r.prototype.resolveSetAccessorDeclaration=function(n,t){var s=this.getDeclForAST(n),i=s.getSymbol(),a=i.getSetter(),v=a.getType(),r=v.getCallSignatures()[0],f,c,l,o,y;if(r){if(r.isResolved())return i;if(r.isResolving())return r.setReturnType(this.semanticInfoChain.anyTypeSymbol),r.setResolved(),i;if(r.startResolving(),n.arguments)for(f=0;f<n.arguments.members.length;f++)this.resolveVariableDeclaration(n.arguments.members[f],t,s);r.hasGenericParameter()&&a&&v.setHasGenericSignature();!1||r.setResolved()}var h=r.getParameters(),e=i.getGetter(),u=h.length?h[0].getType():e?e.getType():this.semanticInfoChain.undefinedTypeSymbol;return e?(c=e.getType(),l=c.getCallSignatures()[0],u==this.semanticInfoChain.undefinedTypeSymbol&&(u=c),l.isResolved()?(o=l.getReturnType(),this.typesAreIdentical(u,o)||(this.isAnyOrEquivalent(u)?(i.setType(o),u.isError()||h[0].setType(o)):(y=t.postError(this.unitPath,n.minChar,n.getLength(),165,null,this.getEnclosingDecl(s)),i.setType(this.getNewErrorTypeSymbol(y))))):i.setType(u)):i.setType(u),i},r.prototype.resolveAST=function(i,r,u,f){n.globalSemanticInfoChain=this.semanticInfoChain;n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain);switch(i.nodeType){case 101:case 99:case 2:return t.fromSymbol(null);case 15:return t.fromSymbol(this.resolveModuleDeclaration(i,f));case 14:return t.fromSymbol(this.resolveInterfaceDeclaration(i,f));case 13:return t.fromSymbol(this.resolveClassDeclaration(i,f));case 17:case 19:return t.fromSymbol(this.resolveVariableDeclaration(i,f,u));case 9:return t.fromSymbol(this.resolveTypeParameterDeclaration(i,f));case 16:return t.fromSymbol(this.resolveImportDeclaration(i,f));case 22:return this.resolveObjectLiteralExpression(i,r,u,f);case 10:return this.resolveGenericTypeReference(i,u,f);case 20:return f.resolvingTypeReference?this.resolveTypeNameExpression(i,u,f):this.resolveNameExpression(i,u,f);case 32:return f.resolvingTypeReference?this.resolveDottedTypeNameExpression(i,u,f):this.resolveDottedNameExpression(i,u,f);case 10:return this.resolveGenericTypeReference(i,u,f);case 12:var e=i;return e.isGetAccessor()?t.fromSymbol(this.resolveGetAccessorDeclaration(e,f)):e.isSetAccessor()?t.fromSymbol(this.resolveSetAccessorDeclaration(e,f)):r||e.getFunctionFlags()&8192||e.getFunctionFlags()&2048||e.getFunctionFlags()&16384?t.fromSymbol(this.resolveFunctionExpression(e,r,u,f)):t.fromSymbol(this.resolveFunctionDeclaration(e,f));case 21:return this.resolveArrayLiteralExpression(i,r,u,f);case 29:return this.resolveThisExpression(i,u,f);case 30:return this.resolveSuperExpression(i,u,f);case 36:return this.resolveCallExpression(i,r,u,f);case 37:return this.resolveNewExpression(i,r,u,f);case 78:return this.resolveTypeAssertionExpression(i,r,u,f);case 11:return this.resolveTypeReference(i,u,f);case 87:return this.resolveExportAssignmentStatement(i,u,f);case 7:return t.fromSymbol(this.semanticInfoChain.numberTypeSymbol);case 5:return t.fromSymbol(this.semanticInfoChain.stringTypeSymbol);case 8:return t.fromSymbol(this.semanticInfoChain.nullTypeSymbol);case 3:case 4:return t.fromSymbol(this.semanticInfoChain.booleanTypeSymbol);case 24:return t.fromSymbol(this.semanticInfoChain.voidTypeSymbol);case 38:return this.resolveAssignmentStatement(i,r,u,f);case 73:case 57:case 56:case 58:case 59:case 60:case 61:case 63:case 62:return t.fromSymbol(this.semanticInfoChain.booleanTypeSymbol);case 64:case 39:return this.resolveArithmeticExpression(i,r,u,f);case 40:case 42:case 41:case 43:case 46:case 44:case 72:case 65:case 66:case 67:case 68:case 53:case 55:case 26:case 27:case 76:case 74:case 77:case 75:return t.fromSymbol(this.semanticInfoChain.numberTypeSymbol);case 69:case 70:case 71:case 47:case 48:case 49:return t.fromSymbol(this.semanticInfoChain.numberTypeSymbol);case 35:return this.resolveIndexExpression(i,r,u,f);case 51:return this.resolveLogicalOrExpression(i,r,u,f);case 52:return this.resolveLogicalAndExpression(i,r,u,f);case 34:return t.fromSymbol(this.semanticInfoChain.stringTypeSymbol);case 95:return t.fromSymbol(this.semanticInfoChain.voidTypeSymbol);case 28:return t.fromSymbol(this.semanticInfoChain.booleanTypeSymbol);case 50:return this.resolveConditionalExpression(i,u,f);case 6:return this.resolveRegularExpressionLiteral();case 79:return this.resolveParenthesizedExpression(i,u,f);case 88:return this.resolveExpressionStatement(i,r,u,f);case 33:return t.fromSymbol(this.semanticInfoChain.booleanTypeSymbol)}return t.fromSymbol(this.semanticInfoChain.anyTypeSymbol)},r.prototype.resolveRegularExpressionLiteral=function(){return this.cachedRegExpInterfaceType()?t.fromSymbol(this.cachedRegExpInterfaceType()):t.fromSymbol(this.semanticInfoChain.anyTypeSymbol)},r.prototype.isNameOrMemberAccessExpression=function(n){for(var t=n;t;)if(t.nodeType===88)t=t.expression;else if(t.nodeType===79)t=t.expression;else return t.nodeType===20?!0:t.nodeType===32?!0:!1},r.prototype.resolveNameSymbol=function(t,i){return!t||i.canUseTypeSymbol||t==this.semanticInfoChain.undefinedTypeSymbol||t==this.semanticInfoChain.nullTypeSymbol||!t.isPrimitive()&&t.getKind()&n.PullElementKind.SomeValue||(t=null),t},r.prototype.resolveNameExpression=function(n,t,i){var r=this.getSymbolAndDiagnosticsForAST(n),f=r!=null,u;return f||(r=this.computeNameExpression(n,t,i)),u=r.symbol,u.isResolved()||this.resolveDeclaredSymbol(u,t,i),f||this.isAnyOrEquivalent(u.getType())||this.setSymbolAndDiagnosticsForAST(n,r,i),r},r.prototype.computeNameExpression=function(i,r,u){var e,o,s,f,h;return i.isMissing()?t.fromSymbol(this.semanticInfoChain.anyTypeSymbol):(e=i.text,o=r!==null?n.getPathToDecl(r):[],r&&!o.length&&(o=[r]),s=null,f=this.getSymbolFromDeclPath(e,o,n.PullElementKind.SomeValue),!f&&e==="arguments"&&r&&r.getKind()&n.PullElementKind.SomeFunction&&(f=this.cachedFunctionArgumentsSymbol,this.cachedIArgumentsInterfaceType()&&!this.cachedIArgumentsInterfaceType().isResolved()&&this.resolveDeclaredSymbol(this.cachedIArgumentsInterfaceType(),r,u)),f||(f=this.getSymbolFromDeclPath(e,o,256),f&&!f.isAlias()&&(f=null)),!f)?t.create(this.getNewErrorTypeSymbol(null,e),[u.postError(this.unitPath,i.minChar,i.getLength(),164,[i.actualText])]):(f.isType()&&f.isAlias()&&(s=f,s.setIsUsedAsValue(),f.isResolved()||this.resolveDeclaredSymbol(f,r,u),h=f.getExportAssignedValueSymbol(),h?f=h:s=null),t.fromAlias(f,s))},r.prototype.resolveDottedNameExpression=function(n,t,i){var r=this.getSymbolAndDiagnosticsForAST(n),f=r!=null,u;return f||(r=this.computeDottedNameExpressionSymbol(n,t,i)),u=r&&r.symbol,u&&!u.isResolved()&&this.resolveDeclaredSymbol(u,t,i),f||this.isAnyOrEquivalent(u.getType())||(this.setSymbolAndDiagnosticsForAST(n,r,i),this.setSymbolAndDiagnosticsForAST(n.operand2,r,i)),r},r.prototype.isPrototypeMember=function(n,t,i){var e=n.operand2.text,f,r,u;return e==="prototype"&&(f=i.canUseTypeSymbol,i.canUseTypeSymbol=!0,r=this.resolveAST(n.operand1,!1,t,i).symbol.getType(),i.canUseTypeSymbol=f,r&&(r.isClass()||r.isConstructor()||(u=r.getAssociatedContainerType(),u&&u.isClass())))?!0:!1},r.prototype.computeDottedNameExpressionSymbol=function(i,r,u){var o,y,s,f,h,a,c,e,p,w,v,b,l;if(i.operand2.isMissing())return t.fromSymbol(this.semanticInfoChain.anyTypeSymbol);if(o=i.operand2.text,y=u.canUseTypeSymbol,u.canUseTypeSymbol=!0,s=this.resolveAST(i.operand1,!1,r,u).symbol,u.canUseTypeSymbol=y,f=s.getType(),s.isAlias()&&s.setIsUsedAsValue(),this.isAnyOrEquivalent(f))return t.fromSymbol(f);if(!f)return t.create(this.getNewErrorTypeSymbol(null),[u.postError(this.unitPath,i.operand2.minChar,i.operand2.getLength(),162,[i.operand2.actualText])]);if((f===this.semanticInfoChain.numberTypeSymbol||s.getKind()==67108864)&&this.cachedNumberInterfaceType()?f=this.cachedNumberInterfaceType():f===this.semanticInfoChain.stringTypeSymbol&&this.cachedStringInterfaceType()?f=this.cachedStringInterfaceType():f===this.semanticInfoChain.booleanTypeSymbol&&this.cachedBooleanInterfaceType()&&(f=this.cachedBooleanInterfaceType()),f.isResolved()||(h=this.resolveDeclaredSymbol(f,r,u),h!=f&&(s.isType()||u.setTypeInContext(s,h),f=h)),f.isContainer()&&!f.isAlias()&&(a=f.getInstanceSymbol(),a&&(f=a.getType())),this.isPrototypeMember(i,r,u)){if(f.isClass())return t.fromSymbol(f);if(c=f.getAssociatedContainerType(),c&&c.isClass())return t.fromSymbol(c)}return(f.isTypeParameter()&&(f=this.substituteUpperBoundForType(f)),e=null,s.isType()&&s.isClass()&&this.isNameOrMemberAccessExpression(i.operand1)||e||(e=this.getMemberSymbol(o,n.PullElementKind.SomeValue,f),e=this.resolveNameSymbol(e,u)),!e&&(f.isClass()?(p=f.getConstructorMethod().getType(),e=this.getMemberSymbol(o,n.PullElementKind.SomeValue,p),e||(e=this.getMemberSymbol(o,n.PullElementKind.SomeValue,f))):(f.getCallSignatures().length||f.getConstructSignatures().length)&&this.cachedFunctionInterfaceType()?e=this.getMemberSymbol(o,n.PullElementKind.SomeValue,this.cachedFunctionInterfaceType()):f.isContainer()?(w=f.isAlias()?f.getType():f,v=w.getInstanceSymbol(),v&&(b=v.getType(),e=this.getMemberSymbol(o,n.PullElementKind.SomeValue,b))):(l=f.getAssociatedContainerType(),l&&!l.isClass()&&(e=this.getMemberSymbol(o,n.PullElementKind.SomeValue,l))),e=this.resolveNameSymbol(e,u),e||f.isPrimitive()||!this.cachedObjectInterfaceType()||(e=this.getMemberSymbol(o,n.PullElementKind.SomeValue,this.cachedObjectInterfaceType())),!e))?t.create(this.getNewErrorTypeSymbol(null,o),[u.postError(this.unitPath,i.operand2.minChar,i.operand2.getLength(),163,[i.operand2.actualText,f.getDisplayName()])]):t.fromSymbol(e)},r.prototype.resolveTypeNameExpression=function(i,r,u){var e=this.getSymbolAndDiagnosticsForAST(i),f,s,o;return(e&&e.symbol.isType()||(e=this.computeTypeNameExpression(i,r,u),this.setSymbolAndDiagnosticsForAST(i,e,u)),f=e&&e.symbol,f.isResolved()||(s=u.resolvingNamespaceMemberAccess,u.resolvingNamespaceMemberAccess=!1,this.resolveDeclaredSymbol(f,r,u),u.resolvingNamespaceMemberAccess=s),f&&!(f.isTypeParameter()&&f.isFunctionTypeParameter()&&u.isSpecializingSignatureAtCallSite&&!u.isSpecializingConstructorMethod)&&(o=u.findSpecializationForType(f),f.isTypeParameter()&&o!=f&&n.shouldSpecializeTypeParameterForTypeParameter(o,f)&&(f=o),f!=e.symbol))?t.fromSymbol(f):e},r.prototype.computeTypeNameExpression=function(i,r,u){var e,o,c,s,h,l;if(i.isMissing()||(e=i.text,e==="any"))return t.fromSymbol(this.semanticInfoChain.anyTypeSymbol);if(e==="string")return t.fromSymbol(this.semanticInfoChain.stringTypeSymbol);if(e==="number")return t.fromSymbol(this.semanticInfoChain.numberTypeSymbol);if(e==="bool")return this.compilationSettings.disallowBool&&!this.currentUnit.getProperties().unitContainsBool?(this.currentUnit.getProperties().unitContainsBool=!0,t.create(this.semanticInfoChain.booleanTypeSymbol,[u.postError(this.unitPath,i.minChar,i.getLength(),167)])):t.fromSymbol(this.semanticInfoChain.booleanTypeSymbol);if(e==="boolean")return t.fromSymbol(this.semanticInfoChain.booleanTypeSymbol);if(e==="void")return t.fromSymbol(this.semanticInfoChain.voidTypeSymbol);o=r!==null?n.getPathToDecl(r):[];r&&!o.length&&(o=[r]);var a=u.resolvingNamespaceMemberAccess?n.PullElementKind.SomeContainer:n.PullElementKind.SomeType,v=u.resolvingNamespaceMemberAccess?n.PullElementKind.SomeType:n.PullElementKind.SomeContainer,f=this.getSymbolFromDeclPath(e,o,a);return(f||(f=this.getSymbolFromDeclPath(e,o,v)),!f)?t.create(this.getNewErrorTypeSymbol(null,e),[u.postError(this.unitPath,i.minChar,i.getLength(),164,[i.actualText])]):(f.isAlias()&&(f.isResolved()||(c=u.resolvingNamespaceMemberAccess,u.resolvingNamespaceMemberAccess=!1,this.resolveDeclaredSymbol(f,r,u),u.resolvingNamespaceMemberAccess=c),s=f.getType(),s&&!s.isResolved()&&this.resolveDeclaredSymbol(s,r,u),h=f.getExportAssignedTypeSymbol(),h&&(f=h)),f.isTypeParameter()&&r&&r.getKind()&n.PullElementKind.SomeFunction&&r.getFlags()&16&&(l=f.getDeclarations()[0].getParentDecl(),l.getKind()==8))?t.create(this.getNewErrorTypeSymbol(null),[u.postError(this.unitPath,i.minChar,i.getLength(),226)]):t.fromSymbol(f)},r.prototype.addDiagnostic=function(n,t){return n||(n=[]),n.push(t),n},r.prototype.resolveGenericTypeReference=function(i,r,u){var w=u.resolvingTypeReference,e,o,s,f,h,l,a;if(u.resolvingTypeReference=!0,e=this.resolveAST(i.name,!1,r,u).symbol.getType(),u.resolvingTypeReference=w,e.isError())return t.fromSymbol(e);if(e.isResolving()||e.isResolved()||this.resolveDeclaredSymbol(e,r,u),o=[],!u.isResolvingTypeArguments(i)){if(u.startResolvingTypeArguments(i),i.typeArguments&&i.typeArguments.members.length)for(s=0;s<i.typeArguments.members.length;s++)f=this.resolveTypeReference(i.typeArguments.members[s],r,u).symbol,f.isNamedTypeSymbol()&&f.isGeneric()&&!f.isTypeParameter()&&f.isResolved()&&!f.getIsSpecialized()&&f.getTypeParameters().length&&f.getTypeArguments()==null&&!this.isArrayOrEquivalent(f)&&this.isTypeRefWithoutTypeArgs(i.typeArguments.members[s])&&(u.postError(this.unitPath,i.typeArguments.members[s].minChar,i.typeArguments.members[s].getLength(),239,null,r,!0),f=this.specializeTypeToAny(f,r,u)),o[s]=f.isTypeParameter()&&f.isFunctionTypeParameter()&&u.isSpecializingSignatureAtCallSite&&!u.isSpecializingConstructorMethod?f:u.findSpecializationForType(f);u.doneResolvingTypeArguments()}if(h=e.getTypeParameters(),o.length&&o.length!=h.length)return t.create(this.getNewErrorTypeSymbol(null),[u.postError(this.unitPath,i.minChar,i.getLength(),159,[e.toString(),e.getTypeParameters().length])]);var p=n.specializeType(e,o,this,r,u,i),c=null,v=null,y=null;for(l=0;l<o.length&&l<h.length;l++)if(f=o[l],c=h[l].getConstraint(),c){if(c.isTypeParameter())for(a=0;a<h.length&&a<o.length;a++)h[a]==c&&(c=o[a]);if(f.isTypeParameter()&&(v=f.getConstraint(),v&&(f=v)),f.isResolving())return t.fromSymbol(p);this.sourceIsAssignableToTarget(f,c,u)||(y=this.addDiagnostic(y,u.postError(this.unitPath,i.minChar,i.getLength(),155,[f.toString(!0),c.toString(!0),h[l].toString(!0)])))}return t.create(p,y)},r.prototype.resolveDottedTypeNameExpression=function(n,t,i){var r=this.getSymbolAndDiagnosticsForAST(n),u;return r||(r=this.computeDottedTypeNameExpression(n,t,i),this.setSymbolAndDiagnosticsForAST(n,r,i)),u=r.symbol,u.isResolved()||this.resolveDeclaredSymbol(u,t,i),r},r.prototype.computeDottedTypeNameExpression=function(i,r,u){var h,f,e,c,o,l;if(i.operand2.isMissing())return t.fromSymbol(this.semanticInfoChain.anyTypeSymbol);var s=i.operand2.text,a=u.resolvingTypeReference,v=u.resolvingNamespaceMemberAccess;if(u.resolvingNamespaceMemberAccess=!0,u.resolvingTypeReference=!0,h=this.resolveAST(i.operand1,!1,r,u).symbol,u.resolvingTypeReference=a,u.resolvingNamespaceMemberAccess=v,f=h.getType(),u.isResolvingClassExtendedType&&h.isAlias()&&h.setIsUsedAsValue(),this.isAnyOrEquivalent(f))return t.fromSymbol(f);if(!f)return t.create(this.getNewErrorTypeSymbol(null),[u.postError(this.unitPath,i.operand2.minChar,i.operand2.getLength(),162,[i.operand2.actualText])]);if(e=this.getMemberSymbol(s,n.PullElementKind.SomeType,f),!e&&f.isContainer()&&(c=f.getExportAssignedContainerSymbol(),c&&(e=this.getMemberSymbol(s,n.PullElementKind.SomeType,c))),!e&&r){for(o=r;o;){if(o.getKind()&n.PullElementKind.SomeContainer)break;o=o.getParentDecl()}o&&(l=o.getSymbol().getType(),l===f&&(e=this.getMemberSymbol(s,n.PullElementKind.SomeType,f)))}return e?t.fromSymbol(e):t.create(this.getNewErrorTypeSymbol(null,s),[u.postError(this.unitPath,i.operand2.minChar,i.operand2.getLength(),163,[i.operand2.actualText,f.getName()])])},r.prototype.resolveFunctionExpression=function(t,i,r,u){var s=null,f=this.getDeclForAST(t),b,v,p,l,o,y,e,k,w;if(f&&f.hasSymbol()&&(s=f.getSymbol(),s.isResolved()))return s;var a=i,h=null,c=null;if(t.returnTypeAnnotation&&(a=!1),a&&t.arguments)for(e=0;e<t.arguments.members.length;e++)if(t.arguments.members[e].typeExpr){a=!1;break}if(a&&(h=u.getContextualType(),h&&(this.resolveDeclaredSymbol(h,r,u),h&&(c=h.getCallSignatures()[0]))),b=this.semanticInfoChain.getUnit(this.unitPath),v=new n.DeclCollectionContext(b),v.scriptName=this.unitPath,r&&v.pushParent(r),n.getAstWalkerFactory().walk(t,n.preCollectDecls,n.postCollectDecls,null,v),f=this.getDeclForAST(t),this.currentUnit.addSynthesizedDecl(f),p=new n.PullSymbolBinder(this.semanticInfoChain),p.setUnit(this.unitPath),p.bindFunctionExpressionToPullSymbol(f),s=f.getSymbol(),l=s.getType().getCallSignatures()[0],t.arguments)for(o=[],y=null,c&&(o=c.getParameters()),e=0;e<t.arguments.members.length;e++)e<o.length&&!o[e].getIsVarArg()?y=o[e]:o.length&&o[o.length-1].getIsVarArg()&&(y=o[o.length-1].getType().getElementType()),this.resolveFunctionExpressionParameter(t.arguments.members[e],y,f,u);return t.returnTypeAnnotation?(k=this.resolveTypeReference(t.returnTypeAnnotation,f,u).symbol,l.setReturnType(k)):c?(w=c.getReturnType(),w?(u.pushContextualType(w,u.inProvisionalResolution(),null),this.resolveFunctionBodyReturnTypes(t,l,!0,f,u),u.popContextualType()):l.setReturnType(this.semanticInfoChain.anyTypeSymbol)):this.resolveFunctionBodyReturnTypes(t,l,!1,f,u),h&&s.addOutgoingLink(h,1),s.setResolved(),s},r.prototype.resolveThisExpression=function(n,t,i){var r=this.getSymbolAndDiagnosticsForAST(n);return r||(r=this.computeThisExpressionSymbol(n,t,i),this.setSymbolAndDiagnosticsForAST(n,r,i)),r},r.prototype.computeThisExpressionSymbol=function(i,r,u){var o,f,e,l;if(r){if(o=r.getKind(),o===4)return t.create(this.getNewErrorTypeSymbol(null),[u.postError(this.currentUnit.getPath(),i.minChar,i.getLength(),176)]);if(o&(n.PullElementKind.SomeFunction|1|n.PullElementKind.SomeBlock)){if(f=n.getPathToDecl(r),f.length)for(e=f.length-1;e>=0;e--){var s=f[e],h=s.getKind(),c=s.getFlags();if(c&16)break;else if(h!==131072||n.hasFlag(c,8192)){if(h===16384)break;else if(h===8)return l=s.getSymbol(),t.fromSymbol(l)}else break}}else return t.create(this.getNewErrorTypeSymbol(null),[u.postError(this.currentUnit.getPath(),i.minChar,i.getLength(),177)])}return t.fromSymbol(this.semanticInfoChain.anyTypeSymbol)},r.prototype.resolveSuperExpression=function(i,r,u){var o,f,s,e,h,c;if(!r)return t.fromSymbol(this.semanticInfoChain.anyTypeSymbol);if(o=r!==null?n.getPathToDecl(r):[],f=null,o.length)for(s=o.length-1;s>=0;s--)if(e=o[s],h=e.getFlags(),e.getKind()!==131072||h&8192){if(h&16)break;else if(e.getKind()===8){f=e.getSymbol();break}}else break;return f&&(f.isResolved()||this.resolveDeclaredSymbol(f,r,u),c=f.getExtendedTypes(),c.length)?t.fromSymbol(c[0]):t.fromSymbol(this.semanticInfoChain.anyTypeSymbol)},r.prototype.resolveObjectLiteralExpression=function(n,t,i,r,u){var f=this.getSymbolAndDiagnosticsForAST(n);return(!f||u)&&(f=this.computeObjectLiteralExpression(n,t,i,r,u),this.setSymbolAndDiagnosticsForAST(n,f,r)),f},r.prototype.computeObjectLiteralExpression=function(i,r,u,f,e){var y=i,rt=n.TextSpan.fromBounds(y.minChar,y.limChar),s=new n.PullDecl("","",512,0,rt,this.unitPath),v,d,p,o,c,l,g,w,ft,a,b,ut,h,k,et,nt,tt,it,ot;if(this.currentUnit.addSynthesizedDecl(s),u&&s.setParentDecl(u),this.currentUnit.setDeclForAST(y,s),this.currentUnit.setASTForDecl(s,y),v=new n.PullTypeSymbol("",16),v.addDeclaration(s),s.setSymbol(v),d=y.operand,p=null,r&&(p=f.getContextualType(),this.resolveDeclaredSymbol(p,u,f)),d)for(l=null,g=!1,e&&(e.membersContextTypeSymbols=[]),w=0,ft=d.members.length;w<ft;w++){if(o=d.members[w],a=o.operand1,a.nodeType===20)ut=a.actualText,b=a.text;else if(a.nodeType===5)ut=a.actualText,b=a.text;else return t.fromSymbol(this.semanticInfoChain.anyTypeSymbol);rt=n.TextSpan.fromBounds(o.minChar,o.limChar);h=new n.PullDecl(b,ut,4096,4,rt,this.unitPath);this.currentUnit.addSynthesizedDecl(h);s.addChildDecl(h);h.setParentDecl(s);this.semanticInfoChain.getUnit(this.unitPath).setDeclForAST(o,h);this.semanticInfoChain.getUnit(this.unitPath).setASTForDecl(h,o);c=new n.PullSymbol(b,4096);c.addDeclaration(h);h.setSymbol(c);p&&(l=this.getMemberSymbol(b,n.PullElementKind.SomeValue,p),l&&(this.resolveDeclaredSymbol(l,u,f),f.pushContextualType(l.getType(),f.inProvisionalResolution(),null),g=!0,e&&(e.membersContextTypeSymbols[w]=l.getType())));o.operand2.nodeType===12&&(k=o.operand2,k.isAccessor()&&(et=this.semanticInfoChain.getUnit(this.unitPath),nt=new n.DeclCollectionContext(et),nt.scriptName=this.unitPath,nt.pushParent(s),n.getAstWalkerFactory().walk(k,n.preCollectDecls,n.postCollectDecls,null,nt),tt=this.getDeclForAST(k),this.currentUnit.addSynthesizedDecl(tt),it=new n.PullSymbolBinder(this.semanticInfoChain),it.setUnit(this.unitPath),k.isGetAccessor()?it.bindGetAccessorDeclarationToPullSymbol(tt):it.bindSetAccessorDeclarationToPullSymbol(tt)));ot=this.resolveAST(o.operand2,l!=null,u,f).symbol;g&&(f.popContextualType(),g=!1);f.setTypeInContext(c,ot.getType());c.setResolved();this.setSymbolAndDiagnosticsForAST(o.operand1,t.fromSymbol(c),f);v.addMember(c,5)}return v.setResolved(),t.fromSymbol(v)},r.prototype.resolveArrayLiteralExpression=function(n,t,i,r){var u=this.getSymbolAndDiagnosticsForAST(n);return u||(u=this.computeArrayLiteralExpressionSymbol(n,t,i,r),this.setSymbolAndDiagnosticsForAST(n,u,r)),u},r.prototype.computeArrayLiteralExpressionSymbol=function(i,r,u,f){var v=i.operand,e=this.semanticInfoChain.anyTypeSymbol,c=[],l=new n.TypeComparisonInfo,o=null,h,s,w,b,a;if(l.onlyCaptureFirstError=!0,r&&(h=f.getContextualType(),this.resolveDeclaredSymbol(h,u,f),h&&h.isArray()&&(o=h.getElementType())),v){for(r&&f.pushContextualType(o,f.inProvisionalResolution(),null),s=0;s<v.members.length;s++)c[c.length]=this.resolveAST(v.members[s],r,u,f).symbol.getType();r&&f.popContextualType()}if(o&&!o.isTypeParameter())for(e=o,s=0;s<c.length;s++){var l=new n.TypeComparisonInfo,p=c[s],y=v.members[s];if(!this.sourceIsAssignableToTarget(p,o,f,l))return w=l.message?f.postError(this.getUnitPath(),y.minChar,y.getLength(),81,[p.toString(),o.toString(),l.message]):f.postError(this.getUnitPath(),y.minChar,y.getLength(),80,[p.toString(),o.toString()]),t.create(this.getNewErrorTypeSymbol(null),[w])}else c.length?e=c[0]:o&&(e=o),b={getLength:function(){return v.members.length},setTypeAtIndex:function(n,t){c[n]=t},getTypeAtIndex:function(n){return c[n]}},e=this.findBestCommonType(e,null,b,f,l),(e===this.semanticInfoChain.undefinedTypeSymbol||e===this.semanticInfoChain.nullTypeSymbol)&&(e=this.semanticInfoChain.anyTypeSymbol),e?h&&!h.isTypeParameter()&&this.sourceIsAssignableToTarget(e,h,f)&&(e=h):e=this.semanticInfoChain.anyTypeSymbol;return a=e.getArrayType(),a||(this.cachedArrayInterfaceType().isResolved()||this.resolveDeclaredSymbol(this.cachedArrayInterfaceType(),u,f),a=n.specializeToArrayType(this.semanticInfoChain.elementTypeSymbol,e,this,f),a||(a=this.semanticInfoChain.anyTypeSymbol)),t.fromSymbol(a)},r.prototype.resolveIndexExpression=function(n,t,i,r){var u=this.getSymbolAndDiagnosticsForAST(n);return u||(u=this.computeIndexExpressionSymbol(n,t,i,r),this.setSymbolAndDiagnosticsForAST(n,u,r)),u},r.prototype.computeIndexExpressionSymbol=function(i,r,u,f){var g=this.resolveAST(i.operand1,r,u,f).symbol,s=g.getType(),k,p,h,e;if(this.isAnyOrEquivalent(s))return t.fromSymbol(s);var b=s.getElementType(),o=this.resolveAST(i.operand2,r,u,f).symbol.getType(),c=o===this.semanticInfoChain.numberTypeSymbol||n.PullHelpers.symbolIsEnum(o);if(b&&c)return t.fromSymbol(b);if((i.operand2.nodeType===5||i.operand2.nodeType===7)&&(k=i.operand2.nodeType===5?n.stripQuotes(i.operand2.actualText):n.quoteStr(i.operand2.value.toString()),p=this.getMemberSymbol(k,n.PullElementKind.SomeValue,s),p))return t.fromSymbol(p.getType());var l=s.getIndexSignatures(),a=null,v=null,d=null,w,y;for(h=0;h<l.length;h++){if(a&&v)break;if(d=l[h],w=d.getParameters(),w.length)if(y=w[0].getType(),y===this.semanticInfoChain.stringTypeSymbol){a=l[h];continue}else if(y===this.semanticInfoChain.numberTypeSymbol||y.getKind()===64){v=l[h];continue}}return v&&(c||o===this.semanticInfoChain.anyTypeSymbol)?(e=v.getReturnType(),e||(e=this.semanticInfoChain.anyTypeSymbol),t.fromSymbol(e)):a&&(c||o===this.semanticInfoChain.anyTypeSymbol||o===this.semanticInfoChain.stringTypeSymbol)?(e=a.getReturnType(),e||(e=this.semanticInfoChain.anyTypeSymbol),t.fromSymbol(e)):c||o===this.semanticInfoChain.anyTypeSymbol||o===this.semanticInfoChain.stringTypeSymbol?(e=this.semanticInfoChain.anyTypeSymbol,t.fromSymbol(e)):t.create(this.getNewErrorTypeSymbol(null),[f.postError(this.getUnitPath(),i.minChar,i.getLength(),77,[s.toString(!1),o.toString(!1)])])},r.prototype.resolveBitwiseOperator=function(n,t,i,r){var e=n,f=this.resolveAST(e.operand1,t,i,r).symbol.getType(),u=this.resolveAST(e.operand2,t,i,r).symbol.getType();if(this.sourceIsSubtypeOfTarget(f,this.semanticInfoChain.numberTypeSymbol,r)&&this.sourceIsSubtypeOfTarget(u,this.semanticInfoChain.numberTypeSymbol,r))return this.semanticInfoChain.numberTypeSymbol;if(f===this.semanticInfoChain.booleanTypeSymbol&&u===this.semanticInfoChain.booleanTypeSymbol)return this.semanticInfoChain.booleanTypeSymbol;if(this.isAnyOrEquivalent(f)){if(this.isAnyOrEquivalent(u)||u===this.semanticInfoChain.numberTypeSymbol||u===this.semanticInfoChain.booleanTypeSymbol)return this.semanticInfoChain.anyTypeSymbol}else if(this.isAnyOrEquivalent(u)&&(f===this.semanticInfoChain.numberTypeSymbol||f===this.semanticInfoChain.booleanTypeSymbol))return this.semanticInfoChain.anyTypeSymbol;return this.semanticInfoChain.anyTypeSymbol},r.prototype.resolveArithmeticExpression=function(n,i,r,u){var f=this.resolveAST(n.operand1,i,r,u).symbol.getType(),e=this.resolveAST(n.operand2,i,r,u).symbol.getType();return this.isNullOrUndefinedType(f)&&(f=e),this.isNullOrUndefinedType(e)&&(e=f),f=this.widenType(f),e=this.widenType(e),n.nodeType===64||n.nodeType===39?f===this.semanticInfoChain.stringTypeSymbol||e===this.semanticInfoChain.stringTypeSymbol?t.fromSymbol(this.semanticInfoChain.stringTypeSymbol):f===this.semanticInfoChain.numberTypeSymbol&&e===this.semanticInfoChain.numberTypeSymbol?t.fromSymbol(this.semanticInfoChain.numberTypeSymbol):this.sourceIsSubtypeOfTarget(f,this.semanticInfoChain.numberTypeSymbol,u)&&this.sourceIsSubtypeOfTarget(e,this.semanticInfoChain.numberTypeSymbol,u)?t.fromSymbol(this.semanticInfoChain.numberTypeSymbol):t.fromSymbol(this.semanticInfoChain.anyTypeSymbol):f===this.semanticInfoChain.numberTypeSymbol&&e===this.semanticInfoChain.numberTypeSymbol?t.fromSymbol(this.semanticInfoChain.numberTypeSymbol):this.sourceIsSubtypeOfTarget(f,this.semanticInfoChain.numberTypeSymbol,u)&&this.sourceIsSubtypeOfTarget(e,this.semanticInfoChain.numberTypeSymbol,u)?t.fromSymbol(this.semanticInfoChain.numberTypeSymbol):this.isAnyOrEquivalent(f)||this.isAnyOrEquivalent(e)?t.fromSymbol(this.semanticInfoChain.numberTypeSymbol):t.fromSymbol(this.semanticInfoChain.anyTypeSymbol)},r.prototype.resolveLogicalOrExpression=function(n,t,i,r){var u=this.getSymbolAndDiagnosticsForAST(n);return u||(u=this.computeLogicalOrExpressionSymbol(n,t,i,r),this.setSymbolAndDiagnosticsForAST(n,u,r)),u},r.prototype.computeLogicalOrExpressionSymbol=function(n,i,r,u){var f=this.resolveAST(n.operand1,i,r,u).symbol.getType(),e=this.resolveAST(n.operand2,i,r,u).symbol.getType();return this.isAnyOrEquivalent(f)||this.isAnyOrEquivalent(e)?t.fromSymbol(this.semanticInfoChain.anyTypeSymbol):f===this.semanticInfoChain.booleanTypeSymbol?e===this.semanticInfoChain.booleanTypeSymbol?t.fromSymbol(this.semanticInfoChain.booleanTypeSymbol):t.fromSymbol(this.semanticInfoChain.anyTypeSymbol):f===this.semanticInfoChain.numberTypeSymbol?e===this.semanticInfoChain.numberTypeSymbol?t.fromSymbol(this.semanticInfoChain.numberTypeSymbol):t.fromSymbol(this.semanticInfoChain.anyTypeSymbol):f===this.semanticInfoChain.stringTypeSymbol?e===this.semanticInfoChain.stringTypeSymbol?t.fromSymbol(this.semanticInfoChain.stringTypeSymbol):t.fromSymbol(this.semanticInfoChain.anyTypeSymbol):this.sourceIsSubtypeOfTarget(f,e,u)?t.fromSymbol(e):this.sourceIsSubtypeOfTarget(e,f,u)?t.fromSymbol(f):t.fromSymbol(this.semanticInfoChain.anyTypeSymbol)},r.prototype.resolveLogicalAndExpression=function(n,i,r,u){return t.fromSymbol(this.resolveAST(n.operand2,i,r,u).symbol.getType())},r.prototype.resolveConditionalExpression=function(n,t,i){var r=this.getSymbolAndDiagnosticsForAST(n);return r||(r=this.computeConditionalExpressionSymbol(n,t,i),this.setSymbolAndDiagnosticsForAST(n,r,i)),r},r.prototype.computeConditionalExpressionSymbol=function(n,i,r){var u=this.resolveAST(n.operand2,!1,i,r).symbol.getType(),f=this.resolveAST(n.operand3,!1,i,r).symbol.getType(),e=null,s,o;return(this.typesAreIdentical(u,f)?e=u:(this.sourceIsSubtypeOfTarget(u,f,r)||this.sourceIsSubtypeOfTarget(f,u,r))&&(s={getLength:function(){return 2},setTypeAtIndex:function(){},getTypeAtIndex:function(){return f}},o=this.findBestCommonType(u,null,s,r),o&&(e=o)),!e)?t.create(this.getNewErrorTypeSymbol(null),[r.postError(this.getUnitPath(),n.minChar,n.getLength(),160,[u.toString(!1),f.toString(!1)])]):t.fromSymbol(e)},r.prototype.resolveParenthesizedExpression=function(n,t,i){return this.resolveAST(n.expression,!1,t,i).withoutDiagnostics()},r.prototype.resolveExpressionStatement=function(n,t,i,r){return this.resolveAST(n.expression,t,i,r).withoutDiagnostics()},r.prototype.resolveCallExpression=function(n,t,i,r,u){if(u)return this.computeCallExpressionSymbol(n,t,i,r,u);var f=this.getSymbolAndDiagnosticsForAST(n);return f&&f.symbol.isResolved()||(f=this.computeCallExpressionSymbol(n,t,i,r,null),this.setSymbolAndDiagnosticsForAST(n,f,r)),f},r.prototype.computeCallExpressionSymbol=function(i,r,u,f,e){var rt=this.resolveAST(i.target,r,u,f).symbol,a=this.getLastIdentifierInTarget(i),c=rt.getType(),s,ft,h,yt,l,g,p,pt,y,wt,kt,ot,st,o;if(this.isAnyOrEquivalent(c))return i.typeArguments?t.create(this.getNewErrorTypeSymbol(null),[f.postError(this.unitPath,a.minChar,a.getLength(),223)]):t.fromSymbol(this.semanticInfoChain.anyTypeSymbol);if(s=[],ft=!1,i.target.nodeType===30)if(ft=!0,c.isClass())rt=c.getConstructorMethod(),c=rt.getType();else return s=this.addDiagnostic(s,f.postError(this.unitPath,a.minChar,a.getLength(),158)),t.create(this.getNewErrorTypeSymbol(null),s);h=ft?c.getConstructSignatures():c.getCallSignatures();h.length||c.getKind()!=33554432||(s=this.addDiagnostic(s,f.postError(this.unitPath,a.minChar,a.getLength(),227,[c.toString()])));var ut=null,nt=null,vt=!1,et;if(i.typeArguments){if(ut=[],i.typeArguments&&i.typeArguments.members.length)for(o=0;o<i.typeArguments.members.length;o++)yt=this.resolveTypeReference(i.typeArguments.members[o],u,f).symbol,ut[o]=f.findSpecializationForType(yt)}else ft&&c.isGeneric()&&(ut=c.getTypeArguments());if(c.isGeneric()){var d=[],v,ht,b,k=null,dt=f.specializingToAny,gt=f.isSpecializingSignatureAtCallSite,tt=h,ct;for(o=0;o<h.length;o++)if(b=h[o].getTypeParameters(),et=!1,ct=!1,h[o].isGeneric()&&b.length&&!h[o].isFixed()){if(ut?v=ut:i.arguments&&(v=this.inferArgumentTypesForSignature(h[o],i.arguments,new n.TypeComparisonInfo,u,f),ct=!0),v){if(nt={},v.length){if(v.length!=b.length)continue;for(l=0;l<b.length;l++)nt[b[l].getSymbolID().toString()]=v[l];for(l=0;l<b.length;l++)if(k=b[l].getConstraint(),k){if(k.isTypeParameter())for(y=0;y<b.length&&y<v.length;y++)b[y]==k&&(k=v[y]);if(k.isTypeParameter()&&(f.pushTypeSpecializationCache(nt),k=n.specializeType(k,null,this,u,f),f.popTypeSpecializationCache()),f.isComparingSpecializedSignatures=!0,this.sourceIsAssignableToTarget(v[l],k,f)||(s=this.addDiagnostic(s,f.postError(this.unitPath,a.minChar,a.getLength(),155,[v[l].toString(!0),k.toString(!0),b[l].toString(!0)])),et=!0),f.isComparingSpecializedSignatures=!1,et)break}}else{if(ct)if(h[o].parametersAreFixed())h[o].hasGenericParameter()?f.specializingToAny=!0:d[d.length]=h[o];else continue;f.specializingToAny=!0}if(et)continue;f.isSpecializingSignatureAtCallSite=!0;ht=n.specializeSignature(h[o],!1,nt,v,this,u,f);f.isSpecializingSignatureAtCallSite=gt;f.specializingToAny=dt;ht&&(d[d.length]=ht)}}else i.typeArguments&&i.typeArguments.members.length||(d[d.length]=h[o]);h.length&&!d.length&&(vt=!0);h=d}if(g=null,!h.length){if(e&&(e.targetSymbol=rt,e.targetTypeSymbol=c,e.resolvedSignatures=tt,e.candidateSignature=tt&&tt.length?tt[0]:null,e.actualParametersContextTypeSymbols=st),vt)s=this.addDiagnostic(s,f.postError(this.unitPath,i.minChar,i.getLength(),156)),g=this.getNewErrorTypeSymbol(null);else{if(this.cachedFunctionInterfaceType()&&this.sourceIsSubtypeOfTarget(c,this.cachedFunctionInterfaceType(),f))return t.create(this.semanticInfoChain.anyTypeSymbol,s);s=this.addDiagnostic(s,f.postError(this.unitPath,i.minChar,i.getLength(),157));g=this.getNewErrorTypeSymbol(null)}return t.create(g,s)}if(p=this.resolveOverloads(i,h,u,i.typeArguments!=null,f,s),pt=p==null,!p){if(s=this.addDiagnostic(s,f.postError(this.unitPath,a.minChar,a.getLength(),156)),g=this.getNewErrorTypeSymbol(null),!h.length)return t.create(g,s);if(p=h[0],i.arguments)for(y=0,wt=i.arguments.members.length;y<wt;y++){var lt=i.arguments.members[y],bt=this.getSymbolAndDiagnosticsForAST(lt),at=bt&&bt.symbol;if(at){if(kt=at.getType(),lt.nodeType===12&&!this.canApplyContextualTypeToFunction(kt,lt,!0))continue;at.invalidate()}}}if(!p.isGeneric()&&i.typeArguments&&(s=this.addDiagnostic(s,f.postError(this.unitPath,a.minChar,a.getLength(),224))),ot=p.getReturnType(),st=[],i.arguments){var ni=i.arguments.members.length,it=p.getParameters(),w=null,ti=p.getDeclarations()[0];for(o=0;o<ni;o++)it.length&&(o<it.length-1||o<it.length&&!p.hasVariableParamList()?(nt&&f.pushTypeSpecializationCache(nt),this.resolveDeclaredSymbol(it[o],ti,f),nt&&f.popTypeSpecializationCache(),w=it[o].getType()):p.hasVariableParamList()&&(w=it[it.length-1].getType(),w.isArray()&&(w=w.getElementType()))),w&&(f.pushContextualType(w,f.inProvisionalResolution(),null),st[o]=w),this.resolveAST(i.arguments.members[o],w!=null,u,f),w&&(f.popContextualType(),w=null)}return(e&&(e.targetSymbol=rt,e.targetTypeSymbol=c,pt&&tt?(e.resolvedSignatures=tt,e.candidateSignature=tt[0]):(e.resolvedSignatures=h,e.candidateSignature=p),e.actualParametersContextTypeSymbols=st),g)?t.create(g,s):(ot||(ot=this.semanticInfoChain.anyTypeSymbol),t.fromSymbol(ot))},r.prototype.resolveNewExpression=function(n,t,i,r,u){if(u)return this.computeNewExpressionSymbol(n,t,i,r,u);var f=this.getSymbolAndDiagnosticsForAST(n);return f&&f.symbol.isResolved()||(f=this.computeNewExpressionSymbol(n,t,i,r,null),this.setSymbolAndDiagnosticsForAST(n,f,r)),f},r.prototype.computeNewExpressionSymbol=function(i,r,u,f,e){var h=null,rt=this.resolveAST(i.target,r,u,f).symbol,a=rt.isType()?rt:rt.getType(),d=this.getLastIdentifierInTarget(i),c,lt,l,v,vt,ut,p,yt,wt,ht,o;a.isClass()&&(a=a.getConstructorMethod().getType());var s=a.getConstructSignatures(),g=null,nt=null,ct=!1,ft;if(this.isAnyOrEquivalent(a))return t.fromSymbol(a);if(s.length||(s=a.getCallSignatures(),ct=!0),c=[],s.length){if(i.typeArguments&&(g=[],i.typeArguments&&i.typeArguments.members.length))for(o=0;o<i.typeArguments.members.length;o++)lt=this.resolveTypeReference(i.typeArguments.members[o],u,f).symbol,g[o]=f.findSpecializationForType(lt);if(a.isGeneric()){var tt=[],y,et,k,b=null,bt=f.specializingToAny,kt=f.isSpecializingSignatureAtCallSite=!0,at;for(o=0;o<s.length;o++)if(ft=!1,s[o].isGeneric()&&!s[o].isFixed()){if(g?y=g:i.arguments&&(y=this.inferArgumentTypesForSignature(s[o],i.arguments,new n.TypeComparisonInfo,u,f),at=!0),y){if(k=s[o].getTypeParameters(),nt={},y.length){if(y.length<k.length)continue;for(l=0;l<k.length;l++)nt[k[l].getSymbolID().toString()]=y[l];for(l=0;l<k.length;l++)if(b=k[l].getConstraint(),b){if(b.isTypeParameter())for(p=0;p<k.length&&p<y.length;p++)k[p]==b&&(b=y[p]);if(b.isTypeParameter()&&(f.pushTypeSpecializationCache(nt),b=n.specializeType(b,null,this,u,f),f.popTypeSpecializationCache()),f.isComparingSpecializedSignatures=!0,this.sourceIsAssignableToTarget(y[l],b,f)||(c=this.addDiagnostic(c,f.postError(this.unitPath,d.minChar,d.getLength(),155,[y[l].toString(!0),b.toString(!0),k[l].toString(!0)])),ft=!0),f.isComparingSpecializedSignatures=!1,ft)break}}else{if(at)if(s[o].parametersAreFixed())s[o].hasGenericParameter()?f.specializingToAny=!0:tt[tt.length]=s[o];else continue;f.specializingToAny=!0}if(ft)continue;f.isSpecializingSignatureAtCallSite=!0;et=n.specializeSignature(s[o],!1,nt,y,this,u,f);f.specializingToAny=bt;f.isSpecializingSignatureAtCallSite=kt;et&&(tt[tt.length]=et)}}else i.typeArguments&&i.typeArguments.members.length||(tt[tt.length]=s[o]);s=tt}if(v=this.resolveOverloads(i,s,u,i.typeArguments!=null,f,c),e&&(e.targetSymbol=rt,e.targetTypeSymbol=a,e.resolvedSignatures=s,e.candidateSignature=v,e.actualParametersContextTypeSymbols=[]),!s.length&&c)return vt=this.getNewErrorTypeSymbol(null),t.create(vt,c);if(ut=null,!v){if(c=this.addDiagnostic(c,f.postError(this.unitPath,d.minChar,d.getLength(),154)),ut=this.getNewErrorTypeSymbol(null),!s.length)return t.create(ut,c);if(v=s[0],i.arguments)for(p=0,yt=i.arguments.members.length;p<yt;p++){var ot=i.arguments.members[p],pt=this.getSymbolAndDiagnosticsForAST(ot),st=pt&&pt.symbol;if(st){if(wt=st.getType(),ot.nodeType===12&&!this.canApplyContextualTypeToFunction(wt,ot,!0))continue;st.invalidate()}}}if(h=v.getReturnType(),h&&!v.isGeneric()&&h.isGeneric()&&!h.getIsSpecialized()&&(h=g&&g.length?n.specializeType(h,g,this,u,f,i):this.specializeTypeToAny(h,u,f)),ct){if(h!=this.semanticInfoChain.voidTypeSymbol)return c=this.addDiagnostic(c,f.postError(this.unitPath,d.minChar,d.getLength(),153)),t.create(this.getNewErrorTypeSymbol(null),c);h=this.semanticInfoChain.anyTypeSymbol}if(h||(h=v.getReturnType(),h||(h=a)),ht=[],i.arguments){var dt=i.arguments.members.length,it=v.getParameters(),w=null,gt=v.getDeclarations()[0];for(o=0;o<dt;o++)it.length&&(o<it.length-1||o<it.length&&!v.hasVariableParamList()?(nt&&f.pushTypeSpecializationCache(nt),this.resolveDeclaredSymbol(it[o],gt,f),nt&&f.popTypeSpecializationCache(),w=it[o].getType()):v.hasVariableParamList()&&(w=it[it.length-1].getType(),w.isArray()&&(w=w.getElementType()))),w&&(f.pushContextualType(w,f.inProvisionalResolution(),null),ht[o]=w),this.resolveAST(i.arguments.members[o],w!=null,u,f),w&&(f.popContextualType(),w=null)}return(e&&(e.targetSymbol=rt,e.targetTypeSymbol=a,e.resolvedSignatures=s,e.candidateSignature=v,e.actualParametersContextTypeSymbols=ht),ut)?t.create(ut,c):(h||(h=this.semanticInfoChain.anyTypeSymbol),t.fromSymbol(h))}return a.isClass()?t.fromSymbol(h):(c=this.addDiagnostic(c,f.postError(this.unitPath,d.minChar,d.getLength(),152)),t.create(this.getNewErrorTypeSymbol(null),c))},r.prototype.resolveTypeAssertionExpression=function(n,t,i,r){return this.resolveTypeReference(n.castTerm,i,r)},r.prototype.resolveAssignmentStatement=function(n,t,i,r){var u=this.getSymbolAndDiagnosticsForAST(n);return u||(u=this.computeAssignmentStatementSymbol(n,t,i,r),this.setSymbolAndDiagnosticsForAST(n,u,r)),u},r.prototype.computeAssignmentStatementSymbol=function(n,i,r,u){var f=this.resolveAST(n.operand1,i,r,u).symbol.getType();return u.pushContextualType(f,u.inProvisionalResolution(),null),this.resolveAST(n.operand2,!0,r,u),u.popContextualType(),t.fromSymbol(f)},r.prototype.resolveBoundDecls=function(n,t){var u,r,e,o,s,i,f;if(n)switch(n.getKind()){case 1:for(u=n.getChildDecls(),r=0;r<u.length;r++)this.resolveBoundDecls(u[r],t);break;case 32:case 4:case 64:e=this.semanticInfoChain.getASTForDecl(n);this.resolveModuleDeclaration(e,t);break;case 16:o=this.semanticInfoChain.getASTForDecl(n);this.resolveInterfaceDeclaration(o,t);break;case 8:s=this.semanticInfoChain.getASTForDecl(n);this.resolveClassDeclaration(s,t);break;case 65536:case 16384:i=this.semanticInfoChain.getASTForDecl(n);this.resolveFunctionDeclaration(i,t);break;case 262144:i=this.semanticInfoChain.getASTForDecl(n);this.resolveGetAccessorDeclaration(i,t);break;case 524288:i=this.semanticInfoChain.getASTForDecl(n);this.resolveSetAccessorDeclaration(i,t);break;case 4096:case 1024:case 2048:f=this.semanticInfoChain.getASTForDecl(n);f&&this.resolveVariableDeclaration(f,t)}},r.prototype.mergeOrdered=function(t,i,r,u){var f,e;if(this.isAnyOrEquivalent(t)||this.isAnyOrEquivalent(i))return this.semanticInfoChain.anyTypeSymbol;if(t===i||i===this.semanticInfoChain.nullTypeSymbol&&t!=this.semanticInfoChain.nullTypeSymbol)return t;if(t===this.semanticInfoChain.nullTypeSymbol&&i!=this.semanticInfoChain.nullTypeSymbol)return i;if(t===this.semanticInfoChain.voidTypeSymbol&&(i===this.semanticInfoChain.voidTypeSymbol||i===this.semanticInfoChain.undefinedTypeSymbol||i===this.semanticInfoChain.nullTypeSymbol))return t;if(t===this.semanticInfoChain.voidTypeSymbol&&i===this.semanticInfoChain.anyTypeSymbol)return i;if(i===this.semanticInfoChain.undefinedTypeSymbol&&t!=this.semanticInfoChain.voidTypeSymbol)return t;if(t===this.semanticInfoChain.undefinedTypeSymbol&&i!=this.semanticInfoChain.undefinedTypeSymbol||t.isTypeParameter()&&!i.isTypeParameter())return i;if(!t.isTypeParameter()&&i.isTypeParameter())return t;if(t.isArray()&&i.isArray()){if(t.getElementType()===i.getElementType())return t;if(f=this.mergeOrdered(t.getElementType(),i.getElementType(),r,u),f)return e=f.getArrayType(),e||(e=n.specializeToArrayType(this.semanticInfoChain.elementTypeSymbol,f,this,r)),e}else{if(this.sourceIsSubtypeOfTarget(t,i,r,u))return i;if(this.sourceIsSubtypeOfTarget(i,t,r,u))return t}return null},r.prototype.widenType=function(n){return n===this.semanticInfoChain.undefinedTypeSymbol||n===this.semanticInfoChain.nullTypeSymbol||n.isError()?this.semanticInfoChain.anyTypeSymbol:n},r.prototype.isNullOrUndefinedType=function(n){return n===this.semanticInfoChain.nullTypeSymbol||n===this.semanticInfoChain.undefinedTypeSymbol},r.prototype.canApplyContextualType=function(t){if(!t)return!0;var i=t.getKind();return(i&8388608)!=0?!0:(i&16)!=0?!0:(i&n.PullElementKind.SomeFunction)!=0?this.canApplyContextualTypeToFunction(t,this.semanticInfoChain.getASTForDecl(t.getDeclarations[0]),!0):(i&128)!=0||t==this.semanticInfoChain.anyTypeSymbol||i!=2?!0:!1},r.prototype.findBestCommonType=function(t,i,r,u,f){var l=r.getLength(),h=0,e=t,o,s,a,c;for(i&&this.canApplyContextualType(e)&&(e=e?this.mergeOrdered(e,i,u):i),o=e;h<l;){for(s=0;s<l;s++)if(s!==h)if(o&&(e=this.mergeOrdered(o,r.getTypeAtIndex(s),u,f))&&(o=e),e===null||this.isAnyOrEquivalent(e))break;else!i||e.isTypeParameter()||i.isTypeParameter()||r.setTypeAtIndex(s,i);if(o&&e)break;h++;h<l&&(o=r.getTypeAtIndex(h))}return e||(a=new n.PullDecl("{}","{}",8388608,0,new n.TextSpan(0,0),this.currentUnit.getPath()),c=new n.PullTypeSymbol("{}",8388608),a.setSymbol(c),c.addDeclaration(a),e=c),e},r.prototype.typesAreIdentical=function(t,i,r){var a,v,u,l,f,y,c;if(t===i)return!0;if(!t||!i)return!1;if(r&&t.isPrimitive()&&t.isStringConstant()&&i===this.semanticInfoChain.stringTypeSymbol)return r.nodeType===5&&n.stripQuotes(r.actualText)===n.stripQuotes(t.getName());if(r&&i.isPrimitive()&&i.isStringConstant()&&i===this.semanticInfoChain.stringTypeSymbol)return r.nodeType===5&&n.stripQuotes(r.actualText)===n.stripQuotes(i.getName());if(t.isPrimitive()&&t.isStringConstant()&&i.isPrimitive()&&i.isStringConstant())return n.stripQuotes(t.getName())===n.stripQuotes(i.getName());if(t.isPrimitive()||i.isPrimitive()||t.isClass())return!1;if(t.isError()&&i.isError())return!0;if(t.isTypeParameter())return i.isTypeParameter()?(a=t.getDeclarations()[0].getParentDecl(),v=i.getDeclarations()[0].getParentDecl(),a===v?this.symbolsShareDeclaration(t,i):!0):!1;if(u=i.getSymbolID().toString()+"#"+t.getSymbolID().toString(),this.identicalCache[u]!=undefined)return!0;if(t.getKind()&64||i.getKind()&64)return t.getAssociatedContainerType()===i||i.getAssociatedContainerType()===t;if(t.isArray()||i.isArray())return(t.isArray()&&i.isArray())?(this.identicalCache[u]=!1,l=this.typesAreIdentical(t.getElementType(),i.getElementType()),this.identicalCache[u]=l?!0:undefined,l):!1;if(t.isPrimitive()!=i.isPrimitive())return!1;if(this.identicalCache[u]=!1,t.hasMembers()&&i.hasMembers()){if(f=t.getMembers(),y=i.getMembers(),f.length!=y.length)return this.identicalCache[u]=undefined,!1;var e=null,o=null,s=null,h=null;for(c=0;c<f.length;c++){if(e=f[c],o=this.getMemberSymbol(e.getName(),n.PullElementKind.SomeValue,i),!o||e.getIsOptional()!=o.getIsOptional())return this.identicalCache[u]=undefined,!1;if((s=e.getType(),h=o.getType(),!s||!h||this.identicalCache[h.getSymbolID().toString()+"#"+s.getSymbolID().toString()]==undefined)&&!this.typesAreIdentical(s,h))return this.identicalCache[u]=undefined,!1}}else if(t.hasMembers()||i.hasMembers())return this.identicalCache[u]=undefined,!1;var p=t.getCallSignatures(),w=i.getCallSignatures(),b=t.getConstructSignatures(),k=i.getConstructSignatures(),d=t.getIndexSignatures(),g=i.getIndexSignatures();return this.signatureGroupsAreIdentical(p,w)?this.signatureGroupsAreIdentical(b,k)?this.signatureGroupsAreIdentical(d,g)?(this.identicalCache[u]=!0,!0):(this.identicalCache[u]=undefined,!1):(this.identicalCache[u]=undefined,!1):(this.identicalCache[u]=undefined,!1)},r.prototype.signatureGroupsAreIdentical=function(n,t){var i,r;if(n===t)return!0;if(!n||!t||n.length!=t.length)return!1;var f=null,e=null,u=!1;for(i=0;i<n.length;i++){for(f=n[i],r=0;r<t.length;r++)if(e=t[r],this.signaturesAreIdentical(f,e)){u=!0;break}if(u){u=!1;continue}return!1}return!0},r.prototype.signaturesAreIdentical=function(n,t){var r,u,i;if(n.hasVariableParamList()!=t.hasVariableParamList()||n.getNonOptionalParameterCount()!=t.getNonOptionalParameterCount()||(r=n.getParameters(),u=t.getParameters(),r.length!=u.length)||!this.typesAreIdentical(n.getReturnType(),t.getReturnType()))return!1;for(i=0;i<r.length;i++)if(!this.typesAreIdentical(r[i].getType(),u[i].getType()))return!1;return!0},r.prototype.substituteUpperBoundForType=function(n){if(!n||!n.isTypeParameter())return n;var t=n.getConstraint();return t?this.substituteUpperBoundForType(t):this.cachedObjectInterfaceType()?this.cachedObjectInterfaceType():n},r.prototype.symbolsShareDeclaration=function(n,t){var i=n.getDeclarations(),r=t.getDeclarations();return i.length&&r.length?i[0].isEqual(r[0]):!1},r.prototype.sourceIsSubtypeOfTarget=function(n,t,i,r){return this.sourceIsRelatableToTarget(n,t,!1,this.subtypeCache,i,r)},r.prototype.sourceMembersAreSubtypeOfTargetMembers=function(n,t,i,r){return this.sourceMembersAreRelatableToTargetMembers(n,t,!1,this.subtypeCache,i,r)},r.prototype.sourcePropertyIsSubtypeOfTargetProperty=function(n,t,i,r,u,f){return this.sourcePropertyIsRelatableToTargetProperty(n,t,i,r,!1,this.subtypeCache,u,f)},r.prototype.sourceCallSignaturesAreSubtypeOfTargetCallSignatures=function(n,t,i,r){return this.sourceCallSignaturesAreRelatableToTargetCallSignatures(n,t,!1,this.subtypeCache,i,r)},r.prototype.sourceConstructSignaturesAreSubtypeOfTargetConstructSignatures=function(n,t,i,r){return this.sourceConstructSignaturesAreRelatableToTargetConstructSignatures(n,t,!1,this.subtypeCache,i,r)},r.prototype.sourceIndexSignaturesAreSubtypeOfTargetIndexSignatures=function(n,t,i,r){return this.sourceIndexSignaturesAreRelatableToTargetIndexSignatures(n,t,!1,this.subtypeCache,i,r)},r.prototype.typeIsSubtypeOfFunction=function(n,t){var r=n.getCallSignatures(),i;return r.length?!0:(i=n.getConstructSignatures(),i.length)?!0:this.cachedFunctionInterfaceType()?this.sourceIsSubtypeOfTarget(n,this.cachedFunctionInterfaceType(),t):!1},r.prototype.signatureGroupIsSubtypeOfTarget=function(n,t,i,r){return this.signatureGroupIsRelatableToTarget(n,t,!1,this.subtypeCache,i,r)},r.prototype.signatureIsSubtypeOfTarget=function(n,t,i,r){return this.signatureIsRelatableToTarget(n,t,!1,this.subtypeCache,i,r)},r.prototype.sourceIsAssignableToTarget=function(n,t,i,r,u){typeof u=="undefined"&&(u=!1);var f=u?{}:this.assignableCache;return this.sourceIsRelatableToTarget(n,t,!0,f,i,r)},r.prototype.signatureGroupIsAssignableToTarget=function(n,t,i,r){return this.signatureGroupIsRelatableToTarget(n,t,!0,this.assignableCache,i,r)},r.prototype.signatureIsAssignableToTarget=function(n,t,i,r){return this.signatureIsRelatableToTarget(n,t,!0,this.assignableCache,i,r)},r.prototype.sourceIsRelatableToTarget=function(t,i,r,u,f,e){var o,s,h,c,l;if(t===i||!(t&&i)||f.specializingToAny&&(i.isTypeParameter()||t.isTypeParameter())||(f.specializingToObject&&(i.isTypeParameter()&&(i=this.cachedObjectInterfaceType()),t.isTypeParameter()&&(i=this.cachedObjectInterfaceType())),o=t,t==this.semanticInfoChain.stringTypeSymbol&&this.cachedStringInterfaceType()?(this.cachedStringInterfaceType().isResolved()||this.resolveDeclaredSymbol(this.cachedStringInterfaceType(),null,f),o=this.cachedStringInterfaceType()):t==this.semanticInfoChain.numberTypeSymbol&&this.cachedNumberInterfaceType()?(this.cachedNumberInterfaceType().isResolved()||this.resolveDeclaredSymbol(this.cachedNumberInterfaceType(),null,f),o=this.cachedNumberInterfaceType()):t==this.semanticInfoChain.booleanTypeSymbol&&this.cachedBooleanInterfaceType()?(this.cachedBooleanInterfaceType().isResolved()||this.resolveDeclaredSymbol(this.cachedBooleanInterfaceType(),null,f),o=this.cachedBooleanInterfaceType()):n.PullHelpers.symbolIsEnum(t)&&this.cachedNumberInterfaceType()?o=this.cachedNumberInterfaceType():t.isTypeParameter()&&(o=this.substituteUpperBoundForType(t)),s=t.getSymbolID().toString()+"#"+i.getSymbolID().toString(),u[s]!=undefined))return!0;if(r){if(this.isAnyOrEquivalent(t)||this.isAnyOrEquivalent(i))return!0;if(t===this.semanticInfoChain.stringTypeSymbol&&i.isPrimitive()&&i.isStringConstant())return e&&e.stringConstantVal&&e.stringConstantVal.nodeType===5&&n.stripQuotes(e.stringConstantVal.actualText)===n.stripQuotes(i.getName())}else if(this.isAnyOrEquivalent(i)||i===this.semanticInfoChain.stringTypeSymbol&&t.isPrimitive()&&t.isStringConstant())return!0;if(t.isPrimitive()&&t.isStringConstant()&&i.isPrimitive()&&i.isStringConstant())return n.stripQuotes(t.getName())===n.stripQuotes(i.getName());if(t===this.semanticInfoChain.undefinedTypeSymbol||t===this.semanticInfoChain.nullTypeSymbol&&i!=this.semanticInfoChain.undefinedTypeSymbol&&i!=this.semanticInfoChain.voidTypeSymbol)return!0;if(i==this.semanticInfoChain.voidTypeSymbol)return t==this.semanticInfoChain.anyTypeSymbol||t==this.semanticInfoChain.undefinedTypeSymbol||t==this.semanticInfoChain.nullTypeSymbol?!0:!1;if(t==this.semanticInfoChain.voidTypeSymbol)return i==this.semanticInfoChain.anyTypeSymbol?!0:!1;if(i===this.semanticInfoChain.numberTypeSymbol&&n.PullHelpers.symbolIsEnum(t)||t===this.semanticInfoChain.numberTypeSymbol&&n.PullHelpers.symbolIsEnum(i))return!0;if(n.PullHelpers.symbolIsEnum(i)&&n.PullHelpers.symbolIsEnum(t))return this.symbolsShareDeclaration(i,t);if(t.getKind()&64||i.getKind()&64)return!1;if(t.isArray()&&i.isArray())return u[s]=!1,h=this.sourceIsRelatableToTarget(t.getElementType(),i.getElementType(),r,u,f,e),u[s]=h?!0:undefined,h;if(t.isArray()&&i==this.cachedArrayInterfaceType()||i.isArray()&&t==this.cachedArrayInterfaceType())return!0;if(t.isPrimitive()&&i.isPrimitive()||t.isPrimitive()!=i.isPrimitive()&&i.isPrimitive())return!1;if(i.isTypeParameter()){if(t.isTypeParameter()&&t==o)return c=i.getDeclarations()[0].getParentDecl(),l=t.getDeclarations()[0].getParentDecl(),c!==l?this.symbolsShareDeclaration(i,t):!0;if(f.isComparingSpecializedSignatures)i=this.substituteUpperBoundForType(i);else return!1}return(u[s]=!1,o.hasBase(i))?(u[s]=!0,!0):this.cachedObjectInterfaceType()&&i===this.cachedObjectInterfaceType()?!0:this.cachedFunctionInterfaceType()&&(o.getCallSignatures().length||o.getConstructSignatures().length)&&i===this.cachedFunctionInterfaceType()?!0:i.hasMembers()&&!this.sourceMembersAreRelatableToTargetMembers(o,i,r,u,f,e)?(u[s]=undefined,!1):this.sourceCallSignaturesAreRelatableToTargetCallSignatures(o,i,r,u,f,e)?this.sourceConstructSignaturesAreRelatableToTargetConstructSignatures(o,i,r,u,f,e)?this.sourceIndexSignaturesAreRelatableToTargetIndexSignatures(o,i,r,u,f,e)?(u[s]=!0,!0):(u[s]=undefined,!1):(u[s]=undefined,!1):(u[s]=undefined,!1)},r.prototype.sourceMembersAreRelatableToTargetMembers=function(t,i,r,u,f,e){for(var l=i.getAllMembers(n.PullElementKind.SomeValue,!0),o,s,c,h=0;h<l.length;h++){if(o=l[h],s=this.getMemberSymbol(o.getName(),n.PullElementKind.SomeValue,t),o.isResolved()||this.resolveDeclaredSymbol(o,null,f),c=o.getType(),!s&&(this.cachedObjectInterfaceType()&&(s=this.getMemberSymbol(o.getName(),n.PullElementKind.SomeValue,this.cachedObjectInterfaceType())),!s&&(this.cachedFunctionInterfaceType()&&(c.getCallSignatures().length||c.getConstructSignatures().length)&&(s=this.getMemberSymbol(o.getName(),n.PullElementKind.SomeValue,this.cachedFunctionInterfaceType())),!s))){if(!o.getIsOptional())return e&&(e.flags|=2,e.addMessage(n.getDiagnosticMessage(240,[t.toString(),o.getScopedNameEx().toString(),i.toString()]))),!1;continue}if(!this.sourcePropertyIsRelatableToTargetProperty(t,i,s,o,r,u,f,e))return!1}return!0},r.prototype.sourcePropertyIsRelatableToTargetProperty=function(t,i,r,u,f,e,o,s){var a=u.hasFlag(2),v=r.hasFlag(2),y,p,c,l,h,w;return a!=v?(s&&(a?s.addMessage(n.getDiagnosticMessage(244,[u.getScopedNameEx().toString(),r.getContainer().toString(),u.getContainer().toString()])):s.addMessage(n.getDiagnosticMessage(243,[u.getScopedNameEx().toString(),r.getContainer().toString(),u.getContainer().toString()])),s.flags|=128),!1):v&&a&&(y=u.getDeclarations()[0],p=r.getDeclarations()[0],!y.isEqual(p))?(s&&(s.flags|=128,s.addMessage(n.getDiagnosticMessage(245,[r.getContainer().toString(),u.getContainer().toString(),u.getScopedNameEx().toString()]))),!1):(r.isResolved()||this.resolveDeclaredSymbol(r,null,o),c=r.getType(),l=u.getType(),l&&c&&e[c.getSymbolID().toString()+"#"+l.getSymbolID().toString()]!=undefined)?!0:(h=null,s&&!s.onlyCaptureFirstError&&(h=new n.TypeComparisonInfo(s)),!this.sourceIsRelatableToTarget(c,l,f,e,o,h))?(s&&(s.flags|=32,w=h&&h.message?n.getDiagnosticMessage(242,[u.getScopedNameEx().toString(),t.toString(),i.toString(),h.message]):n.getDiagnosticMessage(241,[u.getScopedNameEx().toString(),t.toString(),i.toString()]),s.addMessage(w)),!1):!0},r.prototype.sourceCallSignaturesAreRelatableToTargetCallSignatures=function(t,i,r,u,f,e){var s=i.getCallSignatures(),o,h,c,l,a;return s.length&&(o=null,e&&!e.onlyCaptureFirstError&&(o=new n.TypeComparisonInfo(e)),h=t.getCallSignatures(),!this.signatureGroupIsRelatableToTarget(h,s,r,u,f,o))?(e&&(h.length&&s.length?c=o&&o.message?n.getDiagnosticMessage(247,[t.toString(),i.toString(),o.message]):n.getDiagnosticMessage(246,[t.toString(),i.toString()]):(l=s.length?i.toString():t.toString(),a=s.length?t.toString():i.toString(),c=n.getDiagnosticMessage(248,[l,a])),e.flags|=4,e.addMessage(c)),!1):!0},r.prototype.sourceConstructSignaturesAreRelatableToTargetConstructSignatures=function(t,i,r,u,f,e){var s=i.getConstructSignatures(),o,h,c,l,a;return s.length&&(o=null,e&&!e.onlyCaptureFirstError&&(o=new n.TypeComparisonInfo(e)),h=t.getConstructSignatures(),!this.signatureGroupIsRelatableToTarget(h,s,r,u,f,o))?(e&&(h.length&&s.length?c=o&&o.message?n.getDiagnosticMessage(250,[t.toString(),i.toString(),o.message]):n.getDiagnosticMessage(249,[t.toString(),i.toString()]):(l=s.length?i.toString():t.toString(),a=s.length?t.toString():i.toString(),c=n.getDiagnosticMessage(251,[l,a])),e.flags|=4,e.addMessage(c)),!1):!0},r.prototype.sourceIndexSignaturesAreRelatableToTargetIndexSignatures=function(t,i,r,u,f,e){var b=i.getIndexSignatures(),y,h,g,nt,k,o;if(b.length){var d=t.getIndexSignatures(),p=!b.length&&this.cachedObjectInterfaceType()?this.cachedObjectInterfaceType().getIndexSignatures():b,w=!d.length&&this.cachedObjectInterfaceType()?this.cachedObjectInterfaceType().getIndexSignatures():d,c=null,v=null,l=null,a=null,s;for(o=0;o<p.length;o++){if(l&&a)break;if(s=p[o].getParameters(),s.length)if(l||s[0].getType()!==this.semanticInfoChain.stringTypeSymbol){if(!a&&s[0].getType()===this.semanticInfoChain.numberTypeSymbol){a=p[o];continue}}else{l=p[o];continue}}for(o=0;o<w.length;o++){if(c&&v)break;if(s=w[o].getParameters(),s.length)if(c||s[0].getType()!==this.semanticInfoChain.stringTypeSymbol){if(!v&&s[0].getType()===this.semanticInfoChain.numberTypeSymbol){v=w[o];continue}}else{c=w[o];continue}}if(y=!0,h=null,e&&!e.onlyCaptureFirstError&&(h=new n.TypeComparisonInfo(e)),l&&(y=c?this.signatureIsAssignableToTarget(c,l,f,h):!1),y&&a&&(y=v?this.signatureIsAssignableToTarget(v,a,f,h):c?this.sourceIsAssignableToTarget(c.getReturnType(),a.getReturnType(),f,h):!1),!y)return e&&(g=h&&h.message?n.getDiagnosticMessage(253,[t.toString(),i.toString(),h.message]):n.getDiagnosticMessage(252,[t.toString(),i.toString()]),e.flags|=4,e.addMessage(g)),!1}if(l&&!t.isNamedTypeSymbol()&&t.hasMembers())for(nt=l.getReturnType(),k=t.getMembers(),o=0;o<k.length;o++)if(!this.sourceIsRelatableToTarget(k[o].getType(),nt,r,u,f,e))return!1;return!0},r.prototype.signatureGroupIsRelatableToTarget=function(n,t,i,r,u,f){var e,o;if(n===t)return!0;if(!(n.length&&t.length))return!1;var s=null,h=null,c=!1;for(e=0;e<t.length;e++)if(s=t[e],!s.isStringConstantOverloadSignature()){for(o=0;o<n.length;o++)if((h=n[o],!h.isStringConstantOverloadSignature())&&this.signatureIsRelatableToTarget(h,s,i,r,u,f)){c=!0;break}if(c){c=!1;continue}return!1}return!0},r.prototype.signatureIsRelatableToTarget=function(t,i,r,u,f,e){var l=t.getParameters(),y=i.getParameters(),a,v,h,c;if(!l||!y)return!1;if(a=i.getNonOptionalParameterCount(),v=t.getNonOptionalParameterCount(),v>a&&!i.hasVariableParamList())return e&&(e.flags|=3,e.addMessage(n.getDiagnosticMessage(254,[a]))),!1;var d=t.getReturnType(),w=i.getReturnType(),p=f.specializingToObject;if(f.specializingToObject=!0,w!=this.semanticInfoChain.voidTypeSymbol&&!this.sourceIsRelatableToTarget(d,w,r,u,f,e))return e&&(e.flags|=16),f.specializingToObject=p,!1;var g=v<a&&(t.hasVariableParamList()||l.length>v)?a:v,o=null,s=null,b="",k="";for(h=0,c=0;h<g;h++,c++)if(h<l.length&&(!t.hasVariableParamList()||h<v)?(o=l[h].getType(),b=l[h].getName()):h===v&&(o=l[h].getType(),o.isArray()&&(o=o.getElementType()),b=l[h].getName()),c<y.length&&c<a?(s=y[c].getType(),k=y[c].getName()):i.hasVariableParamList()&&c===a&&(s=y[c].getType(),s.isArray()&&(s=s.getElementType()),k=y[c].getName()),o&&o.isTypeParameter()&&this.cachedObjectInterfaceType()&&(o=this.cachedObjectInterfaceType()),s&&s.isTypeParameter()&&this.cachedObjectInterfaceType()&&(s=this.cachedObjectInterfaceType()),!(this.sourceIsRelatableToTarget(o,s,r,u,f,e)||this.sourceIsRelatableToTarget(s,o,r,u,f,e)))return e&&(e.flags|=64),f.specializingToObject=p,!1;return f.specializingToObject=p,!0},r.prototype.resolveOverloads=function(t,i,r,u,f,e){var y=this.resolutionDataCache.getResolutionData(),d=y.actuals,h=y.exactCandidates,it=y.conversionCandidates,p=null,ft=i.length>1,w=new n.TypeComparisonInfo,s=null,c=null,l,rt,g,a,v,et,b,k,ut,nt,tt,o;if(t.nodeType===36||t.nodeType===37){if(l=t,s=l.arguments,c=this.getLastIdentifierInTarget(l),l.arguments)for(rt=l.arguments.members.length,o=0;o<rt;o++)a=this.resolveAST(l.arguments.members[o],!1,r,f).symbol,d[o]=a.getType()}else t.nodeType===35&&(g=t,c=g.operand1,s=new n.ASTList,s.members[0]=g.operand2,a=this.resolveAST(s.members[0],!1,r,f).symbol,d[0]=a.getType());for(k=0,ut=i.length;k<ut;k++)(v=i[k],ft&&v.isDefinition()||u&&!v.isGeneric())||(et=v.getReturnType(),this.getCandidateSignatures(v,d,s,h,it,r,f,w));if(h.length===0)nt=this.getApplicableSignaturesFromCandidates(it,s,w,r,f),nt.length>0?(b=this.findMostApplicableSignature(nt,s,r,f),p=b.sig):w.message?e.push(f.postError(this.unitPath,c.minChar,c.getLength(),151,[w.message])):e.push(f.postError(this.unitPath,c.minChar,c.getLength(),150,null));else if(h.length>1){for(tt=[],o=0;o<h.length;o++)tt[o]={signature:h[o],hadProvisionalErrors:!1};b=this.findMostApplicableSignature(tt,s,r,f);p=b.sig}else p=h[0];return this.resolutionDataCache.returnResolutionData(y),p},r.prototype.getLastIdentifierInTarget=function(n){return n.target.nodeType===32?n.target.operand2:n.target},r.prototype.getCandidateSignatures=function(n,t,i,r,u,f,e,o){var y=n.getParameters(),p=n.getNonOptionalParameterCount(),k=y.length,l=p,a=!1,v,s;if(t.length>=p&&(n.hasVariableParamList()||t.length<=k)&&(l=n.hasVariableParamList()?y.length:t.length,a=!0),v=null,a){n.hasVariableParamList()&&(l-=1,v=y[l].getType(),v=v.getElementType(),a=t.length>=(l<p?l:p));var d=t.length,w=a,b=a,h,c;for(s=0;s<d;s++)if(h=s<l?y[s].getType():v,c=t[s],h&&!h.isResolved()&&this.resolveDeclaredSymbol(h,f,e),c&&!c.isResolved()&&this.resolveDeclaredSymbol(c,f,e),h&&c&&this.typesAreIdentical(h,c,i.members[s])||(w=!1),o.stringConstantVal=i.members[s],this.sourceIsAssignableToTarget(c,h,e,o)||(b=!1),o.stringConstantVal=null,!(w||b))break;w?r[r.length]=n:b&&r.length===0&&(u[u.length]=n)}},r.prototype.getApplicableSignaturesFromCandidates=function(t,i,r,u,f){for(var p=[],o=null,h=!1,c=null,l=!1,a,y,e,s,v=0;v<t.length;v++){for(h=!1,y=t[v],a=y.getParameters(),e=0;e<i.members.length;e++)if(!(e>=a.length))if(a[e].isResolved()||this.resolveDeclaredSymbol(a[e],u,f),o=a[e].getType(),y.hasVariableParamList()&&e>=y.getNonOptionalParameterCount()&&o.isArray()&&(o=o.getElementType()),this.isAnyOrEquivalent(o))continue;else if(i.members[e].nodeType===12){if(this.cachedFunctionInterfaceType()&&o===this.cachedFunctionInterfaceType())continue;if(s=this.resolveFunctionExpression(i.members[e],!1,u,f),this.canApplyContextualTypeToFunction(o,i.members[e],!0)){if(s.invalidate(),f.pushContextualType(o,!0,null),s=this.resolveFunctionExpression(i.members[e],!0,u,f),this.sourceIsAssignableToTarget(s.getType(),o,f,r,!0)||(r&&r.setMessage(n.getDiagnosticMessage(255,[o.toString(),e+1,s.getTypeName()])),h=!0),s.invalidate(),c=f.popContextualType(),l=c.hadProvisionalErrors(),h)break}else if(this.canApplyContextualTypeToFunction(o,i.members[e],!1)){if(!this.sourceIsAssignableToTarget(s.getType(),o,f,r,!0))break}else break}else if(i.members[e].nodeType===22){if(this.cachedObjectInterfaceType()&&o===this.cachedObjectInterfaceType())continue;if(f.pushContextualType(o,!0,null),s=this.resolveObjectLiteralExpression(i.members[e],!0,u,f).symbol,this.sourceIsAssignableToTarget(s.getType(),o,f,r,!0)||(r&&r.setMessage(n.getDiagnosticMessage(255,[o.toString(),e+1,s.getTypeName()])),h=!0),s.invalidate(),c=f.popContextualType(),l=c.hadProvisionalErrors(),h)break}else if(i.members[e].nodeType===21){if(o===this.cachedArrayInterfaceType())continue;if(f.pushContextualType(o,!0,null),s=this.resolveArrayLiteralExpression(i.members[e],!0,u,f).symbol,!this.sourceIsAssignableToTarget(s.getType(),o,f,r,!0)){r&&r.setMessage(n.getDiagnosticMessage(255,[o.toString(),e+1,s.getTypeName()]));break}if(s.invalidate(),c=f.popContextualType(),l=c.hadProvisionalErrors(),h)break}e===i.members.length&&(p[p.length]={signature:t[v],hadProvisionalErrors:l});l=!1}return p},r.prototype.findMostApplicableSignature=function(t,i,r,u){var a,f,p,w,b;if(t.length===1)return{sig:t[0].signature,ambiguous:!1};var o=t[0],s=null,v=null,h=null,e=null,y=!1,c,l;for(a=1;a<t.length;a++){for(s=t[a],f=0;i&&f<i.members.length;f++)if(p=this.resolveAST(i.members[f],!1,r,u).symbol,v=p.getType(),p.invalidate(),c=o.signature.getParameters(),l=s.signature.getParameters(),h=f<c.length?c[f].getType():c[c.length-1].getType().getElementType(),e=f<l.length?l[f].getType():l[l.length-1].getType().getElementType(),!this.typesAreIdentical(h,e)||e.isPrimitive()&&e.isStringConstant()){if(h.isPrimitive()&&h.isStringConstant()&&i.members[f].nodeType===5&&n.stripQuotes(i.members[f].actualText)===n.stripQuotes(h.getName()))break;else if(e.isPrimitive()&&e.isStringConstant()&&i.members[f].nodeType===5&&n.stripQuotes(i.members[f].actualText)===n.stripQuotes(e.getName()))o=s;else if(this.typesAreIdentical(v,h))break;else if(this.typesAreIdentical(v,e)){o=s;break}else if(this.sourceIsSubtypeOfTarget(h,e,u))break;else if(this.sourceIsSubtypeOfTarget(e,h,u)){o=s;break}else if(s.hadProvisionalErrors)break;else if(o.hadProvisionalErrors){o=s;break}}else continue;i&&f!==i.members.length?y=!1:(w={getLength:function(){return 2},setTypeAtIndex:function(){},getTypeAtIndex:function(n){return n?s.signature.getReturnType():o.signature.getReturnType()}},b=this.findBestCommonType(o.signature.getReturnType(),null,w,u),y=!b)}return{sig:o.signature,ambiguous:y}},r.prototype.canApplyContextualTypeToFunction=function(n,t,i){var r,e,o,u;if(t.isMethod()||i&&t.returnTypeAnnotation)return!1;if(i=i||this.cachedFunctionInterfaceType()===n,!i)return!0;var s=this.getDeclForAST(t).getSymbol(),h=s.getType().getCallSignatures()[0],f=h.getParameters(),c=f.length;for(r=0;r<c;r++)if(e=f[r],o=this.getASTForDecl(e.getDeclarations()[0]),i&&o.typeExpr)return!1;return n.getConstructSignatures().length&&n.getCallSignatures().length?!1:(u=n.getConstructSignatures().length?n.getConstructSignatures():n.getCallSignatures(),!u||u.length>1)?!1:!0},r.prototype.inferArgumentTypesForSignature=function(t,i,r,u,f){for(var p=null,w=!1,k=t.getParameters(),h=t.getTypeParameters(),a=new n.ArgumentInferenceContext,c=null,b,v,d,l,y,s,o,e=0;e<h.length;e++)a.addInferenceRoot(h[e]);for(e=0;e<i.members.length;e++){if(e>=k.length)break;if(c=k[e].getType(),t.hasVariableParamList()&&e>=t.getNonOptionalParameterCount()-1&&c.isArray()&&(c=c.getElementType()),v=a.getInferenceCandidates(),b={},v.length)for(o=0;o<v.length;o++)a.resetRelationshipCache(),d=v[o],b=v[o],f.pushContextualType(c,!0,b),l=this.resolveAST(i.members[e],!0,u,f).symbol,this.relateTypeToTypeParameters(l.getType(),c,!1,a,u,f),p=f.popContextualType(),l.invalidate(),w=p.hadProvisionalErrors();else f.pushContextualType(c,!0,{}),l=this.resolveAST(i.members[e],!0,u,f).symbol,this.relateTypeToTypeParameters(l.getType(),c,!1,a,u,f),p=f.popContextualType(),l.invalidate(),w=p.hadProvisionalErrors()}if(w=!1,y=a.inferArgumentTypes(this,f),y.unfit)return null;for(s=[],e=0;e<h.length;e++)for(o=0;o<y.results.length;o++)if(y.results[o].param==h[e]){s[s.length]=y.results[o].type;break}if(i.members.length||s.length||!h.length){if(s.length&&s.length<h.length)for(e=s.length;e<h.length;e++)s[e]=this.semanticInfoChain.anyTypeSymbol}else for(e=0;e<h.length;e++)s[s.length]=this.semanticInfoChain.anyTypeSymbol;return s},r.prototype.relateTypeToTypeParameters=function(n,t,i,r,u,f){var h,c,e,o,s,l;if(n&&t&&(n.isError()&&(n=this.semanticInfoChain.anyTypeSymbol),t!==n)){if(t.isTypeParameter()){n.isGeneric()&&!n.isFixed()&&(n=this.specializeTypeToAny(n,u,f));r.addCandidateForInference(t,n,i);return}if(h=t.getDeclarations(),c=n.getDeclarations(),!t.isArray()&&h.length&&c.length&&(h[0].isEqual(c[0])||n.isGeneric()&&t.isGeneric()&&this.sourceIsSubtypeOfTarget(n,t,f,null))&&n.isGeneric()&&(e=t.getIsSpecialized()?t.getTypeArguments():t.getTypeParameters(),o=n.getTypeArguments(),o||(e=t.getTypeArguments(),o=n.getIsSpecialized()?n.getTypeArguments():n.getTypeParameters()),e&&o&&e.length===o.length))for(s=0;s<e.length;s++)o[s]!=e[s]&&this.relateTypeToTypeParameters(o[s],e[s],!0,r,u,f);if(l=f.specializingToAny,f.specializingToAny=!0,!this.sourceIsAssignableToTarget(n,t,f)){f.specializingToAny=l;return}if(f.specializingToAny=l,n.isArray()&&t.isArray()){this.relateArrayTypeToTypeParameters(n,t,i,r,u,f);return}this.relateObjectTypeToTypeParameters(n,t,i,r,u,f)}},r.prototype.relateFunctionSignatureToTypeParameters=function(n,t,i,r,u){for(var e=n.getParameters(),s=n.getReturnType(),o=t.getParameters(),h=t.getReturnType(),c=o.length<e.length?o.length:e.length,f=0;f<c;f++)this.relateTypeToTypeParameters(e[f].getType(),o[f].getType(),!0,i,r,u);this.relateTypeToTypeParameters(s,h,!1,i,r,u)},r.prototype.relateObjectTypeToTypeParameters=function(t,i,r,u,f,e){var v=i.getMembers(),h,l,y,c,a,p,o,s;if(!u.alreadyRelatingTypes(t,i)){if(a=t.getTypeArguments(),p=i.getTypeParameters(),a&&a.length===p.length)for(o=0;o<a.length;o++)u.addCandidateForInference(p[o],a[o],r);for(o=0;o<v.length;o++)y=this.getMemberSymbol(v[o].getName(),n.PullElementKind.SomeValue,t),y&&this.relateTypeToTypeParameters(y.getType(),v[o].getType(),r,u,f,e);for(h=i.getCallSignatures(),c=t.getCallSignatures(),o=0;o<h.length;o++)for(l=h[o],s=0;s<c.length;s++)this.relateFunctionSignatureToTypeParameters(c[s],l,u,f,e);for(h=i.getConstructSignatures(),c=t.getConstructSignatures(),o=0;o<h.length;o++)for(l=h[o],s=0;s<c.length;s++)this.relateFunctionSignatureToTypeParameters(c[s],l,u,f,e);for(h=i.getIndexSignatures(),c=t.getIndexSignatures(),o=0;o<h.length;o++)for(l=h[o],s=0;s<c.length;s++)this.relateFunctionSignatureToTypeParameters(c[s],l,u,f,e)}},r.prototype.relateArrayTypeToTypeParameters=function(n,t,i,r,u,f){var e=n.getElementType(),o=t.getElementType();this.relateTypeToTypeParameters(e,o,i,r,u,f)},r.prototype.specializeTypeToAny=function(t,i,r){var e=r.specializingToAny,u,f;return r.specializingToAny=!0,u=n.getRootType(t),f=n.specializeType(u,[],this,i,r),r.specializingToAny=e,f},r.prototype.specializeSignatureToAny=function(t,i,r){for(var e=t.getTypeParameters(),o={},f=[],s,h,u=0;u<e.length;u++)f[u]=this.semanticInfoChain.anyTypeSymbol,o[e[u].getSymbolID().toString()]=f[u];return f.length||(f[0]=this.semanticInfoChain.anyTypeSymbol),s=r.specializingToAny,r.specializingToAny=!0,h=n.specializeSignature(t,!1,o,f,this,i,r),r.specializingToAny=s,h},r}();n.PullTypeResolver=f}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n}();n.PullTypeResolver2=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n){this.onlyCaptureFirstError=!1;this.flags=0;this.message="";this.stringConstantVal=null;this.indent=1;n&&(this.flags=n.flags,this.onlyCaptureFirstError=n.onlyCaptureFirstError,this.stringConstantVal=n.stringConstantVal,this.indent=n.indent+1)}return t.prototype.addMessage=function(t){this.message=!this.onlyCaptureFirstError&&this.message?n.getDiagnosticMessage(2,[this.message,this.indent,t]):n.getDiagnosticMessage(3,[this.indent,t])},t.prototype.setMessage=function(t){this.message=n.getDiagnosticMessage(3,[this.indent,t])},t}(),i,r;n.TypeComparisonInfo=t;i=function(){function t(n,t,i){this.compiler=n;this.script=t;this.scriptName=i;this.enclosingDeclStack=[];this.enclosingDeclReturnStack=[];this.semanticInfo=null;this.inSuperConstructorCall=!1;this.inSuperConstructorTarget=!1;this.seenSuperConstructorCall=!1;this.inConstructorArguments=!1;this.inImportDeclaration=!1}return t.prototype.pushEnclosingDecl=function(n){this.enclosingDeclStack[this.enclosingDeclStack.length]=n;this.enclosingDeclReturnStack[this.enclosingDeclReturnStack.length]=!1},t.prototype.popEnclosingDecl=function(){this.enclosingDeclStack.length--;this.enclosingDeclReturnStack.length--},t.prototype.getEnclosingDecl=function(t){var i,r;for(typeof t=="undefined"&&(t=n.PullElementKind.All),i=this.enclosingDeclStack.length-1;i>=0;i--)if(r=this.enclosingDeclStack[i],r.getKind()&t)return r;return null},t.prototype.getEnclosingNonLambdaDecl=function(){for(var t,n=this.enclosingDeclStack.length-1;n>=0;n--)if(t=this.enclosingDeclStack[n],!(t.getKind()===131072&&t.getFlags()&8192))return t;return null},t.prototype.getEnclosingClassDecl=function(){return this.getEnclosingDecl(8)},t.prototype.getEnclosingDeclHasReturn=function(){return this.enclosingDeclReturnStack[this.enclosingDeclReturnStack.length-1]},t.prototype.setEnclosingDeclHasReturn=function(){return this.enclosingDeclReturnStack[this.enclosingDeclReturnStack.length-1]=!0},t}();n.PullTypeCheckContext=i;r=function(){function r(t,i){this.compilationSettings=t;this.semanticInfoChain=i;this.resolver=null;this.context=new n.PullTypeResolutionContext}return r.prototype.setUnit=function(t){this.resolver=new n.PullTypeResolver(this.compilationSettings,this.semanticInfoChain,t)},r.prototype.getScriptDecl=function(n){return this.semanticInfoChain.getUnit(n).getTopLevelDecls()[0]},r.prototype.checkForResolutionError=function(n,t){n&&n.isError()&&t.addDiagnostic(n.getDiagnostic())},r.prototype.postError=function(t,i,r,u,f,e){e.addDiagnostic(new n.SemanticDiagnostic(r,t,i,u,f))},r.prototype.validateVariableDeclarationGroups=function(n,t){for(var s=n.getVariableDeclGroups(),u,f,e,o,r,i=0;i<s.length;i++)for(r=0;r<s[i].length;r++){if(u=s[i][r],e=u.getSymbol(),o=this.semanticInfoChain.getASTForDecl(u),this.resolver.resolveAST(o,!1,n,this.context),!r){if(f=u.getSymbol(),this.resolver.isAnyOrEquivalent(this.resolver.widenType(f.getType())))return;continue}this.resolver.typesAreIdentical(e.getType(),f.getType())||this.postError(o.minChar,o.getLength(),t.scriptName,199,[e.getDisplayName(),f.getType().toString(),e.getType().toString()],n)}},r.prototype.typeCheckAST=function(n,t,i){if(!n||n.typeCheckPhase>=r.globalPullTypeCheckPhase)return null;n.typeCheckPhase=r.globalPullTypeCheckPhase;switch(n.nodeType){case 1:return this.typeCheckList(n,t);case 17:case 19:return this.typeCheckBoundDecl(n,t);case 12:return this.typeCheckFunction(n,t,i);case 13:return this.typeCheckClass(n,t);case 14:return this.typeCheckInterface(n,t);case 15:return this.typeCheckModule(n,t);case 9:return this.typeCheckTypeParameter(n,t);case 16:return this.typeCheckImportDeclaration(n,t);case 38:return this.typeCheckAssignment(n,t);case 10:return this.typeCheckGenericType(n,t);case 22:return this.typeCheckObjectLiteral(n,t,i);case 21:return this.typeCheckArrayLiteral(n,t,i);case 29:return this.typeCheckThisExpression(n,t);case 30:return this.typeCheckSuperExpression(n,t);case 36:return this.typeCheckCallExpression(n,t);case 37:return this.typeCheckObjectCreationExpression(n,t);case 78:return this.typeCheckTypeAssertion(n,t);case 11:return this.typeCheckTypeReference(n,t);case 87:return this.typeCheckExportAssignment(n,t);case 57:case 56:case 58:case 59:case 60:case 61:case 63:case 62:return this.typeCheckLogicalOperation(n,t);case 25:return this.typeCheckCommaExpression(n,t);case 64:case 39:return this.typeCheckBinaryAdditionOperation(n,t);case 65:case 66:case 67:case 68:case 53:case 55:case 69:case 70:case 71:case 54:case 45:case 47:case 48:case 49:case 40:case 42:case 41:case 43:case 46:case 44:return this.typeCheckBinaryArithmeticOperation(n,t);case 26:case 27:case 72:case 76:case 74:case 77:case 75:return this.typeCheckUnaryArithmeticOperation(n,t,i);case 35:return this.typeCheckElementAccessExpression(n,t);case 73:return this.typeCheckLogicalNotExpression(n,t,i);case 51:case 52:return this.typeCheckLogicalAndOrExpression(n,t);case 34:return this.typeCheckTypeOf(n,t);case 50:return this.typeCheckConditionalExpression(n,t);case 24:return this.typeCheckVoidExpression(n,t);case 95:return this.typeCheckThrowStatement(n,t);case 28:return this.typeCheckDeleteExpression(n,t);case 6:return this.typeCheckRegExpExpression(n,t);case 31:return this.typeCheckInExpression(n,t);case 33:return this.typeCheckInstanceOfExpression(n,t);case 79:return this.typeCheckParenthesizedExpression(n,t);case 90:return this.typeCheckForStatement(n,t);case 89:return this.typeCheckForInStatement(n,t);case 98:return this.typeCheckWhileStatement(n,t);case 85:return this.typeCheckDoStatement(n,t);case 91:return this.typeCheckIfStatement(n,t);case 81:return this.typeCheckBlock(n,t);case 18:return this.typeCheckVariableDeclaration(n,t);case 97:return this.typeCheckVariableStatement(n,t);case 99:return this.typeCheckWithStatement(n,t);case 96:return this.typeCheckTryStatement(n,t);case 101:return this.typeCheckCatchClause(n,t);case 93:return this.typeCheckReturnStatement(n,t);case 20:return this.typeCheckNameExpression(n,t);case 32:return this.typeCheckMemberAccessExpression(n,t);case 94:return this.typeCheckSwitchStatement(n,t);case 88:return this.typeCheckExpressionStatement(n,t,i);case 100:return this.typeCheckCaseClause(n,t);case 92:return this.typeCheckLabeledStatement(n,t);case 7:return this.semanticInfoChain.numberTypeSymbol;case 5:return this.semanticInfoChain.stringTypeSymbol;case 8:return this.semanticInfoChain.nullTypeSymbol;case 3:case 4:return this.semanticInfoChain.booleanTypeSymbol;case 9:return this.typeCheckTypeParameter(n,t)}return null},r.prototype.typeCheckScript=function(n,t,u){var o=this.semanticInfoChain.getUnit(t),f,e;o.getTypeChecked()||(f=new i(u,n,t),this.setUnit(t),f.semanticInfo=f.compiler.semanticInfoChain.getUnit(f.scriptName),e=f.semanticInfo.getTopLevelDecls()[0],f.pushEnclosingDecl(e),r.globalPullTypeCheckPhase++,this.typeCheckAST(n.moduleElements,f,!1),this.validateVariableDeclarationGroups(e,f),f.popEnclosingDecl(),o.setTypeChecked())},r.prototype.typeCheckList=function(n,t){if(!n)return null;for(var i=0;i<n.members.length;i++)this.typeCheckAST(n.members[i],t,!1)},r.prototype.reportDiagnostics=function(n,t){if(n&&n.diagnostics)for(var i=0,r=n.diagnostics.length;i<r;i++)this.context.postDiagnostic(n.diagnostics[i],t,!0)},r.prototype.resolveSymbolAndReportDiagnostics=function(n,t,i){var r=this.resolver.resolveAST(n,t,i,this.context);return this.reportDiagnostics(r,i),r&&r.symbol},r.prototype.typeCheckBoundDecl=function(i,r){var w=this,f=i,o=r.getEnclosingDecl(),u=null,e,a,s,l,y,p,v,c,h;return f.typeExpr&&(u=this.typeCheckAST(f.typeExpr,r,!1),u.isNamedTypeSymbol()&&u.isGeneric()&&!u.isTypeParameter()&&!this.resolver.isArrayOrEquivalent(u)&&u.isResolved()&&u.getTypeParameters().length&&u.getTypeArguments()==null&&!u.getIsSpecialized()&&this.resolver.isTypeRefWithoutTypeArgs(f.typeExpr)&&(this.postError(f.typeExpr.minChar,f.typeExpr.getLength(),r.scriptName,239,null,o),u=this.resolver.specializeTypeToAny(u,o,this.context))),f.init&&(u&&this.context.pushContextualType(u,this.context.inProvisionalResolution(),null),e=this.typeCheckAST(f.init,r,!!u),u&&this.context.popContextualType(),u&&u.isContainer()&&(a=u.getExportAssignedTypeSymbol(),a?u=a:(s=u.getType().getInstanceSymbol().getType(),s&&n.PullHelpers.symbolIsEnum(s)?u=s.getType():(this.postError(f.minChar,f.getLength(),r.scriptName,190,[u.toString()],o),u=null))),e&&e.isContainer()&&(s=e.getType().getInstanceSymbol().getType(),s?e=s.getType():(this.postError(f.minChar,f.getLength(),r.scriptName,191,[e.toString()],o),e=null)),e&&u&&(l=new t,y=this.resolver.sourceIsAssignableToTarget(e,u,this.context,l),y||(l.message?this.postError(f.minChar,f.getLength(),r.scriptName,81,[e.toString(),u.toString(),l.message],o):this.postError(f.minChar,f.getLength(),r.scriptName,80,[e.toString(),u.toString()],o)))),p=this.context.suppressErrors,this.context.suppressErrors=!0,v=this.resolver.getDeclForAST(f),c=this.resolveSymbolAndReportDiagnostics(f,!1,o).getType(),u&&u.isContainer()&&c.isError()&&this.checkForResolutionError(c,v),this.context.suppressErrors=p,h=v.getSymbol(),h.getKind()!=2048&&(h.getKind()!=4096||h.getContainer().isNamedTypeSymbol())&&this.checkTypePrivacy(h,c,r,function(n){return w.variablePrivacyErrorReporter(h,n,r)}),c},r.prototype.typeCheckImportDeclaration=function(n,t){var i=this.resolveSymbolAndReportDiagnostics(n,!1,t.getEnclosingDecl()),r=t.inImportDeclaration;return t.inImportDeclaration=!0,this.typeCheckAST(n.alias,t,!1),t.inImportDeclaration=r,i},r.prototype.typeCheckFunction=function(t,i,r){var a,c,e,o,s,v,u;if(t.isConstructor||n.hasFlag(t.getFunctionFlags(),1024))return this.typeCheckConstructor(t,i,r);if(n.hasFlag(t.getFunctionFlags(),4096))return this.typeCheckIndexer(t,i,r);if(t.isAccessor())return this.typeCheckAccessor(t,i,r);var h=i.getEnclosingDecl(),l=this.resolveSymbolAndReportDiagnostics(t,r,h),f=i.semanticInfo.getDeclForAST(t);if(i.pushEnclosingDecl(f),this.typeCheckAST(t.typeArguments,i,r),this.typeCheckAST(t.arguments,i,r),this.typeCheckAST(t.returnTypeAnnotation,i,!1),this.typeCheckAST(t.block,i,!1),a=i.getEnclosingDeclHasReturn(),this.validateVariableDeclarationGroups(f,i),i.popEnclosingDecl(),c=f.getSignatureSymbol(),e=c.getParameters(),e.length)for(o=0;o<e.length;o++)this.checkForResolutionError(e[o].getType(),h);return s=c.getReturnType(),this.checkForResolutionError(s,h),t.block&&t.returnTypeAnnotation!=null&&!a&&(v=this.resolver.isAnyOrEquivalent(s)||s===this.semanticInfoChain.voidTypeSymbol,v||t.block.statements.members.length>0&&t.block.statements.members[0].nodeType===95||(u=f.getDisplayName(),u=u?"'"+u+"'":"expression",this.postError(t.returnTypeAnnotation.minChar,t.returnTypeAnnotation.getLength(),i.scriptName,192,[u],i.getEnclosingDecl()))),this.typeCheckFunctionOverloads(t,i),this.checkFunctionTypePrivacy(t,r,i),l?l.getType():null},r.prototype.typeCheckFunctionOverloads=function(i,r,u,f){var a,y,v,e,l,s,h,c;u||(a=n.PullHelpers.getSignatureForFuncDecl(i,r.semanticInfo),u=a.signature,f=a.allSignatures);var p=r.semanticInfo.getDeclForAST(i),w=p.getSymbol(),o=null;for(e=f.length-1;e>=0;e--)if(f[e].isDefinition()){o=f[e];break}if(!u.isDefinition())for(e=0;e<f.length;e++){if(f[e]===u)break;if(this.resolver.signaturesAreIdentical(f[e],u)){i.isConstructor?this.postError(i.minChar,i.getLength(),r.scriptName,210,null,r.getEnclosingDecl()):i.isConstructMember()?this.postError(i.minChar,i.getLength(),r.scriptName,212,null,r.getEnclosingDecl()):i.isCallMember()?this.postError(i.minChar,i.getLength(),r.scriptName,211,null,r.getEnclosingDecl()):this.postError(i.minChar,i.getLength(),r.scriptName,209,[w.getScopedNameEx().toString()],r.getEnclosingDecl());break}}if(y=u.isStringConstantOverloadSignature(),y)if(u.isDefinition())this.postError(i.minChar,i.getLength(),r.scriptName,229,null,r.getEnclosingDecl());else{for(s=new n.PullTypeResolutionContext,v=!1,e=0;e<f.length;e++)if(!f[e].isDefinition()&&f[e]!==u&&(f[e].isResolved()||this.resolver.resolveDeclaredSymbol(f[e],r.getEnclosingDecl(),s),!f[e].isStringConstantOverloadSignature())&&this.resolver.signatureIsSubtypeOfTarget(u,f[e],s)){v=!0;break}v||this.postError(i.minChar,i.getLength(),r.scriptName,219,null,r.getEnclosingDecl())}else o&&o!=u&&(l=new t,s=new n.PullTypeResolutionContext,o.isResolved()||this.resolver.resolveDeclaredSymbol(o,r.getEnclosingDecl(),s),this.resolver.signatureIsAssignableToTarget(o,u,s,l)||(l.message?this.postError(i.minChar,i.getLength(),r.scriptName,214,[l.message],r.getEnclosingDecl()):this.postError(i.minChar,i.getLength(),r.scriptName,213,null,r.getEnclosingDecl())));if(h=o,!o){if(f[0]===u)return;h=f[0]}i.isConstructor||i.isConstructMember()||u==h||(h.hasFlag(2)!=u.hasFlag(2)?c=215:h.hasFlag(1)!=u.hasFlag(1)?c=216:h.hasFlag(8)!=u.hasFlag(8)?c=217:h.hasFlag(128)!=u.hasFlag(128)&&(c=218),c&&this.postError(i.minChar,i.getLength(),r.scriptName,c,null,r.getEnclosingDecl()))},r.prototype.typeCheckTypeParameter=function(n,t){if(n.constraint){var i=this.typeCheckAST(n.constraint,t,!1);i&&!i.isError()&&i.isPrimitive()&&this.postError(n.constraint.minChar,n.constraint.getLength(),t.scriptName,149,null,t.getEnclosingDecl())}return this.resolveSymbolAndReportDiagnostics(n,!1,t.getEnclosingDecl())},r.prototype.typeCheckAccessor=function(t,i,r){var u=t,e=i.getEnclosingDecl(),o=this.resolveSymbolAndReportDiagnostics(t,r,e),a,f;this.checkForResolutionError(o.getType(),e);var h=n.hasFlag(u.getFunctionFlags(),32),d=!h,c=o.getGetter(),l=o.getSetter(),s=i.semanticInfo.getDeclForAST(u);i.pushEnclosingDecl(s);this.typeCheckAST(u.arguments,i,r);this.typeCheckAST(u.block,i,!1);a=i.getEnclosingDeclHasReturn();this.validateVariableDeclarationGroups(s,i);i.popEnclosingDecl();var v=s.getSignatureSymbol(),g=v.getParameters(),y=v.getReturnType();if(this.checkForResolutionError(y,e),f=u.name,h&&!a&&(u.block.statements.members.length>0&&u.block.statements.members[0].nodeType===95||this.postError(f.minChar,f.getLength(),i.scriptName,193,null,i.getEnclosingDecl())),c&&l){var p=c.getDeclarations()[0],w=l.getDeclarations()[0],b=p.getFlags()&2,k=w.getFlags()&2;b!=k&&this.postError(f.minChar,f.getLength(),i.scriptName,194,null,i.getEnclosingDecl())}return this.checkFunctionTypePrivacy(u,r,i),null},r.prototype.typeCheckConstructor=function(n,t,i){var r=t.getEnclosingDecl(),h=this.resolveSymbolAndReportDiagnostics(n,i,r),u=t.semanticInfo.getDeclForAST(n),o,f,e,c,s;if(t.pushEnclosingDecl(u),this.typeCheckAST(n.typeArguments,t,i),t.inConstructorArguments=!0,this.typeCheckAST(n.arguments,t,i),t.inConstructorArguments=!1,t.seenSuperConstructorCall=!1,this.typeCheckAST(n.returnTypeAnnotation,t,!1),this.typeCheckAST(n.block,t,!1),this.validateVariableDeclarationGroups(u,t),t.popEnclosingDecl(),o=u.getSignatureSymbol(),f=o.getParameters(),f.length)for(e=0,c=f.length;e<c;e++)this.checkForResolutionError(f[e].getType(),r);return this.checkForResolutionError(o.getReturnType(),r),u.getSignatureSymbol()&&u.getSignatureSymbol().isDefinition()&&this.enclosingClassIsDerived(t)&&(t.seenSuperConstructorCall?this.superCallMustBeFirstStatementInConstructor(u,r)&&(s=this.getFirstStatementFromFunctionDeclAST(n),s&&this.isSuperCallNode(s)||this.postError(n.minChar,11,t.scriptName,172,null,r)):this.postError(n.minChar,11,t.scriptName,173,null,r)),this.typeCheckFunctionOverloads(n,t),this.checkFunctionTypePrivacy(n,i,t),h?h.getType():null},r.prototype.typeCheckIndexer=function(i,r,u){var h=r.getEnclosingDecl(),e,w,c,l,g,y,o,v,a,p,k,s,f,b,d;if(this.resolver.resolveAST(i,u,h,this.context),e=i,w=r.semanticInfo.getDeclForAST(e),r.pushEnclosingDecl(w),this.typeCheckAST(e.arguments,r,!1),this.typeCheckAST(e.returnTypeAnnotation,r,!1),r.popEnclosingDecl(),c=w.getSignatureSymbol(),l=c.getParameters(),l.length)for(g=null,f=0;f<l.length;f++)this.checkForResolutionError(l[f].getType(),h);for(this.checkForResolutionError(c.getReturnType(),h),this.checkFunctionTypePrivacy(e,u,r),y=l[0].getType()===this.semanticInfoChain.numberTypeSymbol,o=h.getSymbol().getType().getIndexSignatures(),f=0;f<o.length;f++)if(o[f].isResolved()||this.resolver.resolveDeclaredSymbol(o[f],o[f].getDeclarations()[0].getParentDecl(),this.context),o[f].getParameters()[0].getType()!==l[0].getType()){if(y)a=c,v=o[f];else if(a=o[f],v=c,h.getSymbol()===a.getDeclarations()[0].getParentDecl().getSymbol())break;p=new t;k=new n.PullTypeResolutionContext;this.resolver.sourceIsSubtypeOfTarget(a.getReturnType(),v.getReturnType(),k,p)||(p.message?this.postError(e.minChar,e.getLength(),r.scriptName,234,[a.getReturnType().toString(),v.getReturnType().toString(),p.message],r.getEnclosingDecl()):this.postError(e.minChar,e.getLength(),r.scriptName,233,[a.getReturnType().toString(),v.getReturnType().toString()],r.getEnclosingDecl()));break}for(s=h.getSymbol().getType().getAllMembers(n.PullElementKind.All,!0),f=0;f<s.length;f++)b=s[f].getName(),b&&(s[f].isResolved()||this.resolver.resolveDeclaredSymbol(s[f],s[f].getDeclarations()[0].getParentDecl(),this.context),h.getSymbol()!==s[f].getContainer()&&(d=isFinite(+b),y===d&&this.checkThatMemberIsSubtypeOfIndexer(s[f],c,e,r,y)));return null},r.prototype.typeCheckMembersAgainstIndexer=function(t,i){var u=t.getIndexSignatures(),o,e,f,s,r;if(u.length>0)for(o=i.getEnclosingDecl().getChildDecls(),e=0;e<o.length;e++)if(f=o[e],f.getName()&&!(f.getKind()&n.PullElementKind.SomeSignature))for(s=isFinite(+f.getName()),r=0;r<u.length;r++)if(u[r].isResolved()||this.resolver.resolveDeclaredSymbol(u[r],u[r].getDeclarations()[0].getParentDecl(),this.context),u[r].getParameters()[0].getType()===this.semanticInfoChain.numberTypeSymbol===s){this.checkThatMemberIsSubtypeOfIndexer(f.getSymbol(),u[r],this.semanticInfoChain.getASTForDecl(f),i,s);break}},r.prototype.checkThatMemberIsSubtypeOfIndexer=function(i,r,u,f,e){var o=new t,s=new n.PullTypeResolutionContext;this.resolver.sourceIsSubtypeOfTarget(i.getType(),r.getReturnType(),s,o)||(e?o.message?this.postError(u.minChar,u.getLength(),f.scriptName,236,[r.getReturnType().toString(),o.message],f.getEnclosingDecl()):this.postError(u.minChar,u.getLength(),f.scriptName,235,[r.getReturnType().toString()],f.getEnclosingDecl()):o.message?this.postError(u.minChar,u.getLength(),f.scriptName,238,[r.getReturnType().toString(),o.message],f.getEnclosingDecl()):this.postError(u.minChar,u.getLength(),f.scriptName,237,[r.getReturnType().toString()],f.getEnclosingDecl()))},r.prototype.typeCheckIfTypeMemberPropertyOkToOverride=function(t,i,r,u,f){var e,s,o,h;return t.isClass()?(e=r.getKind(),s=u.getKind(),e===s)?!0:(e===4096?o=r.isAccessor()?256:257:e===65536&&(o=u.isAccessor()?258:259),h=n.getDiagnosticMessage(o,[t.toString(),r.getScopedNameEx().toString(),i.toString()]),f.addMessage(h),!1):!0},r.prototype.typeCheckIfTypeExtendsType=function(i,r,u,f){for(var v=r.getMembers(),c=new n.PullTypeResolutionContext,s=new t,e=!1,y,w,a,b,p,l,h,k,d,g,nt,tt,it,o=0;o<v.length;o++)if(l=v[o].getName(),y=u.findMember(l),y&&(e=!this.typeCheckIfTypeMemberPropertyOkToOverride(r,u,v[o],y,s),e||(e=!this.resolver.sourcePropertyIsSubtypeOfTargetProperty(r,u,v[o],y,c,s)),e))break;if(!e&&r.hasOwnCallSignatures()&&(e=!this.resolver.sourceCallSignaturesAreSubtypeOfTargetCallSignatures(r,u,c,s)),!e&&r.hasOwnConstructSignatures()&&(e=!this.resolver.sourceConstructSignaturesAreSubtypeOfTargetConstructSignatures(r,u,c,s)),!e&&r.hasOwnIndexSignatures()&&(e=!this.resolver.sourceIndexSignaturesAreSubtypeOfTargetIndexSignatures(r,u,c,s)),!e&&r.isClass()&&(w=r.getConstructorMethod().getType(),a=w.getMembers(),a.length))for(b=u.getConstructorMethod().getType(),p=new t(s),o=0;o<a.length;o++)if(l=a[o].getName(),h=b.findMember(l),h&&(h.isResolved()||(k=f.semanticInfo.getASTForSymbol(u),d=f.semanticInfo.getDeclForAST(k),this.resolver.resolveDeclaredSymbol(h,d,c)),g=a[o].getType(),nt=h.getType(),!this.resolver.sourceIsSubtypeOfTarget(g,nt,c,p))){tt=p.message?n.getDiagnosticMessage(261,[h.getScopedNameEx().toString(),r.toString(),u.toString(),p.message]):n.getDiagnosticMessage(260,[h.getScopedNameEx().toString(),r.toString(),u.toString()]);s.addMessage(tt);e=!0;break}e&&(it=r.isClass()?206:u.isClass()?207:208,this.postError(i.name.minChar,i.name.getLength(),f.scriptName,it,[r.getScopedName(),u.getScopedName(),s.message],f.getEnclosingDecl()))},r.prototype.typeCheckIfClassImplementsType=function(i,r,u,f){var s=new n.PullTypeResolutionContext,o=new t,e=!this.resolver.sourceMembersAreSubtypeOfTargetMembers(r,u,s,o),h;e||(e=!this.resolver.sourceCallSignaturesAreSubtypeOfTargetCallSignatures(r,u,s,o),e||(e=!this.resolver.sourceConstructSignaturesAreSubtypeOfTargetConstructSignatures(r,u,s,o),e||(e=!this.resolver.sourceIndexSignaturesAreSubtypeOfTargetIndexSignatures(r,u,s,o))));e&&(h=u.isClass()?203:202,this.postError(i.name.minChar,i.name.getLength(),f.scriptName,h,[r.getScopedName(),u.getScopedName(),o.message],f.getEnclosingDecl()))},r.prototype.typeCheckBase=function(t,i,r,u,f){var c=this,l=f.semanticInfo.getDeclForAST(t),h=new n.PullTypeResolutionContext,e,s,o;if(h.isResolvingClassExtendedType=!0,e=this.typeCheckAST(new n.TypeReference(r,0),f,!1),h.isResolvingClassExtendedType=!1,s=i.isClass(),!i.isValidBaseKind(e,u)){e.isError()?(o=e.getDiagnostic(),o&&this.postError(r.minChar,r.getLength(),f.scriptName,o.diagnosticCode(),o.arguments(),f.getEnclosingDecl())):u?s?this.postError(r.minChar,r.getLength(),f.scriptName,142,null,f.getEnclosingDecl()):this.postError(r.minChar,r.getLength(),f.scriptName,144,null,f.getEnclosingDecl()):this.postError(r.minChar,r.getLength(),f.scriptName,143,null,f.getEnclosingDecl());return}if(e.getRootSymbol().hasBase(i.getRootSymbol())){i.setHasBaseTypeConflict();e.setHasBaseTypeConflict();this.postError(t.name.minChar,t.name.getLength(),f.scriptName,s?168:169,[i.getScopedName()],f.getEnclosingDecl());return}u?this.typeCheckIfTypeExtendsType(t,i,e,f):this.typeCheckIfClassImplementsType(t,i,e,f);this.checkTypePrivacy(i,e,f,function(n){return c.baseListPrivacyErrorReporter(t,i,r,u,n,f)})},r.prototype.typeCheckBases=function(n,t,i){var r;if(n.extendsList||n.implementsList){for(r=0;r<n.extendsList.members.length;r++)this.typeCheckBase(n,t,n.extendsList.members[r],!0,i);if(t.isClass())for(r=0;r<n.implementsList.members.length;r++)this.typeCheckBase(n,t,n.implementsList.members[r],!1,i);else n.implementsList&&this.postError(n.implementsList.minChar,n.implementsList.getLength(),i.scriptName,145,null,i.getEnclosingDecl())}},r.prototype.typeCheckClass=function(n,t){var i=n,r=this.resolveSymbolAndReportDiagnostics(n,!1,t.getEnclosingDecl()).getType(),u;return this.checkForResolutionError(r,t.getEnclosingDecl()),this.typeCheckAST(i.typeParameters,t,!1),u=t.semanticInfo.getDeclForAST(i),t.pushEnclosingDecl(u),this.typeCheckAST(i.typeParameters,t,!1),this.typeCheckBases(i,r,t),this.typeCheckAST(i.members,t,!1),r.hasBaseTypeConflict()||this.typeCheckMembersAgainstIndexer(r,t),t.popEnclosingDecl(),r},r.prototype.typeCheckInterface=function(n,t){var r=n,i=this.resolveSymbolAndReportDiagnostics(n,!1,t.getEnclosingDecl()).getType(),u;return this.checkForResolutionError(i,t.getEnclosingDecl()),u=t.semanticInfo.getDeclForAST(r),t.pushEnclosingDecl(u),this.typeCheckAST(r.typeParameters,t,!1),this.typeCheckBases(n,i,t),this.typeCheckAST(r.members,t,!1),i.hasBaseTypeConflict()||this.typeCheckMembersAgainstIndexer(i,t),t.popEnclosingDecl(),i},r.prototype.typeCheckModule=function(t,i){var r=t,e=this.resolveSymbolAndReportDiagnostics(t,!1,i.getEnclosingDecl()),f,o,s,u;if(this.checkForResolutionError(e,i.getEnclosingDecl()),f=i.semanticInfo.getDeclForAST(r),i.pushEnclosingDecl(f),o=r.name.text,s=n.isQuoted(o)||n.hasFlag(r.getModuleFlags(),512),s&&r.members&&r.members.members)for(u=r.members.members.length-1;u>=0;u--)if(r.members.members[u]&&r.members.members[u].nodeType==87){this.typeCheckAST(r.members.members[u],i,!1);break}return this.typeCheckAST(r.members,i,!1),this.validateVariableDeclarationGroups(f,i),i.popEnclosingDecl(),e},r.prototype.checkAssignability=function(n,i,r,u){var f=new t,o=this.resolver.sourceIsAssignableToTarget(i,r,this.context,f),e;o||(e=u.getEnclosingDecl(),f.message?this.postError(n.minChar,n.getLength(),u.scriptName,81,[i.toString(),r.toString(),f.message],e):this.postError(n.minChar,n.getLength(),u.scriptName,80,[i.toString(),r.toString()],e))},r.prototype.isValidLHS=function(t,i){var r=i.getType();return t.nodeType===35||this.resolver.isAnyOrEquivalent(r)?!0:!i.isType()||r.isArray()?(i.getKind()&n.PullElementKind.SomeLHS)!=0&&!i.hasFlag(4096):!1},r.prototype.typeCheckAssignment=function(n,t){var f=t.getEnclosingDecl(),r,i,u;return this.typeCheckAST(n.operand1,t,!1),r=this.resolveSymbolAndReportDiagnostics(n.operand1,!1,t.getEnclosingDecl()),i=r.getType(),this.checkForResolutionError(i,f),i=this.resolver.widenType(r.getType()),this.context.pushContextualType(i,this.context.inProvisionalResolution(),null),u=this.resolver.widenType(this.typeCheckAST(n.operand2,t,!0)),this.context.popContextualType(),this.isValidLHS(n.operand1,r)||this.postError(n.operand1.minChar,n.operand1.getLength(),t.scriptName,195,null,f),this.checkAssignability(n.operand1,u,i,t),u},r.prototype.typeCheckGenericType=function(n,t){var i=this.context.resolvingTypeReference;return this.context.resolvingTypeReference=!0,this.typeCheckAST(n.name,t,!1),this.context.resolvingTypeReference=i,this.typeCheckAST(n.typeArguments,t,!1),this.resolveSymbolAndReportDiagnostics(n,!1,t.getEnclosingDecl()).getType()},r.prototype.typeCheckObjectLiteral=function(n,t,i){var l=n,s=t.getEnclosingDecl(),h=this.resolveSymbolAndReportDiagnostics(n,i,s).getType(),e=l.operand,c=this.context.getContextualType(),r,f,u,o;if(e)for(r=null,f=0;f<e.members.length;f++)u=e.members[f],c&&(u.operand1.nodeType===20?o=u.operand1.text:u.operand1.nodeType===5&&(o=u.operand1.text),r=c.findMember(o),r&&this.context.pushContextualType(r.getType(),this.context.inProvisionalResolution(),null)),this.typeCheckAST(u.operand2,t,r!=null),r&&(this.context.popContextualType(),r=null);return this.checkForResolutionError(h,s),h},r.prototype.typeCheckArrayLiteral=function(n,t,i){var c=n,s=t.getEnclosingDecl(),h=this.resolveSymbolAndReportDiagnostics(n,i,s).getType(),r=c.operand,e=this.context.getContextualType(),u=null,o,f;if(e&&e.isArray()&&(u=e.getElementType()),r&&r.members&&r.members.length){for(o=[],u&&this.context.pushContextualType(u,this.context.inProvisionalResolution(),null),f=0;f<r.members.length;f++)o[o.length]=this.typeCheckAST(r.members[f],t,!1);u&&this.context.popContextualType()}return this.checkForResolutionError(h,s),h},r.prototype.enclosingClassIsDerived=function(n){var t=n.getEnclosingDecl(8),i;return t&&(i=t.getSymbol(),i.getExtendedTypes().length>0)?!0:!1},r.prototype.isSuperCallNode=function(n){var t,i;return n&&n.nodeType===88&&(t=n,t.expression&&t.expression.nodeType===36&&(i=t.expression,i.target&&i.target.nodeType===30))?!0:!1},r.prototype.getFirstStatementFromFunctionDeclAST=function(n){return n.block&&n.block.statements&&n.block.statements.members?n.block.statements.members[0]:null},r.prototype.superCallMustBeFirstStatementInConstructor=function(n,t){var f,e,i,h,o,s,r,c,l,u,a;if(n&&t){if(f=t.getSymbol(),f.getExtendedTypes().length===0)return!1;for(e=f.getMembers(),i=0,h=e.length;i<h;i++)if(o=e[i],o.getKind()===4096)for(s=o.getDeclarations(),r=0,c=s.length;r<c;r++)if((l=s[r],u=this.semanticInfoChain.getASTForDecl(l),u.nodeType===19)||u.nodeType===17&&(a=u,a.init))return!0}return!1},r.prototype.checkForThisOrSuperCaptureInArrowFunction=function(t,i){var h=i.getEnclosingDecl(),e=i.enclosingDeclStack,o,f;if(e.length)for(o=!1,f=e.length-1;f>=0;f--){var u=e[f],r=u.getKind(),s=u.getFlags();if(r===131072&&n.hasFlag(s,8192)){o=!0;continue}if(o&&(r===16384||r===65536||r===32768||r===262144||r===524288||r===131072||r===8||r===4||r===32||r===1)){u.setFlags(u.getFlags()|262144);r===8&&u.getChildDecls().filter(function(n){return n.getKind()===32768}).map(function(n){return n.setFlags(n.getFlags()|262144)});break}}},r.prototype.typeCheckThisExpression=function(n,t){var i=t.getEnclosingDecl(),r=t.getEnclosingNonLambdaDecl();return t.inSuperConstructorCall&&this.superCallMustBeFirstStatementInConstructor(t.getEnclosingDecl(32768),t.getEnclosingDecl(8))?this.postError(n.minChar,n.getLength(),t.scriptName,166,null,i):r&&(r.getKind()===8?this.postError(n.minChar,n.getLength(),t.scriptName,205,null,i):r.getKind()===4||r.getKind()===32?this.postError(n.minChar,n.getLength(),t.scriptName,176,null,i):t.inConstructorArguments&&this.postError(n.minChar,n.getLength(),t.scriptName,220,null,i)),this.checkForThisOrSuperCaptureInArrowFunction(n,t),this.resolveSymbolAndReportDiagnostics(n,!1,i).getType()},r.prototype.typeCheckSuperExpression=function(n,t){var i=t.getEnclosingDecl(),u=t.getEnclosingNonLambdaDecl(),r=u.getKind(),f=t.inSuperConstructorTarget;return f&&i.getKind()!==32768?this.postError(n.minChar,n.getLength(),t.scriptName,174,null,i):r!==65536&&r!==262144&&r!==524288&&r!==32768||(u.getFlags()&16)!=0?this.postError(n.minChar,n.getLength(),t.scriptName,170,null,i):this.enclosingClassIsDerived(t)||this.postError(n.minChar,n.getLength(),t.scriptName,171,null,i),this.checkForThisOrSuperCaptureInArrowFunction(n,t),this.resolveSymbolAndReportDiagnostics(n,!1,i).getType()},r.prototype.typeCheckCallExpression=function(t,i){var f=i.getEnclosingDecl(),e=t.target.nodeType===30,h=new n.PullAdditionalCallResolutionData,c=this.resolver.resolveCallExpression(t,!1,f,this.context,h),o,l,a,u,s,r,v,y;if(this.reportDiagnostics(c,f),o=c.symbol.getType(),this.typeCheckAST(t.typeArguments,i,!1),o.isError()||(l=i.inSuperConstructorTarget,e&&(i.inSuperConstructorTarget=!0),this.typeCheckAST(t.target,i,!1),i.inSuperConstructorTarget=l),e&&f.getKind()===32768&&(i.seenSuperConstructorCall=!0),a=i.inSuperConstructorCall,e&&(i.inSuperConstructorCall=!0),u=h.actualParametersContextTypeSymbols,t.arguments)for(s=t.arguments.members,r=0,v=s.length;r<v;r++)y=s[r],u&&u[r]&&this.context.pushContextualType(u[r],this.context.inProvisionalResolution(),null),this.typeCheckAST(y,i,!1),u&&u[r]&&this.context.popContextualType();return i.inSuperConstructorCall=a,o},r.prototype.typeCheckObjectCreationExpression=function(t,i){var l=i.getEnclosingDecl(),e=new n.PullAdditionalCallResolutionData,o=this.resolver.resolveNewExpression(t,!1,l,this.context,e),s,u,f,r,h,c;if(this.reportDiagnostics(o,i.getEnclosingDecl()),s=o.symbol.getType(),this.typeCheckAST(t.target,i,!1),this.typeCheckAST(t.typeArguments,i,!1),u=e.actualParametersContextTypeSymbols,t.arguments)for(f=t.arguments.members,r=0,h=f.length;r<h;r++)c=f[r],u&&u[r]&&this.context.pushContextualType(u[r],this.context.inProvisionalResolution(),null),this.typeCheckAST(c,i,!1),u&&u[r]&&this.context.popContextualType();return s},r.prototype.typeCheckTypeAssertion=function(n,i){var s=i.getEnclosingDecl(),r=this.resolveSymbolAndReportDiagnostics(n,!1,s).getType(),e,u,f,o;return r.isError()&&(e=r.getData(),this.postError(n.minChar,n.getLength(),i.scriptName,164,[e],i.getEnclosingDecl())),this.context.pushContextualType(r,this.context.inProvisionalResolution(),null),u=this.typeCheckAST(n.operand,i,!0),this.context.popContextualType(),f=new t,o=this.resolver.sourceIsAssignableToTarget(r,u,this.context,f)||this.resolver.sourceIsAssignableToTarget(u,r,this.context,f),o||(f.message?this.postError(n.minChar,n.getLength(),i.scriptName,81,[u.toString(),r.toString(),f.message],i.getEnclosingDecl()):this.postError(n.minChar,n.getLength(),i.scriptName,80,[u.toString(),r.toString()],i.getEnclosingDecl())),r},r.prototype.typeCheckLogicalOperation=function(i,r){var u=this.typeCheckAST(i.operand1,r,!1),f=this.typeCheckAST(i.operand2,r,!1),e=new t;return this.resolver.sourceIsAssignableToTarget(u,f,this.context,e)||this.resolver.sourceIsAssignableToTarget(f,u,this.context,e)||this.postError(i.minChar,i.getLength(),r.scriptName,78,[n.BinaryExpression.getTextForBinaryToken(i.nodeType),u.toString(),f.toString()],r.getEnclosingDecl()),this.resolveSymbolAndReportDiagnostics(i,!1,r.getEnclosingDecl()).getType()},r.prototype.typeCheckLogicalAndOrExpression=function(n,t){return this.typeCheckAST(n.operand1,t,!1),this.typeCheckAST(n.operand2,t,!1),this.resolveSymbolAndReportDiagnostics(n,!1,t.getEnclosingDecl()).getType()},r.prototype.typeCheckCommaExpression=function(n,t){return this.typeCheckAST(n.operand1,t,!1),this.typeCheckAST(n.operand2,t,!1),this.resolveSymbolAndReportDiagnostics(n,!1,t.getEnclosingDecl()).getType()},r.prototype.typeCheckBinaryAdditionOperation=function(t,i){var e=i.getEnclosingDecl(),r,u,f,o;return this.resolveSymbolAndReportDiagnostics(t,!1,e).getType(),r=this.typeCheckAST(t.operand1,i,!1),u=this.typeCheckAST(t.operand2,i,!1),n.PullHelpers.symbolIsEnum(r)?r=this.semanticInfoChain.numberTypeSymbol:(r===this.semanticInfoChain.nullTypeSymbol||r===this.semanticInfoChain.undefinedTypeSymbol)&&(r=u!=this.semanticInfoChain.nullTypeSymbol&&u!=this.semanticInfoChain.undefinedTypeSymbol?u:this.semanticInfoChain.anyTypeSymbol),n.PullHelpers.symbolIsEnum(u)?u=this.semanticInfoChain.numberTypeSymbol:(u===this.semanticInfoChain.nullTypeSymbol||u===this.semanticInfoChain.undefinedTypeSymbol)&&(u=r!=this.semanticInfoChain.nullTypeSymbol&&r!=this.semanticInfoChain.undefinedTypeSymbol?r:this.semanticInfoChain.anyTypeSymbol),f=null,r===this.semanticInfoChain.stringTypeSymbol||u===this.semanticInfoChain.stringTypeSymbol?f=this.semanticInfoChain.stringTypeSymbol:this.resolver.isAnyOrEquivalent(r)||this.resolver.isAnyOrEquivalent(u)?f=this.semanticInfoChain.anyTypeSymbol:u===this.semanticInfoChain.numberTypeSymbol&&r===this.semanticInfoChain.numberTypeSymbol&&(f=this.semanticInfoChain.numberTypeSymbol),f?t.nodeType===39&&(o=this.resolveSymbolAndReportDiagnostics(t.operand1,!1,i.getEnclosingDecl()),this.isValidLHS(t.operand1,o)||this.postError(t.operand1.minChar,t.operand1.getLength(),i.scriptName,195,null,e),this.checkAssignability(t.operand1,f,r,i)):(this.postError(t.operand1.minChar,t.operand1.getLength(),i.scriptName,178,null,i.getEnclosingDecl()),f=this.semanticInfoChain.anyTypeSymbol),f},r.prototype.typeCheckBinaryArithmeticOperation=function(t,i){var f=i.getEnclosingDecl(),s;this.resolveSymbolAndReportDiagnostics(t,!1,f).getType();var r=this.typeCheckAST(t.operand1,i,!1),u=this.typeCheckAST(t.operand2,i,!1),e=this.resolver.isAnyOrEquivalent(r)||r===this.semanticInfoChain.numberTypeSymbol||n.PullHelpers.symbolIsEnum(r),o=this.resolver.isAnyOrEquivalent(u)||u===this.semanticInfoChain.numberTypeSymbol||n.PullHelpers.symbolIsEnum(u);if(o||this.postError(t.operand1.minChar,t.operand1.getLength(),i.scriptName,179,null,i.getEnclosingDecl()),e||this.postError(t.operand2.minChar,t.operand2.getLength(),i.scriptName,180,null,i.getEnclosingDecl()),o&&e)switch(t.nodeType){case 47:case 48:case 49:case 40:case 42:case 41:case 43:case 46:case 44:case 45:s=this.resolveSymbolAndReportDiagnostics(t.operand1,!1,i.getEnclosingDecl());this.isValidLHS(t.operand1,s)||this.postError(t.operand1.minChar,t.operand1.getLength(),i.scriptName,195,null,f);this.checkAssignability(t.operand1,u,r,i)}return this.semanticInfoChain.numberTypeSymbol},r.prototype.typeCheckLogicalNotExpression=function(n,t,i){return this.typeCheckAST(n.operand,t,i),this.semanticInfoChain.booleanTypeSymbol},r.prototype.typeCheckUnaryArithmeticOperation=function(t,i,r){var u=this.typeCheckAST(t.operand,i,r),f,e;switch(t.nodeType){case 26:case 27:case 72:return this.semanticInfoChain.numberTypeSymbol}f=this.resolver.isAnyOrEquivalent(u)||u===this.semanticInfoChain.numberTypeSymbol||n.PullHelpers.symbolIsEnum(u);f||this.postError(t.operand.minChar,t.operand.getLength(),i.scriptName,181,null,i.getEnclosingDecl());switch(t.nodeType){case 76:case 74:case 77:case 75:e=this.resolveSymbolAndReportDiagnostics(t.operand,!1,i.getEnclosingDecl());this.isValidLHS(t.operand,e)||this.postError(t.operand.minChar,t.operand.getLength(),i.scriptName,204,null,i.getEnclosingDecl())}return u},r.prototype.typeCheckElementAccessExpression=function(n,t){return this.typeCheckAST(n.operand1,t,!1),this.typeCheckAST(n.operand2,t,!1),this.resolveSymbolAndReportDiagnostics(n,!1,t.getEnclosingDecl()).getType()},r.prototype.typeCheckTypeOf=function(n,t){return this.typeCheckAST(n.operand,t,!1),this.semanticInfoChain.stringTypeSymbol},r.prototype.typeCheckTypeReference=function(t,i){var u,r;return t.term.nodeType===12?this.typeCheckFunctionTypeSignature(t.term,i.getEnclosingDecl(),i):t.term.nodeType===14?this.typeCheckInterfaceTypeReference(t.term,i.getEnclosingDecl(),i):(u=this.context.resolvingTypeReference,this.context.resolvingTypeReference=!0,r=this.typeCheckAST(t.term,i,!1),!r||r.isError()||i.inImportDeclaration||(r.getKind()&n.PullElementKind.SomeType)==0&&(r.getKind()&n.PullElementKind.SomeContainer?this.postError(t.minChar,t.getLength(),i.scriptName,262,[r.toString()],i.getEnclosingDecl()):this.postError(t.minChar,t.getLength(),i.scriptName,263,null,i.getEnclosingDecl())),this.context.resolvingTypeReference=u),this.resolveSymbolAndReportDiagnostics(t,!1,i.getEnclosingDecl()).getType()},r.prototype.typeCheckExportAssignment=function(n,t){return this.resolveSymbolAndReportDiagnostics(n,!1,t.getEnclosingDecl()).getType()},r.prototype.typeCheckFunctionTypeSignature=function(n,t,i){var o=this.resolver.getSymbolAndDiagnosticsForAST(n),r=o&&o.symbol,s,u,e,f,h;for(r||(r=this.resolver.resolveFunctionTypeSignature(n,t,this.context)),s=i.semanticInfo.getDeclForAST(n),i.pushEnclosingDecl(s),this.typeCheckAST(n.arguments,i,!1),i.popEnclosingDecl(),u=r.getKind()===33554432?r.getConstructSignatures()[0]:r.getCallSignatures()[0],e=u.getParameters(),f=0;f<e.length;f++)this.checkForResolutionError(e[f].getType(),t);return n.returnTypeAnnotation&&(h=u.getReturnType(),this.checkForResolutionError(h,t)),this.typeCheckFunctionOverloads(n,i,u,[u]),r},r.prototype.typeCheckInterfaceTypeReference=function(n,t,i){var u=this.resolver.getSymbolAndDiagnosticsForAST(n),r=u&&u.symbol,f;return r||(r=this.resolver.resolveInterfaceTypeReference(n,t,this.context)),f=i.semanticInfo.getDeclForAST(n),i.pushEnclosingDecl(f),this.typeCheckAST(n.members,i,!1),this.typeCheckMembersAgainstIndexer(r,i),i.popEnclosingDecl(),r},r.prototype.typeCheckConditionalExpression=function(n,t){return this.typeCheckAST(n.operand1,t,!1),this.typeCheckAST(n.operand2,t,!1),this.typeCheckAST(n.operand3,t,!1),this.resolveSymbolAndReportDiagnostics(n,!1,t.getEnclosingDecl()).getType()},r.prototype.typeCheckThrowStatement=function(n,t){this.typeCheckAST(n.expression,t,!1);var i=this.resolveSymbolAndReportDiagnostics(n.expression,!1,t.getEnclosingDecl()).getType();return this.checkForResolutionError(i,t.getEnclosingDecl()),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckDeleteExpression=function(n,t){this.typeCheckAST(n.operand,t,!1);var i=t.getEnclosingDecl(),r=this.resolveSymbolAndReportDiagnostics(n,!1,i).getType();return this.checkForResolutionError(r,i),r},r.prototype.typeCheckVoidExpression=function(n,t){this.typeCheckAST(n.operand,t,!1);var i=t.getEnclosingDecl(),r=this.resolveSymbolAndReportDiagnostics(n,!1,i).getType();return this.checkForResolutionError(r,i),r},r.prototype.typeCheckRegExpExpression=function(n,t){var i=this.resolveSymbolAndReportDiagnostics(n,!1,t.getEnclosingDecl()).getType();return this.checkForResolutionError(i,t.getEnclosingDecl()),i},r.prototype.typeCheckForStatement=function(n,t){return this.typeCheckAST(n.init,t,!1),this.typeCheckAST(n.cond,t,!1),this.typeCheckAST(n.body,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckForInStatement=function(n,t){var i=n,f=this.resolver.widenType(this.typeCheckAST(i.obj,t,!1)),r=i.lval,e,o,u,s,h;return r.nodeType===18&&(e=i.lval,o=e.declarators.members[0],o.typeExpr&&this.postError(r.minChar,r.getLength(),t.scriptName,182,null,t.getEnclosingDecl())),u=this.resolveSymbolAndReportDiagnostics(i.lval,!1,t.getEnclosingDecl()),this.checkForResolutionError(u.getType(),t.getEnclosingDecl()),s=u.getType()===this.semanticInfoChain.stringTypeSymbol||this.resolver.isAnyOrEquivalent(u.getType()),h=f&&(this.resolver.isAnyOrEquivalent(f)||!f.isPrimitive()),s||this.postError(r.minChar,r.getLength(),t.scriptName,183,null,t.getEnclosingDecl()),h||this.postError(i.obj.minChar,i.obj.getLength(),t.scriptName,184,null,t.getEnclosingDecl()),this.typeCheckAST(i.body,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckInExpression=function(n,t){var i=this.resolver.widenType(this.typeCheckAST(n.operand1,t,!1)),r=this.resolver.widenType(this.typeCheckAST(n.operand2,t,!1)),u=i.getType()===this.semanticInfoChain.stringTypeSymbol||this.resolver.isAnyOrEquivalent(i.getType())||this.resolver.isNumberOrEquivalent(i.getType()),f=r&&(this.resolver.isAnyOrEquivalent(r)||!r.isPrimitive());return u||this.postError(n.operand1.minChar,n.operand1.getLength(),t.scriptName,185,null,t.getEnclosingDecl()),f||this.postError(n.operand1.minChar,n.operand1.getLength(),t.scriptName,186,null,t.getEnclosingDecl()),this.semanticInfoChain.booleanTypeSymbol},r.prototype.typeCheckInstanceOfExpression=function(n,t){var r=this.resolver.widenType(this.typeCheckAST(n.operand1,t,!1)),i=this.typeCheckAST(n.operand2,t,!1),u=r&&(this.resolver.isAnyOrEquivalent(r)||!r.isPrimitive()),f=i&&(this.resolver.isAnyOrEquivalent(i)||i.isClass()||this.resolver.typeIsSubtypeOfFunction(i,this.context));return u||this.postError(n.operand1.minChar,n.operand1.getLength(),t.scriptName,187,null,t.getEnclosingDecl()),f||this.postError(n.operand1.minChar,n.operand1.getLength(),t.scriptName,188,null,t.getEnclosingDecl()),this.semanticInfoChain.booleanTypeSymbol},r.prototype.typeCheckParenthesizedExpression=function(n,t){return this.typeCheckAST(n.expression,t,!1)},r.prototype.typeCheckWhileStatement=function(n,t){return this.typeCheckAST(n.cond,t,!1),this.typeCheckAST(n.body,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckDoStatement=function(n,t){return this.typeCheckAST(n.cond,t,!1),this.typeCheckAST(n.body,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckIfStatement=function(n,t){return this.typeCheckAST(n.cond,t,!1),this.typeCheckAST(n.thenBod,t,!1),this.typeCheckAST(n.elseBod,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckBlock=function(n,t){return this.typeCheckAST(n.statements,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckVariableDeclaration=function(n,t){return this.typeCheckAST(n.declarators,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckVariableStatement=function(n,t){return this.typeCheckAST(n.declaration,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckWithStatement=function(n,t){return this.postError(n.expr.minChar,n.expr.getLength(),t.scriptName,200,null,t.getEnclosingDecl()),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckTryStatement=function(n,t){return this.typeCheckAST(n.tryBody,t,!1),this.typeCheckAST(n.catchClause,t,!1),this.typeCheckAST(n.finallyBody,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckCatchClause=function(n,t){var i=this.resolver.getDeclForAST(n);return t.pushEnclosingDecl(i),this.typeCheckAST(n.body,t,!1),t.popEnclosingDecl(),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckReturnStatement=function(i,r){var v,l,p,y,f,w,e,a,s,b;r.setEnclosingDeclHasReturn();var o=i.returnExpression,u=r.getEnclosingDecl(),c=!1,h;return u.getKind()&n.PullElementKind.SomeFunction&&(h=this.resolver.getASTForDecl(u),h.returnTypeAnnotation?(v=this.resolver.resolveTypeReference(h.returnTypeAnnotation,u,this.context).symbol,v&&(c=!0,this.context.pushContextualType(v,this.context.inProvisionalResolution(),null))):(l=this.context.getContextualType(),l&&l.isFunction()&&(p=l.getDeclarations()[0].getSignatureSymbol(),y=p.getReturnType(),y&&(c=!0,this.context.pushContextualType(y,this.context.inProvisionalResolution(),null))))),f=this.typeCheckAST(o,r,c),c&&this.context.popContextualType(),u.getKind()===524288&&o&&this.postError(o.minChar,o.getLength(),r.scriptName,189,null,r.getEnclosingDecl()),u.getKind()&n.PullElementKind.SomeFunction&&(h=this.resolver.getASTForDecl(u),h.returnTypeAnnotation&&(w=u.getSignatureSymbol(),e=w.getReturnType(),f&&e&&(a=new t,s=null,f.isTypeParameter()&&(s=f.getConstraint(),s&&(f=s)),e.isTypeParameter()&&(s=e.getConstraint(),s&&(e=s)),f.isResolved()||this.resolver.resolveDeclaredSymbol(f,u,this.context),e.isResolved()||this.resolver.resolveDeclaredSymbol(e,u,this.context),b=this.resolver.sourceIsAssignableToTarget(f,e,this.context,a),b||(a.message?this.postError(o.minChar,o.getLength(),r.scriptName,81,[f.toString(),e.toString(),a.message],u):this.postError(o.minChar,o.getLength(),r.scriptName,80,[f.toString(),e.toString()],u))))),f},r.prototype.typeCheckNameExpression=function(n,t){var i=t.getEnclosingDecl(),r=this.resolveSymbolAndReportDiagnostics(n,!1,i).getType();return this.checkForResolutionError(r,i),r},r.prototype.checkForSuperMemberAccess=function(n,t,i){var r=t.getEnclosingDecl();return i&&n.operand1.nodeType===30&&!i.isError()&&i.getKind()!==65536?(this.postError(n.operand2.minChar,n.operand2.getLength(),t.scriptName,232,[],r),!0):!1},r.prototype.checkForPrivateMemberAccess=function(n,t,i,r){var o=t.getEnclosingDecl(),u,e,f;return r&&r.hasFlag(2)&&(u=r.getContainer(),u&&u.getKind()===33554432&&(u=u.getAssociatedContainerType()),u&&u.isClass()&&(e=t.getEnclosingClassDecl(),!e||e.getSymbol()!==u))?(f=n.operand2,this.postError(f.minChar,f.getLength(),t.scriptName,175,[u.toString(!1),f.actualText],o),!0):!1},r.prototype.checkForStaticMemberAccess=function(n,t,i,r){var f,u;return i&&r&&!r.isError()&&(i.isClass()||i.getKind()===33554432)&&(f=n.operand2,u=t.getEnclosingDecl(),(r.hasFlag(16)||this.resolver.isPrototypeMember(n,u,this.context))&&i.getKind()!==33554432)?(u=t.getEnclosingDecl(),this.postError(f.minChar,f.getLength(),t.scriptName,221,null,u),!0):!1},r.prototype.typeCheckMemberAccessExpression=function(n,t){var u=t.getEnclosingDecl(),i=this.resolveSymbolAndReportDiagnostics(n,!1,u),f=i.getType(),e,r;return this.checkForResolutionError(f,u),e=this.context.canUseTypeSymbol,this.context.canUseTypeSymbol=!0,r=this.typeCheckAST(n.operand1,t,!1),this.context.canUseTypeSymbol=e,this.checkForSuperMemberAccess(n,t,i)||this.checkForPrivateMemberAccess(n,t,r,i)||this.checkForStaticMemberAccess(n,t,r,i),f},r.prototype.typeCheckSwitchStatement=function(n,t){return this.typeCheckAST(n.val,t,!1),this.typeCheckAST(n.caseList,t,!1),this.typeCheckAST(n.defaultCase,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckExpressionStatement=function(n,t,i){return this.typeCheckAST(n.expression,t,i)},r.prototype.typeCheckCaseClause=function(n,t){return this.typeCheckAST(n.expr,t,!1),this.typeCheckAST(n.body,t,!1),this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckLabeledStatement=function(n,t){return this.typeCheckAST(n.statement,t,!1)},r.prototype.checkTypePrivacy=function(t,i,r,u){var c,o,e,s,f,h;if(i&&i.getKind()!==2){if(i.isArray()){this.checkTypePrivacy(t,i.getElementType(),r,u);return}if(!i.isNamedTypeSymbol()){for(c=i.getMembers(),f=0;f<c.length;f++)this.checkTypePrivacy(t,c[f].getType(),r,u);this.checkTypePrivacyOfSignatures(t,i.getCallSignatures(),r,u);this.checkTypePrivacyOfSignatures(t,i.getConstructSignatures(),r,u);this.checkTypePrivacyOfSignatures(t,i.getIndexSignatures(),r,u);return}if(t.isExternallyVisible()){if(o=i.isExternallyVisible(),o&&(e=i.pathToRoot(),e.length&&e[e.length-1].getKind()===32&&(s=t.pathToRoot(),s.length&&s[s.length-1]!=e[e.length-1])))for(o=!1,f=e.length-1;f>=0;f--)if(h=e[f].getAliasedSymbol(t),h){n.CompilerDiagnostics.assert(h.getKind()===256,"dynamic module need to be referenced by type alias");h.setIsTypeUsedExternally();o=!0;break}o||u(i)}}},r.prototype.checkTypePrivacyOfSignatures=function(n,t,i,r){for(var f,o,s,u,h,c,e=0;e<t.length;e++)if(f=t[e],!t.length||!f.isDefinition()){for(o=f.getTypeParameters(),u=0;u<o.length;u++)this.checkTypePrivacy(n,o[u],i,r);for(s=f.getParameters(),u=0;u<s.length;u++)h=s[u].getType(),this.checkTypePrivacy(n,h,i,r);c=f.getReturnType();this.checkTypePrivacy(n,c,i,r)}},r.prototype.baseListPrivacyErrorReporter=function(t,i,r,u,f,e){var l=this.resolver.getDeclForAST(t),c=e.getEnclosingDecl(),s,h,o=f.getScopedName();f.isContainer()?(n.isQuoted(o)||(o="'"+o+"'"),t.nodeType===13?u?(s=90,h=[i.getScopedName(),o]):(s=91,h=[i.getScopedName(),o]):(s=92,h=[i.getDisplayName(),o])):t.nodeType===13?u?(s=87,h=[i.getScopedName(),o]):(s=88,h=[i.getScopedName(),o]):(s=89,h=[i.getDisplayName(),o]);this.context.postError(e.scriptName,r.minChar,r.getLength(),s,h,c,!0)},r.prototype.variablePrivacyErrorReporter=function(t,i,r){var h=this.resolver.getASTForSymbol(t),l=r.getEnclosingDecl(),c=t.getKind()===4096,o=!1,s=t.getContainer(),f,e,u;s&&(s.getKind()===8||s.getKind()===32768)&&(o=!0);u=i.getScopedName();i.isContainer()?(n.isQuoted(u)||(u="'"+u+"'"),t.hasFlag(16)?(f=97,e=[t.getScopedName(),u]):c?o?(f=98,e=[t.getScopedName(),u]):(f=99,e=[t.getScopedName(),u]):(f=100,e=[t.getScopedName(),u])):t.hasFlag(16)?(f=93,e=[t.getScopedName(),u]):c?o?(f=94,e=[t.getScopedName(),u]):(f=95,e=[t.getScopedName(),u]):(f=96,e=[t.getScopedName(),u]);this.context.postError(r.scriptName,h.minChar,h.getLength(),f,e,l,!0)},r.prototype.checkFunctionTypePrivacy=function(n,t,i){var c=this,h,a,e,u;if(!t&&!(n.getFunctionFlags()&8192)&&!(n.getFunctionFlags()&16384)){var o=i.semanticInfo.getDeclForAST(n),r=o.getSymbol(),f,s=n.isGetAccessor(),l=n.isSetAccessor();if(s||l)h=r,f=(s?h.getGetter():h.getSetter()).getType().getCallSignatures()[0];else{if(r){if(r.getKind()==65536&&!r.getContainer().isNamedTypeSymbol())return}else if(a=o.getParentDecl(),r=a.getSymbol(),r&&r.isType()&&!r.isNamedTypeSymbol())return;f=o.getSignatureSymbol()}if(!s)for(e=f.getParameters(),u=0;u<e.length;u++)this.checkTypePrivacy(r,e[u].getType(),i,function(t){return c.functionArgumentTypePrivacyErrorReporter(n,u,e[u],t,i)});l||this.checkTypePrivacy(r,f.getReturnType(),i,function(t){return c.functionReturnTypePrivacyErrorReporter(n,f.getReturnType(),t,i)})}},r.prototype.functionArgumentTypePrivacyErrorReporter=function(t,i,r,u,f){var l=this.resolver.getDeclForAST(t),o=f.getEnclosingDecl(),y=t.isAccessor()&&n.hasFlag(t.getFunctionFlags(),32),p=t.isAccessor()&&n.hasFlag(t.getFunctionFlags(),64),c=(l.getFlags()&16)==16,w=l.getKind()===65536,a=!1,v=l.getParentDecl();v&&(v.getKind()===8||v.getKind()===32768)&&(a=!0);var s=t.arguments.members[i].minChar,h=t.arguments.members[i].getLength(),e=u.getScopedName();u.isContainer()?(n.isQuoted(e)||(e="'"+e+"'"),t.isConstructor?this.context.postError(f.scriptName,s,h,110,[r.getScopedName(),e],o,!0):p?c?this.context.postError(f.scriptName,s,h,111,[r.getScopedName(),e],o,!0):this.context.postError(f.scriptName,s,h,112,[r.getScopedName(),e],o,!0):t.isConstructMember()?this.context.postError(f.scriptName,s,h,113,[r.getScopedName(),e],o,!0):t.isCallMember()?this.context.postError(f.scriptName,s,h,114,[r.getScopedName(),e],o,!0):w?c?this.context.postError(f.scriptName,s,h,115,[r.getScopedName(),e],o,!0):a?this.context.postError(f.scriptName,s,h,116,[r.getScopedName(),e],o,!0):this.context.postError(f.scriptName,s,h,117,[r.getScopedName(),e],o,!0):y||this.context.postError(f.scriptName,s,h,118,[r.getScopedName(),e],o,!0)):t.isConstructor?this.context.postError(f.scriptName,s,h,101,[r.getScopedName(),e],o,!0):p?c?this.context.postError(f.scriptName,s,h,102,[r.getScopedName(),e],o,!0):this.context.postError(f.scriptName,s,h,103,[r.getScopedName(),e],o,!0):t.isConstructMember()?this.context.postError(f.scriptName,s,h,104,[r.getScopedName(),e],o,!0):t.isCallMember()?this.context.postError(f.scriptName,s,h,105,[r.getScopedName(),e],o,!0):w?c?this.context.postError(f.scriptName,s,h,106,[r.getScopedName(),e],o,!0):a?this.context.postError(f.scriptName,s,h,107,[r.getScopedName(),e],o,!0):this.context.postError(f.scriptName,s,h,108,[r.getScopedName(),e],o,!0):y||t.isIndexerMember()||this.context.postError(f.scriptName,s,h,109,[r.getScopedName(),e],o,!0)},r.prototype.functionReturnTypePrivacyErrorReporter=function(t,i,r,u){var w=this,s=this.resolver.getDeclForAST(t),c=u.getEnclosingDecl(),b=t.isAccessor()&&n.hasFlag(t.getFunctionFlags(),32),k=t.isAccessor()&&n.hasFlag(t.getFunctionFlags(),64),h=(s.getFlags()&16)==16,d=s.getKind()===65536,l=!1,a=s.getParentDecl(),f,o,e,v,y,p,g,nt;a&&(a.getKind()===8||a.getKind()===32768)&&(l=!0);f=null;e=r.getScopedName();r.isContainer()?(n.isQuoted(e)||(e="'"+e+"'"),b?h?(f=128,o=[e]):(f=129,o=[e]):t.isConstructMember()?(f=130,o=[e]):t.isCallMember()?(f=131,o=[e]):t.isIndexerMember()?(f=132,o=[e]):d?h?(f=133,o=[e]):l?(f=134,o=[e]):(f=135,o=[e]):k||t.isConstructor||(f=136,o=[e])):b?h?(f=119,o=[e]):(f=120,o=[e]):t.isConstructMember()?(f=121,o=[e]):t.isCallMember()?(f=122,o=[e]):t.isIndexerMember()?(f=123,o=[e]):d?h?(f=124,o=[e]):l?(f=125,o=[e]):(f=126,o=[e]):k||t.isConstructor||(f=127,o=[e]);f&&(v=!1,y=new n.PullTypeResolutionContext,t.returnTypeAnnotation&&(p=this.resolver.resolveTypeReference(t.returnTypeAnnotation,s,y),g=p&&p.symbol,g===i&&this.context.postError(u.scriptName,t.returnTypeAnnotation.minChar,t.returnTypeAnnotation.getLength(),f,o,c,!0)),t.block&&(nt=function(n,t,r){var h=!0,e,l;switch(n.nodeType){case 12:h=!1;break;case 93:e=n;l=w.resolver.resolveAST(e.returnExpression,!1,s,y).symbol.getType();l===i?w.context.postError(u.scriptName,e.minChar,e.getLength(),f,o,c,!0):v=!0;h=!1}return r.options.goChildren=h,n},n.getAstWalkerFactory().walk(t.block,nt)),v&&this.context.postError(u.scriptName,t.minChar,t.getLength(),f,o,c,!0))},r.globalPullTypeCheckPhase=0,r}();n.PullTypeChecker=r}(TypeScript||(TypeScript={})),function(n){var r,t,i;(function(n){n[n.NoChanges=0]="NoChanges";n[n.DeclAdded=1]="DeclAdded";n[n.DeclRemoved=2]="DeclRemoved";n[n.DeclChanged=3]="DeclChanged"})(n.PullDeclEdit||(n.PullDeclEdit={}));r=n.PullDeclEdit;t=function(){function n(n,t,i){this.oldDecl=n;this.newDecl=t;this.kind=i}return n}();n.PullDeclDiff=t;i=function(){function i(n,t){this.oldSemanticInfo=n;this.newSemanticInfo=t;this.differences=[]}return i.diffDecls=function(n,t,r,u){var f=new i(t,u);return f.diff(n,r),f.differences},i.prototype.diff=function(i,r){n.Debug.assert(i.getName()===r.getName());n.Debug.assert(i.getKind()===r.getKind());var u=this.oldSemanticInfo.getASTForDecl(i),f=this.newSemanticInfo.getASTForDecl(r);(n.Debug.assert(u!==undefined),n.Debug.assert(f!==undefined),u!==f)&&(this.diff1(i,r,u,f,i.childDeclTypeCache,r.childDeclTypeCache),this.diff1(i,r,u,f,i.childDeclTypeParameterCache,r.childDeclTypeParameterCache),this.diff1(i,r,u,f,i.childDeclValueCache,r.childDeclValueCache),this.diff1(i,r,u,f,i.childDeclNamespaceCache,r.childDeclNamespaceCache),this.isEquivalent(u,f)||this.differences.push(new t(i,r,3)))},i.prototype.diff1=function(n,r,u,f,e,o){var a,h,c,v,l,s,y;for(l in e)for(a=e[l]||i.emptyDeclArray,h=o[l]||i.emptyDeclArray,s=0,y=a.length;s<y;s++){c=a[s];switch(c.getKind()){case 131072:case 512:case 8388608:case 16777216:case 33554432:continue}s<h.length?(v=h[s],c.getKind()===v.getKind()?this.diff(c,h[s]):(this.differences.push(new t(c,null,2)),this.differences.push(new t(n,v,1)))):this.differences.push(new t(c,null,2))}for(l in o)for(a=e[l]||i.emptyDeclArray,h=o[l]||i.emptyDeclArray,s=a.length,y=h.length;s<y;s++)v=h[s],this.differences.push(new t(n,v,1))},i.prototype.isEquivalent=function(t,i){if(n.Debug.assert(t!==null),n.Debug.assert(i!==null),n.Debug.assert(t!==i),t.nodeType!==i.nodeType||t.getFlags()!==i.getFlags())return!1;switch(t.nodeType){case 16:return this.importDeclarationIsEquivalent(t,i);case 15:return this.moduleDeclarationIsEquivalent(t,i);case 13:return this.classDeclarationIsEquivalent(t,i);case 14:return this.interfaceDeclarationIsEquivalent(t,i);case 19:return this.argumentDeclarationIsEquivalent(t,i);case 17:return this.variableDeclarationIsEquivalent(t,i);case 9:return this.typeParameterIsEquivalent(t,i);case 12:return this.functionDeclarationIsEquivalent(t,i);case 101:return this.catchClauseIsEquivalent(t,i);case 99:return this.withStatementIsEquivalent(t,i);case 2:return this.scriptIsEquivalent(t,i);default:throw n.Errors.invalidOperation();}},i.prototype.importDeclarationIsEquivalent=function(t,i){return n.structuralEqualsNotIncludingPosition(t.alias,i.alias)},i.prototype.typeDeclarationIsEquivalent=function(t,i){return t.getVarFlags()===i.getVarFlags()&&n.structuralEqualsNotIncludingPosition(t.typeParameters,i.typeParameters)&&n.structuralEqualsNotIncludingPosition(t.extendsList,i.extendsList)&&n.structuralEqualsNotIncludingPosition(t.implementsList,i.implementsList)},i.prototype.classDeclarationIsEquivalent=function(n,t){return this.typeDeclarationIsEquivalent(n,t)},i.prototype.interfaceDeclarationIsEquivalent=function(n,t){return this.typeDeclarationIsEquivalent(n,t)},i.prototype.typeParameterIsEquivalent=function(t,i){return n.structuralEqualsNotIncludingPosition(t.constraint,i.constraint)},i.prototype.boundDeclarationIsEquivalent=function(t,i){return t.getVarFlags()===i.getVarFlags()&&n.structuralEqualsNotIncludingPosition(t.typeExpr,i.typeExpr)?t.typeExpr===null?n.structuralEqualsNotIncludingPosition(t.init,i.init):!0:!1},i.prototype.argumentDeclarationIsEquivalent=function(n,t){return this.boundDeclarationIsEquivalent(n,t)&&n.isOptional===t.isOptional},i.prototype.variableDeclarationIsEquivalent=function(n,t){return this.boundDeclarationIsEquivalent(n,t)},i.prototype.functionDeclarationIsEquivalent=function(t,i){return t.hint===i.hint&&t.getFunctionFlags()===i.getFunctionFlags()&&t.variableArgList===i.variableArgList&&t.isConstructor===i.isConstructor&&n.structuralEqualsNotIncludingPosition(t.returnTypeAnnotation,i.returnTypeAnnotation)&&n.structuralEqualsNotIncludingPosition(t.typeArguments,i.typeArguments)&&n.structuralEqualsNotIncludingPosition(t.arguments,i.arguments)?t.returnTypeAnnotation===null?n.structuralEqualsNotIncludingPosition(t.block,i.block):!0:!1},i.prototype.catchClauseIsEquivalent=function(t,i){return n.structuralEqualsNotIncludingPosition(t.param,i.param)&&n.structuralEqualsNotIncludingPosition(t.body,i.body)},i.prototype.withStatementIsEquivalent=function(t,i){return n.structuralEqualsNotIncludingPosition(t.expr,i.expr)&&n.structuralEqualsNotIncludingPosition(t.body,i.body)},i.prototype.scriptIsEquivalent=function(){return!0},i.prototype.moduleDeclarationIsEquivalent=function(t,i){return t.getModuleFlags()===i.getModuleFlags()&&i.prettyName===i.prettyName&&n.ArrayUtilities.sequenceEquals(t.amdDependencies,i.amdDependencies,n.StringUtilities.stringEquals)},i.emptyDeclArray=[],i}();n.PullDeclDiffer=i}(TypeScript||(TypeScript={})),function(n){var t,i,r;n.declCacheHit=0;n.declCacheMiss=0;n.symbolCacheHit=0;n.symbolCacheMiss=0;t=function(){function t(t){this.topLevelDecls=[];this.topLevelSynthesizedDecls=[];this.astDeclMap=new n.DataMap;this.declASTMap=new n.DataMap;this.syntaxElementDeclMap=new n.DataMap;this.declSyntaxElementMap=new n.DataMap;this.astSymbolMap=new n.DataMap;this.symbolASTMap=new n.DataMap;this.syntaxElementSymbolMap=new n.DataMap;this.symbolSyntaxElementMap=new n.DataMap;this.properties=new i;this.hasBeenTypeChecked=!1;this.compilationUnitPath=t}return t.prototype.addTopLevelDecl=function(n){this.topLevelDecls[this.topLevelDecls.length]=n},t.prototype.setTypeChecked=function(){this.hasBeenTypeChecked=!0},t.prototype.getTypeChecked=function(){return this.hasBeenTypeChecked},t.prototype.invalidate=function(){this.astSymbolMap=new n.DataMap;this.symbolASTMap=new n.DataMap},t.prototype.getTopLevelDecls=function(){return this.topLevelDecls},t.prototype.getPath=function(){return this.compilationUnitPath},t.prototype.addSynthesizedDecl=function(n){this.topLevelSynthesizedDecls[this.topLevelSynthesizedDecls.length]=n},t.prototype.getSynthesizedDecls=function(){return this.topLevelSynthesizedDecls},t.prototype.getDeclForAST=function(n){return this.astDeclMap.read(n.getID().toString())},t.prototype.setDeclForAST=function(n,t){this.astDeclMap.link(n.getID().toString(),t)},t.prototype.getDeclKey=function(n){var t=n;return t.__declKey||(t.__declKey=n.getDeclID().toString()+"-"+n.getKind().toString()),t.__declKey},t.prototype.getASTForDecl=function(n){return this.declASTMap.read(this.getDeclKey(n))},t.prototype.setASTForDecl=function(n,t){this.declASTMap.link(this.getDeclKey(n),t)},t.prototype.setSymbolAndDiagnosticsForAST=function(n,t){this.astSymbolMap.link(n.getID().toString(),t);this.symbolASTMap.link(t.symbol.getSymbolID().toString(),n)},t.prototype.getSymbolAndDiagnosticsForAST=function(n){return this.astSymbolMap.read(n.getID().toString())},t.prototype.getASTForSymbol=function(n){return this.symbolASTMap.read(n.getSymbolID().toString())},t.prototype.getSyntaxElementForDecl=function(n){return this.declSyntaxElementMap.read(this.getDeclKey(n))},t.prototype.setSyntaxElementForDecl=function(n,t){this.declSyntaxElementMap.link(this.getDeclKey(n),t)},t.prototype.getDeclForSyntaxElement=function(t){return this.syntaxElementDeclMap.read(n.Collections.identityHashCode(t).toString())},t.prototype.setDeclForSyntaxElement=function(t,i){this.syntaxElementDeclMap.link(n.Collections.identityHashCode(t).toString(),i)},t.prototype.getSyntaxElementForSymbol=function(n){return this.symbolSyntaxElementMap.read(n.getSymbolID().toString())},t.prototype.getSymbolForSyntaxElement=function(t){return this.syntaxElementSymbolMap.read(n.Collections.identityHashCode(t).toString())},t.prototype.setSymbolForSyntaxElement=function(t,i){this.syntaxElementSymbolMap.link(n.Collections.identityHashCode(t).toString(),i);this.symbolSyntaxElementMap.link(i.getSymbolID().toString(),t)},t.prototype.getDiagnostics=function(t){for(var i=0;i<this.topLevelDecls.length;i++)n.getDiagnosticsFromEnclosingDecl(this.topLevelDecls[i],t)},t.prototype.getProperties=function(){return this.properties},t}();n.SemanticInfo=t;i=function(){function n(){this.unitContainsBool=!1}return n}();n.SemanticInfoProperties=i;r=function(){function i(){this.units=[new t("")];this.declCache=new n.BlockIntrinsics;this.symbolCache=new n.BlockIntrinsics;this.unitCache=new n.BlockIntrinsics;this.declSymbolMap=new n.DataMap;this.anyTypeSymbol=null;this.booleanTypeSymbol=null;this.numberTypeSymbol=null;this.stringTypeSymbol=null;this.nullTypeSymbol=null;this.undefinedTypeSymbol=null;this.elementTypeSymbol=null;this.voidTypeSymbol=null;n.globalBinder&&(n.globalBinder.semanticInfoChain=this);var i=this.getGlobalDecl(),r=this.units[0];r.addTopLevelDecl(i)}return i.prototype.addPrimitiveType=function(t,i){var f=new n.TextSpan(0,0),u=new n.PullDecl(t,t,2,0,f,""),r=new n.PullPrimitiveTypeSymbol(t);return r.addDeclaration(u),u.setSymbol(r),r.setResolved(),i&&i.addChildDecl(u),r},i.prototype.addPrimitiveValue=function(t,i,r){var e=new n.TextSpan(0,0),f=new n.PullDecl(t,t,1024,8,e,""),u=new n.PullSymbol(t,1024);u.addDeclaration(f);f.setSymbol(u);u.setType(i);u.setResolved();r.addChildDecl(f)},i.prototype.getGlobalDecl=function(){var i=new n.TextSpan(0,0),t=new n.PullDecl("","",0,0,i,"");return this.anyTypeSymbol=this.addPrimitiveType("any",t),this.booleanTypeSymbol=this.addPrimitiveType("boolean",t),this.numberTypeSymbol=this.addPrimitiveType("number",t),this.stringTypeSymbol=this.addPrimitiveType("string",t),this.voidTypeSymbol=this.addPrimitiveType("void",t),this.elementTypeSymbol=this.addPrimitiveType("_element",t),this.nullTypeSymbol=this.addPrimitiveType("null",null),this.undefinedTypeSymbol=this.addPrimitiveType("undefined",null),this.addPrimitiveValue("undefined",this.undefinedTypeSymbol,t),this.addPrimitiveValue("null",this.nullTypeSymbol,t),t},i.prototype.addUnit=function(n){this.units[this.units.length]=n;this.unitCache[n.getPath()]=n},i.prototype.getUnit=function(n){for(var t=0;t<this.units.length;t++)if(this.units[t].getPath()===n)return this.units[t];return null},i.prototype.updateUnit=function(n,t){for(var i=0;i<this.units.length;i++)if(this.units[i].getPath()===n.getPath()){this.units[i]=t;this.unitCache[n.getPath()]=t;return}},i.prototype.collectAllTopLevelDecls=function(){for(var i=[],r,t,n=0;n<this.units.length;n++)for(r=this.units[n].getTopLevelDecls(),t=0;t<r.length;t++)i[i.length]=r[t];return i},i.prototype.collectAllSynthesizedDecls=function(){for(var i=[],r,t,n=0;n<this.units.length;n++)for(r=this.units[n].getSynthesizedDecls(),t=0;t<r.length;t++)i[i.length]=r[t];return i},i.prototype.getDeclPathCacheID=function(n,t){for(var r="",i=0;i<n.length;i++)r+="#"+n[i];return r+"#"+t.toString()},i.prototype.findDecls=function(t,i){var c=this.getDeclPathCacheID(t,i),u,o,s,h;if(t.length&&(u=this.declCache[c],u&&u.length))return n.declCacheHit++,u;n.declCacheMiss++;var f=this.collectAllTopLevelDecls(),r=[],l,e=[],a=i&4||i&16;for(o=0;o<t.length;o++){for(l=t[o],r=[],s=0;s<f.length;s++){for(e=f[s].searchChildDecls(l,i),h=0;h<e.length;h++)r[r.length]=e[h];if(e.length&&!a)break}if(f=r,!f)break}return r.length&&(this.declCache[c]=r),r},i.prototype.findSymbol=function(t,i){var u=this.getDeclPathCacheID(t,i),f,e,r;return t.length&&(f=this.symbolCache[u],f)?(n.symbolCacheHit++,f):(n.symbolCacheMiss++,e=this.findDecls(t,i),r=null,e.length&&(r=e[0].getSymbol(),r&&(this.symbolCache[u]=r,r.addCacheID(u))),r)},i.prototype.cacheGlobalSymbol=function(n,t){var i=this.getDeclPathCacheID([n.getName()],t),r=this.getDeclPathCacheID([n.getName()],n.getKind());this.symbolCache[i]||(this.symbolCache[i]=n,n.addCacheID(i));this.symbolCache[r]||(this.symbolCache[r]=n,n.addCacheID(r))},i.prototype.cleanDecl=function(n){var i,r,t,u;for(n.setSymbol(null),n.setSignatureSymbol(null),n.setSpecializingSignatureSymbol(null),n.setIsBound(!1),i=n.getChildDecls(),t=0;t<i.length;t++)this.cleanDecl(i[t]);for(r=n.getTypeParameters(),t=0;t<r.length;t++)this.cleanDecl(r[t]);u=n.getValueDecl();u&&this.cleanDecl(u)},i.prototype.cleanAllDecls=function(){for(var i=this.collectAllTopLevelDecls(),t,n=1;n<i.length;n++)this.cleanDecl(i[n]);for(t=this.collectAllSynthesizedDecls(),n=0;n<t.length;n++)this.cleanDecl(t[n])},i.prototype.update=function(){this.declCache=new n.BlockIntrinsics;this.symbolCache=new n.BlockIntrinsics;this.units[0]=new t("");this.units[0].addTopLevelDecl(this.getGlobalDecl());this.cleanAllDecls();for(var i in this.unitCache)this.unitCache[i]&&this.unitCache[i].invalidate()},i.prototype.invalidateUnit=function(n){var t=this.unitCache[n];t&&t.invalidate()},i.prototype.getDeclForAST=function(n,t){var i=this.unitCache[t];return i?i.getDeclForAST(n):null},i.prototype.getASTForDecl=function(n){var t=this.unitCache[n.getScriptName()];return t?t.getASTForDecl(n):null},i.prototype.getSymbolAndDiagnosticsForAST=function(n,t){var i=this.unitCache[t];return i?i.getSymbolAndDiagnosticsForAST(n):null},i.prototype.getASTForSymbol=function(n,t){var i=this.unitCache[t];return i?i.getASTForSymbol(n):null},i.prototype.setSymbolAndDiagnosticsForAST=function(n,t,i){var r=this.unitCache[i];r&&r.setSymbolAndDiagnosticsForAST(n,t)},i.prototype.setSymbolForDecl=function(n,t){this.declSymbolMap.link(n.getDeclID().toString(),t)},i.prototype.getSymbolForDecl=function(n){return this.declSymbolMap.read(n.getDeclID().toString())},i.prototype.removeSymbolFromCache=function(t){var i=[t.getName()],r=(t.getKind()&n.PullElementKind.SomeType)!=0?n.PullElementKind.SomeType:n.PullElementKind.SomeValue,u=this.getDeclPathCacheID(i,r),f=this.getDeclPathCacheID(i,t.getKind());t.addCacheID(u);t.addCacheID(f);t.invalidateCachedIDs(this.symbolCache)},i.prototype.postDiagnostics=function(){for(var t=[],n=1;n<this.units.length;n++)this.units[n].getDiagnostics(t);return t},i}();n.SemanticInfoChain=r}(TypeScript||(TypeScript={})),function(n){function e(t,i,r){var e=t,o=0,s=n.TextSpan.fromBounds(e.minChar,e.limChar),u=r.getParent(),f;return u&&(u.getKind()===536870912||u.getFlags()&2097152)&&(o|=2097152),f=new n.PullDecl(e.id.text,e.id.actualText,256,o,s,r.scriptName),r.semanticInfo.setDeclForAST(t,f),r.semanticInfo.setASTForDecl(f,t),u.addChildDecl(f),f.setParentDecl(u),!1}function o(t,i,r){var u=t,e=0,h=u.name.text,l=n.isQuoted(h)||n.hasFlag(u.getModuleFlags(),512),o=4,c,f,s;return n.hasFlag(u.getModuleFlags(),8)&&(e|=8),n.hasFlag(u.getModuleFlags(),1)&&(e|=1),n.hasFlag(u.getModuleFlags(),128)?(e|=135168,o=64):o=l?32:4,c=n.TextSpan.fromBounds(u.minChar,u.limChar),f=new n.PullDecl(h,u.name.actualText,o,e,c,r.scriptName),r.semanticInfo.setDeclForAST(t,f),r.semanticInfo.setASTForDecl(f,t),s=r.getParent(),s.addChildDecl(f),f.setParentDecl(s),r.pushParent(f),!0}function s(t,i,r){var e=0,f;n.hasFlag(t.getVarFlags(),8)&&(e|=8);n.hasFlag(t.getVarFlags(),1)&&(e|=1);var s=n.TextSpan.fromBounds(t.minChar,t.limChar),u=new n.PullDecl(t.name.text,t.name.actualText,8,e,s,r.scriptName),o=new n.PullDecl(t.name.text,t.name.actualText,1024,e|16384,s,r.scriptName);return u.setValueDecl(o),f=r.getParent(),f.addChildDecl(u),f.addChildDecl(o),u.setParentDecl(f),o.setParentDecl(f),r.pushParent(u),r.semanticInfo.setDeclForAST(t,u),r.semanticInfo.setASTForDecl(u,t),r.semanticInfo.setASTForDecl(o,t),!0}function h(t,i){var f=0,e=n.TextSpan.fromBounds(t.minChar,t.limChar),r=i.getParent(),u;return r&&(r.getKind()===536870912||r.getFlags()&2097152)&&(f|=2097152),u=new n.PullDecl("","",8388608,f,e,i.scriptName),i.semanticInfo.setDeclForAST(t,u),i.semanticInfo.setASTForDecl(u,t),r&&(r.addChildDecl(u),u.setParentDecl(r)),i.pushParent(u),!0}function c(t,i,r){var e=0,o,u,f;return t.getFlags()&8?h(t,r):(n.hasFlag(t.getVarFlags(),1)&&(e|=1),o=n.TextSpan.fromBounds(t.minChar,t.limChar),u=new n.PullDecl(t.name.text,t.name.actualText,16,e,o,r.scriptName),r.semanticInfo.setDeclForAST(t,u),r.semanticInfo.setASTForDecl(u,t),f=r.getParent(),f&&(f.addChildDecl(u),u.setParentDecl(f)),r.pushParent(u),!0)}function l(u,f,e){var c=0,o,a,s,h,l;return c|=n.hasFlag(u.getVarFlags(),2)?2:4,(n.hasFlag(u.getFlags(),4)||n.hasFlag(u.id.getFlags(),4))&&(c|=128),o=e.getParent(),o&&(o.getKind()===536870912||o.getFlags()&2097152)&&(c|=2097152),a=n.TextSpan.fromBounds(u.minChar,u.limChar),s=new n.PullDecl(u.id.text,u.id.actualText,2048,c,a,e.scriptName),o.addChildDecl(s),s.setParentDecl(o),n.hasFlag(u.getVarFlags(),256)?(h=new n.PullDecl(u.id.text,u.id.actualText,4096,c,a,e.scriptName),h.setValueDecl(s),e.parentChain[e.parentChain.length-2].addChildDecl(h),h.setParentDecl(e.parentChain[e.parentChain.length-2]),e.semanticInfo.setASTForDecl(s,u),e.semanticInfo.setASTForDecl(h,u),e.semanticInfo.setDeclForAST(u,h)):(e.semanticInfo.setASTForDecl(s,u),e.semanticInfo.setDeclForAST(u,s)),u.typeExpr&&(u.typeExpr.term.nodeType===14||u.typeExpr.term.nodeType===12)&&(l=new t(e.semanticInfo),o&&l.pushParent(o),l.scriptName=e.scriptName,n.getAstWalkerFactory().walk(u.typeExpr.term,i,r,null,l)),!1}function a(u,f,e){var c=0,l=n.TextSpan.fromBounds(u.minChar,u.limChar),o=e.getParent(),s,h;return o&&(o.getKind()===536870912||o.getFlags()&2097152)&&(c|=2097152),s=new n.PullDecl(u.name.text,u.name.actualText,8192,c,l,e.scriptName),e.semanticInfo.setASTForDecl(s,u),e.semanticInfo.setDeclForAST(u,s),o.addChildDecl(s),s.setParentDecl(o),u.constraint&&(u.constraint.term.nodeType===14||u.constraint.term.nodeType===12)&&(h=new t(e.semanticInfo),o&&h.pushParent(o),h.scriptName=e.scriptName,n.getAstWalkerFactory().walk(u.constraint.term,i,r,null,h)),!0}function v(u,f){var h=4,e=f.getParent(),l=e.getKind()===64?67108864:4096,c,o,s;return n.hasFlag(u.id.getFlags(),4)&&(h|=128),n.hasFlag(u.getVarFlags(),4096)&&(h|=524288),c=n.TextSpan.fromBounds(u.minChar,u.limChar),o=new n.PullDecl(u.id.text,u.id.actualText,l,h,c,f.scriptName),f.semanticInfo.setDeclForAST(u,o),f.semanticInfo.setASTForDecl(o,u),e.addChildDecl(o),o.setParentDecl(e),u.typeExpr&&(u.typeExpr.term.nodeType===14||u.typeExpr.term.nodeType===12)&&(s=new t(f.semanticInfo),e&&s.pushParent(e),s.scriptName=f.scriptName,n.getAstWalkerFactory().walk(u.typeExpr.term,i,r,null,s)),!1}function y(u,f){var h=0,c,e,o,s;return h|=n.hasFlag(u.getVarFlags(),2)?2:4,n.hasFlag(u.getVarFlags(),16)&&(h|=16),c=n.TextSpan.fromBounds(u.minChar,u.limChar),e=new n.PullDecl(u.id.text,u.id.actualText,4096,h,c,f.scriptName),f.semanticInfo.setDeclForAST(u,e),f.semanticInfo.setASTForDecl(e,u),o=f.getParent(),o.addChildDecl(e),e.setParentDecl(o),u.typeExpr&&(u.typeExpr.term.nodeType===14||u.typeExpr.term.nodeType===12)&&(s=new t(f.semanticInfo),o&&s.pushParent(o),s.scriptName=f.scriptName,n.getAstWalkerFactory().walk(u.typeExpr.term,i,r,null,s)),!1}function p(u,f){var s=0,c,e,o,h;return n.hasFlag(u.getVarFlags(),8)&&(s|=8),n.hasFlag(u.getVarFlags(),1)&&(s|=1),c=n.TextSpan.fromBounds(u.minChar,u.limChar),e=f.getParent(),e&&(e.getKind()===536870912||e.getFlags()&2097152)&&(s|=2097152),o=new n.PullDecl(u.id.text,u.id.actualText,1024,s,c,f.scriptName),f.semanticInfo.setDeclForAST(u,o),f.semanticInfo.setASTForDecl(o,u),e.addChildDecl(o),o.setParentDecl(e),u.typeExpr&&(u.typeExpr.term.nodeType===14||u.typeExpr.term.nodeType===12)&&(h=new t(f.semanticInfo),e&&h.pushParent(e),h.scriptName=f.scriptName,n.getAstWalkerFactory().walk(u.typeExpr.term,i,r,null,h)),!1}function w(t,i,r){var u=t;return n.hasFlag(u.getVarFlags(),2048)?y(u,r):n.hasFlag(u.getVarFlags(),256)?v(u,r):p(u,r)}function b(u,f){var h=2048,c=n.TextSpan.fromBounds(u.minChar,u.limChar),e=f.getParent(),o,s;return e&&(e.getKind()===536870912||e.getFlags()&2097152)&&(h|=2097152),o=new n.PullDecl("","",16777216,h,c,f.semanticInfo.getPath()),f.semanticInfo.setDeclForAST(u,o),f.semanticInfo.setASTForDecl(o,u),e&&(e.addChildDecl(o),o.setParentDecl(e)),f.pushParent(o),u.returnTypeAnnotation&&(u.returnTypeAnnotation.term.nodeType===14||u.returnTypeAnnotation.term.nodeType===12)&&(s=new t(f.semanticInfo),e&&s.pushParent(e),s.scriptName=f.scriptName,n.getAstWalkerFactory().walk(u.returnTypeAnnotation.term,i,r,null,s)),!0}function k(u,f){var h=0,c=n.TextSpan.fromBounds(u.minChar,u.limChar),e=f.getParent(),o,s;return e&&(e.getKind()===536870912||e.getFlags()&2097152)&&(h|=2097152),o=new n.PullDecl("{new}","{new}",33554432,h,c,f.semanticInfo.getPath()),f.semanticInfo.setDeclForAST(u,o),f.semanticInfo.setASTForDecl(o,u),e&&(e.addChildDecl(o),o.setParentDecl(e)),f.pushParent(o),u.returnTypeAnnotation&&(u.returnTypeAnnotation.term.nodeType===14||u.returnTypeAnnotation.term.nodeType===12)&&(s=new t(f.semanticInfo),e&&s.pushParent(e),s.scriptName=f.scriptName,n.getAstWalkerFactory().walk(u.returnTypeAnnotation.term,i,r,null,s)),!0}function d(u,f){var s=0,c,e,o,h;return n.hasFlag(u.getFunctionFlags(),8)&&(s|=8),n.hasFlag(u.getFunctionFlags(),1)&&(s|=1),u.block||(s|=2048),c=n.TextSpan.fromBounds(u.minChar,u.limChar),e=f.getParent(),e&&(e.getKind()===536870912||e.getFlags()&2097152)&&(s|=2097152),o=new n.PullDecl(u.name.text,u.name.actualText,16384,s,c,f.scriptName),f.semanticInfo.setDeclForAST(u,o),f.semanticInfo.setASTForDecl(o,u),e&&(e.addChildDecl(o),o.setParentDecl(e)),f.pushParent(o),u.returnTypeAnnotation&&(u.returnTypeAnnotation.term.nodeType===14||u.returnTypeAnnotation.term.nodeType===12)&&(h=new t(f.semanticInfo),e&&h.pushParent(e),h.scriptName=f.scriptName,n.getAstWalkerFactory().walk(u.returnTypeAnnotation.term,i,r,null,h)),!0}function g(u,f){var h=0,c,e,l,o,s;return n.hasFlag(u.getFunctionFlags(),2048)&&(h|=8192),c=n.TextSpan.fromBounds(u.minChar,u.limChar),e=f.getParent(),e&&(e.getKind()===536870912||e.getFlags()&2097152)&&(h|=2097152),l=u.name?u.name.actualText:"",o=new n.PullFunctionExpressionDecl(l,h,c,f.scriptName),f.semanticInfo.setDeclForAST(u,o),f.semanticInfo.setASTForDecl(o,u),e&&(e.addChildDecl(o),o.setParentDecl(e)),f.pushParent(o),u.returnTypeAnnotation&&(u.returnTypeAnnotation.term.nodeType===14||u.returnTypeAnnotation.term.nodeType===12)&&(s=new t(f.semanticInfo),s.scriptName=f.scriptName,e&&s.pushParent(e),n.getAstWalkerFactory().walk(u.returnTypeAnnotation.term,i,r,null,s)),!0}function nt(u,f){var s=0,c,e,o,h;return n.hasFlag(u.getFunctionFlags(),16)&&(s|=16),s|=n.hasFlag(u.getFunctionFlags(),2)?2:4,u.block||(s|=2048),n.hasFlag(u.name.getFlags(),4)&&(s|=128),c=n.TextSpan.fromBounds(u.minChar,u.limChar),e=new n.PullDecl(u.name.text,u.name.actualText,65536,s,c,f.scriptName),f.semanticInfo.setDeclForAST(u,e),f.semanticInfo.setASTForDecl(e,u),o=f.getParent(),o&&(o.addChildDecl(e),e.setParentDecl(o)),f.pushParent(e),u.returnTypeAnnotation&&(u.returnTypeAnnotation.term.nodeType===14||u.returnTypeAnnotation.term.nodeType===12)&&(h=new t(f.semanticInfo),h.scriptName=f.scriptName,o&&h.pushParent(o),n.getAstWalkerFactory().walk(u.returnTypeAnnotation.term,i,r,null,h)),!0}function tt(u,f){var h=3072,c=n.TextSpan.fromBounds(u.minChar,u.limChar),e=f.getParent(),o,s;return e&&(e.getKind()===536870912||e.getFlags()&2097152)&&(h|=2097152),o=new n.PullDecl("[]","[]",4194304,h,c,f.scriptName),f.semanticInfo.setDeclForAST(u,o),f.semanticInfo.setASTForDecl(o,u),e&&(e.addChildDecl(o),o.setParentDecl(e)),f.pushParent(o),u.returnTypeAnnotation&&(u.returnTypeAnnotation.term.nodeType===14||u.returnTypeAnnotation.term.nodeType===12)&&(s=new t(f.semanticInfo),e&&s.pushParent(e),s.scriptName=f.scriptName,n.getAstWalkerFactory().walk(u.returnTypeAnnotation.term,i,r,null,s)),!0}function it(u,f){var h=2304,c=n.TextSpan.fromBounds(u.minChar,u.limChar),e=f.getParent(),o,s;return e&&(e.getKind()===536870912||e.getFlags()&2097152)&&(h|=2097152),o=new n.PullDecl("()","()",1048576,h,c,f.scriptName),f.semanticInfo.setDeclForAST(u,o),f.semanticInfo.setASTForDecl(o,u),e&&(e.addChildDecl(o),o.setParentDecl(e)),f.pushParent(o),u.returnTypeAnnotation&&(u.returnTypeAnnotation.term.nodeType===14||u.returnTypeAnnotation.term.nodeType===12)&&(s=new t(f.semanticInfo),s.scriptName=f.scriptName,e&&s.pushParent(e),n.getAstWalkerFactory().walk(u.returnTypeAnnotation.term,i,r,null,s)),!0}function rt(u,f){var h=2304,c=n.TextSpan.fromBounds(u.minChar,u.limChar),e=f.getParent(),o,s;return e&&(e.getKind()===536870912||e.getFlags()&2097152)&&(h|=2097152),o=new n.PullDecl("new","new",2097152,h,c,f.scriptName),f.semanticInfo.setDeclForAST(u,o),f.semanticInfo.setASTForDecl(o,u),e&&(e.addChildDecl(o),o.setParentDecl(e)),f.pushParent(o),u.returnTypeAnnotation&&(u.returnTypeAnnotation.term.nodeType===14||u.returnTypeAnnotation.term.nodeType===12)&&(s=new t(f.semanticInfo),s.scriptName=f.scriptName,e&&s.pushParent(e),n.getAstWalkerFactory().walk(u.returnTypeAnnotation.term,i,r,null,s)),!0}function ut(u,f){var h=512,c,e,l,o,s;return u.block||(h|=2048),c=n.TextSpan.fromBounds(u.minChar,u.limChar),e=f.getParent(),e&&(l=e.getFlags(),l&1&&(h|=1)),o=new n.PullDecl(e.getName(),e.getDisplayName(),32768,h,c,f.scriptName),f.semanticInfo.setDeclForAST(u,o),f.semanticInfo.setASTForDecl(o,u),e&&(e.addChildDecl(o),o.setParentDecl(e)),f.pushParent(o),u.returnTypeAnnotation&&(u.returnTypeAnnotation.term.nodeType===14||u.returnTypeAnnotation.term.nodeType===12)&&(s=new t(f.semanticInfo),s.scriptName=f.scriptName,e&&s.pushParent(e),n.getAstWalkerFactory().walk(u.returnTypeAnnotation.term,i,r,null,s)),!0}function ft(u,f){var s=4,c,e,o,h;return n.hasFlag(u.getFunctionFlags(),16)&&(s|=16),n.hasFlag(u.name.getFlags(),4)&&(s|=128),s|=n.hasFlag(u.getFunctionFlags(),2)?2:4,c=n.TextSpan.fromBounds(u.minChar,u.limChar),e=f.getParent(),e&&(e.getKind()===536870912||e.getFlags()&2097152)&&(s|=2097152),o=new n.PullDecl(u.name.text,u.name.actualText,262144,s,c,f.scriptName),f.semanticInfo.setDeclForAST(u,o),f.semanticInfo.setASTForDecl(o,u),e&&(e.addChildDecl(o),o.setParentDecl(e)),f.pushParent(o),u.returnTypeAnnotation&&(u.returnTypeAnnotation.term.nodeType===14||u.returnTypeAnnotation.term.nodeType===12)&&(h=new t(f.semanticInfo),h.scriptName=f.scriptName,e&&h.pushParent(e),n.getAstWalkerFactory().walk(u.returnTypeAnnotation.term,i,r,null,h)),!0}function et(t,i){var f=4,e,r,u;return n.hasFlag(t.getFunctionFlags(),16)&&(f|=16),n.hasFlag(t.name.getFlags(),4)&&(f|=128),f|=n.hasFlag(t.getFunctionFlags(),2)?2:4,e=n.TextSpan.fromBounds(t.minChar,t.limChar),r=i.getParent(),r&&(r.getKind()===536870912||r.getFlags()&2097152)&&(f|=2097152),u=new n.PullDecl(t.name.actualText,t.name.actualText,524288,f,e,i.scriptName),i.semanticInfo.setDeclForAST(t,u),i.semanticInfo.setASTForDecl(u,t),r&&(r.addChildDecl(u),u.setParentDecl(r)),i.pushParent(u),!0}function ot(t,i,r){var e=0,o=n.TextSpan.fromBounds(t.minChar,t.limChar),u=r.getParent(),f;return u&&(u.getKind()===536870912||u.getFlags()&2097152)&&(e|=2097152),f=new n.PullDecl("","",1073741824,e,o,r.scriptName),r.semanticInfo.setDeclForAST(t,f),r.semanticInfo.setASTForDecl(f,t),u&&(u.addChildDecl(f),f.setParentDecl(u)),r.pushParent(f),!0}function st(t,i,r){var e=n.TextSpan.fromBounds(t.minChar,t.limChar),f=r.getParent(),u=new n.PullDecl("","",536870912,0,e,r.scriptName);return r.semanticInfo.setDeclForAST(t,u),r.semanticInfo.setASTForDecl(u,t),f&&(f.addChildDecl(u),u.setParentDecl(f)),r.pushParent(u),!0}function ht(t,i,r){var u=t;return u.isConstructor?ut(u,r):u.isGetAccessor()?ft(u,r):u.isSetAccessor()?et(u,r):n.hasFlag(u.getFunctionFlags(),1024)?n.hasFlag(u.getFlags(),8)?k(u,r):rt(u,r):n.hasFlag(u.getFunctionFlags(),512)?it(u,r):n.hasFlag(u.getFunctionFlags(),4096)?tt(u,r):n.hasFlag(u.getFlags(),8)?b(u,r):n.hasFlag(u.getFunctionFlags(),256)?nt(u,r):n.hasFlag(u.getFunctionFlags(),26624)?g(u,r):d(u,r)}function i(t,i,r){var f=r.state,u=!1;if(t.nodeType===2){var v=t,y=n.TextSpan.fromBounds(v.minChar,v.limChar),h=new n.PullDecl(f.scriptName,f.scriptName,1,0,y,f.scriptName);f.semanticInfo.setDeclForAST(t,h);f.semanticInfo.setASTForDecl(h,t);f.pushParent(h);u=!0}else t.nodeType===1?u=!0:t.nodeType===81?u=!0:t.nodeType===18?u=!0:t.nodeType===97?u=!0:t.nodeType===15?u=o(t,i,f):t.nodeType===13?u=s(t,i,f):t.nodeType===14?u=c(t,i,f):t.nodeType===19?u=l(t,i,f):t.nodeType===17?u=w(t,i,f):t.nodeType===12?u=ht(t,i,f):t.nodeType===16?u=e(t,i,f):t.nodeType===9?u=a(t,i,f):t.nodeType===91?u=!0:t.nodeType===90?u=!0:t.nodeType===89?u=!0:t.nodeType===98?u=!0:t.nodeType===85?u=!0:t.nodeType===25?u=!0:t.nodeType===93?u=!0:t.nodeType===94||t.nodeType===100?u=!0:t.nodeType===36?u=!0:t.nodeType===37?u=!0:t.nodeType===96?u=!0:t.nodeType===92?u=!0:t.nodeType===101?u=ot(t,i,f):t.nodeType===99&&(u=st(t,i,f));return r.options.goChildren=u,t}function u(n){return n.getKind()===4||n.getKind()===32||n.getKind()===64}function f(n){return n.getKind()&4?32768:n.getKind()&64?131072:n.getKind()&32?65536:0}function ct(n){var t=n.getKind();return t&4?(n.getFlags()&32768)!=0:t&64?(n.getFlags()&131072)!=0:t&32?(n.getFlags()&65536)!=0:!1}function r(t,i,r){var o=r.state,e,s=0,h,c;return t.nodeType===15?(h=o.getParent(),o.popParent(),e=o.getParent(),ct(h)&&(e&&u(e)&&(s=f(e),e.setFlags(e.getFlags()|s)),c=new n.PullDecl(h.getName(),h.getDisplayName(),1024,h.getFlags(),h.getSpan(),o.scriptName),h.setValueDecl(c),o.semanticInfo.setASTForDecl(c,t),e&&(e.addChildDecl(c),c.setParentDecl(e)))):t.nodeType===13?(o.popParent(),e=o.getParent(),e&&u(e)&&(s=f(e),e.setFlags(e.getFlags()|s))):t.nodeType===14?o.popParent():t.nodeType===12?(o.popParent(),e=o.getParent(),e&&u(e)&&(s=f(e),e.setFlags(e.getFlags()|s))):t.nodeType===17?(e=o.getParent(),e&&u(e)&&(s=f(e),e.setFlags(e.getFlags()|s))):t.nodeType===101?(e=o.getParent(),e&&u(e)&&(s=f(e),e.setFlags(e.getFlags()|s)),o.popParent()):t.nodeType===99&&(e=o.getParent(),e&&u(e)&&(s=f(e),e.setFlags(e.getFlags()|s)),o.popParent()),t}var t=function(){function n(n,t){typeof t=="undefined"&&(t="");this.semanticInfo=n;this.scriptName=t;this.parentChain=[];this.foundValueDecl=!1}return n.prototype.getParent=function(){return this.parentChain?this.parentChain[this.parentChain.length-1]:null},n.prototype.pushParent=function(n){n&&(this.parentChain[this.parentChain.length]=n)},n.prototype.popParent=function(){this.parentChain.length--},n}();n.DeclCollectionContext=t;n.preCollectImportDecls=e;n.preCollectModuleDecls=o;n.preCollectClassDecls=s;n.createObjectTypeDeclaration=h;n.preCollectInterfaceDecls=c;n.preCollectParameterDecl=l;n.preCollectTypeParameterDecl=a;n.createPropertySignature=v;n.createMemberVariableDeclaration=y;n.createVariableDeclaration=p;n.preCollectVarDecls=w;n.createFunctionTypeDeclaration=b;n.createConstructorTypeDeclaration=k;n.createFunctionDeclaration=d;n.createFunctionExpressionDeclaration=g;n.createMemberFunctionDeclaration=nt;n.createIndexSignatureDeclaration=tt;n.createCallSignatureDeclaration=it;n.createConstructSignatureDeclaration=rt;n.createClassConstructorDeclaration=ut;n.createGetAccessorDeclaration=ft;n.createSetAccessorDeclaration=et;n.preCollectCatchDecls=ot;n.preCollectWithDecls=st;n.preCollectFuncDecls=ht;n.preCollectDecls=i;n.postCollectDecls=r}(TypeScript||(TypeScript={})),function(n){function i(n){var t,i;if(!n)return[];if(t=n.getParentPath(),t)return t;for(t=[n],i=n.getParentDecl();i;)!i||t[t.length-1]==i||i.getKind()&512||(t[t.length]=i),i=i.getParentDecl();return t=t.reverse(),n.setParentPath(t),t}function t(t,r,u){var c=(new Date).getTime(),h=i(u),f=[],e=null,o=0,s;if(h.length){for(s=0;s<h.length;s++)f[f.length]=h[s].getName();for(f[f.length]=t;f.length>=2;){if(e=n.globalSemanticInfoChain.findSymbol(f,r),e)return o=(new Date).getTime(),n.time_in_findSymbol+=o-c,e;f.length-=2;f[f.length]=t}}return e=n.globalSemanticInfoChain.findSymbol([t],r),o=(new Date).getTime(),n.time_in_findSymbol+=o-c,e}n.globalBindingPhase=0;n.getPathToDecl=i;n.findSymbolInContext=t;var r=function(){function r(t){this.semanticInfoChain=t;this.bindingPhase=n.globalBindingPhase++;this.functionTypeParameterCache=new n.BlockIntrinsics;this.reBindingAfterChange=!1;this.startingDeclForRebind=n.pullDeclID;this.startingSymbolForRebind=n.pullSymbolID}return r.prototype.findTypeParameterInCache=function(n){return this.functionTypeParameterCache[n]},r.prototype.addTypeParameterToCache=function(n){this.functionTypeParameterCache[n.getName()]=n},r.prototype.resetTypeParameterCache=function(){this.functionTypeParameterCache=new n.BlockIntrinsics},r.prototype.setUnit=function(n){this.semanticInfo=this.semanticInfoChain.getUnit(n)},r.prototype.getParent=function(n,t){var r,i,u,f;return(typeof t=="undefined"&&(t=!1),r=n.getParentDecl(),r.getKind()==1)?null:(i=r.getSymbol(),i||!r||r.isBound()||this.bindDeclToPullSymbol(r),i=r.getSymbol(),i&&(u=r.getKind(),u==262144?i=i.getGetter():u==524288&&(i=i.getSetter())),i)?t&&i.isType()&&i.isContainer()&&(f=i.getInstanceSymbol(),f)?f.getType():i.getType():null},r.prototype.findDeclsInContext=function(n,t,r){var o,u,e,f;if(!r)return o=n.getParentDecl(),o.searchChildDecls(n.getName(),t);if(u=i(n),u.length){for(e=[],f=0;f<u.length;f++)u[f].getKind()&1||(e[e.length]=u[f].getName());return this.semanticInfoChain.findDecls(e,t)}return this.semanticInfoChain.findDecls([name],t)},r.prototype.symbolIsRedeclaration=function(n){var t=n.getSymbolID();return t>=this.startingSymbolForRebind||n.getRebindingID()===this.bindingPhase&&t!==this.startingSymbolForRebind},r.prototype.bindModuleDeclarationToPullSymbol=function(i){var o=i.getName(),u=null,h=null,e=null,wt=i.getValueDecl(),g=i.getKind(),c=this.getParent(i),v=this.getParent(i,!0),ct=i.getParentDecl(),l=this.semanticInfo.getASTForDecl(i),nt=i.getFlags()&1,p=(g&64)!=0,w=p?64:n.PullElementKind.SomeContainer,lt=(i.getFlags()&n.PullElementFlags.SomeInitializedModule)!=0,at=!1,f,tt,it,a,b,rt,vt,ut,yt,pt,k,ft,s,et,ot,d,st,ht,y,r;if(c?nt?u=c.findNestedType(o,w):(u=c.findContainedMember(o),!u||u.getKind()&w||(u=null)):nt&&i.getKind()!==32||(u=t(o,w,i)),u&&u.getKind()!==g&&(lt&&i.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),l.minChar,l.getLength(),69,[i.getDisplayName()])),u=null),u?h=u.getInstanceSymbol():(u=new n.PullContainerTypeSymbol(o,g),at=!0,c||this.semanticInfoChain.cacheGlobalSymbol(u,w)),!h&&lt){if(f=null,!p)if(v)nt?(f=v.findMember(o,!1),f||(f=v.findContainedMember(o))):(f=v.findContainedMember(o),f||(f=v.findMember(o,!1))),f&&(tt=f.getDeclarations(),tt.length&&(it=tt[0].getParentDecl(),ct!==it&&(!this.reBindingAfterChange||it.getDeclID()>=this.startingDeclForRebind)&&(f=null)));else if(!(i.getFlags()&1)){for(a=ct.getChildDecls(),b=null,r=0;r<a.length;r++){if(a[r]==i)break;if(a[r].getName()==o&&a[r].getKind()&(8|n.PullElementKind.SomeFunction)){b=a[r];break}}b&&(f=b.getSymbol(),f&&f.isType()&&(f=f.getConstructorMethod()))}f&&(rt=f.getKind(),vt=rt==16384||rt==32768||f.hasFlag(n.PullElementFlags.ImplicitVariable),vt?e=f.getType():f=null);e||(e=new n.PullTypeSymbol(o,8388608));e.addDeclaration(i);e.setAssociatedContainerType(u);f?h=f:(h=new n.PullSymbol(o,1024),h.setType(e));u.setInstanceSymbol(h)}if(u.addDeclaration(i),i.setSymbol(u),this.semanticInfo.setSymbolAndDiagnosticsForAST(l.name,n.SymbolAndDiagnostics.fromSymbol(u)),this.semanticInfo.setSymbolAndDiagnosticsForAST(l,n.SymbolAndDiagnostics.fromSymbol(u)),ut=u.getDeclarations(),p&&ut.length>1&&l.members.members.length>0&&(yt=n.ArrayUtilities.where(ut,function(n){return n.getKind()===64}).length>1,yt&&(pt=l.members.members[0],k=pt.declaration.declarators.members[0],k.isImplicitlyInitialized&&i.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),k.minChar,k.getLength(),264,null)))),at)c&&(ft=i.getFlags()&1?5:6,ft===5?c.addMember(u,ft):u.setContainer(c));else if(this.reBindingAfterChange){for(s=u.getDeclarations(),et=i.getScriptName(),r=0;r<s.length;r++)s[r].getScriptName()===et&&s[r].getDeclID()<this.startingDeclForRebind&&u.removeDeclaration(s[r]);if(u.invalidate(),h=u.getInstanceSymbol(),h){for(e=h.getType(),s=e.getDeclarations(),r=0;r<s.length;r++)s[r].getScriptName()===et&&s[r].getDeclID()<this.startingDeclForRebind&&e.removeDeclaration(s[r]);e.addDeclaration(i);e.invalidate()}}if(p){if(e=u.getInstanceSymbol().getType(),this.reBindingAfterChange)for(ot=e.getIndexSignatures(),r=0;r<ot.length;r++)e.removeIndexSignature(ot[r]);d=new n.PullSignatureSymbol(4194304);st=new n.PullSymbol("x",2048);st.setType(this.semanticInfoChain.numberTypeSymbol);d.addParameter(st);d.setReturnType(this.semanticInfoChain.stringTypeSymbol);e.addIndexSignature(d);e.recomputeIndexSignatures()}if(ht=i.getValueDecl(),ht&&ht.ensureSymbolIsBound(),y=this.findDeclsInContext(i,i.getKind(),!0),y&&y.length)for(r=0;r<y.length;r++)y[r].ensureSymbolIsBound()},r.prototype.bindImportDeclaration=function(i){var v=i.getFlags(),y=i.getKind(),s=this.semanticInfo.getASTForDecl(i),r=null,o=i.getName(),l=!1,u=this.getParent(i),h,c,e,a,f;if(u?(r=u.findMember(o,!1),r||(r=u.findContainedMember(o),r&&(h=r.getDeclarations(),h.length&&(c=h[0].getParentDecl(),c!==i.getParentDecl()&&(!this.reBindingAfterChange||c.getDeclID()>=this.startingDeclForRebind)&&(r=null))))):i.getFlags()&1||(r=t(o,n.PullElementKind.SomeContainer,i)),r&&(l=!0),r&&this.symbolIsRedeclaration(r)&&(i.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),s.minChar,s.getLength(),69,[i.getDisplayName()])),r=null),this.reBindingAfterChange&&r){for(e=r.getDeclarations(),a=i.getScriptName(),f=0;f<e.length;f++)e[f].getScriptName()===a&&e[f].getDeclID()<this.startingDeclForRebind&&r.removeDeclaration(e[f]);r.setUnresolved()}r||(r=new n.PullTypeAliasSymbol(o),u||this.semanticInfoChain.cacheGlobalSymbol(r,n.PullElementKind.SomeContainer));r.addDeclaration(i);i.setSymbol(r);this.semanticInfo.setSymbolAndDiagnosticsForAST(s,n.SymbolAndDiagnostics.fromSymbol(r));u&&!l&&(v&1?u.addMember(r,5):r.setContainer(u));r.setIsBound(this.bindingPhase)},r.prototype.cleanInterfaceSignatures=function(n){for(var i=n.getCallSignatures(),r=n.getConstructSignatures(),u=n.getIndexSignatures(),t=0;t<i.length;t++)i[t].getSymbolID()<this.startingSymbolForRebind&&n.removeCallSignature(i[t],!1);for(t=0;t<r.length;t++)r[t].getSymbolID()<this.startingSymbolForRebind&&n.removeConstructSignature(r[t],!1);for(t=0;t<u.length;t++)u[t].getSymbolID()<this.startingSymbolForRebind&&n.removeIndexSignature(u[t],!1);n.recomputeCallSignatures();n.recomputeConstructSignatures();n.recomputeIndexSignatures()},r.prototype.cleanClassSignatures=function(n){for(var f=n.getCallSignatures(),r=n.getConstructSignatures(),e=n.getIndexSignatures(),u,i,t=0;t<f.length;t++)n.removeCallSignature(f[t],!1);for(t=0;t<r.length;t++)n.removeConstructSignature(r[t],!1);for(t=0;t<e.length;t++)n.removeIndexSignature(e[t],!1);if(n.recomputeCallSignatures(),n.recomputeConstructSignatures(),n.recomputeIndexSignatures(),u=n.getConstructorMethod(),i=u?u.getType():null,i){for(r=i.getConstructSignatures(),t=0;t<r.length;t++)i.removeConstructSignature(r[t],!1);i.recomputeConstructSignatures();i.invalidate();u.invalidate()}n.invalidate()},r.prototype.bindClassDeclarationToPullSymbol=function(i){var a=i.getName(),r=null,e=null,h=null,p=this.semanticInfo.getASTForDecl(i),w=!1,c=this.getParent(i),ft=i.getParentDecl(),k=!1,et=i.getFlags()&1,ut=!1,b=8,d,g,s,nt,l,ot,tt,v,o,y,f,it,u,rt;if(c?et?(r=c.findNestedType(a),r||(r=c.findMember(a,!1))):(r=c.findContainedMember(a),r&&r.getKind()&b?(d=r.getDeclarations(),d.length&&(g=d[0].getParentDecl(),g!==ft&&(!this.reBindingAfterChange||g.getDeclID()>=this.startingDeclForRebind)&&(r=null))):r=null):r=t(a,b,i),!r||r.getKind()&b&&this.reBindingAfterChange&&!this.symbolIsRedeclaration(r)?r&&(w=!0):(i.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),p.minChar,p.getLength(),69,[i.getDisplayName()])),r=null),this.reBindingAfterChange&&r){for(s=r.getDeclarations(),nt=i.getScriptName(),u=0;u<s.length;u++)s[u].getScriptName()===nt&&s[u].getDeclID()<this.startingDeclForRebind&&(r.removeDeclaration(s[u]),k=!0);for(e=r.getConstructorMethod(),h=e.getType(),s=e.getDeclarations(),u=0;u<s.length;u++)s[u].getScriptName()===nt&&s[u].getDeclID()<this.startingDeclForRebind&&(e.removeDeclaration(s[u]),k=!0);if(e.getIsSynthesized()&&r.setConstructorMethod(null),r.isGeneric()){for(ut=!0,l=r.getKnownSpecializations(),ot=null,f=0;f<l.length;f++)l[f].setUnresolved(),l[f].invalidate();r.cleanTypeParameters();h.cleanTypeParameters()}r.setUnresolved();e.setUnresolved();h.setUnresolved()}if(w||(r=new n.PullClassTypeSymbol(a),c||this.semanticInfoChain.cacheGlobalSymbol(r,b)),r.addDeclaration(i),i.setSymbol(r),this.semanticInfo.setSymbolAndDiagnosticsForAST(p.name,n.SymbolAndDiagnostics.fromSymbol(r)),this.semanticInfo.setSymbolAndDiagnosticsForAST(p,n.SymbolAndDiagnostics.fromSymbol(r)),c&&!w&&(tt=i.getFlags()&1?5:6,tt===5?c.addMember(r,tt):r.setContainer(c)),w&&k&&(this.cleanClassSignatures(r),ut))for(l=r.getKnownSpecializations(),f=0;f<l.length;f++)this.cleanClassSignatures(l[f]);for(this.resetTypeParameterCache(),this.resetTypeParameterCache(),e=r.getConstructorMethod(),h=e?e.getType():null,e||(e=new n.PullSymbol(a,32768),h=new n.PullConstructorTypeSymbol,e.setIsSynthesized(),e.setType(h),e.addDeclaration(i.getValueDecl()),r.setConstructorMethod(e),h.addDeclaration(i),r.setHasDefaultConstructor()),h.setAssociatedContainerType(r),v=i.getTypeParameters(),y=null,f=0;f<v.length;f++){if(o=r.findTypeParameter(v[f].getName()),o)for(y=o.getDeclarations(),this.symbolIsRedeclaration(o)&&(it=this.semanticInfoChain.getASTForDecl(y[0]),i.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),it.minChar,it.getLength(),69,[o.getName()]))),u=0;u<y.length;u++)y[u].getDeclID()<this.startingDeclForRebind&&o.removeDeclaration(y[u]);else o=new n.PullTypeParameterSymbol(v[f].getName(),!1),r.addMember(o,18),h.addTypeParameter(o,!0);o.addDeclaration(v[f]);v[f].setSymbol(o)}rt=i.getValueDecl();rt&&rt.ensureSymbolIsBound();r.setIsBound(this.bindingPhase)},r.prototype.bindInterfaceDeclarationToPullSymbol=function(i){var a=i.getName(),u=t(a,n.PullElementKind.SomeType,i),d=this.semanticInfo.getASTForDecl(i),g=!1,s=this.getParent(i),y=16,p,c,nt,w,v,h,f,o,b,k,e,l,r;if(s?u=s.findNestedType(a):i.getFlags()&1||(u=t(a,y,i)),!u||u.getKind()&y||(i.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),d.minChar,d.getLength(),69,[i.getDisplayName()])),u=null),u||(u=new n.PullTypeSymbol(a,16),g=!0,s||this.semanticInfoChain.cacheGlobalSymbol(u,y)),u.addDeclaration(i),i.setSymbol(u),g)s&&(p=i.getFlags()&1?5:6,p===5?s.addMember(u,p):u.setContainer(s));else if(this.reBindingAfterChange){for(c=u.getDeclarations(),nt=i.getScriptName(),r=0;r<c.length;r++)c[r].getScriptName()===nt&&c[r].getDeclID()<this.startingDeclForRebind&&u.removeDeclaration(c[r]);if(u.isGeneric()){for(w=u.getKnownSpecializations(),v=null,r=0;r<w.length;r++)v=w[r],this.cleanInterfaceSignatures(v),v.invalidate();u.cleanTypeParameters()}this.cleanInterfaceSignatures(u);u.invalidate()}for(this.resetTypeParameterCache(),this.resetTypeParameterCache(),h=i.getTypeParameters(),o=null,r=0;r<h.length;r++){if(f=u.findTypeParameter(h[r].getName()),f){if(o=f.getDeclarations(),this.symbolIsRedeclaration(f))for(e=0;e<o.length;e++)if(b=o[e].getParentDecl(),b&&b===i){k=this.semanticInfoChain.getASTForDecl(o[0]);i.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),k.minChar,k.getLength(),69,[f.getName()]));break}for(e=0;e<o.length;e++)o[e].getDeclID()<this.startingDeclForRebind&&f.removeDeclaration(o[e])}else f=new n.PullTypeParameterSymbol(h[r].getName(),!1),u.addMember(f,18);f.addDeclaration(h[r]);h[r].setSymbol(f)}if(l=this.findDeclsInContext(i,i.getKind(),!0),l&&l.length)for(r=0;r<l.length;r++)l[r].ensureSymbolIsBound()},r.prototype.bindObjectTypeDeclarationToPullSymbol=function(t){var c=this.semanticInfo.getASTForDecl(t),e=new n.PullTypeSymbol("",8388608),s,u,r,f,i,h,o;for(e.addDeclaration(t),t.setSymbol(e),this.semanticInfo.setSymbolAndDiagnosticsForAST(c,n.SymbolAndDiagnostics.fromSymbol(e)),s=t.getChildDecls(),i=0;i<s.length;i++)this.bindDeclToPullSymbol(s[i]);for(u=t.getTypeParameters(),f=null,i=0;i<u.length;i++){if(r=e.findTypeParameter(u[i].getName()),r)for(f=r.getDeclarations(),this.symbolIsRedeclaration(r)&&(h=this.semanticInfoChain.getASTForDecl(f[0]),t.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),h.minChar,h.getLength(),69,[r.getName()]))),o=0;o<f.length;o++)f[o].getDeclID()<this.startingDeclForRebind&&r.removeDeclaration(f[o]);else r=new n.PullTypeParameterSymbol(u[i].getName(),!1),e.addMember(r,18);r.addDeclaration(u[i]);u[i].setSymbol(r)}},r.prototype.bindConstructorTypeDeclarationToPullSymbol=function(t){var l=t.getKind(),a=t.getFlags(),c=this.semanticInfo.getASTForDecl(t),r=new n.PullConstructorTypeSymbol,f,e,i,o,u,h,s;for(t.setSymbol(r),r.addDeclaration(t),this.semanticInfo.setSymbolAndDiagnosticsForAST(c,n.SymbolAndDiagnostics.fromSymbol(r)),f=new n.PullDefinitionSignatureSymbol(2097152),c.variableArgList&&f.setHasVariableParamList(),f.addDeclaration(t),t.setSignatureSymbol(f),this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),r,f),r.addSignature(f),e=t.getTypeParameters(),o=null,u=0;u<e.length;u++){if(i=r.findTypeParameter(e[u].getName()),i)for(o=i.getDeclarations(),this.symbolIsRedeclaration(i)&&(h=this.semanticInfoChain.getASTForDecl(o[0]),t.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),h.minChar,h.getLength(),69,[i.getName()]))),s=0;s<o.length;s++)o[s].getDeclID()<this.startingDeclForRebind&&i.removeDeclaration(o[s]);else i=new n.PullTypeParameterSymbol(e[u].getName(),!1),r.addTypeParameter(i);i.addDeclaration(e[u]);e[u].setSymbol(i)}},r.prototype.bindVariableDeclarationToPullSymbol=function(i){var v=i.getFlags(),ot=i.getKind(),st=this.semanticInfo.getASTForDecl(i),bt=(v&1)!=0,r=null,s=i.getName(),b=!1,h=this.getParent(i,!0),c=i.getParentDecl(),k=(v&n.PullElementFlags.ImplicitVariable)!=0,nt=(v&229376)!=0,tt=(v&131072)!=0,ht=(v&16384)!=0,it,rt,y,d,e,p,a,yt,pt,w,g,ft,o,f,et,wt,l,u;if(c&&!k&&c.addVariableDeclToGroup(i),h?(r=bt?h.findMember(s,!1):h.findContainedMember(s),r&&(it=r.getDeclarations(),it.length&&(rt=it[0].getParentDecl(),c!==rt&&(!this.reBindingAfterChange||rt.getDeclID()>=this.startingDeclForRebind)&&(r=null)))):i.getFlags()&1||(r=t(s,n.PullElementKind.SomeValue,i)),r&&!r.isType()&&(b=!0),r&&this.symbolIsRedeclaration(r)){var ct=r.getKind(),kt=r.hasFlag(8),lt=r.hasFlag(131072),at=ct==32768,dt=r.hasFlag(98304),gt=(tt||lt)&&!(tt&&lt),vt=(i.getFlags()&8)!=0,ni=i.getKind()==32768,ut=k&&(!tt&&!ht&&ct==16384||!nt&&dt&&vt||!nt&&at||r.hasFlag(n.PullElementFlags.ImplicitVariable));ut&&at&&!kt&&r.getDeclarations()[0].getScriptName()!=i.getScriptName()&&(ut=!1);(nt||ni||vt)&&ut&&!gt||(y=i.getSpan(),(!h||r.getIsSynthesized())&&(yt=k?r.getDeclarations()[0]:i,yt.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),y.start(),y.length(),69,[i.getDisplayName()]))),r=null,b=!1)}else r&&r.getKind()!==1024&&!k&&(y=i.getSpan(),i.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),y.start(),y.length(),69,[i.getDisplayName()])),r=null,b=!1);if(this.reBindingAfterChange&&r&&!r.isType()){for(e=r.getDeclarations(),pt=i.getScriptName(),w=0;w<e.length;w++)e[w].getScriptName()===pt&&e[w].getDeclID()<this.startingDeclForRebind&&r.removeDeclaration(e[w]);r.invalidate()}if(g=!1,ft=null,(v&n.PullElementFlags.ImplicitVariable)==0)r||(r=new n.PullSymbol(s,ot)),r.addDeclaration(i),i.setSymbol(r),this.semanticInfo.setSymbolAndDiagnosticsForAST(st.id,n.SymbolAndDiagnostics.fromSymbol(r)),this.semanticInfo.setSymbolAndDiagnosticsForAST(st,n.SymbolAndDiagnostics.fromSymbol(r));else if(b)r.addDeclaration(i),i.setSymbol(r);else if(ht){if(o=r,h)for(a=h.getMembers(),u=0;u<a.length;u++)if(a[u].getName()===s&&a[u].getKind()===8){o=a[u];break}if(!o){if(c=i.getParentDecl(),c&&(l=c.searchChildDecls(s,n.PullElementKind.SomeType),l.length))for(u=0;u<l.length;u++)l[u].getValueDecl()===i&&(o=l[u].getSymbol());o||(o=t(s,n.PullElementKind.SomeType,i))}o&&o.getKind()!==8&&(o=null);o&&o.isClass()?(g=r&&r.getIsSynthesized(),g&&(ft=r),r=o.getConstructorMethod(),i.setSymbol(r),e=o.getDeclarations(),e.length&&(d=e[e.length-1],p=this.semanticInfo.getASTForDecl(d),p&&this.semanticInfo.setASTForDecl(i,p))):(r||(r=new n.PullSymbol(s,ot)),r.addDeclaration(i),i.setSymbol(r),r.setType(this.semanticInfoChain.anyTypeSymbol))}else if(v&n.PullElementFlags.SomeInitializedModule){if(f=null,et=this.getParent(i),et)for(a=et.getMembers(),u=0;u<a.length;u++)if(a[u].getName()===s&&a[u].isContainer()){f=a[u];break}if(!f){if(c=i.getParentDecl(),c&&(wt=v&98304?n.PullElementKind.SomeContainer:64,l=c.searchChildDecls(s,wt),l.length))for(u=0;u<l.length;u++)l[u].getValueDecl()===i&&(f=l[u].getSymbol());f||(f=t(s,n.PullElementKind.SomeContainer,i),f||(f=t(s,64,i)))}f&&!f.isContainer()&&(f=null);f?(r=f.getInstanceSymbol(),r.addDeclaration(i),i.setSymbol(r),e=f.getDeclarations(),e.length&&(d=e[e.length-1],p=this.semanticInfo.getASTForDecl(d),p&&this.semanticInfo.setASTForDecl(i,p))):n.Debug.assert(!1,"Attempted to bind invalid implicit variable symbol")}h&&!b?v&1?h.addMember(r,5):r.setContainer(h):g&&(h.removeMember(ft),h.addMember(r,6));r.setIsBound(this.bindingPhase)},r.prototype.bindPropertyDeclarationToPullSymbol=function(t){var e=t.getFlags(),w=t.getKind(),c=this.semanticInfo.getASTForDecl(t),l=!1,a=!1,o=5,i=null,h,f,y,u,p;n.hasFlag(e,16)&&(l=!0);n.hasFlag(e,2)&&(o=6);n.hasFlag(e,128)&&(a=!0);var v=t.getName(),s=!1,r=this.getParent(t,!0);if(r.isClass()&&l&&(r=r.getConstructorMethod().getType()),i=r.findMember(v,!1),i&&(!this.reBindingAfterChange||this.symbolIsRedeclaration(i))&&(h=t.getSpan(),t.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),h.start(),h.length(),69,[t.getDisplayName()])),i=null),i&&(s=!0),this.reBindingAfterChange&&i){for(f=i.getDeclarations(),y=t.getScriptName(),u=0;u<f.length;u++)f[u].getScriptName()===y&&f[u].getDeclID()<this.startingDeclForRebind&&i.removeDeclaration(f[u]);i.setUnresolved()}s||(i=new n.PullSymbol(v,w));i.addDeclaration(t);t.setSymbol(i);this.semanticInfo.setSymbolAndDiagnosticsForAST(c.id,n.SymbolAndDiagnostics.fromSymbol(i));this.semanticInfo.setSymbolAndDiagnosticsForAST(c,n.SymbolAndDiagnostics.fromSymbol(i));a&&i.setIsOptional();r&&!s&&(r.isClass()?(p=r,p.addMember(i,o)):r.addMember(i,o));i.setIsBound(this.bindingPhase)},r.prototype.bindParameterSymbols=function(t,i,r){var e=null,f=null,u=null,h=!1,c=new n.BlockIntrinsics,o,s;if(t.arguments)for(o=0;o<t.arguments.members.length;o++)f=t.arguments.members[o],e=this.semanticInfo.getDeclForAST(f),h=n.hasFlag(f.getVarFlags(),256),u=new n.PullSymbol(f.id.text,2048),t.variableArgList&&o===t.arguments.members.length-1&&u.setIsVarArg(),e.getFlags()&128&&u.setIsOptional(),c[f.id.text]?e.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),f.minChar,f.getLength(),69,[f.id.actualText])):c[f.id.text]=!0,e&&(h?(e.ensureSymbolIsBound(),s=e.getValueDecl(),s&&(s.setSymbol(u),u.addDeclaration(s))):(u.addDeclaration(e),e.setSymbol(u))),r.addParameter(u,u.getIsOptional()),r.isDefinition()&&u.setContainer(i)},r.prototype.bindFunctionDeclarationToPullSymbol=function(i){var st=i.getKind(),rt=i.getFlags(),p=this.semanticInfo.getASTForDecl(i),et=(rt&1)!=0,b=i.getName(),k=(rt&2048)!=0,l=this.getParent(i,!0),ot=i.getParentDecl(),d=!1,g=!1,r=null,e=null,nt,tt,a,c,h,v,o,y,it,f,w,u;if(l?(r=l.findMember(b,!1),r||(r=l.findContainedMember(b),r&&(nt=r.getDeclarations(),nt.length&&(tt=nt[0].getParentDecl(),ot!==tt&&(!this.reBindingAfterChange||tt.getDeclID()>=this.startingDeclForRebind)&&(r=null))))):i.getFlags()&1||(r=t(b,n.PullElementKind.SomeValue,i)),r&&(r.getKind()!==16384||this.symbolIsRedeclaration(r)&&!k&&!r.allDeclsHaveFlag(2048))&&(i.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),p.minChar,p.getLength(),69,[i.getDisplayName()])),r=null),r&&(e=r.getType(),d=!0),this.reBindingAfterChange&&r){var s=r.getDeclarations(),ut=i.getScriptName(),ft=e.isGeneric();for(f=0;f<s.length;f++)s[f].getScriptName()===ut&&s[f].getDeclID()<this.startingDeclForRebind&&(r.removeDeclaration(s[f]),g=!0);for(s=e.getDeclarations(),f=0;f<s.length;f++)s[f].getScriptName()===ut&&s[f].getDeclID()<this.startingDeclForRebind&&(e.removeDeclaration(s[f]),g=!0);if(ft)for(c=e.getKnownSpecializations(),u=0;u<c.length;u++)c[u].invalidate();r.invalidate();e.invalidate()}if(r||(r=new n.PullSymbol(b,16384)),e||(e=new n.PullFunctionTypeSymbol,r.setType(e)),i.setSymbol(r),r.addDeclaration(i),e.addDeclaration(i),this.semanticInfo.setSymbolAndDiagnosticsForAST(p.name,n.SymbolAndDiagnostics.fromSymbol(r)),this.semanticInfo.setSymbolAndDiagnosticsForAST(p,n.SymbolAndDiagnostics.fromSymbol(r)),l&&!d&&(et?l.addMember(r,5):r.setContainer(l)),d&&g){for(a=e.getCallSignatures(),u=0;u<a.length;u++)e.removeCallSignature(a[u],!1);if(r.invalidate(),e.invalidate(),e.recomputeCallSignatures(),ft)for(c=e.getKnownSpecializations(),f=0;f<c.length;f++)for(a=c[f].getCallSignatures(),u=0;u<a.length;u++)a[u].invalidate()}for(h=k?new n.PullSignatureSymbol(1048576):new n.PullDefinitionSignatureSymbol(1048576),h.addDeclaration(i),i.setSignatureSymbol(h),p.variableArgList&&h.setHasVariableParamList(),this.bindParameterSymbols(this.semanticInfo.getASTForDecl(i),e,h),v=i.getTypeParameters(),y=null,u=0;u<v.length;u++){if(o=h.findTypeParameter(v[u].getName()),o)for(y=o.getDeclarations(),this.symbolIsRedeclaration(o)&&(it=this.semanticInfoChain.getASTForDecl(y[0]),i.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),it.minChar,it.getLength(),69,[o.getName()]))),f=0;f<y.length;f++)y[f].getDeclID()<this.startingDeclForRebind&&o.removeDeclaration(y[f]);else o=new n.PullTypeParameterSymbol(v[u].getName(),!0),h.addTypeParameter(o);o.addDeclaration(v[u]);v[u].setSymbol(o)}if(e.addCallSignature(h),!k,r.setIsBound(this.bindingPhase),w=this.findDeclsInContext(i,i.getKind(),!1),w&&w.length)for(u=0;u<w.length;u++)w[u].ensureSymbolIsBound()},r.prototype.bindFunctionExpressionToPullSymbol=function(t){var a=t.getKind(),y=t.getFlags(),h=this.semanticInfo.getASTForDecl(t),v=a==131072?t.getFunctionExpressionName():t.getName(),o=new n.PullSymbol(v,16384),c=new n.PullFunctionTypeSymbol,r,e,i,u,f,l,s;for(o.setType(c),t.setSymbol(o),o.addDeclaration(t),c.addDeclaration(t),h.name&&this.semanticInfo.setSymbolAndDiagnosticsForAST(h.name,n.SymbolAndDiagnostics.fromSymbol(o)),this.semanticInfo.setSymbolAndDiagnosticsForAST(h,n.SymbolAndDiagnostics.fromSymbol(o)),r=new n.PullDefinitionSignatureSymbol(1048576),h.variableArgList&&r.setHasVariableParamList(),e=t.getTypeParameters(),u=null,f=0;f<e.length;f++){if(i=r.findTypeParameter(e[f].getName()),i)for(u=i.getDeclarations(),this.symbolIsRedeclaration(i)&&(l=this.semanticInfoChain.getASTForDecl(u[0]),t.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),l.minChar,l.getLength(),69,[i.getName()]))),u=i.getDeclarations(),s=0;s<u.length;s++)u[s].getDeclID()<this.startingDeclForRebind&&i.removeDeclaration(u[s]);else i=new n.PullTypeParameterSymbol(e[f].getName(),!0),r.addTypeParameter(i);i.addDeclaration(e[f]);e[f].setSymbol(i)}r.addDeclaration(t);t.setSignatureSymbol(r);this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),c,r);c.addSignature(r)},r.prototype.bindFunctionTypeDeclarationToPullSymbol=function(t){var v=t.getKind(),a=t.getFlags(),c=this.semanticInfo.getASTForDecl(t),o=new n.PullFunctionTypeSymbol,l,r,e,i,u,f,h,s;for(t.setSymbol(o),o.addDeclaration(t),this.semanticInfo.setSymbolAndDiagnosticsForAST(c,n.SymbolAndDiagnostics.fromSymbol(o)),l=(a&2048)!=0,r=l?new n.PullSignatureSymbol(1048576):new n.PullDefinitionSignatureSymbol(1048576),c.variableArgList&&r.setHasVariableParamList(),e=t.getTypeParameters(),u=null,f=0;f<e.length;f++){if(i=r.findTypeParameter(e[f].getName()),i)for(u=i.getDeclarations(),this.symbolIsRedeclaration(i)&&(h=this.semanticInfoChain.getASTForDecl(u[0]),t.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),h.minChar,h.getLength(),69,[i.getName()]))),u=i.getDeclarations(),s=0;s<u.length;s++)u[s].getDeclID()<this.startingDeclForRebind&&i.removeDeclaration(u[s]);else i=new n.PullTypeParameterSymbol(e[f].getName(),!0),r.addTypeParameter(i);i.addDeclaration(e[f]);e[f].setSymbol(i)}r.addDeclaration(t);t.setSignatureSymbol(r);this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),o,r);o.addSignature(r)},r.prototype.bindMethodDeclarationToPullSymbol=function(t){var lt=t.getKind(),b=t.getFlags(),v=this.semanticInfo.getASTForDecl(t),ot=(b&2)!=0,st=(b&16)!=0,ht=(b&128)!=0,it=t.getName(),d=(b&2048)!=0,y=this.getParent(t,!0),g=!1,nt=!1,f=null,u=null,ct=ot?6:5,h,tt,s,l,e,c,k,a,r,w,i;if(y.isClass()&&st&&(y=y.getConstructorMethod().getType()),f=y.findMember(it,!1),f&&(f.getKind()!==65536||this.symbolIsRedeclaration(f)&&!d&&!f.allDeclsHaveFlag(2048))&&(t.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),v.minChar,v.getLength(),69,[t.getDisplayName()])),f=null),f&&(u=f.getType(),g=!0),this.reBindingAfterChange&&f){var o=f.getDeclarations(),rt=t.getScriptName(),ut=u.isGeneric();for(r=0;r<o.length;r++)o[r].getScriptName()===rt&&o[r].getDeclID()<this.startingDeclForRebind&&(f.removeDeclaration(o[r]),nt=!0);for(o=u.getDeclarations(),r=0;r<o.length;r++)o[r].getScriptName()===rt&&o[r].getDeclID()<this.startingDeclForRebind&&(u.removeDeclaration(o[r]),nt=!0);if(ut)for(h=u.getKnownSpecializations(),i=0;i<h.length;i++)h[i].invalidate();f.invalidate();u.invalidate()}if(f||(f=new n.PullSymbol(it,65536)),u||(u=new n.PullFunctionTypeSymbol,f.setType(u)),t.setSymbol(f),f.addDeclaration(t),u.addDeclaration(t),this.semanticInfo.setSymbolAndDiagnosticsForAST(v.name,n.SymbolAndDiagnostics.fromSymbol(f)),this.semanticInfo.setSymbolAndDiagnosticsForAST(v,n.SymbolAndDiagnostics.fromSymbol(f)),ht&&f.setIsOptional(),g||y.addMember(f,ct),g&&nt){var p=u.getCallSignatures(),ft=u.getConstructSignatures(),et=u.getIndexSignatures();for(i=0;i<p.length;i++)u.removeCallSignature(p[i],!1);for(i=0;i<ft.length;i++)u.removeConstructSignature(ft[i],!1);for(i=0;i<et.length;i++)u.removeIndexSignature(et[i],!1);if(f.invalidate(),u.invalidate(),u.recomputeCallSignatures(),u.recomputeConstructSignatures(),u.recomputeIndexSignatures(),ut)for(h=u.getKnownSpecializations(),r=0;r<h.length;r++)for(p=h[r].getCallSignatures(),i=0;i<p.length;i++)p[i].invalidate()}for(tt=1048576,s=d?new n.PullSignatureSymbol(tt):new n.PullDefinitionSignatureSymbol(tt),v.variableArgList&&s.setHasVariableParamList(),l=t.getTypeParameters(),c=null,i=0;i<l.length;i++){if(k=l[i].getName(),a=this.semanticInfo.getASTForDecl(l[i]),e=s.findTypeParameter(k),e)for(c=e.getDeclarations(),this.symbolIsRedeclaration(e)&&(a=this.semanticInfoChain.getASTForDecl(c[0]),t.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),a.minChar,a.getLength(),69,[e.getName()]))),c=e.getDeclarations(),r=0;r<c.length;r++)c[r].getDeclID()<this.startingDeclForRebind&&e.removeDeclaration(c[r]);else a.constraint||(e=this.findTypeParameterInCache(k)),e||(e=new n.PullTypeParameterSymbol(k,!0),a.constraint||this.addTypeParameterToCache(e)),s.addTypeParameter(e);e.addDeclaration(l[i]);l[i].setSymbol(e)}if(s.addDeclaration(t),t.setSignatureSymbol(s),this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),u,s),u.addSignature(s),!d,w=this.findDeclsInContext(t,t.getKind(),!1),w&&w.length)for(i=0;i<w.length;i++)w[i].ensureSymbolIsBound()},r.prototype.bindConstructorDeclarationToPullSymbol=function(t){var g=t.getKind(),k=t.getFlags(),c=this.semanticInfo.getASTForDecl(t),d=t.getName(),a=(k&2048)!=0,v=this.getParent(t,!0),y=!1,r=v.getConstructorMethod(),f=null,h,s,u,o,p,l,i;if(r&&(r.getKind()!==32768||!a&&r.getType()&&r.getType().hasOwnConstructSignatures()&&r.getType().getDefinitionSignature()&&!r.allDeclsHaveFlag(2048))&&(t.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),c.minChar,c.getLength(),139,null)),r=null),r&&(f=r.getType(),this.reBindingAfterChange)){var e=r.getDeclarations(),w=t.getScriptName(),b=f.isGeneric();for(u=0;u<e.length;u++)e[u].getScriptName()===w&&e[u].getDeclID()<this.startingDeclForRebind&&(r.removeDeclaration(e[u]),y=!0);for(e=f.getDeclarations(),u=0;u<e.length;u++)e[u].getScriptName()===w&&e[u].getDeclID()<this.startingDeclForRebind&&(f.removeDeclaration(e[u]),y=!0);if(b)for(s=f.getKnownSpecializations(),i=0;i<s.length;i++)s[i].invalidate();r.invalidate();f.invalidate()}if(r||(r=new n.PullSymbol(d,32768),f=new n.PullConstructorTypeSymbol),v.setConstructorMethod(r),r.setType(f),t.setSymbol(r),r.addDeclaration(t),f.addDeclaration(t),this.semanticInfo.setSymbolAndDiagnosticsForAST(c,n.SymbolAndDiagnostics.fromSymbol(r)),!1&&y){for(h=f.getConstructSignatures(),i=0;i<h.length;i++)f.removeConstructSignature(h[i]);if(r.invalidate(),f.invalidate(),f.recomputeConstructSignatures(),b)for(s=f.getKnownSpecializations(),u=0;u<s.length;u++)for(h=s[u].getConstructSignatures(),i=0;i<h.length;i++)h[i].invalidate()}for(o=a?new n.PullSignatureSymbol(2097152):new n.PullDefinitionSignatureSymbol(2097152),o.setReturnType(v),o.addDeclaration(t),t.setSignatureSymbol(o),this.bindParameterSymbols(c,f,o),p=f.getTypeParameters(),i=0;i<p.length;i++)o.addTypeParameter(p[i]);if(c.variableArgList&&o.setHasVariableParamList(),f.addSignature(o),!a,l=this.findDeclsInContext(t,t.getKind(),!1),l&&l.length)for(i=0;i<l.length;i++)l[i].ensureSymbolIsBound()},r.prototype.bindConstructSignatureDeclarationToPullSymbol=function(t){for(var s=this.getParent(t,!0),l=this.semanticInfo.getASTForDecl(t),h=s.getConstructSignatures(),u,f,r,e,c,o,i=0;i<h.length;i++)h[i].getSymbolID()<this.startingSymbolForRebind&&s.removeConstructSignature(h[i],!1);for(s.recomputeConstructSignatures(),u=new n.PullSignatureSymbol(2097152),l.variableArgList&&u.setHasVariableParamList(),f=t.getTypeParameters(),e=null,i=0;i<f.length;i++){if(r=u.findTypeParameter(f[i].getName()),r)for(e=r.getDeclarations(),this.symbolIsRedeclaration(r)&&(c=this.semanticInfoChain.getASTForDecl(e[0]),t.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),c.minChar,c.getLength(),69,[r.getName()]))),o=0;o<e.length;o++)e[o].getDeclID()<this.startingDeclForRebind&&r.removeDeclaration(e[o]);else r=new n.PullTypeParameterSymbol(f[i].getName(),!0),u.addTypeParameter(r);r.addDeclaration(f[i]);f[i].setSymbol(r)}u.addDeclaration(t);t.setSignatureSymbol(u);this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),null,u);this.semanticInfo.setSymbolAndDiagnosticsForAST(this.semanticInfo.getASTForDecl(t),n.SymbolAndDiagnostics.fromSymbol(u));s.addConstructSignature(u)},r.prototype.bindCallSignatureDeclarationToPullSymbol=function(t){for(var s=this.getParent(t,!0),l=this.semanticInfo.getASTForDecl(t),h=s.getCallSignatures(),u,f,r,e,c,o,i=0;i<h.length;i++)h[i].getSymbolID()<this.startingSymbolForRebind&&s.removeCallSignature(h[i],!1);for(s.recomputeCallSignatures(),u=new n.PullSignatureSymbol(1048576),l.variableArgList&&u.setHasVariableParamList(),f=t.getTypeParameters(),e=null,i=0;i<f.length;i++){if(r=u.findTypeParameter(f[i].getName()),r)for(e=r.getDeclarations(),this.symbolIsRedeclaration(r)&&(c=this.semanticInfoChain.getASTForDecl(e[0]),t.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),c.minChar,c.getLength(),69,[r.getName()]))),o=0;o<e.length;o++)e[o].getDeclID()<this.startingDeclForRebind&&r.removeDeclaration(e[o]);else r=new n.PullTypeParameterSymbol(f[i].getName(),!0),u.addTypeParameter(r);r.addDeclaration(f[i]);f[i].setSymbol(r)}u.addDeclaration(t);t.setSignatureSymbol(u);this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),null,u);this.semanticInfo.setSymbolAndDiagnosticsForAST(this.semanticInfo.getASTForDecl(t),n.SymbolAndDiagnostics.fromSymbol(u));s.addCallSignature(u)},r.prototype.bindIndexSignatureDeclarationToPullSymbol=function(t){for(var s=this.getParent(t,!0),h=s.getIndexSignatures(),c,o,i=0;i<h.length;i++)h[i].getSymbolID()<this.startingSymbolForRebind&&s.removeIndexSignature(h[i],!1);s.recomputeIndexSignatures();var u=new n.PullSignatureSymbol(4194304),e=t.getTypeParameters(),r,f=null;for(i=0;i<e.length;i++){if(r=u.findTypeParameter(e[i].getName()),r)for(f=r.getDeclarations(),this.symbolIsRedeclaration(r)&&(c=this.semanticInfoChain.getASTForDecl(f[0]),t.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),c.minChar,c.getLength(),69,[r.getName()]))),f=r.getDeclarations(),o=0;o<f.length;o++)f[o].getDeclID()<this.startingDeclForRebind&&r.removeDeclaration(f[o]);else r=new n.PullTypeParameterSymbol(e[i].getName(),!0),u.addTypeParameter(r);r.addDeclaration(e[i]);e[i].setSymbol(r)}u.addDeclaration(t);t.setSignatureSymbol(u);this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),null,u);this.semanticInfo.setSymbolAndDiagnosticsForAST(this.semanticInfo.getASTForDecl(t),n.SymbolAndDiagnostics.fromSymbol(u));s.addIndexSignature(u)},r.prototype.bindGetAccessorDeclarationToPullSymbol=function(t){var nt=t.getKind(),h=t.getFlags(),o=this.semanticInfo.getASTForDecl(t),tt=(h&1)!=0,a=t.getName(),b=(h&2048)!=0,k=!1,d=5,f,p,u,w,l,s,g;n.hasFlag(h,16)&&(k=!0);n.hasFlag(h,2)&&(d=6);var c=this.getParent(t,!0),v=!1,y=!1,i=null,r=null,e=null;if(k&&(c=c.getConstructorMethod().getType()),i=c.findMember(a,!1),i&&(i.isAccessor()?(r=i.getGetter(),r&&(!this.reBindingAfterChange||this.symbolIsRedeclaration(r))&&(t.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),o.minChar,o.getLength(),84,[t.getDisplayName()])),i=null,r=null)):(t.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),o.minChar,o.getLength(),69,[t.getDisplayName()])),i=null)),i&&(v=!0),i&&r&&(e=r.getType()),this.reBindingAfterChange&&i){for(f=i.getDeclarations(),p=t.getScriptName(),u=0;u<f.length;u++)f[u].getScriptName()===p&&f[u].getDeclID()<this.startingDeclForRebind&&(i.removeDeclaration(f[u]),y=!0);if(r)for(f=r.getDeclarations(),u=0;u<f.length;u++)f[u].getScriptName()===p&&f[u].getDeclID()<this.startingDeclForRebind&&(r.removeDeclaration(f[u]),y=!0);i.invalidate()}if(i||(i=new n.PullAccessorSymbol(a)),r||(r=new n.PullSymbol(a,16384),e=new n.PullFunctionTypeSymbol,r.setType(e),i.setGetter(r)),t.setSymbol(i),i.addDeclaration(t),r.addDeclaration(t),this.semanticInfo.setSymbolAndDiagnosticsForAST(o.name,n.SymbolAndDiagnostics.fromSymbol(r)),this.semanticInfo.setSymbolAndDiagnosticsForAST(o,n.SymbolAndDiagnostics.fromSymbol(r)),v||c.addMember(i,d),v&&y){for(w=e.getCallSignatures(),l=0;l<w.length;l++)e.removeCallSignature(w[l],!1);r.invalidate();e.invalidate();e.recomputeCallSignatures()}s=b?new n.PullSignatureSymbol(1048576):new n.PullDefinitionSignatureSymbol(1048576);s.addDeclaration(t);t.setSignatureSymbol(s);this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),e,s);g=t.getTypeParameters();g.length&&t.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),o.minChar,o.getLength(),86,null));e.addSignature(s);!b;r.setIsBound(this.bindingPhase)},r.prototype.bindSetAccessorDeclarationToPullSymbol=function(t){var nt=t.getKind(),h=t.getFlags(),o=this.semanticInfo.getASTForDecl(t),tt=(h&1)!=0,a=t.getName(),b=(h&2048)!=0,k=!1,d=5,f,p,u,w,l,s,g;n.hasFlag(h,16)&&(k=!0);n.hasFlag(h,2)&&(d=6);var c=this.getParent(t,!0),v=!1,y=!1,i=null,r=null,e=null;if(k&&(c=c.getConstructorMethod().getType()),i=c.findMember(a,!1),i&&(i.isAccessor()?(r=i.getSetter(),r&&(!this.reBindingAfterChange||this.symbolIsRedeclaration(r))&&(t.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),o.minChar,o.getLength(),85,[t.getDisplayName()])),i=null,r=null)):(t.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),o.minChar,o.getLength(),69,[t.getDisplayName()])),i=null)),i&&(v=!0),i&&r&&(e=r.getType()),this.reBindingAfterChange&&i){for(f=i.getDeclarations(),p=t.getScriptName(),u=0;u<f.length;u++)f[u].getScriptName()===p&&f[u].getDeclID()<this.startingDeclForRebind&&(i.removeDeclaration(f[u]),y=!0);if(r)for(f=r.getDeclarations(),u=0;u<f.length;u++)f[u].getScriptName()===p&&f[u].getDeclID()<this.startingDeclForRebind&&(r.removeDeclaration(f[u]),y=!0);i.invalidate()}if(i||(i=new n.PullAccessorSymbol(a)),r||(r=new n.PullSymbol(a,16384),e=new n.PullFunctionTypeSymbol,r.setType(e),i.setSetter(r)),t.setSymbol(i),i.addDeclaration(t),r.addDeclaration(t),this.semanticInfo.setSymbolAndDiagnosticsForAST(o.name,n.SymbolAndDiagnostics.fromSymbol(r)),this.semanticInfo.setSymbolAndDiagnosticsForAST(o,n.SymbolAndDiagnostics.fromSymbol(r)),v||c.addMember(i,d),v&&y){for(w=e.getCallSignatures(),l=0;l<w.length;l++)e.removeCallSignature(w[l],!1);r.invalidate();e.invalidate();e.recomputeCallSignatures()}s=b?new n.PullSignatureSymbol(1048576):new n.PullDefinitionSignatureSymbol(1048576);s.addDeclaration(t);t.setSignatureSymbol(s);this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),e,s);g=t.getTypeParameters();g.length&&t.addDiagnostic(new n.SemanticDiagnostic(this.semanticInfo.getPath(),o.minChar,o.getLength(),86,null));e.addSignature(s);!b;r.setIsBound(this.bindingPhase)},r.prototype.bindCatchBlockPullSymbols=function(){},r.prototype.bindWithBlockPullSymbols=function(){},r.prototype.bindDeclToPullSymbol=function(t,i){var u,r;if(typeof i=="undefined"&&(i=!1),i&&(this.startingDeclForRebind=n.lastBoundPullDeclId,this.startingSymbolForRebind=n.lastBoundPullSymbolID,this.reBindingAfterChange=!0),!t.isBound()){t.setIsBound(!0);switch(t.getKind()){case 1:for(u=t.getChildDecls(),r=0;r<u.length;r++)this.bindDeclToPullSymbol(u[r]);break;case 64:case 32:case 4:this.bindModuleDeclarationToPullSymbol(t);break;case 16:this.bindInterfaceDeclarationToPullSymbol(t);break;case 8:this.bindClassDeclarationToPullSymbol(t);break;case 16384:this.bindFunctionDeclarationToPullSymbol(t);break;case 1024:this.bindVariableDeclarationToPullSymbol(t);break;case 67108864:case 4096:this.bindPropertyDeclarationToPullSymbol(t);break;case 65536:this.bindMethodDeclarationToPullSymbol(t);break;case 32768:this.bindConstructorDeclarationToPullSymbol(t);break;case 1048576:this.bindCallSignatureDeclarationToPullSymbol(t);break;case 2097152:this.bindConstructSignatureDeclarationToPullSymbol(t);break;case 4194304:this.bindIndexSignatureDeclarationToPullSymbol(t);break;case 262144:this.bindGetAccessorDeclarationToPullSymbol(t);break;case 524288:this.bindSetAccessorDeclarationToPullSymbol(t);break;case 8388608:this.bindObjectTypeDeclarationToPullSymbol(t);break;case 16777216:this.bindFunctionTypeDeclarationToPullSymbol(t);break;case 33554432:this.bindConstructorTypeDeclarationToPullSymbol(t);break;case 131072:this.bindFunctionExpressionToPullSymbol(t);break;case 256:this.bindImportDeclaration(t);break;case 2048:case 8192:break;case 1073741824:this.bindCatchBlockPullSymbols(t);case 536870912:this.bindWithBlockPullSymbols(t);break;default:throw new Error("Unrecognized type declaration");}}},r.prototype.bindDeclsForUnit=function(n,t){var r,i;for(typeof t=="undefined"&&(t=!1),this.setUnit(n),r=this.semanticInfo.getTopLevelDecls(),i=0;i<r.length;i++)this.bindDeclToPullSymbol(r[i],t)},r}();n.PullSymbolBinder=r}(TypeScript||(TypeScript={})),function(n){function e(t,i){var u=i.symbolToUpdate,r=t.end;r.removeUpdateVersion===n.updateVersion||r.isPrimitive()||(t.kind===2?i.updater.invalidateType(r):t.kind===21?(u.removeSpecialization(r),i.updater.removeSymbol(r),i.updater.invalidateType(r)):t.kind===5?i.updater.removeSymbol(r):t.kind===6?i.updater.removeSymbol(r):t.kind===7?i.updater.invalidateType(r):t.kind===10?(r.removeMember(u),i.updater.invalidateType(r)):t.kind===13?i.updater.removeSymbol(r):t.kind===15?i.updater.invalidateType(r):t.kind===16?i.updater.invalidateType(r):t.kind===17&&i.updater.invalidateType(r),u.removeOutgoingLink(t))}function o(t,i){var u=i.symbolToUpdate,r=t.start;r.removeUpdateVersion===n.updateVersion||r.isPrimitive()||(t.kind===0?i.updater.invalidateType(r):t.kind===1?i.updater.invalidateType(r):t.kind===18?i.updater.invalidateType(r):t.kind===19?i.updater.invalidateType(r):t.kind===21?r.removeSpecialization(u):t.kind===22?i.updater.invalidateType(r):t.kind===5?(r.removeMember(u),i.updater.invalidateType(r)):t.kind===6?(r.removeMember(u),i.updater.invalidateType(r)):t.kind===7?i.updater.invalidateType(r):t.kind===10?i.updater.invalidateType(r):t.kind===11?i.updater.invalidateType(r):t.kind===12?i.updater.invalidateType(r):t.kind===13?i.updater.invalidateType(r):t.kind===14?i.updater.invalidateType(r):t.kind===15?i.updater.invalidateType(r):t.kind===16?i.updater.invalidateType(r):t.kind===17?i.updater.invalidateType(r):t.kind===8?i.updater.invalidateType(r):t.kind===9&&i.updater.invalidateType(r))}function s(t,i){var u=i.symbolToUpdate,r=t.end;r.addUpdateVersion===n.updateVersion||r.isPrimitive()||(t.kind===10?i.updater.invalidateType(r):t.kind===2?i.updater.invalidateType(r):t.kind===18?i.updater.invalidateType(r):t.kind===19?i.updater.invalidateType(r):t.kind===21?i.updater.invalidateType(r):t.kind===22?i.updater.invalidateType(r):t.kind===5?i.updater.invalidateType(r):t.kind===7?i.updater.invalidateType(r):t.kind===14?i.updater.invalidateType(r):t.kind===15?i.updater.invalidateType(r):t.kind===16?i.updater.invalidateType(r):t.kind===17&&i.updater.invalidateType(r))}function h(t,i){var u=i.symbolToUpdate,r=t.start;r.addUpdateVersion===n.updateVersion||r.isPrimitive()||(t.kind===0?i.updater.invalidateType(r):t.kind===1?i.updater.invalidateType(r):t.kind===18?i.updater.invalidateType(r):t.kind===19?i.updater.invalidateType(r):t.kind===22?i.updater.invalidateType(r):t.kind===5?i.updater.invalidateType(r):t.kind===7?i.updater.invalidateType(r):t.kind===11?i.updater.invalidateType(r):t.kind===12?i.updater.invalidateType(r):t.kind===14?i.updater.invalidateType(r):t.kind===8?i.updater.invalidateType(r):t.kind===9&&i.updater.invalidateType(r))}function c(t,i){var u=i.symbolToUpdate,r=t.end;r.typeChangeUpdateVersion===n.updateVersion||r.isPrimitive()||(t.kind===2?i.updater.invalidateType(r):t.kind===10?i.updater.invalidateType(r):t.kind===18?i.updater.invalidateType(r):t.kind===19?i.updater.invalidateType(r):t.kind===21?i.updater.invalidateType(r):t.kind===22?i.updater.invalidateType(r):t.kind===5?i.updater.invalidateType(r):t.kind===15?i.updater.invalidateType(r):t.kind===7?i.updater.invalidateType(r):t.kind===16?i.updater.invalidateType(r):t.kind===17&&i.updater.invalidateType(r))}function l(t,i){var u=i.symbolToUpdate,r=t.start;r.typeChangeUpdateVersion===n.updateVersion||r.isPrimitive()||(t.kind===0?i.updater.invalidateType(r):t.kind===1?i.updater.invalidateType(r):t.kind===18?i.updater.invalidateType(r):t.kind===19?i.updater.invalidateType(r):t.kind===22?i.updater.invalidateType(r):t.kind===5?i.updater.invalidateType(r):t.kind===17?i.updater.invalidateType(r):t.kind===11?i.updater.invalidateType(r):t.kind===12?i.updater.invalidateType(r):t.kind===14?i.updater.invalidateType(r):t.kind===8?i.updater.invalidateType(r):t.kind===9&&i.updater.invalidateType(r))}var i,r,u,a,t,f;n.linkID=0;i=function(){function n(n){this.value=n;this.next=null;this.prev=null}return n}();n.IListItem=i;r=function(){function n(){this.head=null;this.last=null;this.length=0}return n.prototype.addItem=function(n){this.head?(this.last.next=new i(n),this.last.next.prev=this.last,this.last=this.last.next):(this.head=new i(n),this.last=this.head);this.length++},n.prototype.find=function(n){for(var t=this.head,i=[];t;)n(t.value)&&(i[i.length]=t.value),t=t.next;return i},n.prototype.remove=function(n){for(var t=this.head,i=null,r=null;t;)n(t.value)&&(t===this.head?(this.last===this.head&&(this.last=null),this.head=this.head.next,this.head&&(this.head.prev=null)):(i=t.prev,r=t.next,i&&(i.next=r),r&&(r.prev=i),t===this.last&&(this.last=i)),this.length--),t=t.next},n.prototype.update=function(n,t){for(var i=this.head;i;)n(i.value,t),i=i.next},n}();n.LinkList=r;u=function(){function t(t,i,r){this.start=t;this.end=i;this.kind=r;this.id=n.linkID++}return t}();n.PullSymbolLink=u,function(n){n[n.NoUpdate=0]="NoUpdate";n[n.SymbolRemoved=1]="SymbolRemoved";n[n.SymbolAdded=2]="SymbolAdded";n[n.TypeChanged=3]="TypeChanged"}(n.GraphUpdateKind||(n.GraphUpdateKind={}));a=n.GraphUpdateKind;t=function(){function n(n,t,i){this.updateKind=n;this.symbolToUpdate=t;this.updater=i}return n}();n.PullSymbolUpdate=t;n.updateVersion=0;f=function(){function i(n){this.semanticInfoChain=n}return i.prototype.removeDecl=function(t){var i=t.getSymbol(),u,r,e,f;if(i){for(i.removeDeclaration(t),u=t.getChildDecls(),r=0;r<u.length;r++)this.removeDecl(u[r]);e=i.getDeclarations();e.length?i.invalidate():(this.removeSymbol(i),this.semanticInfoChain.removeSymbolFromCache(i))}f=t.getValueDecl();f&&this.removeDecl(f);n.updateVersion++},i.prototype.addDecl=function(t){var i=t.getSymbol();i&&this.addSymbol(i);n.updateVersion++},i.prototype.removeSymbol=function(i){var r,u,f;i.removeUpdateVersion!==n.updateVersion&&(i.removeUpdateVersion=n.updateVersion,i.updateOutgoingLinks(e,new t(1,i,this)),i.updateIncomingLinks(o,new t(1,i,this)),i.unsetContainer(),this.semanticInfoChain.removeSymbolFromCache(i),r=i.getContainer(),r&&(r.removeMember(i),this.semanticInfoChain.removeSymbolFromCache(i)),i.isAccessor()&&(u=i.getGetter(),f=i.getSetter(),u&&this.removeSymbol(u),f&&this.removeSymbol(f)),i.removeAllLinks())},i.prototype.addSymbol=function(i){i.addUpdateVersion!==n.updateVersion&&(i.addUpdateVersion=n.updateVersion,i.updateOutgoingLinks(s,new t(2,i,this)),i.updateIncomingLinks(h,new t(2,i,this)))},i.prototype.invalidateType=function(i){if(i&&!i.isPrimitive()&&i.typeChangeUpdateVersion!==n.updateVersion){if(i.typeChangeUpdateVersion=n.updateVersion,i.updateOutgoingLinks(c,new t(3,i,this)),i.updateIncomingLinks(l,new t(3,i,this)),i.getKind()===4){var r=i.getInstanceSymbol();this.invalidateType(r)}i.isResolved()&&i.invalidate();this.invalidateUnitsForSymbol(i)}},i.prototype.invalidateUnitsForSymbol=function(n){for(var i=n.getDeclarations(),t=0;t<i.length;t++)this.semanticInfoChain.invalidateUnit(i[t].getScriptName())},i}();n.PullSymbolGraphUpdater=f;n.propagateRemovalToOutgoingLinks=e;n.propagateRemovalToIncomingLinks=o;n.propagateAdditionToOutgoingLinks=s;n.propagateAdditionToIncomingLinks=h;n.propagateChangedTypeToOutgoingLinks=c;n.propagateChangedTypeToIncomingLinks=l}(TypeScript||(TypeScript={})),function(n){function t(n,i){var u=n.getDiagnostics(),f,r;if(u)for(r=0;r<u.length;r++)i[i.length]=u[r];for(f=n.getChildDecls(),r=0;r<f.length;r++)t(f[r],i)}var i=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),i.equals=function(t,i){return n.Diagnostic.equals(t,i)},i}(n.Diagnostic);n.SemanticDiagnostic=i;n.getDiagnosticsFromEnclosingDecl=t}(TypeScript||(TypeScript={})),function(n){(function(n){function t(n,t){var u=t.getDeclForAST(n),r=u.getSymbol(),f,i,e,o;return r||(r=u.getSignatureSymbol()),f=null,i=null,r.isSignature()?(f=r,e=u.getParentDecl(),i=e.getSymbol().getType()):(f=u.getSignatureSymbol(),i=r.getType()),o=n.isConstructor||n.isConstructMember()?i.getConstructSignatures():n.isIndexerMember()?i.getIndexSignatures():i.getCallSignatures(),{signature:f,allSignatures:o}}function i(n,t,i){var r=t.getDeclForAST(n,i);return r.getSymbol()}function r(t,i,r){var e=n.getAccessorSymbol(t,i,r),u={getter:null,setter:null},o=e.getGetter(),s,f,h;return o&&(s=o.getDeclarations()[0],u.getter=i.getASTForDecl(s)),f=e.getSetter(),f&&(h=f.getDeclarations()[0],u.setter=i.getASTForDecl(h)),u}function u(n){return n&&(n.getKind()&67108928||n.hasFlag(131072))}function f(n){return n.getKind()==4||e(n,4)}function e(n,t){for(var r=n.getDeclarations(),i=0;i<r.length;i++)if(r[i].getKind()===t)return!0;return!1}n.getSignatureForFuncDecl=t;n.getAccessorSymbol=i;n.getGetterAndSetterFunction=r;n.symbolIsEnum=u;n.symbolIsModule=f})(n.PullHelpers||(n.PullHelpers={}));var t=n.PullHelpers}(TypeScript||(TypeScript={})),function(n){var t=!0,i=function(){function t(t){this.position=0;this.elementToPosition=n.Collections.createHashTable(2048,n.Collections.identityHashCode);this.process(t)}return t.prototype.process=function(n){if(n!==null)if(n.isToken())this.elementToPosition.add(n,this.position),this.position+=n.fullWidth();else{(n.isNode()||n.isList()&&n.childCount()>0||n.isSeparatedList()&&n.childCount()>0)&&this.elementToPosition.add(n,this.position);for(var t=0,i=n.childCount();t<i;t++)this.process(n.childAt(t))}},t.create=function(n){return new t(n)},t.prototype.fullStart=function(n){return this.elementToPosition.get(n)},t.prototype.start=function(n){return this.fullStart(n)+n.leadingTriviaWidth()},t.prototype.end=function(n){return this.start(n)+n.width()},t.prototype.fullEnd=function(n){return this.fullStart(n)+n.fullWidth()},t}(),r;n.SyntaxPositionMap=i;r=function(){function r(t,i,r,u){this.syntaxPositionMap=t;this.fileName=i;this.lineMap=r;this.compilationSettings=u;this.position=0;this.requiresExtendsBlock=!1;this.previousTokenTrailingComments=null;this.isParsingAmbientModule=!1;this.containingModuleHasExportAssignment=!1;this.isParsingDeclareFile=n.isDTSFile(i)}return r.visit=function(n,t,u){var f=r.checkPositions?i.create(n.sourceUnit()):null,e=new r(f,t,n.lineMap(),u);return n.sourceUnit().accept(e)},r.prototype.assertElementAtPosition=function(t){r.checkPositions&&n.Debug.assert(this.position===this.syntaxPositionMap.fullStart(t))},r.prototype.movePast=function(n){n!==null&&(this.assertElementAtPosition(n),this.position+=n.fullWidth())},r.prototype.moveTo=function(t,i){i!==null&&(this.position+=n.Syntax.childOffset(t,i))},r.prototype.applyDelta=function(t,i){var r=this;if(i!==0){var u=function(n){n.minChar!==-1&&(n.minChar+=i);n.limChar!==-1&&(n.limChar+=i)},f=function(n){var i,t;if(n&&n.length>0)for(i=0;i<n.length;i++)t=n[i],u(t),t.minLine=r.lineMap.getLineNumberFromPosition(t.minChar),t.limLine=r.lineMap.getLineNumberFromPosition(t.limChar)},e=function(n){return u(n),f(n.preComments),f(n.postComments),n};n.getAstWalkerFactory().walk(t,e)}},r.prototype.setSpan=function(n,t,i){var r=t+i.leadingTriviaWidth(),u=r+i.width();this.setSpanExplicit(n,r,u);n.trailingTriviaWidth=i.trailingTriviaWidth()},r.prototype.setSpanExplicit=function(t,i,r){if(t.minChar!==-1){n.Debug.assert(t.limChar!==-1);n.Debug.assert(t.nodeType!==undefined);var u=i-t.minChar;this.applyDelta(t,u);t.limChar=r;n.Debug.assert(t.minChar===i);n.Debug.assert(t.limChar===r)}else n.Debug.assert(t.limChar===-1),t.minChar=i,t.limChar=r;n.Debug.assert(!isNaN(t.minChar));n.Debug.assert(!isNaN(t.limChar));n.Debug.assert(t.minChar!==-1);n.Debug.assert(t.limChar!==-1)},r.prototype.identifierFromToken=function(t,i,u){var f,e;return this.assertElementAtPosition(t),f=null,t.fullWidth()===0?f=new n.MissingIdentifier:(f=new n.Identifier(t.text()),f.text=u?t.valueText():f.text,f.text==r.protoString&&(f.text=r.protoSubstitutionString)),i&&f.setFlags(f.getFlags()|4),e=this.position+t.leadingTriviaWidth(),this.setSpanExplicit(f,e,e+t.width()),f},r.prototype.getAST=function(n){if(this.previousTokenTrailingComments!==null)return null;if(t){var i=n._ast;return i?i:null}return null},r.prototype.setAST=function(n,i){t&&(n._ast=i)},r.prototype.visitSyntaxList=function(t){var f=this.position,i=this.getAST(t),r,u;if(i)this.movePast(t);else{for(i=new n.ASTList,r=0,u=t.childCount();r<u;r++)i.append(t.childAt(r).accept(this));u>0&&this.setAST(t,i)}return this.setSpan(i,f,t),i},r.prototype.visitSeparatedSyntaxList=function(t){var e=this.position,i=this.getAST(t),r,f,u;if(i)this.movePast(t);else{for(i=new n.ASTList,r=0,f=t.childCount();r<f;r++)r%2==0?(i.append(t.childAt(r).accept(this)),this.previousTokenTrailingComments=null):(u=t.childAt(r),this.previousTokenTrailingComments=this.convertTokenTrailingComments(u,this.position+u.leadingTriviaWidth()+u.width()),this.movePast(u));i.postComments=this.previousTokenTrailingComments;this.previousTokenTrailingComments=null;f>0&&this.setAST(t,i)}return this.setSpan(i,e,t),i},r.prototype.createRef=function(t,i){var r=new n.Identifier(t);return r.minChar=i,r},r.prototype.convertComment=function(t,i,r){var u=new n.Comment(t.fullText(),t.kind()===6,r);return u.minChar=i,u.limChar=i+t.fullWidth(),u.minLine=this.lineMap.getLineNumberFromPosition(u.minChar),u.limLine=this.lineMap.getLineNumberFromPosition(u.limChar),u},r.prototype.convertComments=function(n,t){for(var f=[],r,e,i=0,u=n.count();i<u;i++)r=n.syntaxTriviaAt(i),r.isComment()&&(e=i+1<u&&n.syntaxTriviaAt(i+1).isNewLine(),f.push(this.convertComment(r,t,e))),t+=r.fullWidth();return f},r.prototype.mergeComments=function(n,t){return n===null?t:t===null?n:n.concat(t)},r.prototype.convertTokenLeadingComments=function(n,t){if(n===null)return null;var i=n.hasLeadingComment()?this.convertComments(n.leadingTrivia(),t):null,r=this.previousTokenTrailingComments;return this.previousTokenTrailingComments=null,this.mergeComments(r,i)},r.prototype.convertTokenTrailingComments=function(n,t){return n===null||!n.hasTrailingComment()||n.hasTrailingNewLine()?null:this.convertComments(n.trailingTrivia(),t)},r.prototype.convertNodeLeadingComments=function(n,t){return this.convertTokenLeadingComments(n.firstToken(),t)},r.prototype.convertNodeTrailingComments=function(n,t){return this.convertTokenTrailingComments(n.lastToken(),t+n.leadingTriviaWidth()+n.width())},r.prototype.visitToken=function(t){var i,r,f,e,u;return this.assertElementAtPosition(t),i=this.getAST(t),r=this.position,i?this.movePast(t):(t.kind()===35?i=new n.ThisExpression:t.kind()===50?i=new n.SuperExpression:t.kind()===37?i=new n.LiteralExpression(3):t.kind()===24?i=new n.LiteralExpression(4):t.kind()===32?i=new n.LiteralExpression(8):t.kind()===14?i=new n.StringLiteral(t.text(),t.valueText()):t.kind()===12?i=new n.RegexLiteral(t.text()):t.kind()===13?(f=this.convertTokenLeadingComments(t,r),e=t.text().indexOf(".")>0?parseFloat(t.text()):parseInt(t.text()),i=new n.NumberLiteral(e,t.text()),i.preComments=f):i=this.identifierFromToken(t,!1,!0),this.movePast(t)),u=r+t.leadingTriviaWidth(),this.setAST(t,i),this.setSpanExplicit(i,u,u+t.width()),i},r.prototype.getLeadingComments=function(n){var u=n.firstToken(),f=[],i,t,e,r;if(u.hasLeadingComment())for(i=u.leadingTrivia(),t=0,e=i.count();t<e;t++)r=i.syntaxTriviaAt(t),r.isComment()&&f.push(r);return f},r.prototype.hasTopLevelImportOrExport=function(t){for(var f,u,o,e,s,i=0,r=t.moduleElements.childCount();i<r;i++)if((u=t.moduleElements.childAt(i),f=u.firstToken(),f!==null&&f.kind()===47)||u.kind()===133&&(o=u,o.moduleReference.kind()===245))return!0;for(e=this.getLeadingComments(t),i=0,r=e.length;i<r;i++)if(s=e[i],n.getImplicitImport(s.fullText()))return!0;return!1},r.prototype.getAmdDependency=function(n){var t=/^\/\/\/\s*<amd-dependency\s+path=('|")(.+?)\1/gim.exec(n);return t?t[2]:null},r.prototype.visitSourceUnit=function(t){var o,c,s,e,l,a,h,r;this.assertElementAtPosition(t);var f=this.position,u=this.visitSyntaxList(t.moduleElements),i=null;if(this.hasTopLevelImportOrExport(t)){for(o=n.switchToForwardSlashes(this.fileName),c=new n.Identifier(o),i=new n.ModuleDeclaration(c,u,null),this.setSpanExplicit(i,f,this.position),i.setModuleFlags(i.getModuleFlags()|512),i.setModuleFlags(i.getModuleFlags()|256),i.setModuleFlags(i.getModuleFlags()|1),this.isParsingDeclareFile&&i.setModuleFlags(i.getModuleFlags()|8),i.prettyName=n.getPrettyName(o),s=this.getLeadingComments(t),e=0,l=s.length;e<l;e++)a=s[e],h=this.getAmdDependency(a.fullText()),h&&i.amdDependencies.push(h);u=new n.ASTList;this.setSpanExplicit(u,f,this.position);u.append(i)}return r=new n.Script,this.setSpanExplicit(r,f,f+t.fullWidth()),r.moduleElements=u,r.topLevelMod=i,r.isDeclareFile=this.isParsingDeclareFile,r.requiresExtendsBlock=this.requiresExtendsBlock,r},r.prototype.visitExternalModuleReference=function(n){this.assertElementAtPosition(n);this.moveTo(n,n.stringLiteral);var t=this.identifierFromToken(n.stringLiteral,!1,!1);return this.movePast(n.stringLiteral),this.movePast(n.closeParenToken),t},r.prototype.visitModuleNameModuleReference=function(n){return this.assertElementAtPosition(n),n.moduleName.accept(this)},r.prototype.visitClassDeclaration=function(t){var f,i,c,l,a,p,u,e,w,s,r,h,o;if(this.assertElementAtPosition(t),f=this.position,i=this.getAST(t),i)this.movePast(t);else{c=this.convertNodeLeadingComments(t,f);l=this.convertNodeTrailingComments(t,f);this.moveTo(t,t.identifier);a=this.identifierFromToken(t.identifier,!1,!0);this.movePast(t.identifier);var b=t.typeParameterList===null?null:t.typeParameterList.accept(this),v=new n.ASTList,y=new n.ASTList;for(r=0,p=t.heritageClauses.childCount();r<p;r++)u=t.heritageClauses.childAt(r),u.extendsOrImplementsKeyword.tokenKind===48?v=u.accept(this):(n.Debug.assert(u.extendsOrImplementsKeyword.tokenKind===51),y=u.accept(this));for(this.movePast(t.openBraceToken),e=this.visitSyntaxList(t.classElements),w=this.position,this.movePast(t.closeBraceToken),s=new n.ASTSpan,this.setSpan(s,w,t.closeBraceToken),i=new n.ClassDeclaration(a,b,e,v,y),i.endingToken=s,i.preComments=c,i.postComments=l,r=0;r<e.members.length;r++)h=e.members[r],h.nodeType===12&&(o=h,o.isConstructor&&(o.classDecl=i,i.constructorDecl=o))}return this.requiresExtendsBlock=this.requiresExtendsBlock||i.extendsList.members.length>0,!this.containingModuleHasExportAssignment&&(n.SyntaxUtilities.containsToken(t.modifiers,47)||this.isParsingAmbientModule)?i.setVarFlags(i.getVarFlags()|1):i.setVarFlags(i.getVarFlags()&-2),n.SyntaxUtilities.containsToken(t.modifiers,64)||this.isParsingAmbientModule||this.isParsingDeclareFile?i.setVarFlags(i.getVarFlags()|8):i.setVarFlags(i.getVarFlags()&-9),this.setAST(t,i),this.setSpan(i,f,t),i},r.prototype.visitInterfaceDeclaration=function(t){var u,i,o,s,h,c,f,r,l,e,a;if(this.assertElementAtPosition(t),u=this.position,i=this.getAST(t),i)this.movePast(t);else{for(o=this.convertNodeLeadingComments(t,u),s=this.convertNodeTrailingComments(t,u),this.moveTo(t,t.identifier),h=this.identifierFromToken(t.identifier,!1,!0),this.movePast(t.identifier),c=t.typeParameterList===null?null:t.typeParameterList.accept(this),f=null,r=0,l=t.heritageClauses.childCount();r<l;r++)e=t.heritageClauses.childAt(r),r===0?f=e.accept(this):this.movePast(e);this.movePast(t.body.openBraceToken);a=this.visitSeparatedSyntaxList(t.body.typeMembers);this.movePast(t.body.closeBraceToken);i=new n.InterfaceDeclaration(h,c,a,f,null);i.preComments=o;i.postComments=s}return!this.containingModuleHasExportAssignment&&(n.SyntaxUtilities.containsToken(t.modifiers,47)||this.isParsingAmbientModule)?i.setVarFlags(i.getVarFlags()|1):i.setVarFlags(i.getVarFlags()&-2),this.setAST(t,i),this.setSpan(i,u,t),i},r.prototype.visitHeritageClause=function(t){var u,i,r,f,e;if(this.assertElementAtPosition(t),u=this.position,i=this.getAST(t),i)this.movePast(t);else for(i=new n.ASTList,this.movePast(t.extendsOrImplementsKeyword),r=0,f=t.typeNames.childCount();r<f;r++)r%2==1?this.movePast(t.typeNames.childAt(r)):(e=this.visitType(t.typeNames.childAt(r)).term,i.append(e));return this.setAST(t,i),this.setSpan(i,u,t),i},r.prototype.getModuleNames=function(n){var t=[];return n.stringLiteral!==null?(t.push(this.identifierFromToken(n.stringLiteral,!1,!1)),this.movePast(n.stringLiteral)):this.getModuleNamesHelper(n.moduleName,t),t},r.prototype.getModuleNamesHelper=function(n,t){if(this.assertElementAtPosition(n),n.kind()===122){var i=n;this.getModuleNamesHelper(i.left,t);this.movePast(i.dotToken);t.push(this.identifierFromToken(i.right,!1,!1));this.movePast(i.right)}else t.push(this.identifierFromToken(n,!1,!1)),this.movePast(n)},r.prototype.visitModuleDeclaration=function(t){var r,i,e,o,s,c,l,f,a,h,u,v;if(this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i)this.movePast(t);else for(e=this.convertNodeLeadingComments(t,r),o=this.convertNodeTrailingComments(t,r),this.moveTo(t,t.moduleKeyword),this.movePast(t.moduleKeyword),s=this.getModuleNames(t),this.movePast(t.openBraceToken),c=this.isParsingAmbientModule,(n.SyntaxUtilities.containsToken(t.modifiers,64)||this.isParsingDeclareFile)&&(this.isParsingAmbientModule=!0),l=this.containingModuleHasExportAssignment,this.containingModuleHasExportAssignment=n.ArrayUtilities.any(t.moduleElements.toArray(),function(n){return n.kind()===134}),f=this.visitSyntaxList(t.moduleElements),this.isParsingAmbientModule=c,this.containingModuleHasExportAssignment=l,a=this.position,this.movePast(t.closeBraceToken),h=new n.ASTSpan,this.setSpan(h,a,t.closeBraceToken),u=s.length-1;u>=0;u--)v=s[u],i=new n.ModuleDeclaration(v,f,h),this.setSpan(i,r,t),i.preComments=e,i.postComments=o,e=null,o=null,u?i.setModuleFlags(i.getModuleFlags()|1):!this.containingModuleHasExportAssignment&&(n.SyntaxUtilities.containsToken(t.modifiers,47)||this.isParsingAmbientModule)&&i.setModuleFlags(i.getModuleFlags()|1),f=new n.ASTList,f.append(i);return n.SyntaxUtilities.containsToken(t.modifiers,64)||this.isParsingAmbientModule||this.isParsingDeclareFile?i.setModuleFlags(i.getModuleFlags()|8):i.setModuleFlags(i.getModuleFlags()&-9),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.hasDotDotDotParameter=function(n){for(var t=0,i=n.nonSeparatorCount();t<i;t++)if(n.nonSeparatorAt(t).dotDotDotToken)return!0;return!1},r.prototype.visitFunctionDeclaration=function(t){var r,i,u,f,e;if(this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i)this.movePast(t);else{u=this.convertNodeLeadingComments(t,r);f=this.convertNodeTrailingComments(t,r);this.moveTo(t,t.identifier);e=this.identifierFromToken(t.identifier,!1,!0);this.movePast(t.identifier);var o=t.callSignature.typeParameterList===null?null:t.callSignature.typeParameterList.accept(this),s=t.callSignature.parameterList.accept(this),h=t.callSignature.typeAnnotation?t.callSignature.typeAnnotation.accept(this):null,c=t.block?t.block.accept(this):null;this.movePast(t.semicolonToken);i=new n.FunctionDeclaration(e,c,!1,o,s,12);i.preComments=u;i.postComments=f;i.variableArgList=this.hasDotDotDotParameter(t.callSignature.parameterList.parameters);i.returnTypeAnnotation=h;t.semicolonToken&&i.setFunctionFlags(i.getFunctionFlags()|128)}return!this.containingModuleHasExportAssignment&&(n.SyntaxUtilities.containsToken(t.modifiers,47)||this.isParsingAmbientModule)?i.setFunctionFlags(i.getFunctionFlags()|1):i.setFunctionFlags(i.getFunctionFlags()&-2),n.SyntaxUtilities.containsToken(t.modifiers,64)||this.isParsingAmbientModule||this.isParsingDeclareFile?i.setFunctionFlags(i.getFunctionFlags()|8):i.setFunctionFlags(i.getFunctionFlags()&-9),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitEnumDeclaration=function(t){var v,f,nt,e,r,h,p,i,w,tt,c,b,k,l,it,d,u;this.assertElementAtPosition(t);var a=this.position,rt=this.convertNodeLeadingComments(t,a),ut=this.convertNodeTrailingComments(t,a);this.moveTo(t,t.identifier);v=this.identifierFromToken(t.identifier,!1,!0);this.movePast(t.identifier);this.movePast(t.openBraceToken);var g=new n.ASTList,o=null,y=[],s;for(f=0,nt=t.enumElements.childCount();f<nt;f++)if(f%2==1)this.movePast(t.enumElements.childAt(f));else{if(e=t.enumElements.childAt(f),r=null,s=this.identifierFromToken(e.propertyName,!1,!0),this.movePast(e.propertyName),e.equalsValueClause!==null&&(r=e.equalsValueClause.accept(this),o=null),h=this.position,r===null&&(o===null?(r=new n.NumberLiteral(0,"0"),o=r):(p=o.value+1,r=new n.NumberLiteral(p,p.toString()),o=r)),i=new n.VariableDeclarator(s),i.init=r,i.isImplicitlyInitialized=e.equalsValueClause===null,i.typeExpr=new n.TypeReference(this.createRef(v.actualText,-1),0),i.setVarFlags(i.getVarFlags()|256),this.setSpanExplicit(i,h,this.position),r.nodeType===7)i.setVarFlags(i.getVarFlags()|4096);else if(r.nodeType===69)w=r,w.operand1.nodeType===7&&w.operand2.nodeType===7&&i.setVarFlags(i.getVarFlags()|4096);else if(r.nodeType===20)for(tt=r,c=0;c<y.length;c++)if(s=y[c],s.text===tt.text){i.setVarFlags(i.getVarFlags()|4096);break}b=new n.ASTList;b.append(i);k=new n.VariableDeclaration(b);this.setSpanExplicit(k,h,this.position);l=new n.VariableStatement(k);l.setFlags(16);this.setSpanExplicit(l,h,this.position);g.append(l);y.push(s);i.setVarFlags(i.getVarFlags()|1)}return it=this.position,this.movePast(t.closeBraceToken),d=new n.ASTSpan,this.setSpan(d,it,t.closeBraceToken),u=new n.ModuleDeclaration(v,g,d),this.setSpan(u,a,t),u.preComments=rt,u.postComments=ut,u.setModuleFlags(u.getModuleFlags()|128),!this.containingModuleHasExportAssignment&&(n.SyntaxUtilities.containsToken(t.modifiers,47)||this.isParsingAmbientModule)&&u.setModuleFlags(u.getModuleFlags()|1),u},r.prototype.visitEnumElement=function(){throw n.Errors.invalidOperation();},r.prototype.visitImportDeclaration=function(t){var r,i,u,f,e,o;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(u=this.convertNodeLeadingComments(t,r),f=this.convertNodeTrailingComments(t,r),this.moveTo(t,t.identifier),e=this.identifierFromToken(t.identifier,!1,!0),this.movePast(t.identifier),this.movePast(t.equalsToken),o=t.moduleReference.accept(this),this.movePast(t.semicolonToken),i=new n.ImportDeclaration(e,o),i.preComments=u,i.postComments=f,i.isDynamicImport=t.moduleReference.kind()===245),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitExportAssignment=function(t){var r,i,u;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(this.moveTo(t,t.identifier),u=this.identifierFromToken(t.identifier,!1,!0),this.movePast(t.identifier),this.movePast(t.semicolonToken),i=new n.ExportAssignment(u)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitVariableStatement=function(t){var f,e,u,r,s,i,o;for(this.assertElementAtPosition(t),f=this.position,e=null,t.modifiers.childCount()>0&&(e=this.convertTokenLeadingComments(t.modifiers.firstToken(),f)),this.moveTo(t,t.variableDeclaration),u=t.variableDeclaration.accept(this),this.movePast(t.semicolonToken),r=0,s=u.declarators.members.length;r<s;r++)i=u.declarators.members[r],r===0&&(i.preComments=this.mergeComments(e,i.preComments)),!this.containingModuleHasExportAssignment&&(n.SyntaxUtilities.containsToken(t.modifiers,47)||this.isParsingAmbientModule)?i.setVarFlags(i.getVarFlags()|1):i.setVarFlags(i.getVarFlags()&-2),n.SyntaxUtilities.containsToken(t.modifiers,64)||this.isParsingAmbientModule||this.isParsingDeclareFile?i.setVarFlags(i.getVarFlags()|8):i.setVarFlags(i.getVarFlags()&-9);return o=new n.VariableStatement(u),this.setSpan(o,f,t),o},r.prototype.visitVariableDeclaration=function(t){var r,i,f;this.assertElementAtPosition(t);var u=this.position,e=this.convertNodeLeadingComments(t,u),o=this.convertNodeTrailingComments(t,u);for(this.moveTo(t,t.variableDeclarators),r=this.visitSeparatedSyntaxList(t.variableDeclarators),i=0;i<r.members.length;i++)i===0&&(r.members[i].preComments=e,r.members[i].postComments=o);return f=new n.VariableDeclaration(r),this.setSpan(f,u,t),f},r.prototype.visitVariableDeclarator=function(t){var f,u,e;this.assertElementAtPosition(t);f=this.position;u=this.identifierFromToken(t.identifier,!1,!0);this.movePast(t.identifier);var o=t.typeAnnotation?t.typeAnnotation.accept(this):null,i=t.equalsValueClause?t.equalsValueClause.accept(this):null,r=new n.VariableDeclarator(u);return this.setSpan(r,f,t),r.typeExpr=o,r.init=i,i&&i.nodeType===12&&(e=i,e.hint=u.actualText),r},r.prototype.visitEqualsValueClause=function(n){this.assertElementAtPosition(n);this.previousTokenTrailingComments=this.convertTokenTrailingComments(n.equalsToken,this.position+n.equalsToken.leadingTriviaWidth()+n.equalsToken.width());this.movePast(n.equalsToken);var t=n.value.accept(this);return this.previousTokenTrailingComments=null,t},r.prototype.getUnaryExpressionNodeType=function(t){switch(t){case 163:return 26;case 164:return 27;case 165:return 72;case 166:return 73;case 167:return 74;case 168:return 75;default:throw n.Errors.invalidOperation();}},r.prototype.visitPrefixUnaryExpression=function(t){var r,i,u;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(this.movePast(t.operatorToken),u=t.operand.accept(this),i=new n.UnaryExpression(this.getUnaryExpressionNodeType(t.kind()),u)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.isOnSingleLine=function(n,t){return this.lineMap.getLineNumberFromPosition(n)===this.lineMap.getLineNumberFromPosition(t)},r.prototype.visitArrayLiteralExpression=function(t){var u,i,f,r,e;return this.assertElementAtPosition(t),u=this.position,i=this.getAST(t),i?this.movePast(t):(f=this.position+t.openBracketToken.leadingTriviaWidth(),this.movePast(t.openBracketToken),r=this.visitSeparatedSyntaxList(t.expressions),e=this.position+t.closeBracketToken.leadingTriviaWidth(),this.movePast(t.closeBracketToken),n.Debug.assert(r!==null),i=new n.UnaryExpression(21,r),this.isOnSingleLine(f,e)&&i.setFlags(i.getFlags()|2)),this.setAST(t,i),this.setSpan(i,u,t),i},r.prototype.visitOmittedExpression=function(t){this.assertElementAtPosition(t);var r=this.position,i=this.getAST(t);return i?this.movePast(t):i=new n.OmittedExpression,this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitParenthesizedExpression=function(t){var r,i,u;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(this.movePast(t.openParenToken),u=t.expression.accept(this),this.movePast(t.closeParenToken),i=new n.ParenthesizedExpression(u)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.getArrowFunctionStatements=function(t){var u;if(t.kind()===145)return t.accept(this);var i=new n.ASTList,r=t.accept(this),f=new n.ReturnStatement(r);return f.preComments=r.preComments,r.preComments=null,i.append(f),u=new n.Block(i),u.closeBraceSpan=i.members[0],u},r.prototype.visitSimpleArrowFunctionExpression=function(t){var e,i,r,u,f,o;return this.assertElementAtPosition(t),e=this.position,i=this.getAST(t),i?this.movePast(t):(r=this.identifierFromToken(t.identifier,!1,!0),this.movePast(t.identifier),this.movePast(t.equalsGreaterThanToken),u=new n.ASTList,f=new n.Parameter(r),this.setSpanExplicit(f,r.minChar,r.limChar),u.append(f),o=this.getArrowFunctionStatements(t.body),i=new n.FunctionDeclaration(null,o,!1,null,u,12),i.returnTypeAnnotation=null,i.setFunctionFlags(i.getFunctionFlags()|8192),i.setFunctionFlags(i.getFunctionFlags()|2048)),this.setAST(t,i),this.setSpan(i,e,t),i},r.prototype.visitParenthesizedArrowFunctionExpression=function(t){var r,i,u;if(this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i)this.movePast(t);else{var f=this.convertNodeLeadingComments(t,r),e=t.callSignature.typeParameterList===null?null:t.callSignature.typeParameterList.accept(this),o=t.callSignature.parameterList.accept(this),s=t.callSignature.typeAnnotation?t.callSignature.typeAnnotation.accept(this):null;this.movePast(t.equalsGreaterThanToken);u=this.getArrowFunctionStatements(t.body);i=new n.FunctionDeclaration(null,u,!1,e,o,12);i.preComments=f;i.returnTypeAnnotation=s;i.setFunctionFlags(i.getFunctionFlags()|8192);i.setFunctionFlags(i.getFunctionFlags()|2048);i.variableArgList=this.hasDotDotDotParameter(t.callSignature.parameterList.parameters)}return this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitType=function(t){var i,r;return this.assertElementAtPosition(t),t.isToken()?(r=this.position,i=new n.TypeReference(t.accept(this),0),this.setSpan(i,r,t)):i=t.accept(this),n.Debug.assert(i.nodeType===11),i},r.prototype.visitQualifiedName=function(t){var r,i,f,e,u;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(f=this.visitType(t.left).term,this.movePast(t.dotToken),e=this.identifierFromToken(t.right,!1,!0),this.movePast(t.right),u=new n.BinaryExpression(32,f,e),this.setSpan(u,r,t),i=new n.TypeReference(u,0)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitTypeArgumentList=function(t){var r,u,i,f;for(this.assertElementAtPosition(t),r=new n.ASTList,this.movePast(t.lessThanToken),u=this.position,i=0,f=t.typeArguments.childCount();i<f;i++)i%2==1?this.movePast(t.typeArguments.childAt(i)):r.append(this.visitType(t.typeArguments.childAt(i)));return this.movePast(t.greaterThanToken),this.setSpan(r,u,t.typeArguments),r},r.prototype.visitConstructorType=function(t){var u,r,f,e,o,i;return this.assertElementAtPosition(t),u=this.position,r=this.getAST(t),r?this.movePast(t):(this.movePast(t.newKeyword),f=t.typeParameterList===null?null:t.typeParameterList.accept(this),e=t.parameterList.accept(this),this.movePast(t.equalsGreaterThanToken),o=t.type?this.visitType(t.type):null,i=new n.FunctionDeclaration(null,null,!1,f,e,12),this.setSpan(i,u,t),i.returnTypeAnnotation=o,i.setFunctionFlags(i.getFunctionFlags()|128),i.variableArgList=this.hasDotDotDotParameter(t.parameterList.parameters),i.setFunctionFlags(i.getFunctionFlags()|1024),i.setFlags(i.getFlags()|8),i.hint="_construct",i.classDecl=null,r=new n.TypeReference(i,0)),this.setAST(t,r),this.setSpan(r,u,t),r},r.prototype.visitFunctionType=function(t){var u,r,f,e,o,i;return this.assertElementAtPosition(t),u=this.position,r=this.getAST(t),r?this.movePast(t):(f=t.typeParameterList===null?null:t.typeParameterList.accept(this),e=t.parameterList.accept(this),this.movePast(t.equalsGreaterThanToken),o=t.type?this.visitType(t.type):null,i=new n.FunctionDeclaration(null,null,!1,f,e,12),this.setSpan(i,u,t),i.returnTypeAnnotation=o,i.setFlags(i.getFunctionFlags()|128),i.setFlags(i.getFlags()|8),i.variableArgList=this.hasDotDotDotParameter(t.parameterList.parameters),r=new n.TypeReference(i,0)),this.setAST(t,r),this.setSpan(r,u,t),r},r.prototype.visitObjectType=function(t){var u,i,f,r;return this.assertElementAtPosition(t),u=this.position,i=this.getAST(t),i?this.movePast(t):(this.movePast(t.openBraceToken),f=this.visitSeparatedSyntaxList(t.typeMembers),this.movePast(t.closeBraceToken),r=new n.InterfaceDeclaration(new n.Identifier("__anonymous"),null,f,null,null),this.setSpan(r,u,t),r.setFlags(r.getFlags()|8),i=new n.TypeReference(r,0)),this.setAST(t,i),this.setSpan(i,u,t),i},r.prototype.visitArrayType=function(t){var u,i,r;return this.assertElementAtPosition(t),u=this.position,i=this.getAST(t),i?this.movePast(t):(r=this.visitType(t.type),this.movePast(t.openBracketToken),this.movePast(t.closeBracketToken),r.nodeType===11?(i=r,i.arrayCount++):i=new n.TypeReference(r,1),i.setFlags(i.getFlags()|8)),this.setAST(t,i),this.setSpan(i,u,t),i},r.prototype.visitGenericType=function(t){var u,i;if(this.assertElementAtPosition(t),u=this.position,i=this.getAST(t),i)this.movePast(t);else{var f=this.visitType(t.name).term,e=t.typeArgumentList.accept(this),r=new n.GenericType(f,e);this.setSpan(r,u,t);r.setFlags(r.getFlags()|8);i=new n.TypeReference(r,0)}return this.setAST(t,i),this.setSpan(i,u,t),i},r.prototype.visitTypeAnnotation=function(n){return this.assertElementAtPosition(n),this.movePast(n.colonToken),this.visitType(n.type)},r.prototype.visitBlock=function(t){var u,i,f,e,r;return this.assertElementAtPosition(t),u=this.position,i=this.getAST(t),i?this.movePast(t):(this.movePast(t.openBraceToken),f=this.visitSyntaxList(t.statements),e=this.position,this.movePast(t.closeBraceToken),r=new n.ASTSpan,this.setSpan(r,e,t.closeBraceToken),i=new n.Block(f),i.closeBraceSpan=r),this.setAST(t,i),this.setSpan(i,u,t),i},r.prototype.visitParameter=function(t){var r,i,u,f,e,o,s;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(u=this.convertNodeLeadingComments(t,r),f=this.convertNodeTrailingComments(t,r),this.moveTo(t,t.identifier),e=this.identifierFromToken(t.identifier,!!t.questionToken,!0),this.movePast(t.identifier),this.movePast(t.questionToken),o=t.typeAnnotation?t.typeAnnotation.accept(this):null,s=t.equalsValueClause?t.equalsValueClause.accept(this):null,i=new n.Parameter(e),i.preComments=u,i.postComments=f,i.isOptional=!!t.questionToken,i.init=s,i.typeExpr=o,t.publicOrPrivateKeyword&&(i.setVarFlags(i.getVarFlags()|256),t.publicOrPrivateKeyword.kind()===57?i.setVarFlags(i.getVarFlags()|4):i.setVarFlags(i.getVarFlags()|2)),(t.equalsValueClause||t.dotDotDotToken)&&i.setFlags(i.getFlags()|4)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitMemberAccessExpression=function(t){var r,i,u,f;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(u=t.expression.accept(this),this.movePast(t.dotToken),f=this.identifierFromToken(t.name,!1,!0),this.movePast(t.name),i=new n.BinaryExpression(32,u,f)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitPostfixUnaryExpression=function(t){var r,i,u;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(u=t.operand.accept(this),this.movePast(t.operatorToken),i=new n.UnaryExpression(t.kind()===209?76:77,u)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitElementAccessExpression=function(t){var r,i,u,f;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(u=t.expression.accept(this),this.movePast(t.openBracketToken),f=t.argumentExpression.accept(this),this.movePast(t.closeBracketToken),i=new n.BinaryExpression(35,u,f)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.convertArgumentListArguments=function(n){var r,t,i;return n===null?null:(r=this.position,this.movePast(n.openParenToken),t=this.visitSeparatedSyntaxList(n.arguments),n.arguments.fullWidth()===0&&n.closeParenToken.fullWidth()===0&&(i=r+n.openParenToken.leadingTriviaWidth()+n.openParenToken.width(),this.setSpanExplicit(t,i,i+n.openParenToken.trailingTriviaWidth())),this.movePast(n.closeParenToken),t)},r.prototype.visitInvocationExpression=function(t){var r,i;if(this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i)this.movePast(t);else{var u=t.expression.accept(this),f=t.argumentList.typeArgumentList!==null?t.argumentList.typeArgumentList.accept(this):null,e=this.convertArgumentListArguments(t.argumentList);i=new n.CallExpression(36,u,f,e)}return this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitArgumentList=function(){throw n.Errors.invalidOperation();},r.prototype.getBinaryExpressionNodeType=function(t){switch(t.kind()){case 172:return 25;case 173:return 38;case 174:return 39;case 175:return 40;case 176:return 42;case 177:return 41;case 178:return 43;case 179:return 44;case 180:return 45;case 181:return 46;case 182:return 47;case 183:return 48;case 184:return 49;case 186:return 51;case 187:return 52;case 188:return 53;case 189:return 54;case 190:return 55;case 191:return 56;case 192:return 57;case 193:return 58;case 194:return 59;case 195:return 60;case 196:return 62;case 197:return 61;case 198:return 63;case 199:return 33;case 200:return 31;case 201:return 69;case 202:return 70;case 203:return 71;case 204:return 66;case 205:return 67;case 206:return 68;case 207:return 64;case 208:return 65}throw n.Errors.invalidOperation();},r.prototype.visitBinaryExpression=function(t){var f,i,e,r,u;if(this.assertElementAtPosition(t),f=this.position,i=this.getAST(t),i)this.movePast(t);else if(e=this.getBinaryExpressionNodeType(t),r=t.left.accept(this),this.movePast(t.operatorToken),u=t.right.accept(this),i=new n.BinaryExpression(e,r,u),u.nodeType===12){var o=r.nodeType===32?r.operand2:r,s=o.nodeType===20?o.actualText:null,h=u;h.hint=s}return this.setAST(t,i),this.setSpan(i,f,t),i},r.prototype.visitConditionalExpression=function(t){var r,i,u,f,e;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(u=t.condition.accept(this),this.movePast(t.questionToken),f=t.whenTrue.accept(this),this.movePast(t.colonToken),e=t.whenFalse.accept(this),i=new n.ConditionalExpression(u,f,e)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitConstructSignature=function(t){var r,i,u;if(this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i)this.movePast(t);else{u=this.convertNodeLeadingComments(t,r);this.movePast(t.newKeyword);var f=t.callSignature.typeParameterList===null?null:t.callSignature.typeParameterList.accept(this),e=t.callSignature.parameterList.accept(this),o=t.callSignature.typeAnnotation?t.callSignature.typeAnnotation.accept(this):null;i=new n.FunctionDeclaration(null,null,!1,f,e,12);i.preComments=u;i.returnTypeAnnotation=o;i.hint="_construct";i.setFunctionFlags(i.getFunctionFlags()|1024);i.setFunctionFlags(i.getFunctionFlags()|256);i.setFunctionFlags(i.getFunctionFlags()|128);i.variableArgList=this.hasDotDotDotParameter(t.callSignature.parameterList.parameters)}return this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitMethodSignature=function(t){var r,i,u,f;if(this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i)this.movePast(t);else{u=this.convertNodeLeadingComments(t,r);f=this.identifierFromToken(t.propertyName,!!t.questionToken,!0);this.movePast(t.propertyName);this.movePast(t.questionToken);var e=t.callSignature.typeParameterList?t.callSignature.typeParameterList.accept(this):null,o=t.callSignature.parameterList.accept(this),s=t.callSignature.typeAnnotation?t.callSignature.typeAnnotation.accept(this):null;i=new n.FunctionDeclaration(f,null,!1,e,o,12);i.preComments=u;i.variableArgList=this.hasDotDotDotParameter(t.callSignature.parameterList.parameters);i.returnTypeAnnotation=s;i.setFunctionFlags(i.getFunctionFlags()|256);i.setFunctionFlags(i.getFunctionFlags()|128)}return this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitIndexSignature=function(t){var r,i,e,o,s,u,f;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(e=this.convertNodeLeadingComments(t,r),this.movePast(t.openBracketToken),o=t.parameter.accept(this),this.movePast(t.closeBracketToken),s=t.typeAnnotation?t.typeAnnotation.accept(this):null,u=new n.Identifier("__item"),this.setSpanExplicit(u,r,r),f=new n.ASTList,f.append(o),i=new n.FunctionDeclaration(u,null,!1,null,f,12),i.preComments=e,i.variableArgList=!1,i.returnTypeAnnotation=s,i.setFunctionFlags(i.getFunctionFlags()|4096),i.setFunctionFlags(i.getFunctionFlags()|256),i.setFunctionFlags(i.getFunctionFlags()|128)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitPropertySignature=function(t){var r,i,u,f,e;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(u=this.convertNodeLeadingComments(t,r),f=this.identifierFromToken(t.propertyName,!!t.questionToken,!0),this.movePast(t.propertyName),this.movePast(t.questionToken),e=t.typeAnnotation?t.typeAnnotation.accept(this):null,i=new n.VariableDeclarator(f),i.preComments=u,i.typeExpr=e,i.setVarFlags(i.getVarFlags()|256)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitParameterList=function(n){var i,t,r;return this.assertElementAtPosition(n),i=this.position,t=n.openParenToken,this.previousTokenTrailingComments=this.convertTokenTrailingComments(t,i+t.leadingTriviaWidth()+t.width()),this.movePast(n.openParenToken),r=this.visitSeparatedSyntaxList(n.parameters),this.movePast(n.closeParenToken),r},r.prototype.visitCallSignature=function(t){var r,i;if(this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i)this.movePast(t);else{var u=this.convertNodeLeadingComments(t,r),f=t.typeParameterList===null?null:t.typeParameterList.accept(this),e=t.parameterList.accept(this),o=t.typeAnnotation?t.typeAnnotation.accept(this):null;i=new n.FunctionDeclaration(null,null,!1,f,e,12);i.preComments=u;i.variableArgList=this.hasDotDotDotParameter(t.parameterList.parameters);i.returnTypeAnnotation=o;i.hint="_call";i.setFunctionFlags(i.getFunctionFlags()|512);i.setFunctionFlags(i.getFunctionFlags()|256);i.setFunctionFlags(i.getFunctionFlags()|128)}return this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitTypeParameterList=function(n){this.assertElementAtPosition(n);this.movePast(n.lessThanToken);var t=this.visitSeparatedSyntaxList(n.typeParameters);return this.movePast(n.greaterThanToken),t},r.prototype.visitTypeParameter=function(t){var r,i,u,f;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(u=this.identifierFromToken(t.identifier,!1,!0),this.movePast(t.identifier),f=t.constraint?t.constraint.accept(this):null,i=new n.TypeParameter(u,f)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitConstraint=function(n){return this.assertElementAtPosition(n),this.movePast(n.extendsKeyword),this.visitType(n.type)},r.prototype.visitIfStatement=function(t){var r,i,u,f,e;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(this.moveTo(t,t.condition),u=t.condition.accept(this),this.movePast(t.closeParenToken),f=t.statement.accept(this),e=t.elseClause?t.elseClause.accept(this):null,i=new n.IfStatement(u,f,e)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitElseClause=function(n){return this.assertElementAtPosition(n),this.movePast(n.elseKeyword),n.statement.accept(this)},r.prototype.visitExpressionStatement=function(t){var r,i;if(this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i)this.movePast(t);else{var u=this.convertNodeLeadingComments(t,r),f=this.convertNodeTrailingComments(t,r),e=t.expression.accept(this);this.movePast(t.semicolonToken);i=new n.ExpressionStatement(e);i.preComments=u;i.postComments=f}return this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitConstructorDeclaration=function(t){var r,i,u,f,e,o;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(u=this.convertNodeLeadingComments(t,r),f=this.convertNodeTrailingComments(t,r),this.moveTo(t,t.parameterList),e=t.parameterList.accept(this),o=t.block?t.block.accept(this):null,this.movePast(t.semicolonToken),i=new n.FunctionDeclaration(null,o,!0,null,e,12),i.preComments=u,i.postComments=f,i.variableArgList=this.hasDotDotDotParameter(t.parameterList.parameters),t.semicolonToken&&i.setFunctionFlags(i.getFunctionFlags()|128)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitMemberFunctionDeclaration=function(t){var r,i,u,f,e;if(this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i)this.movePast(t);else{u=this.convertNodeLeadingComments(t,r);f=this.convertNodeTrailingComments(t,r);this.moveTo(t,t.propertyName);e=this.identifierFromToken(t.propertyName,!1,!0);this.movePast(t.propertyName);var o=t.callSignature.typeParameterList===null?null:t.callSignature.typeParameterList.accept(this),s=t.callSignature.parameterList.accept(this),h=t.callSignature.typeAnnotation?t.callSignature.typeAnnotation.accept(this):null,c=t.block?t.block.accept(this):null;this.movePast(t.semicolonToken);i=new n.FunctionDeclaration(e,c,!1,o,s,12);i.preComments=u;i.postComments=f;i.variableArgList=this.hasDotDotDotParameter(t.callSignature.parameterList.parameters);i.returnTypeAnnotation=h;t.semicolonToken&&i.setFunctionFlags(i.getFunctionFlags()|128);n.SyntaxUtilities.containsToken(t.modifiers,55)?i.setFunctionFlags(i.getFunctionFlags()|2):i.setFunctionFlags(i.getFunctionFlags()|4);n.SyntaxUtilities.containsToken(t.modifiers,58)&&i.setFunctionFlags(i.getFunctionFlags()|16);i.setFunctionFlags(i.getFunctionFlags()|256)}return this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitMemberAccessorDeclaration=function(t,i){var u,r,f,e,o;if(this.assertElementAtPosition(t),u=this.position,r=this.getAST(t),r)this.movePast(t);else{f=this.convertNodeLeadingComments(t,u);e=this.convertNodeTrailingComments(t,u);this.moveTo(t,t.propertyName);o=this.identifierFromToken(t.propertyName,!1,!0);this.movePast(t.propertyName);var s=t.parameterList.accept(this),h=i?i.accept(this):null,c=t.block?t.block.accept(this):null;r=new n.FunctionDeclaration(o,c,!1,null,s,12);r.preComments=f;r.postComments=e;r.variableArgList=this.hasDotDotDotParameter(t.parameterList.parameters);r.returnTypeAnnotation=h;n.SyntaxUtilities.containsToken(t.modifiers,55)?r.setFunctionFlags(r.getFunctionFlags()|2):r.setFunctionFlags(r.getFunctionFlags()|4);n.SyntaxUtilities.containsToken(t.modifiers,58)&&r.setFunctionFlags(r.getFunctionFlags()|16);r.setFunctionFlags(r.getFunctionFlags()|256)}return this.setAST(t,r),this.setSpan(r,u,t),r},r.prototype.visitGetMemberAccessorDeclaration=function(n){this.assertElementAtPosition(n);var t=this.visitMemberAccessorDeclaration(n,n.typeAnnotation);return t.setFunctionFlags(t.getFunctionFlags()|32),t.hint="get"+t.name.actualText,t},r.prototype.visitSetMemberAccessorDeclaration=function(n){this.assertElementAtPosition(n);var t=this.visitMemberAccessorDeclaration(n,null);return t.setFunctionFlags(t.getFunctionFlags()|64),t.hint="set"+t.name.actualText,t},r.prototype.visitMemberVariableDeclaration=function(t){var r,i,u,f,e,o,s;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(u=this.convertNodeLeadingComments(t,r),f=this.convertNodeTrailingComments(t,r),this.moveTo(t,t.variableDeclarator),this.moveTo(t.variableDeclarator,t.variableDeclarator.identifier),e=this.identifierFromToken(t.variableDeclarator.identifier,!1,!0),this.movePast(t.variableDeclarator.identifier),o=t.variableDeclarator.typeAnnotation?t.variableDeclarator.typeAnnotation.accept(this):null,s=t.variableDeclarator.equalsValueClause?t.variableDeclarator.equalsValueClause.accept(this):null,this.movePast(t.semicolonToken),i=new n.VariableDeclarator(e),i.preComments=u,i.postComments=f,i.typeExpr=o,i.init=s,n.SyntaxUtilities.containsToken(t.modifiers,58)&&i.setVarFlags(i.getVarFlags()|16),n.SyntaxUtilities.containsToken(t.modifiers,55)?i.setVarFlags(i.getVarFlags()|2):i.setVarFlags(i.getVarFlags()|4),i.setVarFlags(i.getVarFlags()|2048)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitThrowStatement=function(t){var r,i,u;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(this.movePast(t.throwKeyword),u=t.expression.accept(this),this.movePast(t.semicolonToken),i=new n.ThrowStatement(u)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitReturnStatement=function(t){var r,i,u,f,e;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(u=this.convertNodeLeadingComments(t,r),f=this.convertNodeTrailingComments(t,r),this.movePast(t.returnKeyword),e=t.expression?t.expression.accept(this):null,this.movePast(t.semicolonToken),i=new n.ReturnStatement(e),i.preComments=u,i.postComments=f),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitObjectCreationExpression=function(t){var e,i,f,u;if(this.assertElementAtPosition(t),e=this.position,i=this.getAST(t),i)this.movePast(t);else{this.movePast(t.newKeyword);var r=t.expression.accept(this),o=t.argumentList===null||t.argumentList.typeArgumentList===null?null:t.argumentList.typeArgumentList.accept(this),s=this.convertArgumentListArguments(t.argumentList);i=new n.CallExpression(37,r,o,s);r.nodeType===11&&(f=r,f.arrayCount===0&&(u=f.term,(u.nodeType===32||u.nodeType===20)&&(r=u)))}return this.setAST(t,i),this.setSpan(i,e,t),i},r.prototype.visitSwitchStatement=function(t){var u,i,o,s,r,h,f,e;if(this.assertElementAtPosition(t),u=this.position,i=this.getAST(t),i)this.movePast(t);else{for(this.movePast(t.switchKeyword),this.movePast(t.openParenToken),o=t.expression.accept(this),this.movePast(t.closeParenToken),s=this.position,this.movePast(t.openBraceToken),i=new n.SwitchStatement(o),i.statement.minChar=u,i.statement.limChar=s,i.caseList=new n.ASTList,r=0,h=t.switchClauses.childCount();r<h;r++)f=t.switchClauses.childAt(r),e=f.accept(this),f.kind()===232&&(i.defaultCase=e),i.caseList.append(e);this.movePast(t.closeBraceToken)}return this.setAST(t,i),this.setSpan(i,u,t),i},r.prototype.visitCaseSwitchClause=function(t){var r,i,u,f;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(this.movePast(t.caseKeyword),u=t.expression.accept(this),this.movePast(t.colonToken),f=this.visitSyntaxList(t.statements),i=new n.CaseClause,i.expr=u,i.body=f),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitDefaultSwitchClause=function(t){var r,i,u;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(this.movePast(t.defaultKeyword),this.movePast(t.colonToken),u=this.visitSyntaxList(t.statements),i=new n.CaseClause,i.body=u),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitBreakStatement=function(t){this.assertElementAtPosition(t);var r=this.position,i=this.getAST(t);return i?this.movePast(t):(this.movePast(t.breakKeyword),this.movePast(t.identifier),this.movePast(t.semicolonToken),i=new n.Jump(82),t.identifier!==null&&(i.target=t.identifier.valueText())),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitContinueStatement=function(t){this.assertElementAtPosition(t);var r=this.position,i=this.getAST(t);return i?this.movePast(t):(this.movePast(t.continueKeyword),this.movePast(t.identifier),this.movePast(t.semicolonToken),i=new n.Jump(83),t.identifier!==null&&(i.target=t.identifier.valueText())),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitForStatement=function(t){var r,i,u,f,e,o;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(this.movePast(t.forKeyword),this.movePast(t.openParenToken),u=t.variableDeclaration?t.variableDeclaration.accept(this):t.initializer?t.initializer.accept(this):null,this.movePast(t.firstSemicolonToken),f=t.condition?t.condition.accept(this):null,this.movePast(t.secondSemicolonToken),e=t.incrementor?t.incrementor.accept(this):null,this.movePast(t.closeParenToken),o=t.statement.accept(this),i=new n.ForStatement(u,f,e,o)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitForInStatement=function(t){var r,i,u,f,e;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(this.movePast(t.forKeyword),this.movePast(t.openParenToken),u=t.variableDeclaration?t.variableDeclaration.accept(this):t.left.accept(this),this.movePast(t.inKeyword),f=t.expression.accept(this),this.movePast(t.closeParenToken),e=t.statement.accept(this),i=new n.ForInStatement(u,f,e)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitWhileStatement=function(t){var r,i,u,f;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(this.moveTo(t,t.condition),u=t.condition.accept(this),this.movePast(t.closeParenToken),f=t.statement.accept(this),i=new n.WhileStatement(u,f)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitWithStatement=function(t){var r,i,u,f;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(this.moveTo(t,t.condition),u=t.condition.accept(this),this.movePast(t.closeParenToken),f=t.statement.accept(this),i=new n.WithStatement(u,f)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitCastExpression=function(t){var r,i,u,f;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(this.movePast(t.lessThanToken),u=this.visitType(t.type),this.movePast(t.greaterThanToken),f=t.expression.accept(this),i=new n.UnaryExpression(78,f),i.castTerm=u),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitObjectLiteralExpression=function(t){var r,i,u,f,e,o;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(u=this.convertNodeLeadingComments(t,r),f=this.position+t.openBraceToken.leadingTriviaWidth(),this.movePast(t.openBraceToken),e=this.visitSeparatedSyntaxList(t.propertyAssignments),o=this.position+t.closeBraceToken.leadingTriviaWidth(),this.movePast(t.closeBraceToken),i=new n.UnaryExpression(22,e),i.preComments=u,this.isOnSingleLine(f,o)&&i.setFlags(i.getFlags()|2)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitSimplePropertyAssignment=function(t){var u,i,e,f,r,o;return this.assertElementAtPosition(t),u=this.position,i=this.getAST(t),i?this.movePast(t):(e=this.convertNodeLeadingComments(t,u),f=t.propertyName.accept(this),this.previousTokenTrailingComments=this.convertTokenTrailingComments(t.colonToken,this.position+t.colonToken.leadingTriviaWidth()+t.colonToken.width()),this.movePast(t.colonToken),r=t.expression.accept(this),i=new n.BinaryExpression(80,f,r),i.preComments=e,r.nodeType===12&&(o=r,o.hint=f.text)),this.setAST(t,i),this.setSpan(i,u,t),i},r.prototype.visitFunctionPropertyAssignment=function(t){var u,i;if(this.assertElementAtPosition(t),u=this.position,i=this.getAST(t),i)this.movePast(t);else{var f=t.propertyName.accept(this),r=t.callSignature.accept(this),e=t.block.accept(this);r.hint=f.text;r.block=e;r.setFunctionFlags(16384);i=new n.BinaryExpression(80,f,r)}return this.setAST(t,i),this.setSpan(i,u,t),i},r.prototype.visitGetAccessorPropertyAssignment=function(t){var u,r,f,e;if(this.assertElementAtPosition(t),u=this.position,r=this.getAST(t),r)this.movePast(t);else{this.moveTo(t,t.propertyName);f=this.identifierFromToken(t.propertyName,!1,!0);e=this.identifierFromToken(t.propertyName,!1,!0);this.movePast(t.propertyName);this.movePast(t.openParenToken);this.movePast(t.closeParenToken);var o=t.typeAnnotation?t.typeAnnotation.accept(this):null,s=t.block?t.block.accept(this):null,i=new n.FunctionDeclaration(e,s,!1,null,new n.ASTList,12);this.setSpan(i,u,t);i.setFunctionFlags(i.getFunctionFlags()|32);i.setFunctionFlags(i.getFunctionFlags()|8192);i.hint="get"+t.propertyName.valueText();i.returnTypeAnnotation=o;r=new n.BinaryExpression(80,f,i)}return this.setAST(t,r),this.setSpan(r,u,t),r},r.prototype.visitSetAccessorPropertyAssignment=function(t){var u,r,e,o,s,f,h,i;return this.assertElementAtPosition(t),u=this.position,r=this.getAST(t),r?this.movePast(t):(this.moveTo(t,t.propertyName),e=this.identifierFromToken(t.propertyName,!1,!0),o=this.identifierFromToken(t.propertyName,!1,!0),this.movePast(t.propertyName),this.movePast(t.openParenToken),s=t.parameter.accept(this),this.movePast(t.closeParenToken),f=new n.ASTList,f.append(s),h=t.block?t.block.accept(this):null,i=new n.FunctionDeclaration(o,h,!1,null,f,12),this.setSpan(i,u,t),i.setFunctionFlags(i.getFunctionFlags()|64),i.setFunctionFlags(i.getFunctionFlags()|8192),i.hint="set"+t.propertyName.valueText(),r=new n.BinaryExpression(80,e,i)),this.setAST(t,r),this.setSpan(r,u,t),r},r.prototype.visitFunctionExpression=function(t){var r,i,u,f;if(this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i)this.movePast(t);else{u=this.convertNodeLeadingComments(t,r);this.movePast(t.functionKeyword);f=t.identifier===null?null:this.identifierFromToken(t.identifier,!1,!0);this.movePast(t.identifier);var e=t.callSignature.typeParameterList===null?null:t.callSignature.typeParameterList.accept(this),o=t.callSignature.parameterList.accept(this),s=t.callSignature.typeAnnotation?t.callSignature.typeAnnotation.accept(this):null,h=t.block?t.block.accept(this):null;i=new n.FunctionDeclaration(f,h,!1,e,o,12);i.preComments=u;i.variableArgList=this.hasDotDotDotParameter(t.callSignature.parameterList.parameters);i.returnTypeAnnotation=s;i.setFunctionFlags(i.getFunctionFlags()|8192)}return this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitEmptyStatement=function(t){this.assertElementAtPosition(t);var r=this.position,i=this.getAST(t);return i?this.movePast(t):(this.movePast(t.semicolonToken),i=new n.EmptyStatement),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitTryStatement=function(t){var f,i,e,r,u;return this.assertElementAtPosition(t),f=this.position,i=this.getAST(t),i?this.movePast(t):(this.movePast(t.tryKeyword),e=t.block.accept(this),r=null,t.catchClause!==null&&(r=t.catchClause.accept(this)),u=null,t.finallyClause!==null&&(u=t.finallyClause.accept(this)),i=new n.TryStatement(e,r,u)),n.Debug.assert(i!==null),this.setAST(t,i),this.setSpan(i,f,t),i},r.prototype.visitCatchClause=function(t){var f,i,r,e,o,u;return this.assertElementAtPosition(t),f=this.position,i=this.getAST(t),i?this.movePast(t):(this.movePast(t.catchKeyword),this.movePast(t.openParenToken),r=this.identifierFromToken(t.identifier,!1,!0),this.movePast(t.identifier),e=t.typeAnnotation?t.typeAnnotation.accept(this):null,this.movePast(t.closeParenToken),o=t.block.accept(this),u=new n.VariableDeclarator(r),this.setSpanExplicit(u,r.minChar,r.limChar),u.typeExpr=e,i=new n.CatchClause(u,o)),this.setAST(t,i),this.setSpan(i,f,t),i},r.prototype.visitFinallyClause=function(n){return this.movePast(n.finallyKeyword),n.block.accept(this)},r.prototype.visitLabeledStatement=function(t){var r,i,u,f;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(u=this.identifierFromToken(t.identifier,!1,!0),this.movePast(t.identifier),this.movePast(t.colonToken),f=t.statement.accept(this),i=new n.LabeledStatement(u,f)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitDoStatement=function(t){var u,i,f,r,e;return this.assertElementAtPosition(t),u=this.position,i=this.getAST(t),i?this.movePast(t):(this.movePast(t.doKeyword),f=t.statement.accept(this),r=new n.ASTSpan,this.setSpan(r,this.position,t.whileKeyword),this.movePast(t.whileKeyword),this.movePast(t.openParenToken),e=t.condition.accept(this),this.movePast(t.closeParenToken),this.movePast(t.semicolonToken),i=new n.DoStatement(f,e),i.whileSpan=r),this.setAST(t,i),this.setSpan(i,u,t),i},r.prototype.visitTypeOfExpression=function(t){var r,i,u;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(this.movePast(t.typeOfKeyword),u=t.expression.accept(this),i=new n.UnaryExpression(34,u)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitDeleteExpression=function(t){var r,i,u;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(this.movePast(t.deleteKeyword),u=t.expression.accept(this),i=new n.UnaryExpression(28,u)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitVoidExpression=function(t){var r,i,u;return this.assertElementAtPosition(t),r=this.position,i=this.getAST(t),i?this.movePast(t):(this.movePast(t.voidKeyword),u=t.expression.accept(this),i=new n.UnaryExpression(24,u)),this.setAST(t,i),this.setSpan(i,r,t),i},r.prototype.visitDebuggerStatement=function(t){this.assertElementAtPosition(t);var r=this.position,i=this.getAST(t);return i?this.movePast(t):(this.movePast(t.debuggerKeyword),this.movePast(t.semicolonToken),i=new n.DebuggerStatement),this.setAST(t,i),this.setSpan(i,r,t),i},r.checkPositions=!1,r.protoString="__proto__",r.protoSubstitutionString="#__proto__",r}();n.SyntaxTreeToAstVisitor=r}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(t,i,r,u,f,e,o){var s,c,h,l;this.fileName=t;this.compilationSettings=i;this.scriptSnapshot=r;this.byteOrderMark=u;this.version=f;this.isOpen=e;this._diagnostics=null;this._syntaxTree=null;this._bloomFilter=null;e?this._syntaxTree=o:this._diagnostics=o.diagnostics();s=new n.BlockIntrinsics;c=new n.IdentifierWalker(s);o.sourceUnit().accept(c);h=0;for(l in s)h++;this._bloomFilter=new n.BloomFilter(h);this._bloomFilter.addKeys(s);this.lineMap=o.lineMap();this.script=n.SyntaxTreeToAstVisitor.visit(o,t,i)}return t.prototype.diagnostics=function(){return this._diagnostics===null&&(this._diagnostics=this._syntaxTree.diagnostics()),this._diagnostics},t.prototype.syntaxTree=function(){return this._syntaxTree?this._syntaxTree:n.Parser.parse(this.fileName,n.SimpleText.fromScriptSnapshot(this.scriptSnapshot),n.isDTSFile(this.fileName),this.compilationSettings.codeGenTarget,n.getParseOptions(this.compilationSettings))},t.prototype.bloomFilter=function(){return this._bloomFilter},t.prototype.update=function(i,r,u,f,e){var c=this.script,o=this._syntaxTree,s=n.SimpleText.fromScriptSnapshot(i),h=f===null||o===null?n.Parser.parse(this.fileName,s,n.isDTSFile(this.fileName),e.codeGenTarget,n.getParseOptions(this.compilationSettings)):n.Parser.incrementalParse(o,f,s);return new t(this.fileName,this.compilationSettings,i,this.byteOrderMark,r,u,h)},t.create=function(i,r,u,f,e,o,s){var c=n.Parser.parse(i,n.SimpleText.fromScriptSnapshot(r),n.isDTSFile(i),s.codeGenTarget,n.getParseOptions(s)),h=new t(i,s,r,u,f,e,c);return h.script.referencedFiles=o,h},t}(),i;n.Document=t;n.globalSemanticInfoChain=null;n.globalBinder=null;n.globalLogger=null;i=function(){function i(t,i,r){typeof t=="undefined"&&(t=new n.NullLogger);typeof i=="undefined"&&(i=new n.CompilationSettings);typeof r=="undefined"&&(r=null);this.logger=t;this.settings=i;this.diagnosticMessages=r;this.pullTypeChecker=null;this.semanticInfoChain=null;this.fileNameToDocument=new n.StringHashTable;this.emitOptions=new n.EmitOptions(this.settings);n.globalLogger=t;this.diagnosticMessages&&(n.diagnosticMessages=this.diagnosticMessages)}return i.prototype.getDocument=function(n){return this.fileNameToDocument.lookup(n)},i.prototype.timeFunction=function(t,i){return n.timeFunction(this.logger,t,i)},i.prototype.addSourceUnit=function(n,i,r,u,f,e){typeof e=="undefined"&&(e=[]);var o=this;return this.timeFunction("addSourceUnit("+n+")",function(){var s=t.create(n,i,r,u,f,e,o.emitOptions.compilationSettings);return o.fileNameToDocument.addOrUpdate(n,s),s})},i.prototype.updateSourceUnit=function(n,t,i,r,u){var f=this;return this.timeFunction("pullUpdateUnit("+n+")",function(){var o=f.getDocument(n),e=o.update(t,i,r,u,f.settings);return f.fileNameToDocument.addOrUpdate(n,e),f.pullUpdateScript(o,e),e})},i.prototype.isDynamicModuleCompilation=function(){for(var i=this.fileNameToDocument.getAllKeys(),u,t,n=0,r=i.length;n<r;n++)if(u=this.getDocument(i[n]),t=u.script,!t.isDeclareFile&&t.topLevelMod!==null)return!0;return!1},i.prototype.updateCommonDirectoryPath=function(){for(var f=[],i=-1,e=this.fileNameToDocument.getAllKeys(),r,o,t,u=0,s=e.length;u<s;u++){var h=e[u],c=this.getDocument(e[u]),l=c.script;if(!l.isDeclareFile)if(r=n.filePathComponents(h),i===-1)f=r,i=f.length;else{for(o=!1,t=0;t<i&&t<r.length;t++)if(f[t]!==r[t]){if(i=t,o=!0,t===0)return new n.Diagnostic(null,0,0,273,null);break}!o&&r.length<i&&(i=r.length)}}return this.emitOptions.commonDirectoryPath=f.slice(0,i).join("/")+"/",this.emitOptions.compilationSettings.outputOption.charAt(this.emitOptions.compilationSettings.outputOption.length-1)!=="/"&&(this.emitOptions.compilationSettings.outputOption+="/"),null},i.prototype.parseEmitOption=function(t){return(this.emitOptions.ioHost=t,this.emitOptions.compilationSettings.outputOption==="")?(this.emitOptions.outputMany=!0,this.emitOptions.commonDirectoryPath="",null):(this.emitOptions.compilationSettings.outputOption=n.switchToForwardSlashes(this.emitOptions.ioHost.resolvePath(this.emitOptions.compilationSettings.outputOption)),this.emitOptions.outputMany=this.emitOptions.ioHost.directoryExists(this.emitOptions.compilationSettings.outputOption)?!0:this.emitOptions.ioHost.fileExists(this.emitOptions.compilationSettings.outputOption)?!1:!n.isJSFile(this.emitOptions.compilationSettings.outputOption),this.isDynamicModuleCompilation()&&!this.emitOptions.outputMany)?new n.Diagnostic(null,0,0,274,null):this.emitOptions.outputMany?this.updateCommonDirectoryPath():null},i.prototype.getScripts=function(){for(var t=[],i=this.fileNameToDocument.getAllKeys(),u,n=0,r=i.length;n<r;n++)u=this.getDocument(i[n]),t.push(u.script);return t},i.prototype.writeByteOrderMarkForDocument=function(n){var i,t,r,n;if(this.emitOptions.outputMany)return n.byteOrderMark!==0;for(i=this.fileNameToDocument.getAllKeys(),t=0,r=i.length;t<r;t++)if(n=this.getDocument(i[t]),n.byteOrderMark!==0)return!0;return!1},i.mapToDTSFileName=function(t){return n.getDeclareFilePath(t)},i.prototype.canEmitDeclarations=function(n){return this.settings.generateDeclarationFiles?!!n&&(n.isDeclareFile||n.moduleElements===null)?!1:!0:!1},i.prototype.emitDeclarations=function(t,r){var u=t.script,f;return this.canEmitDeclarations(u)&&(r||(f=this.emitOptions.mapOutputFileName(t.fileName,i.mapToDTSFileName),r=new n.DeclarationEmitter(f,this.semanticInfoChain,this.emitOptions,t.byteOrderMark!==0)),r.fileName=t.fileName,r.emitDeclarations(u)),r},i.prototype.emitAllDeclarations=function(){var t,r,i,e,o,u,f;if(this.canEmitDeclarations()){for(t=null,r=this.fileNameToDocument.getAllKeys(),i=0,e=r.length;i<e;i++){o=r[i];try{u=this.getDocument(r[i]);this.emitOptions.outputMany?(f=this.emitDeclarations(u),f&&f.close()):t=this.emitDeclarations(u,t)}catch(s){return n.Emitter.handleEmitterError(o,s)}}if(t)try{t.close()}catch(h){return n.Emitter.handleEmitterError(t.fileName,h)}}return[]},i.prototype.emitUnitDeclarations=function(t){if(this.canEmitDeclarations())if(this.emitOptions.outputMany)try{var r=this.getDocument(t),i=this.emitDeclarations(r);i&&i.close()}catch(u){return n.Emitter.handleEmitterError(t,u)}else return this.emitAllDeclarations();return[]},i.mapToFileNameExtension=function(n,t,i){if(i)return t;var r=t.split(".");return r.pop(),r.join(".")+n},i.mapToJSFileName=function(n,t){return i.mapToFileNameExtension(".js",n,t)},i.prototype.emit=function(t,r,u){var h=t.script,e,f,o,s;return h.isDeclareFile||(e=t.fileName,u?this.settings.mapSourceFiles&&u.setSourceMappings(new n.SourceMapper(e,u.emittingFileName,u.sourceMapper.sourceMapFileName,u.outfile,u.sourceMapper.sourceMapOut,this.settings.emitFullSourceMapPath)):(f=this.emitOptions.mapOutputFileName(e,i.mapToJSFileName),o=this.createFile(f,this.writeByteOrderMarkForDocument(t)),u=new n.Emitter(f,o,this.emitOptions,this.semanticInfoChain),this.settings.mapSourceFiles&&(s=f+n.SourceMapper.MapFileExtension,u.setSourceMappings(new n.SourceMapper(e,f,s,o,this.createFile(s,!1),this.settings.emitFullSourceMapPath))),r&&r(e,f)),u.setDocument(t),u.emitJavascript(h,!1)),u},i.prototype.emitAll=function(t,i){var s=this.parseEmitOption(t),u,c,f,e,o;if(s)return[s];var l=(new Date).getTime(),h=this.fileNameToDocument.getAllKeys(),r=null;for(u=0,c=h.length;u<c;u++){f=h[u];e=this.getDocument(f);try{this.emitOptions.outputMany?(o=this.emit(e,i),o&&o.emitSourceMapsAndClose()):r=this.emit(e,i,r)}catch(a){return n.Emitter.handleEmitterError(f,a)}}if(this.logger.log("Emit: "+((new Date).getTime()-l)),r)try{r.emitSourceMapsAndClose()}catch(v){return n.Emitter.handleEmitterError(r.document.fileName,v)}return[]},i.prototype.emitUnit=function(t,i,r){var f=this.parseEmitOption(i),e,u;if(f)return[f];if(this.emitOptions.outputMany){e=this.getDocument(t);try{u=this.emit(e,r);u&&u.emitSourceMapsAndClose()}catch(o){return n.Emitter.handleEmitterError(t,o)}return[]}return this.emitAll(i,r)},i.prototype.createFile=function(t,i){return new n.TextWriter(this.emitOptions.ioHost,t,i)},i.prototype.getSyntacticDiagnostics=function(n){return this.getDocument(n).diagnostics()},i.prototype.getSyntaxTree=function(n){return this.getDocument(n).syntaxTree()},i.prototype.getScript=function(n){return this.getDocument(n).script},i.prototype.getSemanticDiagnostics=function(t){var r=[],u=this.semanticInfoChain.getUnit(t),f,i;return n.globalSemanticInfoChain=this.semanticInfoChain,n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain),u&&(f=this.getDocument(t),i=f.script,i&&(this.pullTypeChecker.typeCheckScript(i,t,this),u.getDiagnostics(r))),r},i.prototype.pullTypeCheck=function(){var t=this;return this.timeFunction("pullTypeCheck()",function(){var i,u,s;t.semanticInfoChain=new n.SemanticInfoChain;n.globalSemanticInfoChain=t.semanticInfoChain;t.pullTypeChecker=new n.PullTypeChecker(t.settings,t.semanticInfoChain);for(var r=null,h=(new Date).getTime(),o=t.fileNameToDocument.getAllKeys(),i=0,u=o.length;i<u;i++){var f=o[i],c=t.getDocument(f),e=new n.SemanticInfo(f);r=new n.DeclCollectionContext(e);r.scriptName=f;n.getAstWalkerFactory().walk(c.script,n.preCollectDecls,n.postCollectDecls,null,r);e.addTopLevelDecl(r.getParent());t.semanticInfoChain.addUnit(e)}var l=(new Date).getTime(),a=(new Date).getTime(),v=new n.PullSymbolBinder(t.semanticInfoChain);n.globalBinder=v;s=(new Date).getTime();t.logger.log("Decl creation: "+(l-h));t.logger.log("Binding: "+(s-a));t.logger.log("    Time in findSymbol: "+n.time_in_findSymbol);t.logger.log("Number of symbols created: "+n.pullSymbolID);t.logger.log("Number of specialized types created: "+n.nSpecializationsCreated);t.logger.log("Number of specialized signatures created: "+n.nSpecializedSignaturesCreated)})},i.prototype.pullUpdateScript=function(t,i){var r=this;this.timeFunction("pullUpdateScript: ",function(){var a=t.script,c=i.script,f=new n.SemanticInfo(t.fileName),e=r.semanticInfoChain.getUnit(t.fileName),u,l,o,s,h;n.lastBoundPullDeclId=n.pullDeclID;n.lastBoundPullSymbolID=n.pullSymbolID;u=new n.DeclCollectionContext(f);u.scriptName=t.fileName;n.getAstWalkerFactory().walk(c,n.preCollectDecls,n.postCollectDecls,null,u);l=e.getTopLevelDecls()[0];o=u.getParent();f.addTopLevelDecl(o);r.pullTypeChecker&&r.pullTypeChecker.resolver&&r.pullTypeChecker.resolver.cleanCachedGlobals();r.semanticInfoChain.updateUnit(e,f);r.logger.log("Cleaning symbols...");s=(new Date).getTime();r.semanticInfoChain.update();h=(new Date).getTime();r.logger.log("   time to clean: "+(h-s));r.pullTypeChecker&&r.pullTypeChecker.resolver&&r.pullTypeChecker.resolver.setUnitPath(t.fileName)})},i.prototype.getSymbolOfDeclaration=function(t){var i,r,u;return t?(i=this.pullTypeChecker.resolver.getASTForDecl(t),!i)?null:(r=this.pullTypeChecker.resolver.getEnclosingDecl(t),i.nodeType===80)?this.getSymbolOfDeclaration(r):(u=new n.PullTypeResolutionContext,this.pullTypeChecker.resolver.resolveAST(i,!1,r,u).symbol):null},i.prototype.resolvePosition=function(t,i){var c=[],u=[],wt=i.script,g=i.fileName,ht=this.semanticInfoChain.getUnit(g),ct=null,f=null,e=null,it=null,p=null,nt=null,b=[],rt=null,ut=null,k=[],o=new n.PullTypeResolutionContext,lt=!1,s=null,at=!1,vt,a,d,l,h,y,ft,et,yt,r,tt,w,v,ot,st,pt;if(n.globalSemanticInfoChain=this.semanticInfoChain,n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain),vt=function(i){var r,f;return n.isValidAstNode(i)&&t>=i.minChar&&t<=i.limChar&&(r=u[u.length-1],(r===undefined||i.minChar>=r.minChar&&i.limChar<=r.limChar)&&(f=ht.getDeclForAST(i),f&&(c[c.length]=f,ct=i),i.nodeType===12&&n.hasFlag(i.getFunctionFlags(),8192)?nt=i:i.nodeType===17?b[b.length]=i:i.nodeType===22?rt=i:i.nodeType===78?k[k.length]=i:i.nodeType===38?ut=i:i.nodeType===11&&(lt=!0),u[u.length]=i)),i},n.getAstWalkerFactory().walk(wt,vt),u.length){if(this.pullTypeChecker.setUnit(g),f=u[u.length-1],f.nodeType===20&&u.length>1){a=u[u.length-2];switch(a.nodeType){case 14:case 13:case 15:f===a.name&&(f=a);break;case 17:f===a.id&&(f=a);break;case 12:f===a.name&&(f=a)}}if(d=null,ct===f)e=c[c.length-1].getSymbol(),this.pullTypeChecker.resolver.resolveDeclaredSymbol(e,null,o),e.setUnresolved(),s=c[c.length-1].getParentDecl(),f.nodeType===12&&(d=f);else{for(r=c.length-1;r>=0;r--)if(!(c[r].getKind()&3072)){s=c[r];break}if(l=null,(f.nodeType===30||f.nodeType===29||f.nodeType===20)&&u.length>1)for(r=u.length-2;r>=0;r--)if(u[r].nodeType===32&&u[r].operand2===u[r+1])f=u[r];else if((u[r].nodeType===36||u[r].nodeType===37)&&u[r].target===u[r+1]){l=u[r];break}else if(u[r].nodeType===12&&u[r].name===u[r+1]){d=u[r];break}else break;if(f.nodeType===1)for(r=0;r<f.members.length;r++)if(f.members[r].minChar>t){f=f.members[r];break}if(o.resolvingTypeReference=lt,h=!1,b.length)for(r=0;r<b.length;r++)y=b[r],h=y!==null&&y.typeExpr!==null,this.pullTypeChecker.resolver.resolveAST(y,!1,null,o),ft=this.semanticInfoChain.getSymbolAndDiagnosticsForAST(y,g),et=ft&&ft.symbol,et&&h&&(yt=et.getType(),o.pushContextualType(yt,!1,null)),y.init&&this.pullTypeChecker.resolver.resolveAST(y.init,h,s,o);if(k.length)for(r=0;r<k.length;r++)this.pullTypeChecker.resolver.resolveAST(k[r],h,s,o);ut&&this.pullTypeChecker.resolver.resolveAST(ut,h,s,o);rt&&this.pullTypeChecker.resolver.resolveAST(rt,h,s,o);nt&&(this.pullTypeChecker.resolver.resolveAST(nt,!0,s,o),s=ht.getDeclForAST(nt));e=this.pullTypeChecker.resolver.resolveAST(f,h,s,o).symbol;l&&(tt=e.getKind()===4096||e.getKind()===1024,w=e.getType(),tt&&(tt=w.getKind()!==16&&w.getKind()!==8388608||w.getName()===""),tt||(at=f.nodeType===30||l.nodeType===37,f.nodeType===30?e.getKind()===8&&(p=e.getConstructorMethod().getType().getConstructSignatures()):p=l.nodeType===36?w.getCallSignatures():w.getConstructSignatures(),v=new n.PullAdditionalCallResolutionData,l.nodeType===36?this.pullTypeChecker.resolver.resolveCallExpression(l,h,s,o,v):this.pullTypeChecker.resolver.resolveNewExpression(l,h,s,o,v),v.candidateSignature&&(it=v.candidateSignature),v.targetSymbol&&v.targetSymbol.getName()!==""&&(e=v.targetSymbol),f=l))}d?e&&e.getKind()!==4096&&(ot=n.PullHelpers.getSignatureForFuncDecl(d,this.semanticInfoChain.getUnit(g)),it=ot.signature,p=ot.allSignatures):!p&&e&&(e.getKind()===65536||e.getKind()===16384)&&(st=e.getType(),st&&(p=st.getCallSignatures()))}return pt=this.getSymbolOfDeclaration(s),{symbol:e,ast:f,enclosingScopeSymbol:pt,candidateSignature:it,callSignatures:p,isConstructorCall:at}},i.prototype.extractResolutionContextFromPath=function(t,i){var dt=i.script,ct=i.fileName,lt=this.semanticInfoChain.getUnit(ct),o=null,at=null,e=!1,r,p,s,a,v,d,g,nt,w,tt,b,h,y,it,rt,ut,ft,et,kt,u,ot,wt,st,c,bt,ht,k,f;if(n.globalSemanticInfoChain=this.semanticInfoChain,n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain),r=new n.PullTypeResolutionContext,r.resolveAggressively=!0,t.count()===0)return null;for(this.pullTypeChecker.setUnit(lt.getPath()),f=0,p=t.count();f<p;f++){s=t.asts[f];switch(s.nodeType){case 12:n.hasFlag(s.getFunctionFlags(),8192)&&this.pullTypeChecker.resolver.resolveAST(s,!0,o,r);break;case 17:a=s;e=a.typeExpr!==null;this.pullTypeChecker.resolver.resolveAST(a,!1,null,r);var vt=this.semanticInfoChain.getSymbolAndDiagnosticsForAST(a,ct),yt=vt&&vt.symbol,u=null;yt&&e&&(u=yt.getType());r.pushContextualType(u,!1,null);a.init&&this.pullTypeChecker.resolver.resolveAST(a.init,e,o,r);break;case 36:case 37:var pt=s.nodeType===37,l=s,u=null;if(f+1<p&&l.arguments===t.asts[f+1]){if(v=new n.PullAdditionalCallResolutionData,pt?this.pullTypeChecker.resolver.resolveNewExpression(l,e,o,r,v):this.pullTypeChecker.resolver.resolveCallExpression(l,e,o,r,v),v.actualParametersContextTypeSymbols&&(d=t.asts[f+1]&&t.asts[f+1].nodeType===1?t.asts[f+2]:t.asts[f+1],d))for(h=0,y=l.arguments.members.length;h<y;h++)if(l.arguments.members[h]===d&&(g=v.actualParametersContextTypeSymbols[h],g)){u=g;break}}else pt?this.pullTypeChecker.resolver.resolveNewExpression(l,e,o,r):this.pullTypeChecker.resolver.resolveCallExpression(l,e,o,r);r.pushContextualType(u,!1,null);break;case 21:this.pullTypeChecker.resolver.resolveAST(s,e,o,r);u=null;c=r.getContextualType();c&&c.isArray()&&(u=c.getElementType());r.pushContextualType(u,!1,null);break;case 22:if(nt=s,w=new n.PullAdditionalObjectLiteralResolutionData,this.pullTypeChecker.resolver.resolveObjectLiteralExpression(nt,e,o,r,w),tt=t.asts[f+1]&&t.asts[f+1].nodeType===1?t.asts[f+2]:t.asts[f+1],tt){if(u=null,b=nt.operand,b&&w.membersContextTypeSymbols)for(h=0,y=b.members.length;h<y;h++)if(b.members[h]===tt&&(it=w.membersContextTypeSymbols[h],it)){u=it;break}r.pushContextualType(u,!1,null)}break;case 38:rt=s;u=null;t.asts[f+1]&&t.asts[f+1]===rt.operand2&&(ut=this.pullTypeChecker.resolver.resolveAST(rt.operand1,e,o,r).symbol.getType(),ut&&(e=!0,u=ut));r.pushContextualType(u,!1,null);break;case 78:ft=s;u=null;f+1<p&&t.asts[f+1]===ft.castTerm&&(r.resolvingTypeReference=!0);et=this.pullTypeChecker.resolver.resolveTypeAssertionExpression(ft,e,o,r).symbol;et&&(e=!0,u=et);r.pushContextualType(u,!1,null);break;case 93:kt=s;u=null;o&&o.getKind()&n.PullElementKind.SomeFunction&&(ot=at,ot.returnTypeAnnotation?(wt=r.resolvingTypeReference,r.resolvingTypeReference=!0,st=this.pullTypeChecker.resolver.resolveTypeReference(ot.returnTypeAnnotation,o,r).symbol,r.resolvingTypeReference=wt,st&&(e=!0,u=st)):(c=r.getContextualType(),c&&c.isFunction()&&(bt=c.getDeclarations()[0].getSignatureSymbol(),ht=bt.getReturnType(),ht&&(e=!0,u=ht))));r.pushContextualType(u,!1,null);break;case 11:case 9:r.resolvingTypeReference=!0}k=lt.getDeclForAST(s);!k||k.getKind()&11264||(o=k,at=s)}if((t.isNameOfInterface()||t.isInClassImplementsList()||t.isInInterfaceExtendsList())&&(r.resolvingTypeReference=!0),t.ast().nodeType===20&&t.count()>1)for(f=t.count()-1;f>=0;f--)if(t.asts[t.top-1].nodeType===32&&t.asts[t.top-1].operand2===t.asts[t.top])t.pop();else break;return{ast:t.ast(),enclosingDecl:o,resolutionContext:r,inContextuallyTypedAssignment:e}},i.prototype.pullGetSymbolInformationFromPath=function(t,i){var r=this.extractResolutionContextFromPath(t,i),u,f;return r?(n.globalSemanticInfoChain=this.semanticInfoChain,n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain),u=this.pullTypeChecker.resolver.resolveAST(t.ast(),r.inContextuallyTypedAssignment,r.enclosingDecl,r.resolutionContext),f=u&&u.symbol,{symbol:f,ast:t.ast(),enclosingScopeSymbol:this.getSymbolOfDeclaration(r.enclosingDecl)}):null},i.prototype.pullGetDeclarationSymbolInformation=function(t,i){var h=i.script,o=i.fileName,r=t.ast(),u;if(r.nodeType!==13&&r.nodeType!==14&&r.nodeType!==15&&r.nodeType!==12&&r.nodeType!==17||(u=this.extractResolutionContextFromPath(t,i),!u))return null;n.globalSemanticInfoChain=this.semanticInfoChain;n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain);var s=this.semanticInfoChain.getUnit(o),f=s.getDeclForAST(r),e=f.getKind()&n.PullElementKind.SomeSignature?f.getSignatureSymbol():f.getSymbol();return this.pullTypeChecker.resolver.resolveDeclaredSymbol(e,null,u.resolutionContext),e.setUnresolved(),{symbol:e,ast:t.ast(),enclosingScopeSymbol:this.getSymbolOfDeclaration(u.enclosingDecl)}},i.prototype.pullGetCallInformationFromPath=function(t,i){var f,r,u;return t.ast().nodeType!==36&&t.ast().nodeType!==37?null:(f=t.ast().nodeType===37,r=this.extractResolutionContextFromPath(t,i),!r)?null:(n.globalSemanticInfoChain=this.semanticInfoChain,n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain),u=new n.PullAdditionalCallResolutionData,f?this.pullTypeChecker.resolver.resolveNewExpression(t.ast(),r.inContextuallyTypedAssignment,r.enclosingDecl,r.resolutionContext,u):this.pullTypeChecker.resolver.resolveCallExpression(t.ast(),r.inContextuallyTypedAssignment,r.enclosingDecl,r.resolutionContext,u),{targetSymbol:u.targetSymbol,resolvedSignatures:u.resolvedSignatures,candidateSignature:u.candidateSignature,ast:t.ast(),enclosingScopeSymbol:this.getSymbolOfDeclaration(r.enclosingDecl),isConstructorCall:f})},i.prototype.pullGetVisibleMemberSymbolsFromPath=function(t,i){var r,u;return(n.globalSemanticInfoChain=this.semanticInfoChain,n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain),r=this.extractResolutionContextFromPath(t,i),!r)?null:(u=this.pullTypeChecker.resolver.getVisibleMembersFromExpression(t.ast(),r.enclosingDecl,r.resolutionContext),!u)?null:{symbols:u,enclosingScopeSymbol:this.getSymbolOfDeclaration(r.enclosingDecl)}},i.prototype.pullGetVisibleDeclsFromPath=function(t,i){var r,u;return(n.globalSemanticInfoChain=this.semanticInfoChain,n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain),r=this.extractResolutionContextFromPath(t,i),!r)?null:(u=null,this.pullTypeChecker.resolver.getVisibleDecls(r.enclosingDecl,r.resolutionContext))},i.prototype.pullGetContextualMembersFromPath=function(t,i){var r,u;return(n.globalSemanticInfoChain=this.semanticInfoChain,n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain),t.ast().nodeType!==22)?null:(r=this.extractResolutionContextFromPath(t,i),!r)?null:(u=this.pullTypeChecker.resolver.getVisibleContextSymbols(r.enclosingDecl,r.resolutionContext),{symbols:u,enclosingScopeSymbol:this.getSymbolOfDeclaration(r.enclosingDecl)})},i.prototype.pullGetDeclInformation=function(t,i,r){var u=this.extractResolutionContextFromPath(i,r),f;return u?(n.globalSemanticInfoChain=this.semanticInfoChain,n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain),f=t.getSymbol(),this.pullTypeChecker.resolver.resolveDeclaredSymbol(f,u.enclosingDecl,u.resolutionContext),f.setUnresolved(),{symbol:f,ast:i.ast(),enclosingScopeSymbol:this.getSymbolOfDeclaration(u.enclosingDecl)}):null},i.prototype.pullGetTypeInfoAtPosition=function(n,t){var i=this;return this.timeFunction("pullGetTypeInfoAtPosition for pos "+n+":",function(){return i.resolvePosition(n,t)})},i.prototype.getTopLevelDeclarations=function(n){var t=this.semanticInfoChain.getUnit(n);return t?t.getTopLevelDecls():null},i.prototype.reportDiagnostics=function(n,t){for(var i=0;i<n.length;i++)t.addDiagnostic(n[i])},i}();n.TypeScriptCompiler=i}(TypeScript||(TypeScript={})),function(n){function i(n,t,i){var r=(new Date).getTime(),u=i(),f=(new Date).getTime();return n.log(t+" completed in "+(f-r)+" msec"),u}(function(n){function t(t){n.diagnosticWriter&&n.diagnosticWriter.Alert(t)}function i(i){n.debug&&t(i)}function r(i,r){n.debug&&(i||t(r))}n.debug=!1;n.diagnosticWriter=null;n.analysisPass=0;n.Alert=t;n.debugPrint=i;n.assert=r})(n.CompilerDiagnostics||(n.CompilerDiagnostics={}));var r=n.CompilerDiagnostics,t=function(){function n(){}return n.prototype.information=function(){return!1},n.prototype.debug=function(){return!1},n.prototype.warning=function(){return!1},n.prototype.error=function(){return!1},n.prototype.fatal=function(){return!1},n.prototype.log=function(){},n}();n.NullLogger=t;n.timeFunction=i}(TypeScript||(TypeScript={}));