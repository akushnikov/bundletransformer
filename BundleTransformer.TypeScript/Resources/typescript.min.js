/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved. 
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0  
 
THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE, 
MERCHANTABLITY OR NON-INFRINGEMENT. 
 
See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var ByteOrderMark,FileInformation,Environment,global,__extends,FormattingOptions,TypeScript;(function(n){n.DiagnosticCode={error_TS_0_1:"error TS{0}: {1}",warning_TS_0_1:"warning TS{0}: {1}",Unrecognized_escape_sequence:"Unrecognized escape sequence.",Unexpected_character_0:"Unexpected character {0}.",Missing_close_quote_character:"Missing close quote character.",Identifier_expected:"Identifier expected.",_0_keyword_expected:"'{0}' keyword expected.",_0_expected:"'{0}' expected.",Identifier_expected_0_is_a_keyword:"Identifier expected; '{0}' is a keyword.",Automatic_semicolon_insertion_not_allowed:"Automatic semicolon insertion not allowed.",Unexpected_token_0_expected:"Unexpected token; '{0}' expected.",Trailing_separator_not_allowed:"Trailing separator not allowed.",AsteriskSlash_expected:"'*/' expected.",public_or_private_modifier_must_precede_static:"'public' or 'private' modifier must precede 'static'.",Unexpected_token:"Unexpected token.",Catch_clause_parameter_cannot_have_a_type_annotation:"Catch clause parameter cannot have a type annotation.",Rest_parameter_must_be_last_in_list:"Rest parameter must be last in list.",Parameter_cannot_have_question_mark_and_initializer:"Parameter cannot have question mark and initializer.",Required_parameter_cannot_follow_optional_parameter:"Required parameter cannot follow optional parameter.",Index_signatures_cannot_have_rest_parameters:"Index signatures cannot have rest parameters.",Index_signature_parameter_cannot_have_accessibility_modifiers:"Index signature parameter cannot have accessibility modifiers.",Index_signature_parameter_cannot_have_a_question_mark:"Index signature parameter cannot have a question mark.",Index_signature_parameter_cannot_have_an_initializer:"Index signature parameter cannot have an initializer.",Index_signature_must_have_a_type_annotation:"Index signature must have a type annotation.",Index_signature_parameter_must_have_a_type_annotation:"Index signature parameter must have a type annotation.",Index_signature_parameter_type_must_be_string_or_number:"Index signature parameter type must be 'string' or 'number'.",extends_clause_already_seen:"'extends' clause already seen.",extends_clause_must_precede_implements_clause:"'extends' clause must precede 'implements' clause.",Classes_can_only_extend_a_single_class:"Classes can only extend a single class.",implements_clause_already_seen:"'implements' clause already seen.",Accessibility_modifier_already_seen:"Accessibility modifier already seen.",_0_modifier_must_precede_1_modifier:"'{0}' modifier must precede '{1}' modifier.",_0_modifier_already_seen:"'{0}' modifier already seen.",_0_modifier_cannot_appear_on_a_class_element:"'{0}' modifier cannot appear on a class element.",Interface_declaration_cannot_have_implements_clause:"Interface declaration cannot have 'implements' clause.",super_invocation_cannot_have_type_arguments:"'super' invocation cannot have type arguments.",Only_ambient_modules_can_use_quoted_names:"Only ambient modules can use quoted names.",Statements_are_not_allowed_in_ambient_contexts:"Statements are not allowed in ambient contexts.",Implementations_are_not_allowed_in_ambient_contexts:"Implementations are not allowed in ambient contexts.",declare_modifier_not_allowed_for_code_already_in_an_ambient_context:"'declare' modifier not allowed for code already in an ambient context.",Initializers_are_not_allowed_in_ambient_contexts:"Initializers are not allowed in ambient contexts.",Parameter_property_declarations_can_only_be_used_in_constructors:"Parameter property declarations can only be used in constructors.",Function_implementation_expected:"Function implementation expected.",Constructor_implementation_expected:"Constructor implementation expected.",Function_overload_name_must_be_0:"Function overload name must be '{0}'.",_0_modifier_cannot_appear_on_a_module_element:"'{0}' modifier cannot appear on a module element.",declare_modifier_cannot_appear_on_an_interface_declaration:"'declare' modifier cannot appear on an interface declaration.",declare_modifier_required_for_top_level_element:"'declare' modifier required for top level element.",Rest_parameter_cannot_be_optional:"Rest parameter cannot be optional.",Rest_parameter_cannot_have_an_initializer:"Rest parameter cannot have an initializer.",set_accessor_must_have_one_and_only_one_parameter:"'set' accessor must have one and only one parameter.",set_accessor_parameter_cannot_have_accessibility_modifier:"'set' accessor parameter cannot have accessibility modifier.",set_accessor_parameter_cannot_be_optional:"'set' accessor parameter cannot be optional.",set_accessor_parameter_cannot_have_an_initializer:"'set' accessor parameter cannot have an initializer.",set_accessor_cannot_have_rest_parameter:"'set' accessor cannot have rest parameter.",get_accessor_cannot_have_parameters:"'get' accessor cannot have parameters.",Modifiers_cannot_appear_here:"Modifiers cannot appear here.",Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher:"Accessors are only available when targeting ECMAScript 5 and higher.",Class_name_cannot_be_0:"Class name cannot be '{0}'.",Interface_name_cannot_be_0:"Interface name cannot be '{0}'.",Enum_name_cannot_be_0:"Enum name cannot be '{0}'.",Module_name_cannot_be_0:"Module name cannot be '{0}'.",Enum_member_must_have_initializer:"Enum member must have initializer.",Export_assignment_cannot_be_used_in_internal_modules:"Export assignment cannot be used in internal modules.",Export_assignment_not_allowed_in_module_with_exported_element:"Export assignment not allowed in module with exported element.",Module_cannot_have_multiple_export_assignments:"Module cannot have multiple export assignments.",Ambient_enum_elements_can_only_have_integer_literal_initializers:"Ambient enum elements can only have integer literal initializers.",module_class_interface_enum_import_or_statement:"module, class, interface, enum, import or statement",constructor_function_accessor_or_variable:"constructor, function, accessor or variable",statement:"statement",case_or_default_clause:"case or default clause",identifier:"identifier",call_construct_index_property_or_function_signature:"call, construct, index, property or function signature",expression:"expression",type_name:"type name",property_or_accessor:"property or accessor",parameter:"parameter",type:"type",type_parameter:"type parameter",declare_modifier_not_allowed_on_import_declaration:"'declare' modifier not allowed on import declaration.",Function_overload_must_be_static:"Function overload must be static",Function_overload_must_not_be_static:"Function overload must not be static",Parameter_property_declarations_cannot_be_used_in_an_ambient_context:"Parameter property declarations cannot be used in an ambient context.",Parameter_property_declarations_cannot_be_used_in_a_constructor_overload:"Parameter property declarations cannot be used in a constructor overload.",Duplicate_identifier_0:"Duplicate identifier '{0}'.",The_name_0_does_not_exist_in_the_current_scope:"The name '{0}' does not exist in the current scope.",The_name_0_does_not_refer_to_a_value:"The name '{0}' does not refer to a value.",super_can_only_be_used_inside_a_class_instance_method:"'super' can only be used inside a class instance method.",The_left_hand_side_of_an_assignment_expression_must_be_a_variable_property_or_indexer:"The left-hand side of an assignment expression must be a variable, property or indexer.",Value_of_type_0_is_not_callable_Did_you_mean_to_include_new:"Value of type '{0}' is not callable. Did you mean to include 'new'?",Value_of_type_0_is_not_callable:"Value of type '{0}' is not callable.",Value_of_type_0_is_not_newable:"Value of type '{0}' is not newable.",Value_of_type_0_is_not_indexable_by_type_1:"Value of type '{0}' is not indexable by type '{1}'.",Operator_0_cannot_be_applied_to_types_1_and_2:"Operator '{0}' cannot be applied to types '{1}' and '{2}'.",Operator_0_cannot_be_applied_to_types_1_and_2_3:"Operator '{0}' cannot be applied to types '{1}' and '{2}': {3}",Cannot_convert_0_to_1:"Cannot convert '{0}' to '{1}'.",Cannot_convert_0_to_1_NL_2:"Cannot convert '{0}' to '{1}':{NL}{2}",Expected_var_class_interface_or_module:"Expected var, class, interface, or module.",Operator_0_cannot_be_applied_to_type_1:"Operator '{0}' cannot be applied to type '{1}'.",Getter_0_already_declared:"Getter '{0}' already declared.",Setter_0_already_declared:"Setter '{0}' already declared.",Accessors_cannot_have_type_parameters:"Accessors cannot have type parameters.",Exported_class_0_extends_private_class_1:"Exported class '{0}' extends private class '{1}'.",Exported_class_0_implements_private_interface_1:"Exported class '{0}' implements private interface '{1}'.",Exported_interface_0_extends_private_interface_1:"Exported interface '{0}' extends private interface '{1}'.",Exported_class_0_extends_class_from_inaccessible_module_1:"Exported class '{0}' extends class from inaccessible module {1}.",Exported_class_0_implements_interface_from_inaccessible_module_1:"Exported class '{0}' implements interface from inaccessible module {1}.",Exported_interface_0_extends_interface_from_inaccessible_module_1:"Exported interface '{0}' extends interface from inaccessible module {1}.",Public_static_property_0_of_exported_class_has_or_is_using_private_type_1:"Public static property '{0}' of exported class has or is using private type '{1}'.",Public_property_0_of_exported_class_has_or_is_using_private_type_1:"Public property '{0}' of exported class has or is using private type '{1}'.",Property_0_of_exported_interface_has_or_is_using_private_type_1:"Property '{0}' of exported interface has or is using private type '{1}'.",Exported_variable_0_has_or_is_using_private_type_1:"Exported variable '{0}' has or is using private type '{1}'.",Public_static_property_0_of_exported_class_is_using_inaccessible_module_1:"Public static property '{0}' of exported class is using inaccessible module {1}.",Public_property_0_of_exported_class_is_using_inaccessible_module_1:"Public property '{0}' of exported class is using inaccessible module {1}.",Property_0_of_exported_interface_is_using_inaccessible_module_1:"Property '{0}' of exported interface is using inaccessible module {1}.",Exported_variable_0_is_using_inaccessible_module_1:"Exported variable '{0}' is using inaccessible module {1}.",Parameter_0_of_constructor_from_exported_class_has_or_is_using_private_type_1:"Parameter '{0}' of constructor from exported class has or is using private type '{1}'.",Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_private_type_1:"Parameter '{0}' of public static property setter from exported class has or is using private type '{1}'.",Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_private_type_1:"Parameter '{0}' of public property setter from exported class has or is using private type '{1}'.",Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_type_1:"Parameter '{0}' of constructor signature from exported interface has or is using private type '{1}'.",Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_type_1:"Parameter '{0}' of call signature from exported interface has or is using private type '{1}'.",Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_type_1:"Parameter '{0}' of public static method from exported class has or is using private type '{1}'.",Parameter_0_of_public_method_from_exported_class_has_or_is_using_private_type_1:"Parameter '{0}' of public method from exported class has or is using private type '{1}'.",Parameter_0_of_method_from_exported_interface_has_or_is_using_private_type_1:"Parameter '{0}' of method from exported interface has or is using private type '{1}'.",Parameter_0_of_exported_function_has_or_is_using_private_type_1:"Parameter '{0}' of exported function has or is using private type '{1}'.",Parameter_0_of_constructor_from_exported_class_is_using_inaccessible_module_1:"Parameter '{0}' of constructor from exported class is using inaccessible module {1}.",Parameter_0_of_public_static_property_setter_from_exported_class_is_using_inaccessible_module_1:"Parameter '{0}' of public static property setter from exported class is using inaccessible module {1}.",Parameter_0_of_public_property_setter_from_exported_class_is_using_inaccessible_module_1:"Parameter '{0}' of public property setter from exported class is using inaccessible module {1}.",Parameter_0_of_constructor_signature_from_exported_interface_is_using_inaccessible_module_1:"Parameter '{0}' of constructor signature from exported interface is using inaccessible module {1}.",Parameter_0_of_call_signature_from_exported_interface_is_using_inaccessible_module_1:"Parameter '{0}' of call signature from exported interface is using inaccessible module {1}",Parameter_0_of_public_static_method_from_exported_class_is_using_inaccessible_module_1:"Parameter '{0}' of public static method from exported class is using inaccessible module {1}.",Parameter_0_of_public_method_from_exported_class_is_using_inaccessible_module_1:"Parameter '{0}' of public method from exported class is using inaccessible module {1}.",Parameter_0_of_method_from_exported_interface_is_using_inaccessible_module_1:"Parameter '{0}' of method from exported interface is using inaccessible module {1}.",Parameter_0_of_exported_function_is_using_inaccessible_module_1:"Parameter '{0}' of exported function is using inaccessible module {1}.",Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_type_0:"Return type of public static property getter from exported class has or is using private type '{0}'.",Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_type_0:"Return type of public property getter from exported class has or is using private type '{0}'.",Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_type_0:"Return type of constructor signature from exported interface has or is using private type '{0}'.",Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_type_0:"Return type of call signature from exported interface has or is using private type '{0}'.",Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_type_0:"Return type of index signature from exported interface has or is using private type '{0}'.",Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_type_0:"Return type of public static method from exported class has or is using private type '{0}'.",Return_type_of_public_method_from_exported_class_has_or_is_using_private_type_0:"Return type of public method from exported class has or is using private type '{0}'.",Return_type_of_method_from_exported_interface_has_or_is_using_private_type_0:"Return type of method from exported interface has or is using private type '{0}'.",Return_type_of_exported_function_has_or_is_using_private_type_0:"Return type of exported function has or is using private type '{0}'.",Return_type_of_public_static_property_getter_from_exported_class_is_using_inaccessible_module_0:"Return type of public static property getter from exported class is using inaccessible module {0}.",Return_type_of_public_property_getter_from_exported_class_is_using_inaccessible_module_0:"Return type of public property getter from exported class is using inaccessible module {0}.",Return_type_of_constructor_signature_from_exported_interface_is_using_inaccessible_module_0:"Return type of constructor signature from exported interface is using inaccessible module {0}.",Return_type_of_call_signature_from_exported_interface_is_using_inaccessible_module_0:"Return type of call signature from exported interface is using inaccessible module {0}.",Return_type_of_index_signature_from_exported_interface_is_using_inaccessible_module_0:"Return type of index signature from exported interface is using inaccessible module {0}.",Return_type_of_public_static_method_from_exported_class_is_using_inaccessible_module_0:"Return type of public static method from exported class is using inaccessible module {0}.",Return_type_of_public_method_from_exported_class_is_using_inaccessible_module_0:"Return type of public method from exported class is using inaccessible module {0}.",Return_type_of_method_from_exported_interface_is_using_inaccessible_module_0:"Return type of method from exported interface is using inaccessible module {0}.",Return_type_of_exported_function_is_using_inaccessible_module_0:"Return type of exported function is using inaccessible module {0}.",new_T_cannot_be_used_to_create_an_array_Use_new_Array_T_instead:"'new T[]' cannot be used to create an array. Use 'new Array<T>()' instead.",A_parameter_list_must_follow_a_generic_type_argument_list_expected:"A parameter list must follow a generic type argument list. '(' expected.",Multiple_constructor_implementations_are_not_allowed:"Multiple constructor implementations are not allowed.",Unable_to_resolve_external_module_0:"Unable to resolve external module '{0}'.",Module_cannot_be_aliased_to_a_non_module_type:"Module cannot be aliased to a non-module type.",A_class_may_only_extend_another_class:"A class may only extend another class.",A_class_may_only_implement_another_class_or_interface:"A class may only implement another class or interface.",An_interface_may_only_extend_another_class_or_interface:"An interface may only extend another class or interface.",An_interface_cannot_implement_another_type:"An interface cannot implement another type.",Unable_to_resolve_type:"Unable to resolve type.",Unable_to_resolve_type_of_0:"Unable to resolve type of '{0}'.",Unable_to_resolve_type_parameter_constraint:"Unable to resolve type parameter constraint.",Type_parameter_constraint_cannot_be_a_primitive_type:"Type parameter constraint cannot be a primitive type.",Supplied_parameters_do_not_match_any_signature_of_call_target:"Supplied parameters do not match any signature of call target.",Supplied_parameters_do_not_match_any_signature_of_call_target_NL_0:"Supplied parameters do not match any signature of call target:{NL}{0}",Invalid_new_expression:"Invalid 'new' expression.",Call_signatures_used_in_a_new_expression_must_have_a_void_return_type:"Call signatures used in a 'new' expression must have a 'void' return type.",Could_not_select_overload_for_new_expression:"Could not select overload for 'new' expression.",Type_0_does_not_satisfy_the_constraint_1_for_type_parameter_2:"Type '{0}' does not satisfy the constraint '{1}' for type parameter '{2}'.",Could_not_select_overload_for_call_expression:"Could not select overload for 'call' expression.",Cannot_invoke_an_expression_whose_type_lacks_a_call_signature:"Cannot invoke an expression whose type lacks a call signature.",Calls_to_super_are_only_valid_inside_a_class:"Calls to 'super' are only valid inside a class.",Generic_type_0_requires_1_type_argument_s:"Generic type '{0}' requires {1} type argument(s).",Type_of_conditional_expression_cannot_be_determined_Best_common_type_could_not_be_found_between_0_and_1:"Type of conditional expression cannot be determined. Best common type could not be found between '{0}' and '{1}'.",Type_of_array_literal_cannot_be_determined_Best_common_type_could_not_be_found_for_array_elements:"Type of array literal cannot be determined. Best common type could not be found for array elements.",Could_not_find_enclosing_symbol_for_dotted_name_0:"Could not find enclosing symbol for dotted name '{0}'.",The_property_0_does_not_exist_on_value_of_type_1:"The property '{0}' does not exist on value of type '{1}'.",Could_not_find_symbol_0:"Could not find symbol '{0}'.",get_and_set_accessor_must_have_the_same_type:"'get' and 'set' accessor must have the same type.",this_cannot_be_referenced_in_current_location:"'this' cannot be referenced in current location.",Static_methods_cannot_reference_class_type_parameters:"Static methods cannot reference class type parameters.",Class_0_is_recursively_referenced_as_a_base_type_of_itself:"Class '{0}' is recursively referenced as a base type of itself.",Interface_0_is_recursively_referenced_as_a_base_type_of_itself:"Interface '{0}' is recursively referenced as a base type of itself.",super_property_access_is_permitted_only_in_a_constructor_instance_member_function_or_instance_member_accessor_of_a_derived_class:"'super' property access is permitted only in a constructor, instance member function, or instance member accessor of a derived class.",super_cannot_be_referenced_in_non_derived_classes:"'super' cannot be referenced in non-derived classes.",A_super_call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_initialized_properties_or_has_parameter_properties:"A 'super' call must be the first statement in the constructor when a class contains initialized properties or has parameter properties.",Constructors_for_derived_classes_must_contain_a_super_call:"Constructors for derived classes must contain a 'super' call.",Super_calls_are_not_permitted_outside_constructors_or_in_local_functions_inside_constructors:"Super calls are not permitted outside constructors or in local functions inside constructors.",_0_1_is_inaccessible:"'{0}.{1}' is inaccessible.",this_cannot_be_referenced_within_module_bodies:"'this' cannot be referenced within module bodies.",Invalid_expression_types_not_known_to_support_the_addition_operator:"Invalid '+' expression - types not known to support the addition operator.",The_right_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type:"The right-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type.",The_left_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type:"The left-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type.",The_type_of_a_unary_arithmetic_operation_operand_must_be_of_type_any_number_or_an_enum_type:"The type of a unary arithmetic operation operand must be of type 'any', 'number' or an enum type.",Variable_declarations_of_a_for_statement_cannot_use_a_type_annotation:"Variable declarations of a 'for' statement cannot use a type annotation.",Variable_declarations_of_a_for_statement_must_be_of_types_string_or_any:"Variable declarations of a 'for' statement must be of types 'string' or 'any'.",The_right_hand_side_of_a_for_in_statement_must_be_of_type_any_an_object_type_or_a_type_parameter:"The right-hand side of a 'for...in' statement must be of type 'any', an object type or a type parameter.",The_left_hand_side_of_an_in_expression_must_be_of_types_string_or_any:"The left-hand side of an 'in' expression must be of types 'string' or 'any'.",The_right_hand_side_of_an_in_expression_must_be_of_type_any_an_object_type_or_a_type_parameter:"The right-hand side of an 'in' expression must be of type 'any', an object type or a type parameter.",The_left_hand_side_of_an_instanceof_expression_must_be_of_type_any_an_object_type_or_a_type_parameter:"The left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter.",The_right_hand_side_of_an_instanceof_expression_must_be_of_type_any_or_a_subtype_of_the_Function_interface_type:"The right-hand side of an 'instanceof' expression must be of type 'any' or a subtype of the 'Function' interface type.",Setters_cannot_return_a_value:"Setters cannot return a value.",Tried_to_query_type_of_uninitialized_module_0:"Tried to query type of uninitialized module '{0}'.",Tried_to_set_variable_type_to_uninitialized_module_type_0:"Tried to set variable type to uninitialized module type '{0}'.",Function_0_declared_a_non_void_return_type_but_has_no_return_expression:"Function '{0}' declared a non-void return type, but has no return expression.",Getters_must_return_a_value:"Getters must return a value.",Getter_and_setter_accessors_do_not_agree_in_visibility:"Getter and setter accessors do not agree in visibility.",Invalid_left_hand_side_of_assignment_expression:"Invalid left-hand side of assignment expression.",Function_declared_a_non_void_return_type_but_has_no_return_expression:"Function declared a non-void return type, but has no return expression.",Cannot_resolve_return_type_reference:"Cannot resolve return type reference.",Constructors_cannot_have_a_return_type_of_void:"Constructors cannot have a return type of 'void'.",Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_type_2:"Subsequent variable declarations must have the same type.  Variable '{0}' must be of type '{1}', but here has type '{2}'.",All_symbols_within_a_with_block_will_be_resolved_to_any:"All symbols within a with block will be resolved to 'any'.",Import_declarations_in_an_internal_module_cannot_reference_an_external_module:"Import declarations in an internal module cannot reference an external module.",Class_0_declares_interface_1_but_does_not_implement_it_NL_2:"Class {0} declares interface {1} but does not implement it:{NL}{2}",Class_0_declares_class_1_as_an_interface_but_does_not_implement_it_NL_2:"Class {0} declares class {1} as an interface but does not implement it:{NL}{2}",The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_property_or_indexer:"The operand of an increment or decrement operator must be a variable, property or indexer.",this_cannot_be_referenced_in_static_initializers_in_a_class_body:"'this' cannot be referenced in static initializers in a class body.",Class_0_cannot_extend_class_1_NL_2:"Class '{0}' cannot extend class '{1}':{NL}{2}",Interface_0_cannot_extend_class_1_NL_2:"Interface '{0}' cannot extend class '{1}':{NL}{2}",Interface_0_cannot_extend_interface_1_NL_2:"Interface '{0}' cannot extend interface '{1}':{NL}{2}",Duplicate_overload_signature_for_0:"Duplicate overload signature for '{0}'.",Duplicate_constructor_overload_signature:"Duplicate constructor overload signature.",Duplicate_overload_call_signature:"Duplicate overload call signature.",Duplicate_overload_construct_signature:"Duplicate overload construct signature.",Overload_signature_is_not_compatible_with_function_definition:"Overload signature is not compatible with function definition.",Overload_signature_is_not_compatible_with_function_definition_NL_0:"Overload signature is not compatible with function definition:{NL}{0}",Overload_signatures_must_all_be_public_or_private:"Overload signatures must all be public or private.",Overload_signatures_must_all_be_exported_or_local:"Overload signatures must all be exported or local.",Overload_signatures_must_all_be_ambient_or_non_ambient:"Overload signatures must all be ambient or non-ambient.",Overload_signatures_must_all_be_optional_or_required:"Overload signatures must all be optional or required.",Specialized_overload_signature_is_not_subtype_of_any_non_specialized_signature:"Specialized overload signature is not subtype of any non-specialized signature.",this_cannot_be_referenced_in_constructor_arguments:"'this' cannot be referenced in constructor arguments.",Static_member_cannot_be_accessed_off_an_instance_variable:"Static member cannot be accessed off an instance variable.",Instance_member_cannot_be_accessed_off_a_class:"Instance member cannot be accessed off a class.",Untyped_function_calls_may_not_accept_type_arguments:"Untyped function calls may not accept type arguments.",Non_generic_functions_may_not_accept_type_arguments:"Non-generic functions may not accept type arguments.",A_generic_type_may_not_reference_itself_with_a_wrapped_form_of_its_own_type_parameters:"A generic type may not reference itself with a wrapped form of its own type parameters.",Rest_parameters_must_be_array_types:"Rest parameters must be array types.",Overload_signature_implementation_cannot_use_specialized_type:"Overload signature implementation cannot use specialized type.",Export_assignments_may_only_be_used_at_the_top_level_of_external_modules:"Export assignments may only be used at the top-level of external modules.",Export_assignments_may_only_be_made_with_variables_functions_classes_interfaces_enums_and_internal_modules:"Export assignments may only be made with variables, functions, classes, interfaces, enums and internal modules",Only_public_instance_methods_of_the_base_class_are_accessible_via_the_super_keyword:"Only public instance methods of the base class are accessible via the 'super' keyword.",Numeric_indexer_type_0_must_be_a_subtype_of_string_indexer_type_1:"Numeric indexer type '{0}' must be a subtype of string indexer type '{1}'.",Numeric_indexer_type_0_must_be_a_subtype_of_string_indexer_type_1_NL_2:"Numeric indexer type '{0}' must be a subtype of string indexer type '{1}':{NL}{2}",All_numerically_named_properties_must_be_subtypes_of_numeric_indexer_type_0:"All numerically named properties must be subtypes of numeric indexer type '{0}'.",All_numerically_named_properties_must_be_subtypes_of_numeric_indexer_type_0_NL_1:"All numerically named properties must be subtypes of numeric indexer type '{0}':{NL}{1}",All_named_properties_must_be_subtypes_of_string_indexer_type_0:"All named properties must be subtypes of string indexer type '{0}'.",All_named_properties_must_be_subtypes_of_string_indexer_type_0_NL_1:"All named properties must be subtypes of string indexer type '{0}':{NL}{1}",Generic_type_references_must_include_all_type_arguments:"Generic type references must include all type arguments.",Default_arguments_are_not_allowed_in_an_overload_parameter:"Default arguments are not allowed in an overload parameter.",Overloads_cannot_differ_only_by_return_type:"Overloads cannot differ only by return type.",Function_expression_declared_a_non_void_return_type_but_has_no_return_expression:"Function expression declared a non-void return type, but has no return expression.",Import_declaration_referencing_identifier_from_internal_module_can_only_be_made_with_variables_functions_classes_interfaces_enums_and_internal_modules:"Import declaration referencing identifier from internal module can only be made with variables, functions, classes, interfaces, enums and internal modules.",Could_not_find_symbol_0_in_module_1:"Could not find symbol '{0}' in module '{1}'.",Unable_to_resolve_module_reference_0:"Unable to resolve module reference '{0}'.",Could_not_find_module_0_in_module_1:"Could not find module '{0}' in module '{1}'.",Exported_import_declaration_0_is_assigned_value_with_type_that_has_or_is_using_private_type_1:"Exported import declaration '{0}' is assigned value with type that has or is using private type '{1}'.",Exported_import_declaration_0_is_assigned_value_with_type_that_is_using_inaccessible_module_1:"Exported import declaration '{0}' is assigned value with type that is using inaccessible module '{1}'.",Exported_import_declaration_0_is_assigned_type_that_has_or_is_using_private_type_1:"Exported import declaration '{0}' is assigned type that has or is using private type '{1}'.",Exported_import_declaration_0_is_assigned_type_that_is_using_inaccessible_module_1:"Exported import declaration '{0}' is assigned type that is using inaccessible module '{1}'.",Exported_import_declaration_0_is_assigned_container_that_is_or_is_using_inaccessible_module_1:"Exported import declaration '{0}' is assigned container that is or is using inaccessible module '{1}'.",Type_reference_0_in_extends_clause_doesn_t_reference_constructor_function_for_1:"Type reference '{0}' in extends clause doesn't reference constructor function for '{1}'.",Internal_module_reference_0_in_import_declaration_doesn_t_reference_module_instance_for_1:"Internal module reference '{0}' in import declaration doesn't reference module instance for '{1}'.",Type_0_is_missing_property_1_from_type_2:"Type '{0}' is missing property '{1}' from type '{2}'.",Types_of_property_0_of_types_1_and_2_are_incompatible:"Types of property '{0}' of types '{1}' and '{2}' are incompatible.",Types_of_property_0_of_types_1_and_2_are_incompatible_NL_3:"Types of property '{0}' of types '{1}' and '{2}' are incompatible:{NL}{3}",Property_0_defined_as_private_in_type_1_is_defined_as_public_in_type_2:"Property '{0}' defined as private in type '{1}' is defined as public in type '{2}'.",Property_0_defined_as_public_in_type_1_is_defined_as_private_in_type_2:"Property '{0}' defined as public in type '{1}' is defined as private in type '{2}'.",Types_0_and_1_define_property_2_as_private:"Types '{0}' and '{1}' define property '{2}' as private.",Call_signatures_of_types_0_and_1_are_incompatible:"Call signatures of types '{0}' and '{1}' are incompatible.",Call_signatures_of_types_0_and_1_are_incompatible_NL_2:"Call signatures of types '{0}' and '{1}' are incompatible:{NL}{2}",Type_0_requires_a_call_signature_but_type_1_lacks_one:"Type '{0}' requires a call signature, but type '{1}' lacks one.",Construct_signatures_of_types_0_and_1_are_incompatible:"Construct signatures of types '{0}' and '{1}' are incompatible.",Construct_signatures_of_types_0_and_1_are_incompatible_NL_2:"Construct signatures of types '{0}' and '{1}' are incompatible:{NL}{2}",Type_0_requires_a_construct_signature_but_type_1_lacks_one:"Type '{0}' requires a construct signature, but type '{1}' lacks one.",Index_signatures_of_types_0_and_1_are_incompatible:"Index signatures of types '{0}' and '{1}' are incompatible.",Index_signatures_of_types_0_and_1_are_incompatible_NL_2:"Index signatures of types '{0}' and '{1}' are incompatible:{NL}{2}",Call_signature_expects_0_or_fewer_parameters:"Call signature expects {0} or fewer parameters.",Could_not_apply_type_0_to_argument_1_which_is_of_type_2:"Could not apply type '{0}' to argument {1} which is of type '{2}'.",Class_0_defines_instance_member_accessor_1_but_extended_class_2_defines_it_as_instance_member_function:"Class '{0}' defines instance member accessor '{1}', but extended class '{2}' defines it as instance member function.",Class_0_defines_instance_member_property_1_but_extended_class_2_defines_it_as_instance_member_function:"Class '{0}' defines instance member property '{1}', but extended class '{2}' defines it as instance member function.",Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_accessor:"Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member accessor.",Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_property:"Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member property.",Types_of_static_property_0_of_class_1_and_class_2_are_incompatible:"Types of static property '{0}' of class '{1}' and class '{2}' are incompatible.",Types_of_static_property_0_of_class_1_and_class_2_are_incompatible_NL_3:"Types of static property '{0}' of class '{1}' and class '{2}' are incompatible:{NL}{3}",Type_reference_cannot_refer_to_container_0:"Type reference cannot refer to container '{0}'.",Type_reference_must_refer_to_type:"Type reference must refer to type.",Enums_with_multiple_declarations_must_provide_an_initializer_for_the_first_enum_element:"Enums with multiple declarations must provide an initializer for the first enum element.",_0_overload_s:" (+ {0} overload(s))",Current_host_does_not_support_0_option:"Current host does not support '{0}' option.",ECMAScript_target_version_0_not_supported_Using_default_1_code_generation:"ECMAScript target version '{0}' not supported.  Using default '{1}' code generation.",Module_code_generation_0_not_supported:"Module code generation '{0}' not supported.",Could_not_find_file_0:"Could not find file: '{0}'.",A_file_cannot_have_a_reference_to_itself:"A file cannot have a reference to itself.",Cannot_resolve_referenced_file_0:"Cannot resolve referenced file: '{0}'.",Cannot_find_the_common_subdirectory_path_for_the_input_files:"Cannot find the common subdirectory path for the input files.",Emit_Error_0:"Emit Error: {0}.",Cannot_read_file_0_1:"Cannot read file '{0}': {1}",Unsupported_file_encoding:"Unsupported file encoding.",Locale_must_be_of_the_form_language_or_language_territory_For_example_0_or_1:"Locale must be of the form <language> or <language>-<territory>. For example '{0}' or '{1}'.",Unsupported_locale_0:"Unsupported locale: '{0}'.",Execution_Failed_NL:"Execution Failed.{NL}",Should_not_emit_a_type_query:"Should not emit a type query",Should_not_emit_a_type_reference:"Should not emit a type reference",Invalid_call_to_up:"Invalid call to 'up'",Invalid_call_to_down:"Invalid call to 'down'",Base64_value_0_finished_with_a_continuation_bit:"Base64 value '{0}' finished with a continuation bit",Key_was_already_in_table:"Key was already in table",Unknown_option_0:"Unknown option '{0}'",Expected_0_arguments_to_message_got_1_instead:"Expected {0} arguments to message, got {1} instead",Expected_the_message_0_to_have_1_arguments_but_it_had_2:"Expected the message '{0}' to have {1} arguments, but it had {2}",Invalid_argument_0_1:"Invalid argument: {0}. {1}",Invalid_argument_0:"Invalid argument: {0}.",Argument_out_of_range_0:"Argument out of range: {0}.",Argument_null_0:"Argument null: {0}.",Operation_not_implemented_properly_by_subclass:"Operation not implemented properly by subclass.",Not_yet_implemented:"Not yet implemented.",Invalid_operation_0:"Invalid operation: {0}",Invalid_operation:"Invalid operation.",Could_not_delete_file_0:"Could not delete file '{0}'",Could_not_create_directory_0:"Could not create directory '{0}'",Error_while_executing_file_0:"Error while executing file '{0}': ",Cannot_compile_external_modules_unless_the_module_flag_is_provided:"Cannot compile external modules unless the '--module' flag is provided.",Option_mapRoot_cannot_be_specified_without_specifying_sourcemap_option:"Option mapRoot cannot be specified without specifying sourcemap option.",Option_sourceRoot_cannot_be_specified_without_specifying_sourcemap_option:"Option sourceRoot cannot be specified without specifying sourcemap option.",Options_mapRoot_and_sourceRoot_cannot_be_specified_without_specifying_sourcemap_option:"Options mapRoot and sourceRoot cannot be specified without specifying sourcemap option.",Option_0_specified_without_1:"Option '{0}' specified without '{1}'",codepage_option_not_supported_on_current_platform:"'codepage' option not supported on current platform.",Concatenate_and_emit_output_to_single_file:"Concatenate and emit output to single file.",Generates_corresponding_0_file:"Generates corresponding {0} file",Specifies_the_location_where_debugger_should_locate_map_files_instead_of_generated_locations:"Specifies the location where debugger should locate map files instead of generated locations.",Specifies_the_location_where_debugger_should_locate_TypeScript_files_instead_of_source_locations:"Specifies the location where debugger should locate TypeScript files instead of source locations.",Watch_input_files:"Watch input files",Redirect_output_structure_to_the_directory:"Redirect output structure to the directory",Do_not_emit_comments_to_output:"Do not emit comments to output",Skip_resolution_and_preprocessing:"Skip resolution and preprocessing",Specify_ECMAScript_target_version_0_default_or_1:'Specify ECMAScript target version: "{0}" (default), or "{1}"',Specify_module_code_generation_0_or_1:'Specify module code generation: "{0}" or "{1}"',Print_this_message:"Print this message",Print_the_compiler_s_version_0:"Print the compiler's version: {0}",Allow_use_of_deprecated_0_keyword_when_referencing_an_external_module:'Allow use of deprecated "{0}" keyword when referencing an external module',Specify_locale_for_errors_and_messages_For_example_0_or_1:"Specify locale for errors and messages. For example '{0}' or '{1}'",Syntax_0:"Syntax:   {0}",options:"options",file1:"file",Examples:"Examples:",Options:"Options:",Insert_command_line_options_and_files_from_a_file:"Insert command line options and files from a file.",Version_0:"Version {0}",Use_the_0_flag_to_see_options:"Use the '{0}' flag to see options",NL_Recompiling_0:"{NL}Recompiling ({0}):",STRING:"STRING",KIND:"KIND",file2:"FILE",VERSION:"VERSION",LOCATION:"LOCATION",DIRECTORY:"DIRECTORY",NUMBER:"NUMBER",Specify_the_codepage_to_use_when_opening_source_files:"Specify the codepage to use when opening source files.",This_version_of_the_Javascript_runtime_does_not_support_the_0_function:"This version of the Javascript runtime does not support the '{0}' function.",Looking_up_path_for_identifier_token_did_not_result_in_an_identifer:"Looking up path for identifier token did not result in an identifer.",Unknown_rule:"Unknown rule",Invalid_line_number_0:"Invalid line number ({0})",Warn_on_expressions_and_declarations_with_an_implied_any_type:"Warn on expressions and declarations with an implied 'any' type.",Variable_0_implicitly_has_an_any_type:"Variable '{0}' implicitly has an 'any' type.",Parameter_0_of_1_implicitly_has_an_any_type:"Parameter '{0}' of '{1}' implicitly has an 'any' type.",Parameter_0_of_function_type_implicitly_has_an_any_type:"Parameter '{0}' of function type implicitly has an 'any' type.",Member_0_of_object_type_implicitly_has_an_any_type:"Member '{0}' of object type implicitly has an 'any' type.",New_expression_which_lacks_a_constructor_signature_implicitly_has_an_any_type:"\"New\" expression, which lacks a constructor signature, implicitly has an 'any' type.",_0_which_lacks_return_type_annotation_implicitly_has_an_any_return_type:"'{0}', which lacks return-type annotation, implicitly has an 'any' return type.",Function_expression_which_lacks_return_type_annotation_implicitly_has_an_any_return_type:"Function expression, which lacks return-type annotation, implicitly has an 'any' return type.",Parameter_0_of_lambda_function_implicitly_has_an_any_type:"Parameter '{0}' of lambda function implicitly has an 'any' type.",Constructor_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type:"Constructor signature, which lacks return-type annotation, implicitly has an 'any' return type.",Lambda_Function_which_lacks_return_type_annotation_implicitly_has_an_any_return_type:"Lambda Function, which lacks return-type annotation, implicitly has an 'any' return type.",Array_Literal_implicitly_has_an_any_type_from_widening:"Array Literal implicitly has an 'any' type from widening.",Use_of_deprecated_type_bool_Use_boolean_instead:"Use of deprecated type 'bool'. Use 'boolean' instead.",module_is_deprecated_Use_require_instead:"'module(...)' is deprecated. Use 'require(...)' instead.",Allow_bool_as_a_synonym_for_boolean:"Allow 'bool' as a synonym for 'boolean'.",Allow_module_as_a_synonym_for_require:"Allow 'module(...)' as a synonym for 'require(...)'."}})(TypeScript||(TypeScript={})),function(n){var t=function(){function t(){}return t.isArray=function(n){return Object.prototype.toString.apply(n,[])==="[object Array]"},t.sequenceEquals=function(n,t,i){if(n===t)return!0;if(n===null||t===null||n.length!==t.length)return!1;for(var r=0,u=n.length;r<u;r++)if(!i(n[r],t[r]))return!1;return!0},t.contains=function(n,t){for(var i=0;i<n.length;i++)if(n[i]===t)return!0;return!1},t.groupBy=function(n,t){for(var r={},i=0,u=n.length;i<u;i++){var f=n[i],e=t(f),o=r[e]||[];o.push(f);r[e]=o}return r},t.min=function(n,t){for(var r=t(n[0]),u,i=1;i<n.length;i++)u=t(n[i]),u<r&&(r=u);return r},t.max=function(n,t){for(var r=t(n[0]),u,i=1;i<n.length;i++)u=t(n[i]),u>r&&(r=u);return r},t.last=function(t){if(t.length===0)throw n.Errors.argumentOutOfRange("array");return t[t.length-1]},t.firstOrDefault=function(n,t){for(var r,i=0,u=n.length;i<u;i++)if(r=n[i],t(r))return r;return null},t.sum=function(n,t){for(var r=0,i=0,u=n.length;i<u;i++)r+=t(n[i]);return r},t.whereNotNull=function(n){for(var r=[],i,t=0;t<n.length;t++)i=n[t],i!==null&&r.push(i);return r},t.select=function(n,t){for(var r=new Array(n.length),i=0;i<n.length;i++)r[i]=t(n[i]);return r},t.where=function(n,t){for(var r=[],i=0;i<n.length;i++)t(n[i])&&r.push(n[i]);return r},t.any=function(n,t){for(var i=0,r=n.length;i<r;i++)if(t(n[i]))return!0;return!1},t.all=function(n,t){for(var i=0,r=n.length;i<r;i++)if(!t(n[i]))return!1;return!0},t.binarySearch=function(n,t){for(var i=0,u=n.length-1,r,f;i<=u;){if(r=i+(u-i>>1),f=n[r],f===t)return r;f>t?u=r-1:i=r+1}return~i},t.createArray=function(n,t){for(var r=new Array(n),i=0;i<n;i++)r[i]=t;return r},t.grow=function(n,t,i){for(var u=t-n.length,r=0;r<u;r++)n.push(i)},t.copy=function(n,t,i,r,u){for(var f=0;f<u;f++)i[r+f]=n[t+f]},t}();n.ArrayUtilities=t}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.Max31BitInteger=1073741823]="Max31BitInteger";n[n.Min31BitInteger=-1073741824]="Min31BitInteger"})(n.Constants||(n.Constants={}));var t=n.Constants}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.assert=function(n,t){if(!n)throw new Error("Debug Failure. False expression: "+(t?t:""));},n}();n.Debug=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(){}return t.argument=function(t,i){return new Error(i?n.getDiagnosticMessage(n.DiagnosticCode.Invalid_argument_0_1,[t,i]):n.getDiagnosticMessage(n.DiagnosticCode.Invalid_argument_0,[t]))},t.argumentOutOfRange=function(t){return new Error(n.getDiagnosticMessage(n.DiagnosticCode.Argument_out_of_range_0,[t]))},t.argumentNull=function(t){return new Error(n.getDiagnosticMessage(n.DiagnosticCode.Argument_null_0,[t]))},t.abstract=function(){return new Error(n.getDiagnosticMessage(n.DiagnosticCode.Operation_not_implemented_properly_by_subclass,null))},t.notYetImplemented=function(){return new Error(n.getDiagnosticMessage(n.DiagnosticCode.Not_yet_implemented,null))},t.invalidOperation=function(t){return new Error(t?n.getDiagnosticMessage(n.DiagnosticCode.Invalid_operation_0,[t]):n.getDiagnosticMessage(n.DiagnosticCode.Invalid_operation,null))},t}();n.Errors=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(){}return t.computeFnv1aCharArrayHashCode=function(i,r,u){for(var e=t.FNV_BASE,o=r+u,f=r;f<o;f++)e=n.IntegerUtilities.integerMultiplyLow32Bits(e^i[f],t.FNV_PRIME);return e},t.computeSimple31BitCharArrayHashCode=function(n,t,i){for(var r=0,f,u=0;u<i;u++)f=n[t+u],r=((r<<5)-r|0)+f|0;return r&2147483647},t.computeSimple31BitStringHashCode=function(n){for(var t=0,u=n.length,r,i=0;i<u;i++)r=n.charCodeAt(0+i),t=((t<<5)-t|0)+r|0;return t&2147483647},t.computeMurmur2StringHashCode=function(t,i){for(var f=1540483477,e=t.length,r=Math.abs(i^e),o=0;e>=2;){var s=t.charCodeAt(o),h=t.charCodeAt(o+1),u=Math.abs(s|h<<16);u=n.IntegerUtilities.integerMultiplyLow32Bits(u,f);u^=u>>24;u=n.IntegerUtilities.integerMultiplyLow32Bits(u,f);r=n.IntegerUtilities.integerMultiplyLow32Bits(r,f);r^=u;o+=2;e-=2}return e==1&&(r^=t.charCodeAt(o),r=n.IntegerUtilities.integerMultiplyLow32Bits(r,f)),r^=r>>13,r=n.IntegerUtilities.integerMultiplyLow32Bits(r,f),r^r>>15},t.getPrime=function(i){for(var u,r=0;r<t.primes.length;r++)if(u=t.primes[r],u>=i)return u;throw n.Errors.notYetImplemented();},t.expandPrime=function(n){var i=n<<1;return i>2146435069&&2146435069>n?2146435069:t.getPrime(i)},t.combine=function(n,t){return(t<<5)+t+n&2147483647},t.FNV_BASE=2166136261,t.FNV_PRIME=16777619,t.primes=[3,7,11,17,23,29,37,47,59,71,89,107,131,163,197,239,293,353,431,521,631,761,919,1103,1327,1597,1931,2333,2801,3371,4049,4861,5839,7013,8419,10103,12143,14591,17519,21023,25229,30293,36353,43627,52361,62851,75431,90523,108631,130363,156437,187751,225307,270371,324449,389357,467237,560689,672827,807403,968897,1162687,1395263,1674319,2009191,2411033,2893249,3471899,4166287,4999559,5999471,7199369],t}();n.Hash=t}(TypeScript||(TypeScript={})),function(n){(function(t){function f(n,r){return typeof n=="undefined"&&(n=t.DefaultHashTableCapacity),typeof r=="undefined"&&(r=null),new i(n,r)}function e(n){return n.__hash===undefined&&(n.__hash=r,r++),n.__hash}var u,i,r;t.DefaultHashTableCapacity=1024;u=function(){function n(n,t,i,r){this.Key=n;this.Value=t;this.HashCode=i;this.Next=r}return n}();i=function(){function t(t,i){this.hash=i;this.count=0;var r=n.Hash.getPrime(t);this.entries=n.ArrayUtilities.createArray(r,null)}return t.prototype.set=function(n,t){this.addOrSet(n,t,!1)},t.prototype.add=function(n,t){this.addOrSet(n,t,!0)},t.prototype.containsKey=function(n){var t=this.computeHashCode(n),i=this.findEntry(n,t);return i!==null},t.prototype.get=function(n){var i=this.computeHashCode(n),t=this.findEntry(n,i);return t===null?null:t.Value},t.prototype.computeHashCode=function(t){var i=this.hash===null?t.hashCode:this.hash(t);return i=i&2147483647,n.Debug.assert(i>=0),i},t.prototype.addOrSet=function(t,i,r){var f=this.computeHashCode(t),u=this.findEntry(t,f);if(u!==null){if(r)throw n.Errors.argument("key",n.getLocalizedText(n.DiagnosticCode.Key_was_already_in_table,null));u.Key=t;u.Value=i;return}return this.addEntry(t,i,f)},t.prototype.findEntry=function(n,t){for(var i=this.entries[t%this.entries.length];i!==null;i=i.Next)if(i.HashCode===t&&n===i.Key)return i;return null},t.prototype.addEntry=function(n,t,i){var r=i%this.entries.length,f=new u(n,t,i,this.entries[r]);return this.entries[r]=f,this.count>=this.entries.length/2&&this.grow(),this.count++,f.Key},t.prototype.grow=function(){var f=n.Hash.expandPrime(this.entries.length),e=this.entries,r=n.ArrayUtilities.createArray(f,null),i,t,u,o;for(this.entries=r,i=0;i<e.length;i++)for(t=e[i];t!==null;)u=t.HashCode%f,o=t.Next,t.Next=r[u],r[u]=t,t=o},t}();t.HashTable=i;t.createHashTable=f;r=1;t.identityHashCode=e})(n.Collections||(n.Collections={}));var t=n.Collections}(TypeScript||(TypeScript={})),function(n){function u(){return Environment?Environment.newLine:"\r\n"}function i(n){for(var i=-1,u=/\{(\d+)\}/g,r,t;(r=u.exec(n))!=null;)t=parseInt(r[1]),!isNaN(t)&&t>i&&(i=t);return i}function r(t){return n.diagnosticInformationMap[t]}function t(r,u){var o;n.LocalizedDiagnosticMessages;var f=n.LocalizedDiagnosticMessages?n.LocalizedDiagnosticMessages[r]:r,s=u?u.length:0,e=1+i(r);if(e!==s)throw new Error(t(n.DiagnosticCode.Expected_0_arguments_to_message_got_1_instead,[e,s]));if(o=1+i(f),o!==e)throw new Error(t(n.DiagnosticCode.Expected_the_message_0_to_have_1_arguments_but_it_had_2,[f,e,o]));return f=f.replace(/{(\d+)}/g,function(n,t){return typeof u[t]!="undefined"?u[t]:n}),f.replace(/{(NL)}/g,function(){return n.newLine()})}function e(i,u){var f=r(i),e=t(i,u);return f.category===1?t(n.DiagnosticCode.error_TS_0_1,[f.code,e]):f.category===0?t(n.DiagnosticCode.warning_TS_0_1,[f.code,e]):e}n.LocalizedDiagnosticMessages=null;n.newLine=u;var f=function(){function t(n,t,i,r,u){typeof u=="undefined"&&(u=null);this._diagnosticKey=r;this._arguments=u&&u.length>0?u:null;this._fileName=n;this._start=t;this._length=i}return t.prototype.toJSON=function(){var n={},arguments;return n.start=this.start(),n.length=this.length(),n.diagnosticCode=this._diagnosticKey,arguments=this.arguments(),arguments&&arguments.length>0&&(n.arguments=arguments),n},t.prototype.fileName=function(){return this._fileName},t.prototype.start=function(){return this._start},t.prototype.length=function(){return this._length},t.prototype.diagnosticKey=function(){return this._diagnosticKey},t.prototype.arguments=function(){return this._arguments},t.prototype.text=function(){return n.getLocalizedText(this._diagnosticKey,this._arguments)},t.prototype.message=function(){return n.getDiagnosticMessage(this._diagnosticKey,this._arguments)},t.prototype.additionalLocations=function(){return[]},t.equals=function(t,i){return t._fileName===i._fileName&&t._start===i._start&&t._length===i._length&&t._diagnosticKey===i._diagnosticKey&&n.ArrayUtilities.sequenceEquals(t._arguments,i._arguments,function(n,t){return n===t})},t}();n.Diagnostic=f;n.getDiagnosticInfoFromKey=r;n.getLocalizedText=t;n.getDiagnosticMessage=e}(TypeScript||(TypeScript={})),function(n){n.nodeMakeDirectoryTime=0;n.nodeCreateBufferTime=0;n.nodeWriteFileSyncTime=0}(TypeScript||(TypeScript={})),function(n){n[n.None=0]="None";n[n.Utf8=1]="Utf8";n[n.Utf16BigEndian=2]="Utf16BigEndian";n[n.Utf16LittleEndian=3]="Utf16LittleEndian"}(ByteOrderMark||(ByteOrderMark={}));FileInformation=function(){function n(n,t){this.contents=n;this.byteOrderMark=t}return n}();Environment=function(){function n(){function r(){return i.length>0?i.pop():new ActiveXObject("ADODB.Stream")}function f(n){i.push(n)}var n,i,u,t;try{n=new ActiveXObject("Scripting.FileSystemObject")}catch(e){return null}for(i=[],u=[],t=0;t<WScript.Arguments.length;t++)u[t]=WScript.Arguments.Item(t);return{newLine:"\r\n",currentDirectory:function(){return WScript.CreateObject("WScript.Shell").CurrentDirectory},supportsCodePage:function(){return WScript.ReadFile},readFile:function(n,t){var i,u,o,e,s;try{if(t!==null&&this.supportsCodePage())try{return e=WScript.ReadFile(n,t),new FileInformation(e,0)}catch(c){}return i=r(),i.Open(),i.Type=2,i.Charset="x-ansi",i.LoadFromFile(n),u=i.ReadText(2),i.Position=0,o=0,u.charCodeAt(0)===254&&u.charCodeAt(1)===255?(i.Charset="unicode",o=2):u.charCodeAt(0)===255&&u.charCodeAt(1)===254?(i.Charset="unicode",o=3):u.charCodeAt(0)===239&&u.charCodeAt(1)===187?(i.Charset="utf-8",o=1):i.Charset="utf-8",e=i.ReadText(-1),i.Close(),f(i),new FileInformation(e,o)}catch(h){s=h.number===-2147024809?TypeScript.getDiagnosticMessage(TypeScript.DiagnosticCode.Unsupported_file_encoding,null):TypeScript.getDiagnosticMessage(TypeScript.DiagnosticCode.Cannot_read_file_0_1,[n,h.message]);throw new Error(s);}},writeFile:function(n,t,i){var u=r(),f;u.Charset="utf-8";u.Open();u.WriteText(t,0);u.Position=i?0:3;f=r();f.Type=1;f.Open();u.CopyTo(f);f.Flush();f.SaveToFile(n,2);f.Close();u.Flush();u.Close()},fileExists:function(t){return n.FileExists(t)},deleteFile:function(t){n.FileExists(t)&&n.DeleteFile(t,!0)},directoryExists:function(t){return n.FolderExists(t)},listFiles:function(t,i,r){function u(n,t){var e=[],f;if(r.recursive)for(f=new Enumerator(n.subfolders);!f.atEnd();f.moveNext())e=e.concat(u(f.item(),t+"\\"+f.item().Name));for(f=new Enumerator(n.files);!f.atEnd();f.moveNext())(!i||f.item().Name.match(i))&&e.push(t+"\\"+f.item().Name);return e}r=r||{};var f=n.GetFolder(t);return u(f,t)},arguments:u,standardOut:WScript.StdOut}}function t(){var n=require("fs"),t=require("path"),r=require("module"),i=require("os");return{newLine:i.EOL,currentDirectory:function(){return process.cwd()},supportsCodePage:function(){return!1},readFile:function(t,i){var r,u,f;if(i!==null)throw new Error(TypeScript.getDiagnosticMessage(TypeScript.DiagnosticCode.codepage_option_not_supported_on_current_platform,null));r=n.readFileSync(t);switch(r[0]){case 254:if(r[1]===255){for(u=0;u+1<r.length;)f=r[u],r[u]=r[u+1],r[u+1]=f,u+=2;return new FileInformation(r.toString("ucs2",2),2)}break;case 255:if(r[1]===254)return new FileInformation(r.toString("ucs2",2),3);break;case 239:if(r[1]===187)return new FileInformation(r.toString("utf8",3),1)}return new FileInformation(r.toString("utf8",0),0)},writeFile:function(i,r,u){function s(i){var r=n.statSync(i);if(r.isFile())throw'"'+i+"\" exists but isn't a directory.";else{if(r.isDirectory())return;s(t.dirname(i));n.mkdirSync(i,0775)}}var e=(new Date).getTime(),f,l,o;s(t.dirname(i));TypeScript.nodeMakeDirectoryTime+=(new Date).getTime()-e;u&&(r="﻿"+r);var e=(new Date).getTime(),h=4096,c=n.openSync(i,"w");try{for(f=0;f<r.length;f+=h)l=(new Date).getTime(),o=new Buffer(r.substr(f,h),"utf8"),TypeScript.nodeCreateBufferTime+=(new Date).getTime()-l,n.writeSync(c,o,0,o.length,null)}finally{n.closeSync(c)}TypeScript.nodeWriteFileSyncTime+=(new Date).getTime()-e},fileExists:function(t){return n.existsSync(t)},deleteFile:function(t){try{n.unlinkSync(t)}catch(i){}},directoryExists:function(t){return n.existsSync(t)&&n.statSync(t).isDirectory()},listFiles:function(t,i,r){function u(t){for(var o=[],e=n.readdirSync(t),s,f=0;f<e.length;f++)s=n.statSync(t+"\\"+e[f]),r.recursive&&s.isDirectory()?o=o.concat(u(t+"\\"+e[f])):s.isFile()&&(!i||e[f].match(i))&&o.push(t+"\\"+e[f]);return o}return r=r||{},u(t)},arguments:process.argv.slice(2),standardOut:{Write:function(n){process.stdout.write(n)},WriteLine:function(n){process.stdout.write(n+"\n")},Close:function(){}}}}return typeof WScript!="undefined"&&typeof ActiveXObject=="function"?n():typeof module!="undefined"&&module.exports?t():null}(),function(n){var t=function(){function n(){}return n.integerDivide=function(n,t){return n/t>>0},n.integerMultiplyLow32Bits=function(n,t){var i=n&65535,r=n>>>16,u=t&65535,f=t>>>16;return((n&4294901760)*t>>>0)+((n&65535)*t>>>0)>>>0},n.integerMultiplyHigh32Bits=function(n,t){var i=n&65535,u=n>>>16,f=t&65535,r=t>>>16;return u*r+((i*f>>>17)+i*r>>>15)},n}();n.IntegerUtilities=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.max=function(n,t){return n>=t?n:t},n.min=function(n,t){return n<=t?n:t},n}();n.MathPrototype=t}(TypeScript||(TypeScript={})),function(n){(function(t){t.DefaultStringTableCapacity=256;var r=function(){function n(n,t,i){this.Text=n;this.HashCode=t;this.Next=i}return n}(),i=function(){function t(t){this.count=0;var i=n.Hash.getPrime(t);this.entries=n.ArrayUtilities.createArray(i,null)}return t.prototype.addCharArray=function(t,i,r){var u=n.Hash.computeSimple31BitCharArrayHashCode(t,i,r)&2147483647,f=this.findCharArrayEntry(t,i,r,u),e;return f!==null?f.Text:(e=t.slice(i,i+r),this.addEntry(n.StringUtilities.fromCharCodeArray(e),u))},t.prototype.findCharArrayEntry=function(n,i,r,u){for(var f=this.entries[u%this.entries.length];f!==null;f=f.Next)if(f.HashCode===u&&t.textCharArrayEquals(f.Text,n,i,r))return f;return null},t.prototype.addEntry=function(n,t){var i=t%this.entries.length,u=new r(n,t,this.entries[i]);return this.entries[i]=u,this.count===this.entries.length&&this.grow(),this.count++,u.Text},t.prototype.grow=function(){var f=n.Hash.expandPrime(this.entries.length),e=this.entries,r=n.ArrayUtilities.createArray(f,null),i,t,u,o;for(this.entries=r,i=0;i<e.length;i++)for(t=e[i];t!==null;)u=t.HashCode%f,o=t.Next,t.Next=r[u],r[u]=t,t=o},t.textCharArrayEquals=function(n,t,i,r){var f,u;if(n.length!==r)return!1;for(f=i,u=0;u<r;u++){if(n.charCodeAt(u)!==t[f])return!1;f++}return!0},t}();t.StringTable=i;t.DefaultStringTable=new i(t.DefaultStringTableCapacity)})(n.Collections||(n.Collections={}));var t=n.Collections}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.isString=function(n){return Object.prototype.toString.apply(n,[])==="[object String]"},n.fromCharCodeArray=function(n){return String.fromCharCode.apply(null,n)},n.endsWith=function(n,t){return n.substring(n.length-t.length,n.length)===t},n.startsWith=function(n,t){return n.substr(0,t.length)===t},n.copyTo=function(n,t,i,r,u){for(var f=0;f<u;f++)i[r+f]=n.charCodeAt(t+f)},n.repeat=function(n,t){return Array(t+1).join(n)},n.stringEquals=function(n,t){return n===t},n}();n.StringUtilities=t}(TypeScript||(TypeScript={}));global=Function("return this").call(null),function(n){var t,i;(function(n){n.now;n.resolution;typeof WScript!="undefined"&&typeof global.WScript.InitializeProjection!="undefined"?(global.WScript.InitializeProjection(),n.now=function(){return TestUtilities.QueryPerformanceCounter()},n.resolution=TestUtilities.QueryPerformanceFrequency()):(n.now=function(){return Date.now()},n.resolution=1e3)})(t||(t={}));i=function(){function n(){this.time=0}return n.prototype.start=function(){this.time=0;this.startTime=t.now()},n.prototype.end=function(){this.time=t.now()-this.startTime},n}();n.Timer=i}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.Warning=0]="Warning";n[n.Error=1]="Error";n[n.Message=2]="Message";n[n.NoPrefix=3]="NoPrefix"})(n.DiagnosticCategory||(n.DiagnosticCategory={}));var t=n.DiagnosticCategory}(TypeScript||(TypeScript={})),function(n){n.diagnosticInformationMap={"error TS{0}: {1}":{code:0,category:3},"warning TS{0}: {1}":{code:1,category:3},"Unrecognized escape sequence.":{code:1e3,category:1},"Unexpected character {0}.":{code:1001,category:1},"Missing close quote character.":{code:1002,category:1},"Identifier expected.":{code:1003,category:1},"'{0}' keyword expected.":{code:1004,category:1},"'{0}' expected.":{code:1005,category:1},"Identifier expected; '{0}' is a keyword.":{code:1006,category:1},"Automatic semicolon insertion not allowed.":{code:1007,category:1},"Unexpected token; '{0}' expected.":{code:1008,category:1},"Trailing separator not allowed.":{code:1009,category:1},"'*/' expected.":{code:1010,category:1},"'public' or 'private' modifier must precede 'static'.":{code:1011,category:1},"Unexpected token.":{code:1012,category:1},"Catch clause parameter cannot have a type annotation.":{code:1013,category:1},"Rest parameter must be last in list.":{code:1014,category:1},"Parameter cannot have question mark and initializer.":{code:1015,category:1},"Required parameter cannot follow optional parameter.":{code:1016,category:1},"Index signatures cannot have rest parameters.":{code:1017,category:1},"Index signature parameter cannot have accessibility modifiers.":{code:1018,category:1},"Index signature parameter cannot have a question mark.":{code:1019,category:1},"Index signature parameter cannot have an initializer.":{code:1020,category:1},"Index signature must have a type annotation.":{code:1021,category:1},"Index signature parameter must have a type annotation.":{code:1022,category:1},"Index signature parameter type must be 'string' or 'number'.":{code:1023,category:1},"'extends' clause already seen.":{code:1024,category:1},"'extends' clause must precede 'implements' clause.":{code:1025,category:1},"Classes can only extend a single class.":{code:1026,category:1},"'implements' clause already seen.":{code:1027,category:1},"Accessibility modifier already seen.":{code:1028,category:1},"'{0}' modifier must precede '{1}' modifier.":{code:1029,category:1},"'{0}' modifier already seen.":{code:1030,category:1},"'{0}' modifier cannot appear on a class element.":{code:1031,category:1},"Interface declaration cannot have 'implements' clause.":{code:1032,category:1},"'super' invocation cannot have type arguments.":{code:1034,category:1},"Only ambient modules can use quoted names.":{code:1035,category:1},"Statements are not allowed in ambient contexts.":{code:1036,category:1},"Implementations are not allowed in ambient contexts.":{code:1037,category:1},"'declare' modifier not allowed for code already in an ambient context.":{code:1038,category:1},"Initializers are not allowed in ambient contexts.":{code:1039,category:1},"Parameter property declarations can only be used in constructors.":{code:1040,category:1},"Function implementation expected.":{code:1041,category:1},"Constructor implementation expected.":{code:1042,category:1},"Function overload name must be '{0}'.":{code:1043,category:1},"'{0}' modifier cannot appear on a module element.":{code:1044,category:1},"'declare' modifier cannot appear on an interface declaration.":{code:1045,category:1},"'declare' modifier required for top level element.":{code:1046,category:1},"Rest parameter cannot be optional.":{code:1047,category:1},"Rest parameter cannot have an initializer.":{code:1048,category:1},"'set' accessor must have one and only one parameter.":{code:1049,category:1},"'set' accessor parameter cannot have accessibility modifier.":{code:1050,category:1},"'set' accessor parameter cannot be optional.":{code:1051,category:1},"'set' accessor parameter cannot have an initializer.":{code:1052,category:1},"'set' accessor cannot have rest parameter.":{code:1053,category:1},"'get' accessor cannot have parameters.":{code:1054,category:1},"Modifiers cannot appear here.":{code:1055,category:1},"Accessors are only available when targeting ECMAScript 5 and higher.":{code:1056,category:1},"Class name cannot be '{0}'.":{code:1057,category:1},"Interface name cannot be '{0}'.":{code:1058,category:1},"Enum name cannot be '{0}'.":{code:1059,category:1},"Module name cannot be '{0}'.":{code:1060,category:1},"Enum member must have initializer.":{code:1061,category:1},"Export assignment cannot be used in internal modules.":{code:1063,category:1},"Export assignment not allowed in module with exported element.":{code:1064,category:1},"Module cannot have multiple export assignments.":{code:1065,category:1},"Ambient enum elements can only have integer literal initializers.":{code:1066,category:1},"module, class, interface, enum, import or statement":{code:1067,category:3},"constructor, function, accessor or variable":{code:1068,category:3},statement:{code:1069,category:3},"case or default clause":{code:1070,category:3},identifier:{code:1071,category:3},"call, construct, index, property or function signature":{code:1072,category:3},expression:{code:1073,category:3},"type name":{code:1074,category:3},"property or accessor":{code:1075,category:3},parameter:{code:1076,category:3},type:{code:1077,category:3},"type parameter":{code:1078,category:3},"'declare' modifier not allowed on import declaration.":{code:1079,category:1},"Function overload must be static":{code:1080,category:1},"Function overload must not be static":{code:1081,category:1},"Parameter property declarations cannot be used in an ambient context.":{code:1082,category:1},"Parameter property declarations cannot be used in a constructor overload.":{code:1083,category:1},"Duplicate identifier '{0}'.":{code:2e3,category:1},"The name '{0}' does not exist in the current scope.":{code:2001,category:1},"The name '{0}' does not refer to a value.":{code:2002,category:1},"'super' can only be used inside a class instance method.":{code:2003,category:1},"The left-hand side of an assignment expression must be a variable, property or indexer.":{code:2004,category:1},"Value of type '{0}' is not callable. Did you mean to include 'new'?":{code:2161,category:1},"Value of type '{0}' is not callable.":{code:2006,category:1},"Value of type '{0}' is not newable.":{code:2007,category:1},"Value of type '{0}' is not indexable by type '{1}'.":{code:2008,category:1},"Operator '{0}' cannot be applied to types '{1}' and '{2}'.":{code:2009,category:1},"Operator '{0}' cannot be applied to types '{1}' and '{2}': {3}":{code:2010,category:1},"Cannot convert '{0}' to '{1}'.":{code:2011,category:1},"Cannot convert '{0}' to '{1}':{NL}{2}":{code:2012,category:1},"Expected var, class, interface, or module.":{code:2013,category:1},"Operator '{0}' cannot be applied to type '{1}'.":{code:2014,category:1},"Getter '{0}' already declared.":{code:2015,category:1},"Setter '{0}' already declared.":{code:2016,category:1},"Accessors cannot have type parameters.":{code:2017,category:1},"Exported class '{0}' extends private class '{1}'.":{code:2018,category:1},"Exported class '{0}' implements private interface '{1}'.":{code:2019,category:1},"Exported interface '{0}' extends private interface '{1}'.":{code:2020,category:1},"Exported class '{0}' extends class from inaccessible module {1}.":{code:2021,category:1},"Exported class '{0}' implements interface from inaccessible module {1}.":{code:2022,category:1},"Exported interface '{0}' extends interface from inaccessible module {1}.":{code:2023,category:1},"Public static property '{0}' of exported class has or is using private type '{1}'.":{code:2024,category:1},"Public property '{0}' of exported class has or is using private type '{1}'.":{code:2025,category:1},"Property '{0}' of exported interface has or is using private type '{1}'.":{code:2026,category:1},"Exported variable '{0}' has or is using private type '{1}'.":{code:2027,category:1},"Public static property '{0}' of exported class is using inaccessible module {1}.":{code:2028,category:1},"Public property '{0}' of exported class is using inaccessible module {1}.":{code:2029,category:1},"Property '{0}' of exported interface is using inaccessible module {1}.":{code:2030,category:1},"Exported variable '{0}' is using inaccessible module {1}.":{code:2031,category:1},"Parameter '{0}' of constructor from exported class has or is using private type '{1}'.":{code:2032,category:1},"Parameter '{0}' of public static property setter from exported class has or is using private type '{1}'.":{code:2033,category:1},"Parameter '{0}' of public property setter from exported class has or is using private type '{1}'.":{code:2034,category:1},"Parameter '{0}' of constructor signature from exported interface has or is using private type '{1}'.":{code:2035,category:1},"Parameter '{0}' of call signature from exported interface has or is using private type '{1}'.":{code:2036,category:1},"Parameter '{0}' of public static method from exported class has or is using private type '{1}'.":{code:2037,category:1},"Parameter '{0}' of public method from exported class has or is using private type '{1}'.":{code:2038,category:1},"Parameter '{0}' of method from exported interface has or is using private type '{1}'.":{code:2039,category:1},"Parameter '{0}' of exported function has or is using private type '{1}'.":{code:2040,category:1},"Parameter '{0}' of constructor from exported class is using inaccessible module {1}.":{code:2041,category:1},"Parameter '{0}' of public static property setter from exported class is using inaccessible module {1}.":{code:2042,category:1},"Parameter '{0}' of public property setter from exported class is using inaccessible module {1}.":{code:2043,category:1},"Parameter '{0}' of constructor signature from exported interface is using inaccessible module {1}.":{code:2044,category:1},"Parameter '{0}' of call signature from exported interface is using inaccessible module {1}":{code:2045,category:1},"Parameter '{0}' of public static method from exported class is using inaccessible module {1}.":{code:2046,category:1},"Parameter '{0}' of public method from exported class is using inaccessible module {1}.":{code:2047,category:1},"Parameter '{0}' of method from exported interface is using inaccessible module {1}.":{code:2048,category:1},"Parameter '{0}' of exported function is using inaccessible module {1}.":{code:2049,category:1},"Return type of public static property getter from exported class has or is using private type '{0}'.":{code:2050,category:1},"Return type of public property getter from exported class has or is using private type '{0}'.":{code:2051,category:1},"Return type of constructor signature from exported interface has or is using private type '{0}'.":{code:2052,category:1},"Return type of call signature from exported interface has or is using private type '{0}'.":{code:2053,category:1},"Return type of index signature from exported interface has or is using private type '{0}'.":{code:2054,category:1},"Return type of public static method from exported class has or is using private type '{0}'.":{code:2055,category:1},"Return type of public method from exported class has or is using private type '{0}'.":{code:2056,category:1},"Return type of method from exported interface has or is using private type '{0}'.":{code:2057,category:1},"Return type of exported function has or is using private type '{0}'.":{code:2058,category:1},"Return type of public static property getter from exported class is using inaccessible module {0}.":{code:2059,category:1},"Return type of public property getter from exported class is using inaccessible module {0}.":{code:2060,category:1},"Return type of constructor signature from exported interface is using inaccessible module {0}.":{code:2061,category:1},"Return type of call signature from exported interface is using inaccessible module {0}.":{code:2062,category:1},"Return type of index signature from exported interface is using inaccessible module {0}.":{code:2063,category:1},"Return type of public static method from exported class is using inaccessible module {0}.":{code:2064,category:1},"Return type of public method from exported class is using inaccessible module {0}.":{code:2065,category:1},"Return type of method from exported interface is using inaccessible module {0}.":{code:2066,category:1},"Return type of exported function is using inaccessible module {0}.":{code:2067,category:1},"'new T[]' cannot be used to create an array. Use 'new Array<T>()' instead.":{code:2068,category:1},"A parameter list must follow a generic type argument list. '(' expected.":{code:2069,category:1},"Multiple constructor implementations are not allowed.":{code:2070,category:1},"Unable to resolve external module '{0}'.":{code:2071,category:1},"Module cannot be aliased to a non-module type.":{code:2072,category:1},"A class may only extend another class.":{code:2073,category:1},"A class may only implement another class or interface.":{code:2074,category:1},"An interface may only extend another class or interface.":{code:2075,category:1},"An interface cannot implement another type.":{code:2076,category:1},"Unable to resolve type.":{code:2077,category:1},"Unable to resolve type of '{0}'.":{code:2078,category:1},"Unable to resolve type parameter constraint.":{code:2079,category:1},"Type parameter constraint cannot be a primitive type.":{code:2080,category:1},"Supplied parameters do not match any signature of call target.":{code:2081,category:1},"Supplied parameters do not match any signature of call target:{NL}{0}":{code:2082,category:1},"Invalid 'new' expression.":{code:2083,category:1},"Call signatures used in a 'new' expression must have a 'void' return type.":{code:2084,category:1},"Could not select overload for 'new' expression.":{code:2085,category:1},"Type '{0}' does not satisfy the constraint '{1}' for type parameter '{2}'.":{code:2086,category:1},"Could not select overload for 'call' expression.":{code:2087,category:1},"Cannot invoke an expression whose type lacks a call signature.":{code:2088,category:1},"Calls to 'super' are only valid inside a class.":{code:2089,category:1},"Generic type '{0}' requires {1} type argument(s).":{code:2090,category:1},"Type of conditional expression cannot be determined. Best common type could not be found between '{0}' and '{1}'.":{code:2091,category:1},"Type of array literal cannot be determined. Best common type could not be found for array elements.":{code:2092,category:1},"Could not find enclosing symbol for dotted name '{0}'.":{code:2093,category:1},"The property '{0}' does not exist on value of type '{1}'.":{code:2094,category:1},"Could not find symbol '{0}'.":{code:2095,category:1},"'get' and 'set' accessor must have the same type.":{code:2096,category:1},"'this' cannot be referenced in current location.":{code:2097,category:1},"Static methods cannot reference class type parameters.":{code:2099,category:1},"Class '{0}' is recursively referenced as a base type of itself.":{code:2100,category:1},"Interface '{0}' is recursively referenced as a base type of itself.":{code:2101,category:1},"'super' property access is permitted only in a constructor, instance member function, or instance member accessor of a derived class.":{code:2102,category:1},"'super' cannot be referenced in non-derived classes.":{code:2103,category:1},"A 'super' call must be the first statement in the constructor when a class contains initialized properties or has parameter properties.":{code:2104,category:1},"Constructors for derived classes must contain a 'super' call.":{code:2105,category:1},"Super calls are not permitted outside constructors or in local functions inside constructors.":{code:2106,category:1},"'{0}.{1}' is inaccessible.":{code:2107,category:1},"'this' cannot be referenced within module bodies.":{code:2108,category:1},"Invalid '+' expression - types not known to support the addition operator.":{code:2111,category:1},"The right-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type.":{code:2112,category:1},"The left-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type.":{code:2113,category:1},"The type of a unary arithmetic operation operand must be of type 'any', 'number' or an enum type.":{code:2114,category:1},"Variable declarations of a 'for' statement cannot use a type annotation.":{code:2115,category:1},"Variable declarations of a 'for' statement must be of types 'string' or 'any'.":{code:2116,category:1},"The right-hand side of a 'for...in' statement must be of type 'any', an object type or a type parameter.":{code:2117,category:1},"The left-hand side of an 'in' expression must be of types 'string' or 'any'.":{code:2118,category:1},"The right-hand side of an 'in' expression must be of type 'any', an object type or a type parameter.":{code:2119,category:1},"The left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter.":{code:2120,category:1},"The right-hand side of an 'instanceof' expression must be of type 'any' or a subtype of the 'Function' interface type.":{code:2121,category:1},"Setters cannot return a value.":{code:2122,category:1},"Tried to query type of uninitialized module '{0}'.":{code:2123,category:1},"Tried to set variable type to uninitialized module type '{0}'.":{code:2124,category:1},"Function '{0}' declared a non-void return type, but has no return expression.":{code:2125,category:1},"Getters must return a value.":{code:2126,category:1},"Getter and setter accessors do not agree in visibility.":{code:2127,category:1},"Invalid left-hand side of assignment expression.":{code:2130,category:1},"Function declared a non-void return type, but has no return expression.":{code:2131,category:1},"Cannot resolve return type reference.":{code:2132,category:1},"Constructors cannot have a return type of 'void'.":{code:2133,category:1},"Subsequent variable declarations must have the same type.  Variable '{0}' must be of type '{1}', but here has type '{2}'.":{code:2134,category:1},"All symbols within a with block will be resolved to 'any'.":{code:2135,category:1},"Import declarations in an internal module cannot reference an external module.":{code:2136,category:1},"Class {0} declares interface {1} but does not implement it:{NL}{2}":{code:2137,category:1},"Class {0} declares class {1} as an interface but does not implement it:{NL}{2}":{code:2138,category:1},"The operand of an increment or decrement operator must be a variable, property or indexer.":{code:2139,category:1},"'this' cannot be referenced in static initializers in a class body.":{code:2140,category:1},"Class '{0}' cannot extend class '{1}':{NL}{2}":{code:2141,category:1},"Interface '{0}' cannot extend class '{1}':{NL}{2}":{code:2142,category:1},"Interface '{0}' cannot extend interface '{1}':{NL}{2}":{code:2143,category:1},"Duplicate overload signature for '{0}'.":{code:2144,category:1},"Duplicate constructor overload signature.":{code:2145,category:1},"Duplicate overload call signature.":{code:2146,category:1},"Duplicate overload construct signature.":{code:2147,category:1},"Overload signature is not compatible with function definition.":{code:2148,category:1},"Overload signature is not compatible with function definition:{NL}{0}":{code:2149,category:1},"Overload signatures must all be public or private.":{code:2150,category:1},"Overload signatures must all be exported or local.":{code:2151,category:1},"Overload signatures must all be ambient or non-ambient.":{code:2152,category:1},"Overload signatures must all be optional or required.":{code:2153,category:1},"Specialized overload signature is not subtype of any non-specialized signature.":{code:2154,category:1},"'this' cannot be referenced in constructor arguments.":{code:2155,category:1},"Static member cannot be accessed off an instance variable.":{code:2156,category:1},"Instance member cannot be accessed off a class.":{code:2157,category:1},"Untyped function calls may not accept type arguments.":{code:2158,category:1},"Non-generic functions may not accept type arguments.":{code:2159,category:1},"A generic type may not reference itself with a wrapped form of its own type parameters.":{code:2160,category:1},"Rest parameters must be array types.":{code:2162,category:1},"Overload signature implementation cannot use specialized type.":{code:2163,category:1},"Export assignments may only be used at the top-level of external modules.":{code:2164,category:1},"Export assignments may only be made with variables, functions, classes, interfaces, enums and internal modules":{code:2165,category:1},"Only public instance methods of the base class are accessible via the 'super' keyword.":{code:2166,category:1},"Numeric indexer type '{0}' must be a subtype of string indexer type '{1}'.":{code:2167,category:1},"Numeric indexer type '{0}' must be a subtype of string indexer type '{1}':{NL}{2}":{code:2168,category:1},"All numerically named properties must be subtypes of numeric indexer type '{0}'.":{code:2169,category:1},"All numerically named properties must be subtypes of numeric indexer type '{0}':{NL}{1}":{code:2170,category:1},"All named properties must be subtypes of string indexer type '{0}'.":{code:2171,category:1},"All named properties must be subtypes of string indexer type '{0}':{NL}{1}":{code:2172,category:1},"Generic type references must include all type arguments.":{code:2173,category:1},"Default arguments are not allowed in an overload parameter.":{code:2174,category:1},"Overloads cannot differ only by return type.":{code:2175,category:1},"Function expression declared a non-void return type, but has no return expression.":{code:2176,category:1},"Import declaration referencing identifier from internal module can only be made with variables, functions, classes, interfaces, enums and internal modules.":{code:2177,category:1},"Could not find symbol '{0}' in module '{1}'.":{code:2178,category:1},"Unable to resolve module reference '{0}'.":{code:2179,category:1},"Could not find module '{0}' in module '{1}'.":{code:2180,category:1},"Exported import declaration '{0}' is assigned value with type that has or is using private type '{1}'.":{code:2181,category:1},"Exported import declaration '{0}' is assigned value with type that is using inaccessible module '{1}'.":{code:2182,category:1},"Exported import declaration '{0}' is assigned type that has or is using private type '{1}'.":{code:2183,category:1},"Exported import declaration '{0}' is assigned type that is using inaccessible module '{1}'.":{code:2184,category:1},"Exported import declaration '{0}' is assigned container that is or is using inaccessible module '{1}'.":{code:2185,category:1},"Type reference '{0}' in extends clause doesn't reference constructor function for '{1}'.":{code:2186,category:1},"Internal module reference '{0}' in import declaration doesn't reference module instance for '{1}'.":{code:2187,category:1},"Type '{0}' is missing property '{1}' from type '{2}'.":{code:4e3,category:3},"Types of property '{0}' of types '{1}' and '{2}' are incompatible.":{code:4001,category:3},"Types of property '{0}' of types '{1}' and '{2}' are incompatible:{NL}{3}":{code:4002,category:3},"Property '{0}' defined as private in type '{1}' is defined as public in type '{2}'.":{code:4003,category:3},"Property '{0}' defined as public in type '{1}' is defined as private in type '{2}'.":{code:4004,category:3},"Types '{0}' and '{1}' define property '{2}' as private.":{code:4005,category:3},"Call signatures of types '{0}' and '{1}' are incompatible.":{code:4006,category:3},"Call signatures of types '{0}' and '{1}' are incompatible:{NL}{2}":{code:4007,category:3},"Type '{0}' requires a call signature, but type '{1}' lacks one.":{code:4008,category:3},"Construct signatures of types '{0}' and '{1}' are incompatible.":{code:4009,category:3},"Construct signatures of types '{0}' and '{1}' are incompatible:{NL}{2}":{code:40010,category:3},"Type '{0}' requires a construct signature, but type '{1}' lacks one.":{code:4011,category:3},"Index signatures of types '{0}' and '{1}' are incompatible.":{code:4012,category:3},"Index signatures of types '{0}' and '{1}' are incompatible:{NL}{2}":{code:4013,category:3},"Call signature expects {0} or fewer parameters.":{code:4014,category:3},"Could not apply type '{0}' to argument {1} which is of type '{2}'.":{code:4015,category:3},"Class '{0}' defines instance member accessor '{1}', but extended class '{2}' defines it as instance member function.":{code:4016,category:3},"Class '{0}' defines instance member property '{1}', but extended class '{2}' defines it as instance member function.":{code:4017,category:3},"Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member accessor.":{code:4018,category:3},"Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member property.":{code:4019,category:3},"Types of static property '{0}' of class '{1}' and class '{2}' are incompatible.":{code:4020,category:3},"Types of static property '{0}' of class '{1}' and class '{2}' are incompatible:{NL}{3}":{code:4021,category:3},"Type reference cannot refer to container '{0}'.":{code:4022,category:1},"Type reference must refer to type.":{code:4023,category:1},"Enums with multiple declarations must provide an initializer for the first enum element.":{code:4024,category:1}," (+ {0} overload(s))":{code:4025,category:2},"Current host does not support '{0}' option.":{code:5001,category:1},"ECMAScript target version '{0}' not supported.  Using default '{1}' code generation.":{code:5002,category:0},"Module code generation '{0}' not supported.":{code:5003,category:0},"Could not find file: '{0}'.":{code:5004,category:1},"A file cannot have a reference to itself.":{code:5006,category:1},"Cannot resolve referenced file: '{0}'.":{code:5007,category:1},"Cannot find the common subdirectory path for the input files.":{code:5009,category:1},"Emit Error: {0}.":{code:5011,category:1},"Cannot read file '{0}': {1}":{code:5012,category:1},"Unsupported file encoding.":{code:5013,category:3},"Locale must be of the form <language> or <language>-<territory>. For example '{0}' or '{1}'.":{code:5014,category:1},"Unsupported locale: '{0}'.":{code:5015,category:1},"Execution Failed.{NL}":{code:5016,category:1},"Should not emit a type query":{code:5017,category:1},"Should not emit a type reference":{code:5018,category:1},"Invalid call to 'up'":{code:5019,category:1},"Invalid call to 'down'":{code:5020,category:1},"Base64 value '{0}' finished with a continuation bit":{code:5021,category:1},"Key was already in table":{code:5022,category:1},"Unknown option '{0}'":{code:5023,category:1},"Expected {0} arguments to message, got {1} instead":{code:5024,category:1},"Expected the message '{0}' to have {1} arguments, but it had {2}":{code:5025,category:1},"Invalid argument: {0}. {1}":{code:5026,category:1},"Invalid argument: {0}.":{code:5027,category:1},"Argument out of range: {0}.":{code:5028,category:1},"Argument null: {0}.":{code:5029,category:1},"Operation not implemented properly by subclass.":{code:5030,category:1},"Not yet implemented.":{code:5031,category:1},"Invalid operation: {0}":{code:5032,category:1},"Invalid operation.":{code:5033,category:1},"Could not delete file '{0}'":{code:5034,category:1},"Could not create directory '{0}'":{code:5035,category:1},"Error while executing file '{0}': ":{code:5036,category:1},"Cannot compile external modules unless the '--module' flag is provided.":{code:5037,category:1},"Option mapRoot cannot be specified without specifying sourcemap option.":{code:5038,category:1},"Option sourceRoot cannot be specified without specifying sourcemap option.":{code:5039,category:1},"Options mapRoot and sourceRoot cannot be specified without specifying sourcemap option.":{code:5040,category:1},"Option '{0}' specified without '{1}'":{code:5041,category:1},"'codepage' option not supported on current platform.":{code:5042,category:1},"Concatenate and emit output to single file.":{code:6001,category:2},"Generates corresponding {0} file":{code:6002,category:2},"Specifies the location where debugger should locate map files instead of generated locations.":{code:6003,category:2},"Specifies the location where debugger should locate TypeScript files instead of source locations.":{code:6004,category:2},"Watch input files":{code:6005,category:2},"Redirect output structure to the directory":{code:6006,category:2},"Do not emit comments to output":{code:6009,category:2},"Skip resolution and preprocessing":{code:6010,category:2},'Specify ECMAScript target version: "{0}" (default), or "{1}"':{code:6015,category:2},'Specify module code generation: "{0}" or "{1}"':{code:6016,category:2},"Print this message":{code:6017,category:2},"Print the compiler's version: {0}":{code:6019,category:2},'Allow use of deprecated "{0}" keyword when referencing an external module':{code:6021,category:2},"Specify locale for errors and messages. For example '{0}' or '{1}'":{code:6022,category:2},"Syntax:   {0}":{code:6023,category:2},options:{code:6024,category:2},file1:{code:6025,category:2},"Examples:":{code:6026,category:2},"Options:":{code:6027,category:2},"Insert command line options and files from a file.":{code:6030,category:2},"Version {0}":{code:6029,category:2},"Use the '{0}' flag to see options":{code:6031,category:2},"{NL}Recompiling ({0}):":{code:6032,category:2},STRING:{code:6033,category:2},KIND:{code:6034,category:2},file2:{code:6035,category:2},VERSION:{code:6036,category:2},LOCATION:{code:6037,category:2},DIRECTORY:{code:6038,category:2},NUMBER:{code:6039,category:2},"Specify the codepage to use when opening source files.":{code:6040,category:2},"This version of the Javascript runtime does not support the '{0}' function.":{code:7e3,category:1},"Looking up path for identifier token did not result in an identifer.":{code:7001,category:1},"Unknown rule":{code:7002,category:1},"Invalid line number ({0})":{code:7003,category:1},"Warn on expressions and declarations with an implied 'any' type.":{code:7004,category:2},"Variable '{0}' implicitly has an 'any' type.":{code:7005,category:1},"Parameter '{0}' of '{1}' implicitly has an 'any' type.":{code:7006,category:1},"Parameter '{0}' of function type implicitly has an 'any' type.":{code:7007,category:1},"Member '{0}' of object type implicitly has an 'any' type.":{code:7008,category:1},"\"New\" expression, which lacks a constructor signature, implicitly has an 'any' type.":{code:7009,category:1},"'{0}', which lacks return-type annotation, implicitly has an 'any' return type.":{code:7010,category:1},"Function expression, which lacks return-type annotation, implicitly has an 'any' return type.":{code:7011,category:1},"Parameter '{0}' of lambda function implicitly has an 'any' type.":{code:7012,category:1},"Constructor signature, which lacks return-type annotation, implicitly has an 'any' return type.":{code:7013,category:1},"Lambda Function, which lacks return-type annotation, implicitly has an 'any' return type.":{code:7014,category:1},"Array Literal implicitly has an 'any' type from widening.":{code:7014,category:1},"Use of deprecated type 'bool'. Use 'boolean' instead.":{code:7020,category:0},"'module(...)' is deprecated. Use 'require(...)' instead.":{code:7021,category:0},"Allow 'bool' as a synonym for 'boolean'.":{code:7022,category:2},"Allow 'module(...)' as a synonym for 'require(...)'.":{code:7022,category:2}}}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.nullCharacter=0]="nullCharacter";n[n.maxAsciiCharacter=127]="maxAsciiCharacter";n[n.lineFeed=10]="lineFeed";n[n.carriageReturn=13]="carriageReturn";n[n.lineSeparator=8232]="lineSeparator";n[n.paragraphSeparator=8233]="paragraphSeparator";n[n.nextLine=133]="nextLine";n[n.space=32]="space";n[n.nonBreakingSpace=160]="nonBreakingSpace";n[n.enQuad=8192]="enQuad";n[n.emQuad=8193]="emQuad";n[n.enSpace=8194]="enSpace";n[n.emSpace=8195]="emSpace";n[n.threePerEmSpace=8196]="threePerEmSpace";n[n.fourPerEmSpace=8197]="fourPerEmSpace";n[n.sixPerEmSpace=8198]="sixPerEmSpace";n[n.figureSpace=8199]="figureSpace";n[n.punctuationSpace=8200]="punctuationSpace";n[n.thinSpace=8201]="thinSpace";n[n.hairSpace=8202]="hairSpace";n[n.zeroWidthSpace=8203]="zeroWidthSpace";n[n.narrowNoBreakSpace=8239]="narrowNoBreakSpace";n[n.ideographicSpace=12288]="ideographicSpace";n[n._=95]="_";n[n.$=36]="$";n[n._0=48]="_0";n[n._9=57]="_9";n[n.a=97]="a";n[n.b=98]="b";n[n.c=99]="c";n[n.d=100]="d";n[n.e=101]="e";n[n.f=102]="f";n[n.g=103]="g";n[n.h=104]="h";n[n.i=105]="i";n[n.k=107]="k";n[n.l=108]="l";n[n.m=109]="m";n[n.n=110]="n";n[n.o=111]="o";n[n.p=112]="p";n[n.q=113]="q";n[n.r=114]="r";n[n.s=115]="s";n[n.t=116]="t";n[n.u=117]="u";n[n.v=118]="v";n[n.w=119]="w";n[n.x=120]="x";n[n.y=121]="y";n[n.z=122]="z";n[n.A=65]="A";n[n.E=69]="E";n[n.F=70]="F";n[n.X=88]="X";n[n.Z=90]="Z";n[n.ampersand=38]="ampersand";n[n.asterisk=42]="asterisk";n[n.at=64]="at";n[n.backslash=92]="backslash";n[n.bar=124]="bar";n[n.caret=94]="caret";n[n.closeBrace=125]="closeBrace";n[n.closeBracket=93]="closeBracket";n[n.closeParen=41]="closeParen";n[n.colon=58]="colon";n[n.comma=44]="comma";n[n.dot=46]="dot";n[n.doubleQuote=34]="doubleQuote";n[n.equals=61]="equals";n[n.exclamation=33]="exclamation";n[n.greaterThan=62]="greaterThan";n[n.lessThan=60]="lessThan";n[n.minus=45]="minus";n[n.openBrace=123]="openBrace";n[n.openBracket=91]="openBracket";n[n.openParen=40]="openParen";n[n.percent=37]="percent";n[n.plus=43]="plus";n[n.question=63]="question";n[n.semicolon=59]="semicolon";n[n.singleQuote=39]="singleQuote";n[n.slash=47]="slash";n[n.tilde=126]="tilde";n[n.backspace=8]="backspace";n[n.formFeed=12]="formFeed";n[n.byteOrderMark=65279]="byteOrderMark";n[n.tab=9]="tab";n[n.verticalTab=11]="verticalTab"})(n.CharacterCodes||(n.CharacterCodes={}));var t=n.CharacterCodes}(TypeScript||(TypeScript={})),function(n){(function(t){function r(n){return new i(n)}var i=function(){function t(n){this.text=n}return t.prototype.getText=function(n,t){return this.text.substring(n,t)},t.prototype.getLength=function(){return this.text.length},t.prototype.getLineStartPositions=function(){return n.TextUtilities.parseLineStarts(n.SimpleText.fromString(this.text))},t.prototype.getTextChangeRangeSinceVersion=function(){throw n.Errors.notYetImplemented();},t}();t.fromString=r})(n.ScriptSnapshot||(n.ScriptSnapshot={}));var t=n.ScriptSnapshot}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n,t){this._lineStarts=n;this.length=t}return t.prototype.toJSON=function(){return{lineStarts:this._lineStarts,length:this.length}},t.prototype.equals=function(t){return this.length===t.length&&n.ArrayUtilities.sequenceEquals(this.lineStarts(),t.lineStarts(),function(n,t){return n===t})},t.prototype.lineStarts=function(){return this._lineStarts},t.prototype.lineCount=function(){return this.lineStarts().length},t.prototype.getPosition=function(n,t){return this.lineStarts()[n]+t},t.prototype.getLineNumberFromPosition=function(t){if(t<0||t>this.length)throw n.Errors.argumentOutOfRange("position");if(t===this.length)return this.lineCount()-1;var i=n.ArrayUtilities.binarySearch(this.lineStarts(),t);return i<0&&(i=~i-1),i},t.prototype.getLineStartPosition=function(n){return this.lineStarts()[n]},t.prototype.fillLineAndCharacterFromPosition=function(t,i){if(t<0||t>this.length)throw n.Errors.argumentOutOfRange("position");var r=this.getLineNumberFromPosition(t);i.line=r;i.character=t-this.lineStarts()[r]},t.prototype.getLineAndCharacterFromPosition=function(t){if(t<0||t>this.length)throw n.Errors.argumentOutOfRange("position");var i=this.getLineNumberFromPosition(t);return new n.LineAndCharacter(i,t-this.lineStarts()[i])},t.fromSimpleText=function(i){var r=n.TextUtilities.parseLineStarts(i);return new t(r,i.length())},t.fromScriptSnapshot=function(n){return new t(n.getLineStartPositions(),n.getLength())},t.fromString=function(i){return t.fromSimpleText(n.SimpleText.fromString(i))},t.empty=new t([0],0),t}();n.LineMap=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(t,i){if(this._line=0,this._character=0,t<0)throw n.Errors.argumentOutOfRange("line");if(i<0)throw n.Errors.argumentOutOfRange("character");this._line=t;this._character=i}return t.prototype.line=function(){return this._line},t.prototype.character=function(){return this._character},t}();n.LineAndCharacter=t}(TypeScript||(TypeScript={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){function u(t,i,r){var u=t.charCodeAt(i);u===10?i>0&&t.charCodeAt(i-1)===13?(r.startPosition=i-1,r.length=2):(r.startPosition=i,r.length=1):n.TextUtilities.isAnyLineBreakCharacter(u)?(r.startPosition=i,r.length=1):(r.startPosition=i+1,r.length=0)}function s(n){return new o(n)}var f=function(){function n(n,t){this.startPosition=n;this.length=t}return n}(),i=function(){function t(t,i,r,u){if(this._text=null,this._textSpan=null,t===null)throw n.Errors.argumentNull("text");n.Debug.assert(r>=0);n.Debug.assert(u>=0);this._text=t;this._textSpan=i;this._lineBreakLength=r;this._lineNumber=u}return t.prototype.start=function(){return this._textSpan.start()},t.prototype.end=function(){return this._textSpan.end()},t.prototype.endIncludingLineBreak=function(){return this.end()+this._lineBreakLength},t.prototype.extent=function(){return this._textSpan},t.prototype.extentIncludingLineBreak=function(){return n.TextSpan.fromBounds(this.start(),this.endIncludingLineBreak())},t.prototype.toString=function(){return this._text.toString(this._textSpan)},t.prototype.lineNumber=function(){return this._lineNumber},t}(),r=function(){function t(){this.lazyLineStarts=null;this.linebreakInfo=new f(0,0);this.lastLineFoundForPosition=null}return t.prototype.length=function(){throw n.Errors.abstract();},t.prototype.charCodeAt=function(){throw n.Errors.abstract();},t.prototype.checkSubSpan=function(t){if(t.start()<0||t.start()>this.length()||t.end()>this.length())throw n.Errors.argumentOutOfRange("span");},t.prototype.toString=function(t){typeof t=="undefined"&&(t=null);throw n.Errors.abstract();},t.prototype.subText=function(n){return this.checkSubSpan(n),new e(this,n)},t.prototype.substr=function(){throw n.Errors.abstract();},t.prototype.copyTo=function(){throw n.Errors.abstract();},t.prototype.lineCount=function(){return this.lineStarts().length},t.prototype.lines=function(){for(var t=[],i=this.lineCount(),n=0;n<i;++n)t[n]=this.getLineFromLineNumber(n);return t},t.prototype.lineMap=function(){return new n.LineMap(this.lineStarts(),this.length())},t.prototype.lineStarts=function(){return this.lazyLineStarts===null&&(this.lazyLineStarts=n.TextUtilities.parseLineStarts(this)),this.lazyLineStarts},t.prototype.getLineFromLineNumber=function(t){var f=this.lineStarts(),r;if(t<0||t>=f.length)throw n.Errors.argumentOutOfRange("lineNumber");return r=f[t],t===f.length-1?new i(this,new n.TextSpan(r,this.length()-r),0,t):(u(this,f[t+1]-1,this.linebreakInfo),new i(this,new n.TextSpan(r,this.linebreakInfo.startPosition-r),this.linebreakInfo.length,t))},t.prototype.getLineFromPosition=function(n){var t=this.lastLineFoundForPosition,r,i;return t!==null&&t.start()<=n&&t.endIncludingLineBreak()>n?t:(r=this.getLineNumberFromPosition(n),i=this.getLineFromLineNumber(r),this.lastLineFoundForPosition=i,i)},t.prototype.getLineNumberFromPosition=function(t){if(t<0||t>this.length())throw n.Errors.argumentOutOfRange("position");if(t===this.length())return this.lineCount()-1;var i=n.ArrayUtilities.binarySearch(this.lineStarts(),t);return i<0&&(i=~i-1),i},t.prototype.getLinePosition=function(t){if(t<0||t>this.length())throw n.Errors.argumentOutOfRange("position");var i=this.getLineNumberFromPosition(t);return new n.LineAndCharacter(i,t-this.lineStarts()[i])},t}(),e=function(t){function i(i,r){if(t.call(this),i===null)throw n.Errors.argumentNull("text");if(r.start()<0||r.start()>=i.length()||r.end()<0||r.end()>i.length())throw n.Errors.argument("span");this.text=i;this.span=r}return __extends(i,t),i.prototype.length=function(){return this.span.length()},i.prototype.charCodeAt=function(t){if(t<0||t>this.length())throw n.Errors.argumentOutOfRange("position");return this.text.charCodeAt(this.span.start()+t)},i.prototype.subText=function(n){return this.checkSubSpan(n),new i(this.text,this.getCompositeSpan(n.start(),n.length()))},i.prototype.copyTo=function(n,t,i,r){var u=this.getCompositeSpan(n,r);this.text.copyTo(u.start(),t,i,u.length())},i.prototype.getCompositeSpan=function(t,i){var r=n.MathPrototype.min(this.text.length(),this.span.start()+t),u=n.MathPrototype.min(this.text.length(),r+i);return new n.TextSpan(r,u-r)},i}(r),o=function(t){function i(i){if(t.call(this),this.source=null,i===null)throw n.Errors.argumentNull("data");this.source=i}return __extends(i,t),i.prototype.length=function(){return this.source.length},i.prototype.charCodeAt=function(t){if(t<0||t>=this.source.length)throw n.Errors.argumentOutOfRange("position");return this.source.charCodeAt(t)},i.prototype.substr=function(n,t){return this.source.substr(n,t)},i.prototype.toString=function(t){return(typeof t=="undefined"&&(t=null),t===null&&(t=new n.TextSpan(0,this.length())),this.checkSubSpan(t),t.start()===0&&t.length()===this.length())?this.source:this.source.substr(t.start(),t.length())},i.prototype.copyTo=function(t,i,r,u){n.StringUtilities.copyTo(this.source,t,i,r,u)},i}(r);t.createText=s})(n.TextFactory||(n.TextFactory={}));var t=n.TextFactory}(TypeScript||(TypeScript={})),function(n){(function(t){function f(n){return new r(n)}function e(n){return new u(n)}var i=function(){function t(t,i){if(this.text=null,this.span=null,t===null)throw n.Errors.argumentNull("text");if(i.start()<0||i.start()>=t.length()||i.end()<0||i.end()>t.length())throw n.Errors.argument("span");this.text=t;this.span=i}return t.prototype.checkSubSpan=function(t){if(t.start()<0||t.start()>this.length()||t.end()>this.length())throw n.Errors.argumentOutOfRange("span");},t.prototype.checkSubPosition=function(t){if(t<0||t>=this.length())throw n.Errors.argumentOutOfRange("position");},t.prototype.length=function(){return this.span.length()},t.prototype.subText=function(n){return this.checkSubSpan(n),new t(this.text,this.getCompositeSpan(n.start(),n.length()))},t.prototype.copyTo=function(n,t,i,r){var u=this.getCompositeSpan(n,r);this.text.copyTo(u.start(),t,i,u.length())},t.prototype.substr=function(n,t,i){var r=this.getCompositeSpan(n,t);return this.text.substr(r.start(),r.length(),i)},t.prototype.getCompositeSpan=function(t,i){var r=n.MathPrototype.min(this.text.length(),this.span.start()+t),u=n.MathPrototype.min(this.text.length(),r+i);return new n.TextSpan(r,u-r)},t.prototype.charCodeAt=function(n){return this.checkSubPosition(n),this.text.charCodeAt(this.span.start()+n)},t.prototype.lineMap=function(){return n.LineMap.fromSimpleText(this)},t}(),r=function(){function t(n){this.value=n}return t.prototype.length=function(){return this.value.length},t.prototype.copyTo=function(t,i,r,u){n.StringUtilities.copyTo(this.value,t,i,r,u)},t.prototype.substr=function(i,r,u){if(u){var f=r<=t.charArray.length?t.charArray:n.ArrayUtilities.createArray(r,0);return this.copyTo(i,f,0,r),n.Collections.DefaultStringTable.addCharArray(f,0,r)}return this.value.substr(i,r)},t.prototype.subText=function(n){return new i(this,n)},t.prototype.charCodeAt=function(n){return this.value.charCodeAt(n)},t.prototype.lineMap=function(){return n.LineMap.fromSimpleText(this)},t.charArray=n.ArrayUtilities.createArray(1024,0),t}(),u=function(){function t(n){this.scriptSnapshot=n}return t.prototype.charCodeAt=function(n){return this.scriptSnapshot.getText(n,n+1).charCodeAt(0)},t.prototype.length=function(){return this.scriptSnapshot.getLength()},t.prototype.copyTo=function(t,i,r,u){var f=this.scriptSnapshot.getText(t,t+u);n.StringUtilities.copyTo(f,0,i,r,u)},t.prototype.substr=function(n,t){return this.scriptSnapshot.getText(n,n+t)},t.prototype.subText=function(n){return new i(this,n)},t.prototype.lineMap=function(){var t=this.scriptSnapshot.getLineStartPositions();return new n.LineMap(t,this.length())},t}();t.fromString=f;t.fromScriptSnapshot=e})(n.SimpleText||(n.SimpleText={}));var t=n.SimpleText}(TypeScript||(TypeScript={})),function(n){(function(n){function r(t){var u=t.length(),f,r,s;if(0===u)return f=[],f.push(0),f;for(var e=0,i=0,o=[],h=0;i<u;){if(r=t.charCodeAt(i),r>13&&r<=127){i++;continue}else s=r===13&&i+1<u&&t.charCodeAt(i+1)===10?2:r===10?1:n.getLengthOfLineBreak(t,i);0===s?i++:(o.push(e),i+=s,e=i,h++)}return o.push(e),o}function t(n,t,r){if(r===13){var u=t+1;return u<n.length()&&10===n.charCodeAt(u)?2:1}return i(r)?1:0}function u(n,i){var r=n.charCodeAt(i);return r>13&&r<=127?0:t(n,i,r)}function i(n){return n===10||n===13||n===133||n===8232||n===8233}n.parseLineStarts=r;n.getLengthOfLineBreakSlow=t;n.getLengthOfLineBreak=u;n.isAnyLineBreakCharacter=i})(n.TextUtilities||(n.TextUtilities={}));var t=n.TextUtilities}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(t,i){t<0&&n.Errors.argument("start");i<0&&n.Errors.argument("length");this._start=t;this._length=i}return t.prototype.start=function(){return this._start},t.prototype.length=function(){return this._length},t.prototype.end=function(){return this._start+this._length},t.prototype.isEmpty=function(){return this._length===0},t.prototype.containsPosition=function(n){return n>=this._start&&n<this.end()},t.prototype.containsTextSpan=function(n){return n._start>=this._start&&n.end()<=this.end()},t.prototype.overlapsWith=function(t){var i=n.MathPrototype.max(this._start,t._start),r=n.MathPrototype.min(this.end(),t.end());return i<r},t.prototype.overlap=function(i){var r=n.MathPrototype.max(this._start,i._start),u=n.MathPrototype.min(this.end(),i.end());return r<u?t.fromBounds(r,u):null},t.prototype.intersectsWithTextSpan=function(n){return n._start<=this.end()&&n.end()>=this._start},t.prototype.intersectsWith=function(n,t){var i=n+t;return n<=this.end()&&i>=this._start},t.prototype.intersectsWithPosition=function(n){return n<=this.end()&&n>=this._start},t.prototype.intersection=function(i){var r=n.MathPrototype.max(this._start,i._start),u=n.MathPrototype.min(this.end(),i.end());return r<=u?t.fromBounds(r,u):null},t.fromBounds=function(i,r){return n.Debug.assert(i>=0),n.Debug.assert(r-i>=0),new t(i,r-i)},t}();n.TextSpan=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(t,i){if(i<0)throw n.Errors.argumentOutOfRange("newLength");this._span=t;this._newLength=i}return t.prototype.span=function(){return this._span},t.prototype.newLength=function(){return this._newLength},t.prototype.newSpan=function(){return new n.TextSpan(this.span().start(),this.newLength())},t.prototype.isUnchanged=function(){return this.span().isEmpty()&&this.newLength()===0},t.collapseChangesFromSingleVersion=function(i){for(var s=0,u=1073741823,f=0,r,o,h,e=0;e<i.length;e++)r=i[e],s+=r.newLength()-r.span().length(),r.span().start()<u&&(u=r.span().start()),r.span().end()>f&&(f=r.span().end());return u>f?null:(o=n.TextSpan.fromBounds(u,f),h=o.length()+s,new t(o,h))},t.collapseChangesAcrossMultipleVersions=function(i){var u;if(i.length===0)return t.unchanged;if(i.length===1)return i[0];var f=i[0],r=f.span().start(),e=f.span().end(),o=r+f.newLength();for(u=1;u<i.length;u++){var s=i[u],y=r,h=e,c=o,l=s.span().start(),a=s.span().end(),v=l+s.newLength();r=n.MathPrototype.min(y,l);e=n.MathPrototype.max(h,h+(a-c));o=n.MathPrototype.max(v,v+(c-a))}return new t(n.TextSpan.fromBounds(r,e),o-r)},t.unchanged=new t(new n.TextSpan(0,0),0),t}();n.TextChangeRange=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.isDecimalDigit=function(n){return n>=48&&n<=57},n.isHexDigit=function(t){return n.isDecimalDigit(t)||t>=65&&t<=70||t>=97&&t<=102},n.hexValue=function(t){return n.isDecimalDigit(t)?t-48:t>=65&&t<=70?t-55:t-87},n.isWhitespace=function(n){switch(n){case 32:case 160:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8203:case 8239:case 12288:case 9:case 11:case 12:case 65279:return!0}return!1},n.isLineTerminator=function(n){switch(n){case 13:case 10:case 8233:case 8232:return!0}return!1},n}();n.CharacterInfo=t}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.TriviaNewLineMask=1]="TriviaNewLineMask";n[n.TriviaCommentMask=2]="TriviaCommentMask";n[n.TriviaFullWidthShift=2]="TriviaFullWidthShift";n[n.NodeDataComputed=1]="NodeDataComputed";n[n.NodeIncrementallyUnusableMask=2]="NodeIncrementallyUnusableMask";n[n.NodeParsedInStrictModeMask=4]="NodeParsedInStrictModeMask";n[n.NodeFullWidthShift=3]="NodeFullWidthShift"})(n.SyntaxConstants||(n.SyntaxConstants={}));var t=n.SyntaxConstants}(TypeScript||(TypeScript={}));FormattingOptions=function(){function n(n,t,i,r){this.useTabs=n;this.spacesPerTab=t;this.indentSpaces=i;this.newLineCharacter=r}return n.defaultOptions=new n(!1,4,4,"\r\n"),n}(),function(n){(function(t){function e(n,t,r){return i(n,t,r)+n.width()}function i(n,t,i){for(var o=t.firstTokenInLineContainingToken(n),e=[],f=n;f!==o;)f=t.previousToken(f),f===o?(e.push(f.trailingTrivia().fullText()),e.push(f.text())):e.push(f.fullText());return r(o,e),u(e,i)}function o(n,t,i){var e=t.firstTokenInLineContainingToken(n),f=[];return r(e,f),u(f,i)}function r(t,i){for(var e=t.leadingTrivia(),r,f,u=e.count()-1;u>=0;u--){if(r=e.syntaxTriviaAt(u),r.kind()===5)break;if(r.kind()===6&&(f=n.Syntax.splitMultiLineCommentTriviaIntoMultipleLines(r),i.push(n.ArrayUtilities.last(f)),f.length>0))break;i.push(r.fullText())}}function u(n,t){for(var r=0,u,i=n.length-1;i>=0;i--)u=n[i],r=f(u,u.length,r,t);return r}function s(n,t,i){return f(n,t,0,i)}function f(n,t,i,r){for(var u=i,e=r.spacesPerTab,o,f=0;f<t;f++)o=n.charCodeAt(f),o===9?u+=e-u%e:u++;return u}function h(t,i){var r=0,u=n.MathPrototype.max(0,t);return i.useTabs&&(r=Math.floor(t/i.spacesPerTab),u-=r*i.spacesPerTab),n.StringUtilities.repeat("\t",r)+n.StringUtilities.repeat(" ",u)}function c(t,i){return n.Syntax.whitespace(this.indentationString(t,i))}function l(t){for(var r,i=0;i<t.length;i++)if(r=t.charCodeAt(i),!n.CharacterInfo.isWhitespace(r))return i;return t.length}t.columnForEndOfToken=e;t.columnForStartOfToken=i;t.columnForStartOfFirstTokenInLineContainingToken=o;t.columnForPositionInString=s;t.indentationString=h;t.indentationTrivia=c;t.firstNonWhitespacePosition=l})(n.Indentation||(n.Indentation={}));var t=n.Indentation}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.EcmaScript3=0]="EcmaScript3";n[n.EcmaScript5=1]="EcmaScript5"})(n.LanguageVersion||(n.LanguageVersion={}));var t=n.LanguageVersion}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(n,t,i){this._languageVersion=n;this._allowAutomaticSemicolonInsertion=t;this._allowModuleKeywordInExternalModuleReference=i}return n.prototype.toJSON=function(){return{allowAutomaticSemicolonInsertion:this._allowAutomaticSemicolonInsertion,allowModuleKeywordInExternalModuleReference:this._allowModuleKeywordInExternalModuleReference}},n.prototype.languageVersion=function(){return this._languageVersion},n.prototype.allowAutomaticSemicolonInsertion=function(){return this._allowAutomaticSemicolonInsertion},n.prototype.allowModuleKeywordInExternalModuleReference=function(){return this._allowModuleKeywordInExternalModuleReference},n}();n.ParseOptions=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n,t,i){this._parent=n;this._element=t;this._fullStart=i}return t.create=function(t,i,u){if(i===null)return null;if(i.isNode())return new f(t,i,u);if(i.isToken())return new r(t,i,u);if(i.isList())return new e(t,i,u);if(i.isSeparatedList())return new o(t,i,u);throw n.Errors.invalidOperation();},t.prototype.parent=function(){return this._parent},t.prototype.parentElement=function(){return this._parent&&this._parent._element},t.prototype.element=function(){return this._element},t.prototype.kind=function(){return this.element().kind()},t.prototype.childIndex=function(t){return n.Syntax.childIndex(this.element(),t)},t.prototype.childCount=function(){return this.element().childCount()},t.prototype.childAt=function(i){var r=n.Syntax.childOffsetAt(this.element(),i);return t.create(this,this.element().childAt(i),this.fullStart()+r)},t.prototype.childStart=function(t){var i=n.Syntax.childOffset(this.element(),t);return this.fullStart()+i+t.leadingTriviaWidth()},t.prototype.childEnd=function(t){var i=n.Syntax.childOffset(this.element(),t);return this.fullStart()+i+t.leadingTriviaWidth()+t.width()},t.prototype.childStartAt=function(t){var i=n.Syntax.childOffsetAt(this.element(),t),r=this.element().childAt(t);return this.fullStart()+i+r.leadingTriviaWidth()},t.prototype.childEndAt=function(t){var r=n.Syntax.childOffsetAt(this.element(),t),i=this.element().childAt(t);return this.fullStart()+r+i.leadingTriviaWidth()+i.width()},t.prototype.getPositionedChild=function(i){var r=n.Syntax.childOffset(this.element(),i);return t.create(this,i,this.fullStart()+r)},t.prototype.fullStart=function(){return this._fullStart},t.prototype.fullEnd=function(){return this.fullStart()+this.element().fullWidth()},t.prototype.fullWidth=function(){return this.element().fullWidth()},t.prototype.start=function(){return this.fullStart()+this.element().leadingTriviaWidth()},t.prototype.end=function(){return this.fullStart()+this.element().leadingTriviaWidth()+this.element().width()},t.prototype.root=function(){for(var n=this;n.parent()!==null;)n=n.parent();return n},t.prototype.containingNode=function(){for(var n=this.parent();n!==null&&!n.element().isNode();)n=n.parent();return n},t}(),i,f,r,e,o,u;n.PositionedElement=t;i=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.nodeOrToken=function(){return this.element()},t}(t);n.PositionedNodeOrToken=i;f=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.node=function(){return this.element()},t}(i);n.PositionedNode=f;r=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.token=function(){return this.element()},t.prototype.previousToken=function(n){var t,f,r,i,e;if(typeof n=="undefined"&&(n=!1),t=this.token().leadingTrivia(),n&&t&&t.hasSkippedToken())for(f=this.start(),r=t.count()-1;r>=0;r--){if(i=t.syntaxTriviaAt(r),i.isSkippedToken())return new u(this,i.skippedToken(),f-i.fullWidth());f-=i.fullWidth()}return(e=this.fullStart(),e===0)?null:this.root().node().findToken(e-1,n)},t.prototype.nextToken=function(n){var t,f,i,e,r;if(typeof n=="undefined"&&(n=!1),this.token().tokenKind===10)return null;if(t=this.token().trailingTrivia(),n&&t&&t.hasSkippedToken())for(f=this.end(),i=0,e=t.count();i<e;i++){if(r=t.syntaxTriviaAt(i),r.isSkippedToken())return new u(this,r.skippedToken(),f);f+=r.fullWidth()}return this.root().node().findToken(this.fullEnd(),n)},t}(i);n.PositionedToken=r;e=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.list=function(){return this.element()},t}(t);n.PositionedList=e;o=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.list=function(){return this.element()},t}(t);n.PositionedSeparatedList=o;u=function(t){function i(n,i,r){t.call(this,n.parent(),i,r);this._parentToken=n}return __extends(i,t),i.prototype.parentToken=function(){return this._parentToken},i.prototype.previousToken=function(t){var r,i;if(typeof t=="undefined"&&(t=!1),i=this.fullStart(),t){if(i>=this.parentToken().end())return(r=n.Syntax.findSkippedTokenInTrailingTriviaList(this.parentToken(),i-1),r)?r:this.parentToken();if(r=n.Syntax.findSkippedTokenInLeadingTriviaList(this.parentToken(),i-1),r)return r}return(i=this.parentToken().fullStart(),i===0)?null:this.root().node().findToken(i-1,t)},i.prototype.nextToken=function(t){if(typeof t=="undefined"&&(t=!1),this.token().tokenKind===10)return null;if(t){var r=this.end(),i;if(r<=this.parentToken().start())return(i=n.Syntax.findSkippedTokenInLeadingTriviaList(this.parentToken(),r),i)?i:this.parentToken();if(i=n.Syntax.findSkippedTokenInTrailingTriviaList(this.parentToken(),r),i)return i}return this.root().node().findToken(this.parentToken().fullEnd(),t)},i}(r);n.PositionedSkippedToken=u}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.None=0]="None";n[n.List=1]="List";n[n.SeparatedList=2]="SeparatedList";n[n.TriviaList=3]="TriviaList";n[n.WhitespaceTrivia=4]="WhitespaceTrivia";n[n.NewLineTrivia=5]="NewLineTrivia";n[n.MultiLineCommentTrivia=6]="MultiLineCommentTrivia";n[n.SingleLineCommentTrivia=7]="SingleLineCommentTrivia";n[n.SkippedTokenTrivia=8]="SkippedTokenTrivia";n[n.ErrorToken=9]="ErrorToken";n[n.EndOfFileToken=10]="EndOfFileToken";n[n.IdentifierName=11]="IdentifierName";n[n.RegularExpressionLiteral=12]="RegularExpressionLiteral";n[n.NumericLiteral=13]="NumericLiteral";n[n.StringLiteral=14]="StringLiteral";n[n.BreakKeyword=15]="BreakKeyword";n[n.CaseKeyword=16]="CaseKeyword";n[n.CatchKeyword=17]="CatchKeyword";n[n.ContinueKeyword=18]="ContinueKeyword";n[n.DebuggerKeyword=19]="DebuggerKeyword";n[n.DefaultKeyword=20]="DefaultKeyword";n[n.DeleteKeyword=21]="DeleteKeyword";n[n.DoKeyword=22]="DoKeyword";n[n.ElseKeyword=23]="ElseKeyword";n[n.FalseKeyword=24]="FalseKeyword";n[n.FinallyKeyword=25]="FinallyKeyword";n[n.ForKeyword=26]="ForKeyword";n[n.FunctionKeyword=27]="FunctionKeyword";n[n.IfKeyword=28]="IfKeyword";n[n.InKeyword=29]="InKeyword";n[n.InstanceOfKeyword=30]="InstanceOfKeyword";n[n.NewKeyword=31]="NewKeyword";n[n.NullKeyword=32]="NullKeyword";n[n.ReturnKeyword=33]="ReturnKeyword";n[n.SwitchKeyword=34]="SwitchKeyword";n[n.ThisKeyword=35]="ThisKeyword";n[n.ThrowKeyword=36]="ThrowKeyword";n[n.TrueKeyword=37]="TrueKeyword";n[n.TryKeyword=38]="TryKeyword";n[n.TypeOfKeyword=39]="TypeOfKeyword";n[n.VarKeyword=40]="VarKeyword";n[n.VoidKeyword=41]="VoidKeyword";n[n.WhileKeyword=42]="WhileKeyword";n[n.WithKeyword=43]="WithKeyword";n[n.ClassKeyword=44]="ClassKeyword";n[n.ConstKeyword=45]="ConstKeyword";n[n.EnumKeyword=46]="EnumKeyword";n[n.ExportKeyword=47]="ExportKeyword";n[n.ExtendsKeyword=48]="ExtendsKeyword";n[n.ImportKeyword=49]="ImportKeyword";n[n.SuperKeyword=50]="SuperKeyword";n[n.ImplementsKeyword=51]="ImplementsKeyword";n[n.InterfaceKeyword=52]="InterfaceKeyword";n[n.LetKeyword=53]="LetKeyword";n[n.PackageKeyword=54]="PackageKeyword";n[n.PrivateKeyword=55]="PrivateKeyword";n[n.ProtectedKeyword=56]="ProtectedKeyword";n[n.PublicKeyword=57]="PublicKeyword";n[n.StaticKeyword=58]="StaticKeyword";n[n.YieldKeyword=59]="YieldKeyword";n[n.AnyKeyword=60]="AnyKeyword";n[n.BooleanKeyword=61]="BooleanKeyword";n[n.BoolKeyword=62]="BoolKeyword";n[n.ConstructorKeyword=63]="ConstructorKeyword";n[n.DeclareKeyword=64]="DeclareKeyword";n[n.GetKeyword=65]="GetKeyword";n[n.ModuleKeyword=66]="ModuleKeyword";n[n.RequireKeyword=67]="RequireKeyword";n[n.NumberKeyword=68]="NumberKeyword";n[n.SetKeyword=69]="SetKeyword";n[n.StringKeyword=70]="StringKeyword";n[n.OpenBraceToken=71]="OpenBraceToken";n[n.CloseBraceToken=72]="CloseBraceToken";n[n.OpenParenToken=73]="OpenParenToken";n[n.CloseParenToken=74]="CloseParenToken";n[n.OpenBracketToken=75]="OpenBracketToken";n[n.CloseBracketToken=76]="CloseBracketToken";n[n.DotToken=77]="DotToken";n[n.DotDotDotToken=78]="DotDotDotToken";n[n.SemicolonToken=79]="SemicolonToken";n[n.CommaToken=80]="CommaToken";n[n.LessThanToken=81]="LessThanToken";n[n.GreaterThanToken=82]="GreaterThanToken";n[n.LessThanEqualsToken=83]="LessThanEqualsToken";n[n.GreaterThanEqualsToken=84]="GreaterThanEqualsToken";n[n.EqualsEqualsToken=85]="EqualsEqualsToken";n[n.EqualsGreaterThanToken=86]="EqualsGreaterThanToken";n[n.ExclamationEqualsToken=87]="ExclamationEqualsToken";n[n.EqualsEqualsEqualsToken=88]="EqualsEqualsEqualsToken";n[n.ExclamationEqualsEqualsToken=89]="ExclamationEqualsEqualsToken";n[n.PlusToken=90]="PlusToken";n[n.MinusToken=91]="MinusToken";n[n.AsteriskToken=92]="AsteriskToken";n[n.PercentToken=93]="PercentToken";n[n.PlusPlusToken=94]="PlusPlusToken";n[n.MinusMinusToken=95]="MinusMinusToken";n[n.LessThanLessThanToken=96]="LessThanLessThanToken";n[n.GreaterThanGreaterThanToken=97]="GreaterThanGreaterThanToken";n[n.GreaterThanGreaterThanGreaterThanToken=98]="GreaterThanGreaterThanGreaterThanToken";n[n.AmpersandToken=99]="AmpersandToken";n[n.BarToken=100]="BarToken";n[n.CaretToken=101]="CaretToken";n[n.ExclamationToken=102]="ExclamationToken";n[n.TildeToken=103]="TildeToken";n[n.AmpersandAmpersandToken=104]="AmpersandAmpersandToken";n[n.BarBarToken=105]="BarBarToken";n[n.QuestionToken=106]="QuestionToken";n[n.ColonToken=107]="ColonToken";n[n.EqualsToken=108]="EqualsToken";n[n.PlusEqualsToken=109]="PlusEqualsToken";n[n.MinusEqualsToken=110]="MinusEqualsToken";n[n.AsteriskEqualsToken=111]="AsteriskEqualsToken";n[n.PercentEqualsToken=112]="PercentEqualsToken";n[n.LessThanLessThanEqualsToken=113]="LessThanLessThanEqualsToken";n[n.GreaterThanGreaterThanEqualsToken=114]="GreaterThanGreaterThanEqualsToken";n[n.GreaterThanGreaterThanGreaterThanEqualsToken=115]="GreaterThanGreaterThanGreaterThanEqualsToken";n[n.AmpersandEqualsToken=116]="AmpersandEqualsToken";n[n.BarEqualsToken=117]="BarEqualsToken";n[n.CaretEqualsToken=118]="CaretEqualsToken";n[n.SlashToken=119]="SlashToken";n[n.SlashEqualsToken=120]="SlashEqualsToken";n[n.SourceUnit=121]="SourceUnit";n[n.QualifiedName=122]="QualifiedName";n[n.ObjectType=123]="ObjectType";n[n.FunctionType=124]="FunctionType";n[n.ArrayType=125]="ArrayType";n[n.ConstructorType=126]="ConstructorType";n[n.GenericType=127]="GenericType";n[n.TypeQuery=128]="TypeQuery";n[n.InterfaceDeclaration=129]="InterfaceDeclaration";n[n.FunctionDeclaration=130]="FunctionDeclaration";n[n.ModuleDeclaration=131]="ModuleDeclaration";n[n.ClassDeclaration=132]="ClassDeclaration";n[n.EnumDeclaration=133]="EnumDeclaration";n[n.ImportDeclaration=134]="ImportDeclaration";n[n.ExportAssignment=135]="ExportAssignment";n[n.MemberFunctionDeclaration=136]="MemberFunctionDeclaration";n[n.MemberVariableDeclaration=137]="MemberVariableDeclaration";n[n.ConstructorDeclaration=138]="ConstructorDeclaration";n[n.GetMemberAccessorDeclaration=139]="GetMemberAccessorDeclaration";n[n.SetMemberAccessorDeclaration=140]="SetMemberAccessorDeclaration";n[n.PropertySignature=141]="PropertySignature";n[n.CallSignature=142]="CallSignature";n[n.ConstructSignature=143]="ConstructSignature";n[n.IndexSignature=144]="IndexSignature";n[n.MethodSignature=145]="MethodSignature";n[n.Block=146]="Block";n[n.IfStatement=147]="IfStatement";n[n.VariableStatement=148]="VariableStatement";n[n.ExpressionStatement=149]="ExpressionStatement";n[n.ReturnStatement=150]="ReturnStatement";n[n.SwitchStatement=151]="SwitchStatement";n[n.BreakStatement=152]="BreakStatement";n[n.ContinueStatement=153]="ContinueStatement";n[n.ForStatement=154]="ForStatement";n[n.ForInStatement=155]="ForInStatement";n[n.EmptyStatement=156]="EmptyStatement";n[n.ThrowStatement=157]="ThrowStatement";n[n.WhileStatement=158]="WhileStatement";n[n.TryStatement=159]="TryStatement";n[n.LabeledStatement=160]="LabeledStatement";n[n.DoStatement=161]="DoStatement";n[n.DebuggerStatement=162]="DebuggerStatement";n[n.WithStatement=163]="WithStatement";n[n.PlusExpression=164]="PlusExpression";n[n.NegateExpression=165]="NegateExpression";n[n.BitwiseNotExpression=166]="BitwiseNotExpression";n[n.LogicalNotExpression=167]="LogicalNotExpression";n[n.PreIncrementExpression=168]="PreIncrementExpression";n[n.PreDecrementExpression=169]="PreDecrementExpression";n[n.DeleteExpression=170]="DeleteExpression";n[n.TypeOfExpression=171]="TypeOfExpression";n[n.VoidExpression=172]="VoidExpression";n[n.CommaExpression=173]="CommaExpression";n[n.AssignmentExpression=174]="AssignmentExpression";n[n.AddAssignmentExpression=175]="AddAssignmentExpression";n[n.SubtractAssignmentExpression=176]="SubtractAssignmentExpression";n[n.MultiplyAssignmentExpression=177]="MultiplyAssignmentExpression";n[n.DivideAssignmentExpression=178]="DivideAssignmentExpression";n[n.ModuloAssignmentExpression=179]="ModuloAssignmentExpression";n[n.AndAssignmentExpression=180]="AndAssignmentExpression";n[n.ExclusiveOrAssignmentExpression=181]="ExclusiveOrAssignmentExpression";n[n.OrAssignmentExpression=182]="OrAssignmentExpression";n[n.LeftShiftAssignmentExpression=183]="LeftShiftAssignmentExpression";n[n.SignedRightShiftAssignmentExpression=184]="SignedRightShiftAssignmentExpression";n[n.UnsignedRightShiftAssignmentExpression=185]="UnsignedRightShiftAssignmentExpression";n[n.ConditionalExpression=186]="ConditionalExpression";n[n.LogicalOrExpression=187]="LogicalOrExpression";n[n.LogicalAndExpression=188]="LogicalAndExpression";n[n.BitwiseOrExpression=189]="BitwiseOrExpression";n[n.BitwiseExclusiveOrExpression=190]="BitwiseExclusiveOrExpression";n[n.BitwiseAndExpression=191]="BitwiseAndExpression";n[n.EqualsWithTypeConversionExpression=192]="EqualsWithTypeConversionExpression";n[n.NotEqualsWithTypeConversionExpression=193]="NotEqualsWithTypeConversionExpression";n[n.EqualsExpression=194]="EqualsExpression";n[n.NotEqualsExpression=195]="NotEqualsExpression";n[n.LessThanExpression=196]="LessThanExpression";n[n.GreaterThanExpression=197]="GreaterThanExpression";n[n.LessThanOrEqualExpression=198]="LessThanOrEqualExpression";n[n.GreaterThanOrEqualExpression=199]="GreaterThanOrEqualExpression";n[n.InstanceOfExpression=200]="InstanceOfExpression";n[n.InExpression=201]="InExpression";n[n.LeftShiftExpression=202]="LeftShiftExpression";n[n.SignedRightShiftExpression=203]="SignedRightShiftExpression";n[n.UnsignedRightShiftExpression=204]="UnsignedRightShiftExpression";n[n.MultiplyExpression=205]="MultiplyExpression";n[n.DivideExpression=206]="DivideExpression";n[n.ModuloExpression=207]="ModuloExpression";n[n.AddExpression=208]="AddExpression";n[n.SubtractExpression=209]="SubtractExpression";n[n.PostIncrementExpression=210]="PostIncrementExpression";n[n.PostDecrementExpression=211]="PostDecrementExpression";n[n.MemberAccessExpression=212]="MemberAccessExpression";n[n.InvocationExpression=213]="InvocationExpression";n[n.ArrayLiteralExpression=214]="ArrayLiteralExpression";n[n.ObjectLiteralExpression=215]="ObjectLiteralExpression";n[n.ObjectCreationExpression=216]="ObjectCreationExpression";n[n.ParenthesizedExpression=217]="ParenthesizedExpression";n[n.ParenthesizedArrowFunctionExpression=218]="ParenthesizedArrowFunctionExpression";n[n.SimpleArrowFunctionExpression=219]="SimpleArrowFunctionExpression";n[n.CastExpression=220]="CastExpression";n[n.ElementAccessExpression=221]="ElementAccessExpression";n[n.FunctionExpression=222]="FunctionExpression";n[n.OmittedExpression=223]="OmittedExpression";n[n.VariableDeclaration=224]="VariableDeclaration";n[n.VariableDeclarator=225]="VariableDeclarator";n[n.ArgumentList=226]="ArgumentList";n[n.ParameterList=227]="ParameterList";n[n.TypeArgumentList=228]="TypeArgumentList";n[n.TypeParameterList=229]="TypeParameterList";n[n.HeritageClause=230]="HeritageClause";n[n.EqualsValueClause=231]="EqualsValueClause";n[n.CaseSwitchClause=232]="CaseSwitchClause";n[n.DefaultSwitchClause=233]="DefaultSwitchClause";n[n.ElseClause=234]="ElseClause";n[n.CatchClause=235]="CatchClause";n[n.FinallyClause=236]="FinallyClause";n[n.TypeParameter=237]="TypeParameter";n[n.Constraint=238]="Constraint";n[n.SimplePropertyAssignment=239]="SimplePropertyAssignment";n[n.GetAccessorPropertyAssignment=240]="GetAccessorPropertyAssignment";n[n.SetAccessorPropertyAssignment=241]="SetAccessorPropertyAssignment";n[n.FunctionPropertyAssignment=242]="FunctionPropertyAssignment";n[n.Parameter=243]="Parameter";n[n.EnumElement=244]="EnumElement";n[n.TypeAnnotation=245]="TypeAnnotation";n[n.ExternalModuleReference=246]="ExternalModuleReference";n[n.ModuleNameModuleReference=247]="ModuleNameModuleReference";n[n.FirstStandardKeyword=n.BreakKeyword]="FirstStandardKeyword";n[n.LastStandardKeyword=n.WithKeyword]="LastStandardKeyword";n[n.FirstFutureReservedKeyword=n.ClassKeyword]="FirstFutureReservedKeyword";n[n.LastFutureReservedKeyword=n.SuperKeyword]="LastFutureReservedKeyword";n[n.FirstFutureReservedStrictKeyword=n.ImplementsKeyword]="FirstFutureReservedStrictKeyword";n[n.LastFutureReservedStrictKeyword=n.YieldKeyword]="LastFutureReservedStrictKeyword";n[n.FirstTypeScriptKeyword=n.AnyKeyword]="FirstTypeScriptKeyword";n[n.LastTypeScriptKeyword=n.StringKeyword]="LastTypeScriptKeyword";n[n.FirstKeyword=n.FirstStandardKeyword]="FirstKeyword";n[n.LastKeyword=n.LastTypeScriptKeyword]="LastKeyword";n[n.FirstToken=n.ErrorToken]="FirstToken";n[n.LastToken=n.SlashEqualsToken]="LastToken";n[n.FirstPunctuation=n.OpenBraceToken]="FirstPunctuation";n[n.LastPunctuation=n.SlashEqualsToken]="LastPunctuation";n[n.FirstFixedWidth=n.FirstKeyword]="FirstFixedWidth";n[n.LastFixedWidth=n.LastPunctuation]="LastFixedWidth"})(n.SyntaxKind||(n.SyntaxKind={}));var t=n.SyntaxKind}(TypeScript||(TypeScript={})),function(n){(function(n){function e(n){return t.hasOwnProperty(n)?t[n]:0}function o(n){var t=r[n];return t!==undefined?t:null}function s(n){return n>=9&&n<=120}function h(n){return n>=15&&n<=70}function c(n){return n>=15&&n<=43}function l(n){return n>=44&&n<=50}function a(n){return n>=51&&n<=59}function v(n){return n>=71&&n<=120}function y(n){return u(n)!==0}function p(n){return f(n)!==0}function u(n){switch(n){case 90:return 164;case 91:return 165;case 103:return 166;case 102:return 167;case 94:return 168;case 95:return 169;default:return 0}}function w(n){switch(n){case 94:return 210;case 95:return 211;default:return 0}}function f(n){switch(n){case 92:return 205;case 119:return 206;case 93:return 207;case 90:return 208;case 91:return 209;case 96:return 202;case 97:return 203;case 98:return 204;case 81:return 196;case 82:return 197;case 83:return 198;case 84:return 199;case 30:return 200;case 29:return 201;case 85:return 192;case 87:return 193;case 88:return 194;case 89:return 195;case 99:return 191;case 101:return 190;case 100:return 189;case 104:return 188;case 105:return 187;case 117:return 182;case 116:return 180;case 118:return 181;case 113:return 183;case 114:return 184;case 115:return 185;case 109:return 175;case 110:return 176;case 111:return 177;case 120:return 178;case 112:return 179;case 108:return 174;case 80:return 173;default:return 0}}function b(n){switch(n){case 119:case 120:return!0;default:return!1}}function k(n){switch(n){case 119:case 120:case 12:return!0;default:return!1}}function d(n){switch(n){case 97:case 98:case 84:case 114:case 115:return!0;default:return!1}}function g(n){switch(n){case 173:case 174:case 175:case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:case 184:case 185:case 187:case 188:case 189:case 190:case 191:case 192:case 193:case 194:case 195:case 196:case 197:case 198:case 199:case 200:case 201:case 202:case 203:case 204:case 205:case 206:case 207:case 208:case 209:return!0}return!1}var t={any:60,bool:62,boolean:61,"break":15,"case":16,"catch":17,"class":44,"continue":18,"const":45,constructor:63,"debugger":19,declare:64,"default":20,"delete":21,"do":22,"else":23,"enum":46,"export":47,"extends":48,"false":24,"finally":25,"for":26,"function":27,get:65,"if":28,implements:51,"import":49,"in":29,"instanceof":30,interface:52,let:53,module:66,"new":31,"null":32,number:68,package:54,private:55,protected:56,public:57,require:67,"return":33,set:69,static:58,string:70,"super":50,"switch":34,"this":35,"throw":36,"true":37,"try":38,"typeof":39,"var":40,"void":41,"while":42,"with":43,yield:59,"{":71,"}":72,"(":73,")":74,"[":75,"]":76,".":77,"...":78,";":79,",":80,"<":81,">":82,"<=":83,">=":84,"==":85,"=>":86,"!=":87,"===":88,"!==":89,"+":90,"-":91,"*":92,"%":93,"++":94,"--":95,"<<":96,">>":97,">>>":98,"&":99,"|":100,"^":101,"!":102,"~":103,"&&":104,"||":105,"?":106,":":107,"=":108,"+=":109,"-=":110,"*=":111,"%=":112,"<<=":113,">>=":114,">>>=":115,"&=":116,"|=":117,"^=":118,"/":119,"/=":120},r=[],i;for(i in t)t.hasOwnProperty(i)&&(r[t[i]]=i);r[63]="constructor";n.getTokenKind=e;n.getText=o;n.isTokenKind=s;n.isAnyKeyword=h;n.isStandardKeyword=c;n.isFutureReservedKeyword=l;n.isFutureReservedStrictKeyword=a;n.isAnyPunctuation=v;n.isPrefixUnaryExpressionOperatorToken=y;n.isBinaryExpressionOperatorToken=p;n.getPrefixUnaryExpressionFromOperatorToken=u;n.getPostfixUnaryExpressionFromOperatorToken=w;n.getBinaryExpressionFromOperatorToken=f;n.isAnyDivideToken=b;n.isAnyDivideOrRegularExpressionToken=k;n.isParserGenerated=d;n.isAnyBinaryExpression=g})(n.SyntaxFacts||(n.SyntaxFacts={}));var t=n.SyntaxFacts}(TypeScript||(TypeScript={})),function(n){for(var e=n.ArrayUtilities.createArray(127,!1),r=n.ArrayUtilities.createArray(127,!1),i=n.ArrayUtilities.createArray(127,!1),f=n.ArrayUtilities.createArray(127,!1),u,o,s,t=0;t<127;t++)t>=97&&t<=122?(r[t]=!0,i[t]=!0):t>=65&&t<=90||t===95||t===36?(r[t]=!0,i[t]=!0):t>=48&&t<=57&&(i[t]=!0,f[t]=!0);for(f[46]=!0,u=15;u<=70;u++)o=n.SyntaxFacts.getText(u),e[o.charCodeAt(0)]=!0;s=function(){function t(t,i,r,u){typeof u=="undefined"&&(u=n.ArrayUtilities.createArray(2048,0));this.slidingWindow=new n.SlidingWindow(this,u,0,i.length());this.fileName=t;this.text=i;this._languageVersion=r}return t.prototype.languageVersion=function(){return this._languageVersion},t.prototype.fetchMoreItems=function(t,i,r,u,f){var o=this.text.length()-i,e=n.MathPrototype.min(o,f);return this.text.copyTo(i,r,u,e),e},t.prototype.currentCharCode=function(){return this.slidingWindow.currentItem(null)},t.prototype.absoluteIndex=function(){return this.slidingWindow.absoluteIndex()},t.prototype.setAbsoluteIndex=function(n){this.slidingWindow.setAbsoluteIndex(n)},t.prototype.scan=function(t,i){var u=t.length,f=this.slidingWindow.absoluteIndex(),e=this.scanTriviaInfo(t,!1),o=this.slidingWindow.absoluteIndex(),s=this.scanSyntaxToken(t,i),h=this.slidingWindow.absoluteIndex(),c=this.scanTriviaInfo(t,!0),r=this.createToken(f,e,o,s,h,c);return u!==t.length?n.Syntax.realizeToken(r):r},t.prototype.createToken=function(t,i,r,u,f,e){if(u>=15)return i===0?e===0?new n.Syntax.FixedWidthTokenWithNoTrivia(u):new n.Syntax.FixedWidthTokenWithTrailingTrivia(this.text,t,u,e):e===0?new n.Syntax.FixedWidthTokenWithLeadingTrivia(this.text,t,u,i):new n.Syntax.FixedWidthTokenWithLeadingAndTrailingTrivia(this.text,t,u,i,e);var o=f-r;return i===0?e===0?new n.Syntax.VariableWidthTokenWithNoTrivia(this.text,t,u,o):new n.Syntax.VariableWidthTokenWithTrailingTrivia(this.text,t,u,o,e):e===0?new n.Syntax.VariableWidthTokenWithLeadingTrivia(this.text,t,u,i,o):new n.Syntax.VariableWidthTokenWithLeadingAndTrailingTrivia(this.text,t,u,i,o,e)},t.scanTrivia=function(i,r,u,f){var e=new t(null,i.subText(new n.TextSpan(r,u)),1,t.triviaWindow);return e.scanTrivia(f)},t.prototype.scanTrivia=function(t){for(var i=[],r,u;;){if(!this.slidingWindow.isAtEndOfSource()){r=this.currentCharCode();switch(r){case 32:case 160:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8203:case 8239:case 12288:case 9:case 11:case 12:case 65279:i.push(this.scanWhitespaceTrivia());continue;case 47:if(u=this.slidingWindow.peekItemN(1),u===47){i.push(this.scanSingleLineCommentTrivia());continue}if(u===42){i.push(this.scanMultiLineCommentTrivia());continue}throw n.Errors.invalidOperation();case 13:case 10:case 8233:case 8232:if(i.push(this.scanLineTerminatorSequenceTrivia(r)),!t)continue;break;default:throw n.Errors.invalidOperation();}}return n.Syntax.triviaList(i)}},t.prototype.scanTriviaInfo=function(n,t){for(var i=0,r=0,u,f;;){u=this.currentCharCode();switch(u){case 32:case 160:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8203:case 8239:case 12288:case 9:case 11:case 12:case 65279:this.slidingWindow.moveToNextItem();i++;continue;case 47:if(f=this.slidingWindow.peekItemN(1),f===47){r|=2;i+=this.scanSingleLineCommentTriviaLength();continue}if(f===42){r|=2;i+=this.scanMultiLineCommentTriviaLength(n);continue}break;case 13:case 10:case 8233:case 8232:if(r|=1,i+=this.scanLineTerminatorSequenceLength(u),!t)continue}return i<<2|r}},t.prototype.isNewLineCharacter=function(n){switch(n){case 13:case 10:case 8233:case 8232:return!0;default:return!1}},t.prototype.scanWhitespaceTrivia=function(){for(var t=this.slidingWindow.getAndPinAbsoluteIndex(),i=0,r,u;;){r=this.currentCharCode();switch(r){case 32:case 160:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8203:case 8239:case 12288:case 9:case 11:case 12:case 65279:this.slidingWindow.moveToNextItem();i++;continue}break}return u=this.substring(t,t+i,!1),this.slidingWindow.releaseAndUnpinAbsoluteIndex(t),n.Syntax.whitespace(u)},t.prototype.scanSingleLineCommentTrivia=function(){var t=this.slidingWindow.getAndPinAbsoluteIndex(),i=this.scanSingleLineCommentTriviaLength(),r=this.substring(t,t+i,!1);return this.slidingWindow.releaseAndUnpinAbsoluteIndex(t),n.Syntax.singleLineComment(r)},t.prototype.scanSingleLineCommentTriviaLength=function(){this.slidingWindow.moveToNextItem();this.slidingWindow.moveToNextItem();for(var n=2;;){if(this.slidingWindow.isAtEndOfSource()||this.isNewLineCharacter(this.currentCharCode()))return n;this.slidingWindow.moveToNextItem();n++}},t.prototype.scanMultiLineCommentTrivia=function(){var t=this.slidingWindow.getAndPinAbsoluteIndex(),i=this.scanMultiLineCommentTriviaLength(null),r=this.substring(t,t+i,!1);return this.slidingWindow.releaseAndUnpinAbsoluteIndex(t),n.Syntax.multiLineComment(r)},t.prototype.scanMultiLineCommentTriviaLength=function(t){var i,r;for(this.slidingWindow.moveToNextItem(),this.slidingWindow.moveToNextItem(),i=2;;){if(this.slidingWindow.isAtEndOfSource())return t!==null&&t.push(new n.Diagnostic(this.fileName,this.slidingWindow.absoluteIndex(),0,n.DiagnosticCode.AsteriskSlash_expected,null)),i;if(r=this.currentCharCode(),r===42&&this.slidingWindow.peekItemN(1)===47)return this.slidingWindow.moveToNextItem(),this.slidingWindow.moveToNextItem(),i+2;this.slidingWindow.moveToNextItem();i++}},t.prototype.scanLineTerminatorSequenceTrivia=function(t){var i=this.slidingWindow.getAndPinAbsoluteIndex(),r=this.scanLineTerminatorSequenceLength(t),u=this.substring(i,i+r,!1);return this.slidingWindow.releaseAndUnpinAbsoluteIndex(i),n.Syntax.trivia(5,u)},t.prototype.scanLineTerminatorSequenceLength=function(n){return this.slidingWindow.moveToNextItem(),n===13&&this.currentCharCode()===10?(this.slidingWindow.moveToNextItem(),2):1},t.prototype.scanSyntaxToken=function(n,t){var i,u;if(this.slidingWindow.isAtEndOfSource())return 10;i=this.currentCharCode();switch(i){case 34:case 39:return this.scanStringLiteral(n);case 47:return this.scanSlashToken(t);case 46:return this.scanDotToken();case 45:return this.scanMinusToken();case 33:return this.scanExclamationToken();case 61:return this.scanEqualsToken();case 124:return this.scanBarToken();case 42:return this.scanAsteriskToken();case 43:return this.scanPlusToken();case 37:return this.scanPercentToken();case 38:return this.scanAmpersandToken();case 94:return this.scanCaretToken();case 60:return this.scanLessThanToken();case 62:return this.advanceAndSetTokenKind(82);case 44:return this.advanceAndSetTokenKind(80);case 58:return this.advanceAndSetTokenKind(107);case 59:return this.advanceAndSetTokenKind(79);case 126:return this.advanceAndSetTokenKind(103);case 40:return this.advanceAndSetTokenKind(73);case 41:return this.advanceAndSetTokenKind(74);case 123:return this.advanceAndSetTokenKind(71);case 125:return this.advanceAndSetTokenKind(72);case 91:return this.advanceAndSetTokenKind(75);case 93:return this.advanceAndSetTokenKind(76);case 63:return this.advanceAndSetTokenKind(106)}return f[i]?this.scanNumericLiteral():r[i]&&(u=this.tryFastScanIdentifierOrKeyword(i),u!==0)?u:this.isIdentifierStart(this.peekCharOrUnicodeEscape())?this.slowScanIdentifier(n):this.scanDefaultCharacter(i,n)},t.prototype.isIdentifierStart=function(t){return r[t]?!0:t>127&&n.Unicode.isIdentifierStart(t,this._languageVersion)},t.prototype.isIdentifierPart=function(t){return i[t]?!0:t>127&&n.Unicode.isIdentifierPart(t,this._languageVersion)},t.prototype.tryFastScanIdentifierOrKeyword=function(t){for(var r=this.slidingWindow.getAndPinAbsoluteIndex(),u,o,f,s;;)if(u=this.currentCharCode(),i[u])this.slidingWindow.moveToNextItem();else return u===92||u>127?(this.slidingWindow.rewindToPinnedIndex(r),this.slidingWindow.releaseAndUnpinAbsoluteIndex(r),0):(o=this.slidingWindow.absoluteIndex(),e[t]?(s=r-this.slidingWindow.windowAbsoluteStartIndex,f=n.ScannerUtilities.identifierKind(this.slidingWindow.window,s,o-r)):f=11,this.slidingWindow.releaseAndUnpinAbsoluteIndex(r),f)},t.prototype.slowScanIdentifier=function(n){var t=this.slidingWindow.absoluteIndex();do this.scanCharOrUnicodeEscape(n);while(this.isIdentifierPart(this.peekCharOrUnicodeEscape()));return 11},t.prototype.scanNumericLiteral=function(){return this.isHexNumericLiteral()?this.scanHexNumericLiteral():this.scanDecimalNumericLiteral()},t.prototype.scanDecimalNumericLiteral=function(){while(n.CharacterInfo.isDecimalDigit(this.currentCharCode()))this.slidingWindow.moveToNextItem();for(this.currentCharCode()===46&&this.slidingWindow.moveToNextItem();n.CharacterInfo.isDecimalDigit(this.currentCharCode());)this.slidingWindow.moveToNextItem();var t=this.currentCharCode();for((t===101||t===69)&&(this.slidingWindow.moveToNextItem(),t=this.currentCharCode(),(t===45||t===43)&&n.CharacterInfo.isDecimalDigit(this.slidingWindow.peekItemN(1))&&this.slidingWindow.moveToNextItem());n.CharacterInfo.isDecimalDigit(this.currentCharCode());)this.slidingWindow.moveToNextItem();return 13},t.prototype.scanHexNumericLiteral=function(){for(this.slidingWindow.moveToNextItem(),this.slidingWindow.moveToNextItem();n.CharacterInfo.isHexDigit(this.currentCharCode());)this.slidingWindow.moveToNextItem();return 13},t.prototype.isHexNumericLiteral=function(){if(this.currentCharCode()===48){var t=this.slidingWindow.peekItemN(1);if(t===120||t===88)return t=this.slidingWindow.peekItemN(2),n.CharacterInfo.isHexDigit(t)}return!1},t.prototype.advanceAndSetTokenKind=function(n){return this.slidingWindow.moveToNextItem(),n},t.prototype.scanLessThanToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),83):this.currentCharCode()===60?(this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),113):96):81},t.prototype.scanBarToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),117):this.currentCharCode()===124?(this.slidingWindow.moveToNextItem(),105):100},t.prototype.scanCaretToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),118):101},t.prototype.scanAmpersandToken=function(){this.slidingWindow.moveToNextItem();var n=this.currentCharCode();return n===61?(this.slidingWindow.moveToNextItem(),116):this.currentCharCode()===38?(this.slidingWindow.moveToNextItem(),104):99},t.prototype.scanPercentToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),112):93},t.prototype.scanMinusToken=function(){this.slidingWindow.moveToNextItem();var n=this.currentCharCode();return n===61?(this.slidingWindow.moveToNextItem(),110):n===45?(this.slidingWindow.moveToNextItem(),95):91},t.prototype.scanPlusToken=function(){this.slidingWindow.moveToNextItem();var n=this.currentCharCode();return n===61?(this.slidingWindow.moveToNextItem(),109):n===43?(this.slidingWindow.moveToNextItem(),94):90},t.prototype.scanAsteriskToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),111):92},t.prototype.scanEqualsToken=function(){this.slidingWindow.moveToNextItem();var n=this.currentCharCode();return n===61?(this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),88):85):n===62?(this.slidingWindow.moveToNextItem(),86):108},t.prototype.isDotPrefixedNumericLiteral=function(){if(this.currentCharCode()===46){var t=this.slidingWindow.peekItemN(1);return n.CharacterInfo.isDecimalDigit(t)}return!1},t.prototype.scanDotToken=function(){return this.isDotPrefixedNumericLiteral()?this.scanNumericLiteral():(this.slidingWindow.moveToNextItem(),this.currentCharCode()===46&&this.slidingWindow.peekItemN(1)===46?(this.slidingWindow.moveToNextItem(),this.slidingWindow.moveToNextItem(),78):77)},t.prototype.scanSlashToken=function(n){if(n){var t=this.tryScanRegularExpressionToken();if(t!==0)return t}return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),120):119},t.prototype.tryScanRegularExpressionToken=function(){var u=this.slidingWindow.getAndPinAbsoluteIndex(),n,t,r;try{for(this.slidingWindow.moveToNextItem(),n=!1,t=!1;;){if(r=this.currentCharCode(),this.isNewLineCharacter(r)||this.slidingWindow.isAtEndOfSource())return this.slidingWindow.rewindToPinnedIndex(u),0;if(this.slidingWindow.moveToNextItem(),n){n=!1;continue}switch(r){case 92:n=!0;continue;case 91:t=!0;continue;case 93:t=!1;continue;case 47:if(t)continue;break;default:continue}break}while(i[this.currentCharCode()])this.slidingWindow.moveToNextItem();return 12}finally{this.slidingWindow.releaseAndUnpinAbsoluteIndex(u)}},t.prototype.scanExclamationToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),89):87):102},t.prototype.scanDefaultCharacter=function(t,i){var f=this.slidingWindow.absoluteIndex(),r,u;return this.slidingWindow.moveToNextItem(),r=String.fromCharCode(t),u=this.getErrorMessageText(r),i.push(new n.Diagnostic(this.fileName,f,1,n.DiagnosticCode.Unexpected_character_0,[u])),9},t.prototype.getErrorMessageText=function(n){return n==="\\"?'"\\"':JSON.stringify(n)},t.prototype.skipEscapeSequence=function(n){var t=this.slidingWindow.getAndPinAbsoluteIndex(),i,r;try{this.slidingWindow.moveToNextItem();i=this.currentCharCode();this.slidingWindow.moveToNextItem();switch(i){case 120:case 117:this.slidingWindow.rewindToPinnedIndex(t);r=this.scanUnicodeOrHexEscape(n);return;case 13:this.currentCharCode()===10&&this.slidingWindow.moveToNextItem();return;default:return}}finally{this.slidingWindow.releaseAndUnpinAbsoluteIndex(t)}},t.prototype.scanStringLiteral=function(t){var r=this.currentCharCode(),i;for(this.slidingWindow.moveToNextItem();;)if(i=this.currentCharCode(),i===92)this.skipEscapeSequence(t);else if(i===r){this.slidingWindow.moveToNextItem();break}else if(this.isNewLineCharacter(i)||this.slidingWindow.isAtEndOfSource()){t.push(new n.Diagnostic(this.fileName,this.slidingWindow.absoluteIndex(),1,n.DiagnosticCode.Missing_close_quote_character,null));break}else this.slidingWindow.moveToNextItem();return 14},t.prototype.isUnicodeOrHexEscape=function(n){return this.isUnicodeEscape(n)||this.isHexEscape(n)},t.prototype.isUnicodeEscape=function(n){if(n===92){var t=this.slidingWindow.peekItemN(1);if(t===117)return!0}return!1},t.prototype.isHexEscape=function(n){if(n===92){var t=this.slidingWindow.peekItemN(1);if(t===120)return!0}return!1},t.prototype.peekCharOrUnicodeOrHexEscape=function(){var n=this.currentCharCode();return this.isUnicodeOrHexEscape(n)?this.peekUnicodeOrHexEscape():n},t.prototype.peekCharOrUnicodeEscape=function(){var n=this.currentCharCode();return this.isUnicodeEscape(n)?this.peekUnicodeOrHexEscape():n},t.prototype.peekUnicodeOrHexEscape=function(){var n=this.slidingWindow.getAndPinAbsoluteIndex(),t=this.scanUnicodeOrHexEscape(null);return this.slidingWindow.rewindToPinnedIndex(n),this.slidingWindow.releaseAndUnpinAbsoluteIndex(n),t},t.prototype.scanCharOrUnicodeEscape=function(n){var t=this.currentCharCode(),i;return t===92&&(i=this.slidingWindow.peekItemN(1),i===117)?this.scanUnicodeOrHexEscape(n):(this.slidingWindow.moveToNextItem(),t)},t.prototype.scanCharOrUnicodeOrHexEscape=function(n){var i=this.currentCharCode(),t;return i===92&&(t=this.slidingWindow.peekItemN(1),t===117||t===120)?this.scanUnicodeOrHexEscape(n):(this.slidingWindow.moveToNextItem(),i)},t.prototype.scanUnicodeOrHexEscape=function(t){var h=this.slidingWindow.absoluteIndex(),f=this.currentCharCode(),i,e,r,u,o,s;for(this.slidingWindow.moveToNextItem(),f=this.currentCharCode(),i=0,this.slidingWindow.moveToNextItem(),e=f===117?4:2,r=0;r<e;r++){if(u=this.currentCharCode(),!n.CharacterInfo.isHexDigit(u)){t!==null&&(o=this.slidingWindow.absoluteIndex(),s=this.createIllegalEscapeDiagnostic(h,o),t.push(s));break}i=(i<<4)+n.CharacterInfo.hexValue(u);this.slidingWindow.moveToNextItem()}return i},t.prototype.substring=function(t,i,r){var f=i-t,u=t-this.slidingWindow.windowAbsoluteStartIndex;return r?n.Collections.DefaultStringTable.addCharArray(this.slidingWindow.window,u,f):n.StringUtilities.fromCharCodeArray(this.slidingWindow.window.slice(u,u+f))},t.prototype.createIllegalEscapeDiagnostic=function(t,i){return new n.Diagnostic(this.fileName,t,i-t,n.DiagnosticCode.Unrecognized_escape_sequence,null)},t.isValidIdentifier=function(i){var f=new t(null,i,n.LanguageVersion,t.triviaWindow),r=[],u=f.scan(r,!1);return r.length===0&&n.SyntaxFacts.isIdentifierNameOrAnyKeyword(u)&&u.width()===i.length()},t.triviaWindow=n.ArrayUtilities.createArray(2048,0),t}();n.Scanner=s}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.identifierKind=function(n,t,i){switch(i){case 2:switch(n[t]){case 100:return n[t+1]===111?22:11;case 105:switch(n[t+1]){case 102:return 28;case 110:return 29;default:return 11}default:return 11}case 3:switch(n[t]){case 102:return n[t+1]===111&&n[t+2]===114?26:11;case 110:return n[t+1]===101&&n[t+2]===119?31:11;case 116:return n[t+1]===114&&n[t+2]===121?38:11;case 118:return n[t+1]===97&&n[t+2]===114?40:11;case 108:return n[t+1]===101&&n[t+2]===116?53:11;case 97:return n[t+1]===110&&n[t+2]===121?60:11;case 103:return n[t+1]===101&&n[t+2]===116?65:11;case 115:return n[t+1]===101&&n[t+2]===116?69:11;default:return 11}case 4:switch(n[t]){case 99:return n[t+1]===97&&n[t+2]===115&&n[t+3]===101?16:11;case 101:switch(n[t+1]){case 108:return n[t+2]===115&&n[t+3]===101?23:11;case 110:return n[t+2]===117&&n[t+3]===109?46:11;default:return 11}case 110:return n[t+1]===117&&n[t+2]===108&&n[t+3]===108?32:11;case 116:switch(n[t+1]){case 104:return n[t+2]===105&&n[t+3]===115?35:11;case 114:return n[t+2]===117&&n[t+3]===101?37:11;default:return 11}case 118:return n[t+1]===111&&n[t+2]===105&&n[t+3]===100?41:11;case 119:return n[t+1]===105&&n[t+2]===116&&n[t+3]===104?43:11;case 98:return n[t+1]===111&&n[t+2]===111&&n[t+3]===108?62:11;default:return 11}case 5:switch(n[t]){case 98:return n[t+1]===114&&n[t+2]===101&&n[t+3]===97&&n[t+4]===107?15:11;case 99:switch(n[t+1]){case 97:return n[t+2]===116&&n[t+3]===99&&n[t+4]===104?17:11;case 108:return n[t+2]===97&&n[t+3]===115&&n[t+4]===115?44:11;case 111:return n[t+2]===110&&n[t+3]===115&&n[t+4]===116?45:11;default:return 11}case 102:return n[t+1]===97&&n[t+2]===108&&n[t+3]===115&&n[t+4]===101?24:11;case 116:return n[t+1]===104&&n[t+2]===114&&n[t+3]===111&&n[t+4]===119?36:11;case 119:return n[t+1]===104&&n[t+2]===105&&n[t+3]===108&&n[t+4]===101?42:11;case 115:return n[t+1]===117&&n[t+2]===112&&n[t+3]===101&&n[t+4]===114?50:11;case 121:return n[t+1]===105&&n[t+2]===101&&n[t+3]===108&&n[t+4]===100?59:11;default:return 11}case 6:switch(n[t]){case 100:return n[t+1]===101&&n[t+2]===108&&n[t+3]===101&&n[t+4]===116&&n[t+5]===101?21:11;case 114:return n[t+1]===101&&n[t+2]===116&&n[t+3]===117&&n[t+4]===114&&n[t+5]===110?33:11;case 115:switch(n[t+1]){case 119:return n[t+2]===105&&n[t+3]===116&&n[t+4]===99&&n[t+5]===104?34:11;case 116:switch(n[t+2]){case 97:return n[t+3]===116&&n[t+4]===105&&n[t+5]===99?58:11;case 114:return n[t+3]===105&&n[t+4]===110&&n[t+5]===103?70:11;default:return 11}default:return 11}case 116:return n[t+1]===121&&n[t+2]===112&&n[t+3]===101&&n[t+4]===111&&n[t+5]===102?39:11;case 101:return n[t+1]===120&&n[t+2]===112&&n[t+3]===111&&n[t+4]===114&&n[t+5]===116?47:11;case 105:return n[t+1]===109&&n[t+2]===112&&n[t+3]===111&&n[t+4]===114&&n[t+5]===116?49:11;case 112:return n[t+1]===117&&n[t+2]===98&&n[t+3]===108&&n[t+4]===105&&n[t+5]===99?57:11;case 109:return n[t+1]===111&&n[t+2]===100&&n[t+3]===117&&n[t+4]===108&&n[t+5]===101?66:11;case 110:return n[t+1]===117&&n[t+2]===109&&n[t+3]===98&&n[t+4]===101&&n[t+5]===114?68:11;default:return 11}case 7:switch(n[t]){case 100:switch(n[t+1]){case 101:switch(n[t+2]){case 102:return n[t+3]===97&&n[t+4]===117&&n[t+5]===108&&n[t+6]===116?20:11;case 99:return n[t+3]===108&&n[t+4]===97&&n[t+5]===114&&n[t+6]===101?64:11;default:return 11}default:return 11}case 102:return n[t+1]===105&&n[t+2]===110&&n[t+3]===97&&n[t+4]===108&&n[t+5]===108&&n[t+6]===121?25:11;case 101:return n[t+1]===120&&n[t+2]===116&&n[t+3]===101&&n[t+4]===110&&n[t+5]===100&&n[t+6]===115?48:11;case 112:switch(n[t+1]){case 97:return n[t+2]===99&&n[t+3]===107&&n[t+4]===97&&n[t+5]===103&&n[t+6]===101?54:11;case 114:return n[t+2]===105&&n[t+3]===118&&n[t+4]===97&&n[t+5]===116&&n[t+6]===101?55:11;default:return 11}case 98:return n[t+1]===111&&n[t+2]===111&&n[t+3]===108&&n[t+4]===101&&n[t+5]===97&&n[t+6]===110?61:11;case 114:return n[t+1]===101&&n[t+2]===113&&n[t+3]===117&&n[t+4]===105&&n[t+5]===114&&n[t+6]===101?67:11;default:return 11}case 8:switch(n[t]){case 99:return n[t+1]===111&&n[t+2]===110&&n[t+3]===116&&n[t+4]===105&&n[t+5]===110&&n[t+6]===117&&n[t+7]===101?18:11;case 100:return n[t+1]===101&&n[t+2]===98&&n[t+3]===117&&n[t+4]===103&&n[t+5]===103&&n[t+6]===101&&n[t+7]===114?19:11;case 102:return n[t+1]===117&&n[t+2]===110&&n[t+3]===99&&n[t+4]===116&&n[t+5]===105&&n[t+6]===111&&n[t+7]===110?27:11;default:return 11}case 9:switch(n[t]){case 105:return n[t+1]===110&&n[t+2]===116&&n[t+3]===101&&n[t+4]===114&&n[t+5]===102&&n[t+6]===97&&n[t+7]===99&&n[t+8]===101?52:11;case 112:return n[t+1]===114&&n[t+2]===111&&n[t+3]===116&&n[t+4]===101&&n[t+5]===99&&n[t+6]===116&&n[t+7]===101&&n[t+8]===100?56:11;default:return 11}case 10:switch(n[t]){case 105:switch(n[t+1]){case 110:return n[t+2]===115&&n[t+3]===116&&n[t+4]===97&&n[t+5]===110&&n[t+6]===99&&n[t+7]===101&&n[t+8]===111&&n[t+9]===102?30:11;case 109:return n[t+2]===112&&n[t+3]===108&&n[t+4]===101&&n[t+5]===109&&n[t+6]===101&&n[t+7]===110&&n[t+8]===116&&n[t+9]===115?51:11;default:return 11}default:return 11}case 11:return n[t]===99&&n[t+1]===111&&n[t+2]===110&&n[t+3]===115&&n[t+4]===116&&n[t+5]===114&&n[t+6]===117&&n[t+7]===99&&n[t+8]===116&&n[t+9]===111&&n[t+10]===114?63:11;default:return 11}},n}();n.ScannerUtilities=t}(TypeScript||(TypeScript={})),function(n){(function(t){function f(n){return e(n,!1)}function e(n,u){var f,e;if(n===undefined||n===null||n.length===0)return t.emptySeparatedList;if(u)for(f=0;f<n.length;f++)e=n[f],f%2==1;return n.length===1?new i(n[0]):new r(n)}var u=function(){function i(){}return i.prototype.kind=function(){return 2},i.prototype.isNode=function(){return!1},i.prototype.isToken=function(){return!1},i.prototype.isList=function(){return!1},i.prototype.isSeparatedList=function(){return!0},i.prototype.toJSON=function(){return[]},i.prototype.childCount=function(){return 0},i.prototype.nonSeparatorCount=function(){return 0},i.prototype.separatorCount=function(){return 0},i.prototype.toArray=function(){return[]},i.prototype.toNonSeparatorArray=function(){return[]},i.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},i.prototype.nonSeparatorAt=function(){throw n.Errors.argumentOutOfRange("index");},i.prototype.separatorAt=function(){throw n.Errors.argumentOutOfRange("index");},i.prototype.collectTextElements=function(){},i.prototype.firstToken=function(){return null},i.prototype.lastToken=function(){return null},i.prototype.fullWidth=function(){return 0},i.prototype.fullText=function(){return""},i.prototype.width=function(){return 0},i.prototype.isTypeScriptSpecific=function(){return!1},i.prototype.isIncrementallyUnusable=function(){return!1},i.prototype.findTokenInternal=function(){throw n.Errors.invalidOperation();},i.prototype.insertChildrenInto=function(){},i.prototype.leadingTrivia=function(){return t.emptyTriviaList},i.prototype.trailingTrivia=function(){return t.emptyTriviaList},i.prototype.leadingTriviaWidth=function(){return 0},i.prototype.trailingTriviaWidth=function(){return 0},i}(),i,r;t.emptySeparatedList=new u;i=function(){function t(n){this.item=n}return t.prototype.toJSON=function(){return[this.item]},t.prototype.kind=function(){return 2},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!0},t.prototype.childCount=function(){return 1},t.prototype.nonSeparatorCount=function(){return 1},t.prototype.separatorCount=function(){return 0},t.prototype.toArray=function(){return[this.item]},t.prototype.toNonSeparatorArray=function(){return[this.item]},t.prototype.childAt=function(t){if(t!==0)throw n.Errors.argumentOutOfRange("index");return this.item},t.prototype.nonSeparatorAt=function(t){if(t!==0)throw n.Errors.argumentOutOfRange("index");return this.item},t.prototype.separatorAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.collectTextElements=function(n){this.item.collectTextElements(n)},t.prototype.firstToken=function(){return this.item.firstToken()},t.prototype.lastToken=function(){return this.item.lastToken()},t.prototype.fullWidth=function(){return this.item.fullWidth()},t.prototype.width=function(){return this.item.width()},t.prototype.fullText=function(){return this.item.fullText()},t.prototype.leadingTrivia=function(){return this.item.leadingTrivia()},t.prototype.trailingTrivia=function(){return this.item.trailingTrivia()},t.prototype.leadingTriviaWidth=function(){return this.item.leadingTriviaWidth()},t.prototype.trailingTriviaWidth=function(){return this.item.trailingTriviaWidth()},t.prototype.isTypeScriptSpecific=function(){return this.item.isTypeScriptSpecific()},t.prototype.isIncrementallyUnusable=function(){return this.item.isIncrementallyUnusable()},t.prototype.findTokenInternal=function(t,i,r){return this.item.findTokenInternal(new n.PositionedSeparatedList(t,this,r),i,r)},t.prototype.insertChildrenInto=function(n,t){n.splice(t,0,this.item)},t}();r=function(){function t(n){this._data=0;this.elements=n}return t.prototype.kind=function(){return 2},t.prototype.isToken=function(){return!1},t.prototype.isNode=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!0},t.prototype.toJSON=function(){return this.elements},t.prototype.childCount=function(){return this.elements.length},t.prototype.nonSeparatorCount=function(){return n.IntegerUtilities.integerDivide(this.elements.length+1,2)},t.prototype.separatorCount=function(){return n.IntegerUtilities.integerDivide(this.elements.length,2)},t.prototype.toArray=function(){return this.elements.slice(0)},t.prototype.toNonSeparatorArray=function(){for(var t=[],n=0,i=this.nonSeparatorCount();n<i;n++)t.push(this.nonSeparatorAt(n));return t},t.prototype.childAt=function(t){if(t<0||t>=this.elements.length)throw n.Errors.argumentOutOfRange("index");return this.elements[t]},t.prototype.nonSeparatorAt=function(t){var i=t*2;if(i<0||i>=this.elements.length)throw n.Errors.argumentOutOfRange("index");return this.elements[i]},t.prototype.separatorAt=function(t){var i=t*2+1;if(i<0||i>=this.elements.length)throw n.Errors.argumentOutOfRange("index");return this.elements[i]},t.prototype.firstToken=function(){for(var n,r,t=0,i=this.elements.length;t<i;t++)if(t%2==0){if(r=this.elements[t],n=r.firstToken(),n!==null)return n}else if(n=this.elements[t],n.width()>0)return n;return null},t.prototype.lastToken=function(){for(var n,i,t=this.elements.length-1;t>=0;t--)if(t%2==0){if(i=this.elements[t],n=i.lastToken(),n!==null)return n}else if(n=this.elements[t],n.width()>0)return n;return null},t.prototype.fullText=function(){var n=[];return this.collectTextElements(n),n.join("")},t.prototype.isTypeScriptSpecific=function(){for(var n=0,t=this.nonSeparatorCount();n<t;n++)if(this.nonSeparatorAt(n).isTypeScriptSpecific())return!0;return!1},t.prototype.isIncrementallyUnusable=function(){return(this.data()&2)!=0},t.prototype.fullWidth=function(){return this.data()>>>3},t.prototype.width=function(){var n=this.fullWidth();return n-this.leadingTriviaWidth()-this.trailingTriviaWidth()},t.prototype.leadingTrivia=function(){return this.firstToken().leadingTrivia()},t.prototype.trailingTrivia=function(){return this.lastToken().trailingTrivia()},t.prototype.leadingTriviaWidth=function(){return this.firstToken().leadingTriviaWidth()},t.prototype.trailingTriviaWidth=function(){return this.lastToken().trailingTriviaWidth()},t.prototype.computeData=function(){for(var r=0,t=!1,i,f,n=0,u=this.elements.length;n<u;n++)i=this.elements[n],f=i.fullWidth(),r+=f,t=t||i.isIncrementallyUnusable();return r<<3|(t?2:0)|1},t.prototype.data=function(){return(this._data&1)==0&&(this._data=this.computeData()),this._data},t.prototype.findTokenInternal=function(t,i,r){var u,o,e,f;for(t=new n.PositionedSeparatedList(t,this,r),u=0,o=this.elements.length;u<o;u++){if(e=this.elements[u],f=e.fullWidth(),i<f)return e.findTokenInternal(t,i,r);i-=f;r+=f}throw n.Errors.invalidOperation();},t.prototype.collectTextElements=function(n){for(var r,t=0,i=this.elements.length;t<i;t++)r=this.elements[t],r.collectTextElements(n)},t.prototype.insertChildrenInto=function(n,t){t===0?n.unshift.apply(n,this.elements):n.splice.apply(n,[t,0].concat(this.elements))},t}();t.separatedList=f})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n,t,i,r){typeof r=="undefined"&&(r=-1);this.source=n;this.window=t;this.defaultValue=i;this.sourceLength=r;this.windowCount=0;this.windowAbsoluteStartIndex=0;this.currentRelativeItemIndex=0;this._pinCount=0;this.firstPinnedAbsoluteIndex=-1}return t.prototype.windowAbsoluteEndIndex=function(){return this.windowAbsoluteStartIndex+this.windowCount},t.prototype.addMoreItemsToWindow=function(n){if(this.sourceLength>=0&&this.absoluteIndex()>=this.sourceLength)return!1;this.windowCount>=this.window.length&&this.tryShiftOrGrowWindow();var i=this.window.length-this.windowCount,t=this.source.fetchMoreItems(n,this.windowAbsoluteEndIndex(),this.window,this.windowCount,i);return this.windowCount+=t,t>0},t.prototype.tryShiftOrGrowWindow=function(){var r=this.currentRelativeItemIndex>this.window.length>>>1,u=this.firstPinnedAbsoluteIndex===-1||this.firstPinnedAbsoluteIndex>this.windowAbsoluteStartIndex,t,i;r&&u?(t=this.firstPinnedAbsoluteIndex===-1?this.currentRelativeItemIndex:this.firstPinnedAbsoluteIndex-this.windowAbsoluteStartIndex,i=this.windowCount-t,i>0&&n.ArrayUtilities.copy(this.window,t,this.window,0,i),this.windowAbsoluteStartIndex+=t,this.windowCount-=t,this.currentRelativeItemIndex-=t):n.ArrayUtilities.grow(this.window,this.window.length*2,this.defaultValue)},t.prototype.absoluteIndex=function(){return this.windowAbsoluteStartIndex+this.currentRelativeItemIndex},t.prototype.isAtEndOfSource=function(){return this.absoluteIndex()>=this.sourceLength},t.prototype.getAndPinAbsoluteIndex=function(){var n=this.absoluteIndex(),t=this._pinCount++;return t===0&&(this.firstPinnedAbsoluteIndex=n),n},t.prototype.releaseAndUnpinAbsoluteIndex=function(){this._pinCount--;this._pinCount===0&&(this.firstPinnedAbsoluteIndex=-1)},t.prototype.rewindToPinnedIndex=function(n){var t=n-this.windowAbsoluteStartIndex;this.currentRelativeItemIndex=t},t.prototype.currentItem=function(n){return this.currentRelativeItemIndex>=this.windowCount&&!this.addMoreItemsToWindow(n)?this.defaultValue:this.window[this.currentRelativeItemIndex]},t.prototype.peekItemN=function(n){while(this.currentRelativeItemIndex+n>=this.windowCount)if(!this.addMoreItemsToWindow(null))return this.defaultValue;return this.window[this.currentRelativeItemIndex+n]},t.prototype.moveToNextItem=function(){this.currentRelativeItemIndex++},t.prototype.disgardAllItemsFromCurrentIndexOnwards=function(){this.windowCount=this.currentRelativeItemIndex},t.prototype.setAbsoluteIndex=function(n){this.absoluteIndex()!==n&&(this._pinCount>0,n>=this.windowAbsoluteStartIndex&&n<this.windowAbsoluteEndIndex()?this.currentRelativeItemIndex=n-this.windowAbsoluteStartIndex:(this.windowAbsoluteStartIndex=n,this.windowCount=0,this.currentRelativeItemIndex=0))},t.prototype.pinCount=function(){return this._pinCount},t}();n.SlidingWindow=t}(TypeScript||(TypeScript={})),function(n){(function(t){function p(){return n.Syntax.normalModeFactory.sourceUnit(n.Syntax.emptyList,n.Syntax.token(10,{text:""}))}function w(n){var r=n.token(),i,t;return n!==null&&n.kind()===11&&((i=n.containingNode(),t=i.node(),t.kind()===122&&t.right===r)||t.kind()===212&&t.name===r)?i:n}function b(t){if(t!==null){var r=n.Syntax.getStandaloneExpression(t),i=r.containingNode();if(i!==null)switch(i.kind()){case 247:return!0;case 122:return!0;default:return e(t)}}return!1}function e(t){var r=n.Syntax.getStandaloneExpression(t),f=r.containingNode(),i=f.node(),u=r.nodeOrToken();if(i!==null)switch(i.kind()){case 125:return i.type===u;case 220:return i.type===u;case 245:case 230:case 228:return!0}return!1}function k(t,i){for(var f=0,u,r=0,e=t.childCount();r<e;r++){if(u=t.childAt(r),u===i)return f;u!==null&&(f+=u.fullWidth())}throw n.Errors.invalidOperation();}function d(n,t){for(var u=0,r,i=0;i<t;i++)r=n.childAt(i),r!==null&&(u+=r.fullWidth());return u}function g(t,i){for(var f,r=0,u=t.childCount();r<u;r++)if(f=t.childAt(r),f===i)return r;throw n.Errors.invalidOperation();}function i(n,t){return n===null?t===null:n.structuralEquals(t)}function nt(n,t){return n===t?!0:n===null||t===null?!1:n.isToken()?t.isToken()?r(n,t):!1:t.isNode()?i(n,t):!1}function r(t,i){return t===i?!0:t===null||i===null?!1:t.kind()===i.kind()&&t.width()===i.width()&&t.fullWidth()===i.fullWidth()&&t.text()===i.text()&&n.Syntax.triviaListStructuralEquals(t.leadingTrivia(),i.leadingTrivia())&&n.Syntax.triviaListStructuralEquals(t.trailingTrivia(),i.trailingTrivia())}function tt(t,i){if(t.count()!==i.count())return!1;for(var r=0,u=t.count();r<u;r++)if(!n.Syntax.triviaStructuralEquals(t.syntaxTriviaAt(r),i.syntaxTriviaAt(r)))return!1;return!0}function it(n,t){return n.kind()===t.kind()&&n.fullWidth()===t.fullWidth()&&n.fullText()===t.fullText()}function o(t,i){var r,u,f,e;if(t.childCount()!==i.childCount())return!1;for(r=0,u=t.childCount();r<u;r++)if(f=t.childAt(r),e=i.childAt(r),!n.Syntax.nodeOrTokenStructuralEquals(f,e))return!1;return!0}function s(t,i){var r,u,f,e;if(t.childCount()!==i.childCount())return!1;for(r=0,u=t.childCount();r<u;r++)if(f=t.childAt(r),e=i.childAt(r),!n.Syntax.nodeOrTokenStructuralEquals(f,e))return!1;return!0}function rt(t,u){if(t===u)return!0;if(t===null||u===null||u.kind()!==u.kind())return!1;if(t.isToken())return r(t,u);if(t.isNode())return i(t,u);if(t.isList())return o(t,u);if(t.isSeparatedList())return s(t,u);throw n.Errors.invalidOperation();}function ut(n,i){return typeof i=="undefined"&&(i=null),t.identifier(n)}function ft(){return n.Syntax.token(37)}function et(){return n.Syntax.token(24)}function ot(t){return n.Syntax.token(13,{text:t})}function st(t){return n.Syntax.token(14,{text:t})}function h(n){return n.kind()===213&&n.expression.kind()===50}function ht(n){return n.kind()===149&&h(n.expression)}function c(n){return n.kind()===212&&n.expression.kind()===50}function ct(n){return n.kind()===213&&c(n.expression)}function lt(t,i,r){return n.Syntax.normalModeFactory.binaryExpression(174,t,i,r)}function at(n){for(var i,r,t=0;t<n.childCount();t++)if(i=n.childAt(t),i!==null&&i.isToken()&&(r=i,r.hasSkippedToken()||r.width()===0&&r.kind()!==10))return!0;return!1}function u(n){if(n&&n.kind()===14){var t=n.text();return t.length<2||t.charCodeAt(t.length-1)!==t.charCodeAt(0)}return!1}function l(n){if(n&&n.kind()===6){var t=n.fullText();return t.length<4||t.substring(t.length-2)!=="*/"}return!1}function a(n,t,i){if(n&&n.isComment()&&i>t){var r=t+n.fullWidth();if(i<r)return!0;if(i===r)return n.kind()===7||l(n)}return!1}function vt(n,t){var i=n.findToken(t),r=i.fullStart(),u=null,o=null,e,s,f;if(i.kind()===10?i.token().hasLeadingTrivia()?u=i.token().leadingTrivia():(i=i.previousToken(),i&&i&&i.token().hasTrailingTrivia()&&(u=i.token().trailingTrivia(),r=i.end())):t<=r+i.token().leadingTriviaWidth()?u=i.token().leadingTrivia():t>=r+i.token().width()&&(u=i.token().trailingTrivia(),r=i.end()),u)for(e=0,s=u.count();e<s;e++){if(f=u.syntaxTriviaAt(e),t<=r)break;else if(t<=r+f.fullWidth()&&f.isComment()){o=f;break}r+=f.fullWidth()}return o&&a(o,r,t)}function yt(n,t){var i=n.findToken(t);if(i){if(i.kind()===10)return i=i.previousToken(),i&&i.token().trailingTriviaWidth()===0&&u(i.token());if(t>i.start())return t<i.end()&&(i.kind()===14||i.kind()===12)||t<=i.end()&&u(i.token())}return!1}function f(t,i,r){var u=null,f,e,h,o,s;if(r?(u=t.token().leadingTrivia(),f=t.fullStart()):(u=t.token().trailingTrivia(),f=t.end()),u&&u.hasSkippedToken())for(e=0,h=u.count();e<h;e++){if(o=u.syntaxTriviaAt(e),s=o.fullWidth(),o.isSkippedToken()&&i>=f&&i<=f+s)return new n.PositionedSkippedToken(t,o.skippedToken(),f);f+=s}return null}function pt(t,i,r){var u=null,f,e,o,s;if(r?(u=t.token().leadingTrivia(),f=t.fullStart()+u.fullWidth()):(u=t.token().trailingTrivia(),f=t.fullEnd()),u&&u.hasSkippedToken())for(e=u.count()-1;e>=0;e--){if(o=u.syntaxTriviaAt(e),s=o.fullWidth(),o.isSkippedToken()&&i>=f)return new n.PositionedSkippedToken(t,o.skippedToken(),f-s);f-=s}return null}function wt(n,t){return f(n,t,!0)}function bt(n,t){return f(n,t,!1)}function kt(n,t){var i=t<n.start();return f(n,t,i)}function dt(n,t){var i=t<n.start();return pt(n,t,i)}function gt(n,t){while(n&&n.parent()){if(n.parent().kind()===t)return n.parent();n=n.parent()}return null}function ni(t,i){return n.Syntax.getAncestorOfKind(t,i)!==null}function ti(n){if(n)switch(n.kind()){case 164:case 165:return n=n.operand,v(n.text());case 13:var t=n.text();return v(t)||y(t)}return!1}function v(n){return/^[0-9]+$/.test(n)}function y(n){return/^0(x|X)[0-9a-fA-F]+$/.test(n)}t.emptySourceUnit=p;t.getStandaloneExpression=w;t.isInModuleOrTypeContext=b;t.isInTypeOnlyContext=e;t.childOffset=k;t.childOffsetAt=d;t.childIndex=g;t.nodeStructuralEquals=i;t.nodeOrTokenStructuralEquals=nt;t.tokenStructuralEquals=r;t.triviaListStructuralEquals=tt;t.triviaStructuralEquals=it;t.listStructuralEquals=o;t.separatedListStructuralEquals=s;t.elementStructuralEquals=rt;t.identifierName=ut;t.trueExpression=ft;t.falseExpression=et;t.numericLiteralExpression=ot;t.stringLiteralExpression=st;t.isSuperInvocationExpression=h;t.isSuperInvocationExpressionStatement=ht;t.isSuperMemberAccessExpression=c;t.isSuperMemberAccessInvocationExpression=ct;t.assignmentExpression=lt;t.nodeHasSkippedOrMissingTokens=at;t.isUnterminatedStringLiteral=u;t.isUnterminatedMultilineCommentTrivia=l;t.isEntirelyInsideCommentTrivia=a;t.isEntirelyInsideComment=vt;t.isEntirelyInStringOrRegularExpressionLiteral=yt;t.findSkippedTokenInLeadingTriviaList=wt;t.findSkippedTokenInTrailingTriviaList=bt;t.findSkippedTokenInPositionedToken=kt;t.findSkippedTokenOnLeft=dt;t.getAncestorOfKind=gt;t.hasAncestorOfKind=ni;t.isIntegerLiteral=ti;t.isHexInteger=y})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){(function(t){var r=function(){function t(){}return t.prototype.sourceUnit=function(t,i){return new n.SourceUnitSyntax(t,i,!1)},t.prototype.externalModuleReference=function(t,i,r,u){return new n.ExternalModuleReferenceSyntax(t,i,r,u,!1)},t.prototype.moduleNameModuleReference=function(t){return new n.ModuleNameModuleReferenceSyntax(t,!1)},t.prototype.importDeclaration=function(t,i,r,u,f,e){return new n.ImportDeclarationSyntax(t,i,r,u,f,e,!1)},t.prototype.exportAssignment=function(t,i,r,u){return new n.ExportAssignmentSyntax(t,i,r,u,!1)},t.prototype.classDeclaration=function(t,i,r,u,f,e,o,s){return new n.ClassDeclarationSyntax(t,i,r,u,f,e,o,s,!1)},t.prototype.interfaceDeclaration=function(t,i,r,u,f,e){return new n.InterfaceDeclarationSyntax(t,i,r,u,f,e,!1)},t.prototype.heritageClause=function(t,i){return new n.HeritageClauseSyntax(t,i,!1)},t.prototype.moduleDeclaration=function(t,i,r,u,f,e,o){return new n.ModuleDeclarationSyntax(t,i,r,u,f,e,o,!1)},t.prototype.functionDeclaration=function(t,i,r,u,f,e){return new n.FunctionDeclarationSyntax(t,i,r,u,f,e,!1)},t.prototype.variableStatement=function(t,i,r){return new n.VariableStatementSyntax(t,i,r,!1)},t.prototype.variableDeclaration=function(t,i){return new n.VariableDeclarationSyntax(t,i,!1)},t.prototype.variableDeclarator=function(t,i,r){return new n.VariableDeclaratorSyntax(t,i,r,!1)},t.prototype.equalsValueClause=function(t,i){return new n.EqualsValueClauseSyntax(t,i,!1)},t.prototype.prefixUnaryExpression=function(t,i,r){return new n.PrefixUnaryExpressionSyntax(t,i,r,!1)},t.prototype.arrayLiteralExpression=function(t,i,r){return new n.ArrayLiteralExpressionSyntax(t,i,r,!1)},t.prototype.omittedExpression=function(){return new n.OmittedExpressionSyntax(!1)},t.prototype.parenthesizedExpression=function(t,i,r){return new n.ParenthesizedExpressionSyntax(t,i,r,!1)},t.prototype.simpleArrowFunctionExpression=function(t,i,r){return new n.SimpleArrowFunctionExpressionSyntax(t,i,r,!1)},t.prototype.parenthesizedArrowFunctionExpression=function(t,i,r){return new n.ParenthesizedArrowFunctionExpressionSyntax(t,i,r,!1)},t.prototype.qualifiedName=function(t,i,r){return new n.QualifiedNameSyntax(t,i,r,!1)},t.prototype.typeArgumentList=function(t,i,r){return new n.TypeArgumentListSyntax(t,i,r,!1)},t.prototype.constructorType=function(t,i,r,u,f){return new n.ConstructorTypeSyntax(t,i,r,u,f,!1)},t.prototype.functionType=function(t,i,r,u){return new n.FunctionTypeSyntax(t,i,r,u,!1)},t.prototype.objectType=function(t,i,r){return new n.ObjectTypeSyntax(t,i,r,!1)},t.prototype.arrayType=function(t,i,r){return new n.ArrayTypeSyntax(t,i,r,!1)},t.prototype.genericType=function(t,i){return new n.GenericTypeSyntax(t,i,!1)},t.prototype.typeQuery=function(t,i){return new n.TypeQuerySyntax(t,i,!1)},t.prototype.typeAnnotation=function(t,i){return new n.TypeAnnotationSyntax(t,i,!1)},t.prototype.block=function(t,i,r){return new n.BlockSyntax(t,i,r,!1)},t.prototype.parameter=function(t,i,r,u,f,e){return new n.ParameterSyntax(t,i,r,u,f,e,!1)},t.prototype.memberAccessExpression=function(t,i,r){return new n.MemberAccessExpressionSyntax(t,i,r,!1)},t.prototype.postfixUnaryExpression=function(t,i,r){return new n.PostfixUnaryExpressionSyntax(t,i,r,!1)},t.prototype.elementAccessExpression=function(t,i,r,u){return new n.ElementAccessExpressionSyntax(t,i,r,u,!1)},t.prototype.invocationExpression=function(t,i){return new n.InvocationExpressionSyntax(t,i,!1)},t.prototype.argumentList=function(t,i,r,u){return new n.ArgumentListSyntax(t,i,r,u,!1)},t.prototype.binaryExpression=function(t,i,r,u){return new n.BinaryExpressionSyntax(t,i,r,u,!1)},t.prototype.conditionalExpression=function(t,i,r,u,f){return new n.ConditionalExpressionSyntax(t,i,r,u,f,!1)},t.prototype.constructSignature=function(t,i){return new n.ConstructSignatureSyntax(t,i,!1)},t.prototype.methodSignature=function(t,i,r){return new n.MethodSignatureSyntax(t,i,r,!1)},t.prototype.indexSignature=function(t,i,r,u){return new n.IndexSignatureSyntax(t,i,r,u,!1)},t.prototype.propertySignature=function(t,i,r){return new n.PropertySignatureSyntax(t,i,r,!1)},t.prototype.callSignature=function(t,i,r){return new n.CallSignatureSyntax(t,i,r,!1)},t.prototype.parameterList=function(t,i,r){return new n.ParameterListSyntax(t,i,r,!1)},t.prototype.typeParameterList=function(t,i,r){return new n.TypeParameterListSyntax(t,i,r,!1)},t.prototype.typeParameter=function(t,i){return new n.TypeParameterSyntax(t,i,!1)},t.prototype.constraint=function(t,i){return new n.ConstraintSyntax(t,i,!1)},t.prototype.elseClause=function(t,i){return new n.ElseClauseSyntax(t,i,!1)},t.prototype.ifStatement=function(t,i,r,u,f,e){return new n.IfStatementSyntax(t,i,r,u,f,e,!1)},t.prototype.expressionStatement=function(t,i){return new n.ExpressionStatementSyntax(t,i,!1)},t.prototype.constructorDeclaration=function(t,i,r,u){return new n.ConstructorDeclarationSyntax(t,i,r,u,!1)},t.prototype.memberFunctionDeclaration=function(t,i,r,u,f){return new n.MemberFunctionDeclarationSyntax(t,i,r,u,f,!1)},t.prototype.getMemberAccessorDeclaration=function(t,i,r,u,f,e){return new n.GetMemberAccessorDeclarationSyntax(t,i,r,u,f,e,!1)},t.prototype.setMemberAccessorDeclaration=function(t,i,r,u,f){return new n.SetMemberAccessorDeclarationSyntax(t,i,r,u,f,!1)},t.prototype.memberVariableDeclaration=function(t,i,r){return new n.MemberVariableDeclarationSyntax(t,i,r,!1)},t.prototype.throwStatement=function(t,i,r){return new n.ThrowStatementSyntax(t,i,r,!1)},t.prototype.returnStatement=function(t,i,r){return new n.ReturnStatementSyntax(t,i,r,!1)},t.prototype.objectCreationExpression=function(t,i,r){return new n.ObjectCreationExpressionSyntax(t,i,r,!1)},t.prototype.switchStatement=function(t,i,r,u,f,e,o){return new n.SwitchStatementSyntax(t,i,r,u,f,e,o,!1)},t.prototype.caseSwitchClause=function(t,i,r,u){return new n.CaseSwitchClauseSyntax(t,i,r,u,!1)},t.prototype.defaultSwitchClause=function(t,i,r){return new n.DefaultSwitchClauseSyntax(t,i,r,!1)},t.prototype.breakStatement=function(t,i,r){return new n.BreakStatementSyntax(t,i,r,!1)},t.prototype.continueStatement=function(t,i,r){return new n.ContinueStatementSyntax(t,i,r,!1)},t.prototype.forStatement=function(t,i,r,u,f,e,o,s,h,c){return new n.ForStatementSyntax(t,i,r,u,f,e,o,s,h,c,!1)},t.prototype.forInStatement=function(t,i,r,u,f,e,o,s){return new n.ForInStatementSyntax(t,i,r,u,f,e,o,s,!1)},t.prototype.whileStatement=function(t,i,r,u,f){return new n.WhileStatementSyntax(t,i,r,u,f,!1)},t.prototype.withStatement=function(t,i,r,u,f){return new n.WithStatementSyntax(t,i,r,u,f,!1)},t.prototype.enumDeclaration=function(t,i,r,u,f,e){return new n.EnumDeclarationSyntax(t,i,r,u,f,e,!1)},t.prototype.enumElement=function(t,i){return new n.EnumElementSyntax(t,i,!1)},t.prototype.castExpression=function(t,i,r,u){return new n.CastExpressionSyntax(t,i,r,u,!1)},t.prototype.objectLiteralExpression=function(t,i,r){return new n.ObjectLiteralExpressionSyntax(t,i,r,!1)},t.prototype.simplePropertyAssignment=function(t,i,r){return new n.SimplePropertyAssignmentSyntax(t,i,r,!1)},t.prototype.functionPropertyAssignment=function(t,i,r){return new n.FunctionPropertyAssignmentSyntax(t,i,r,!1)},t.prototype.getAccessorPropertyAssignment=function(t,i,r,u,f,e){return new n.GetAccessorPropertyAssignmentSyntax(t,i,r,u,f,e,!1)},t.prototype.setAccessorPropertyAssignment=function(t,i,r,u,f,e){return new n.SetAccessorPropertyAssignmentSyntax(t,i,r,u,f,e,!1)},t.prototype.functionExpression=function(t,i,r,u){return new n.FunctionExpressionSyntax(t,i,r,u,!1)},t.prototype.emptyStatement=function(t){return new n.EmptyStatementSyntax(t,!1)},t.prototype.tryStatement=function(t,i,r,u){return new n.TryStatementSyntax(t,i,r,u,!1)},t.prototype.catchClause=function(t,i,r,u,f,e){return new n.CatchClauseSyntax(t,i,r,u,f,e,!1)},t.prototype.finallyClause=function(t,i){return new n.FinallyClauseSyntax(t,i,!1)},t.prototype.labeledStatement=function(t,i,r){return new n.LabeledStatementSyntax(t,i,r,!1)},t.prototype.doStatement=function(t,i,r,u,f,e,o){return new n.DoStatementSyntax(t,i,r,u,f,e,o,!1)},t.prototype.typeOfExpression=function(t,i){return new n.TypeOfExpressionSyntax(t,i,!1)},t.prototype.deleteExpression=function(t,i){return new n.DeleteExpressionSyntax(t,i,!1)},t.prototype.voidExpression=function(t,i){return new n.VoidExpressionSyntax(t,i,!1)},t.prototype.debuggerStatement=function(t,i){return new n.DebuggerStatementSyntax(t,i,!1)},t}(),i;t.NormalModeFactory=r;i=function(){function t(){}return t.prototype.sourceUnit=function(t,i){return new n.SourceUnitSyntax(t,i,!0)},t.prototype.externalModuleReference=function(t,i,r,u){return new n.ExternalModuleReferenceSyntax(t,i,r,u,!0)},t.prototype.moduleNameModuleReference=function(t){return new n.ModuleNameModuleReferenceSyntax(t,!0)},t.prototype.importDeclaration=function(t,i,r,u,f,e){return new n.ImportDeclarationSyntax(t,i,r,u,f,e,!0)},t.prototype.exportAssignment=function(t,i,r,u){return new n.ExportAssignmentSyntax(t,i,r,u,!0)},t.prototype.classDeclaration=function(t,i,r,u,f,e,o,s){return new n.ClassDeclarationSyntax(t,i,r,u,f,e,o,s,!0)},t.prototype.interfaceDeclaration=function(t,i,r,u,f,e){return new n.InterfaceDeclarationSyntax(t,i,r,u,f,e,!0)},t.prototype.heritageClause=function(t,i){return new n.HeritageClauseSyntax(t,i,!0)},t.prototype.moduleDeclaration=function(t,i,r,u,f,e,o){return new n.ModuleDeclarationSyntax(t,i,r,u,f,e,o,!0)},t.prototype.functionDeclaration=function(t,i,r,u,f,e){return new n.FunctionDeclarationSyntax(t,i,r,u,f,e,!0)},t.prototype.variableStatement=function(t,i,r){return new n.VariableStatementSyntax(t,i,r,!0)},t.prototype.variableDeclaration=function(t,i){return new n.VariableDeclarationSyntax(t,i,!0)},t.prototype.variableDeclarator=function(t,i,r){return new n.VariableDeclaratorSyntax(t,i,r,!0)},t.prototype.equalsValueClause=function(t,i){return new n.EqualsValueClauseSyntax(t,i,!0)},t.prototype.prefixUnaryExpression=function(t,i,r){return new n.PrefixUnaryExpressionSyntax(t,i,r,!0)},t.prototype.arrayLiteralExpression=function(t,i,r){return new n.ArrayLiteralExpressionSyntax(t,i,r,!0)},t.prototype.omittedExpression=function(){return new n.OmittedExpressionSyntax(!0)},t.prototype.parenthesizedExpression=function(t,i,r){return new n.ParenthesizedExpressionSyntax(t,i,r,!0)},t.prototype.simpleArrowFunctionExpression=function(t,i,r){return new n.SimpleArrowFunctionExpressionSyntax(t,i,r,!0)},t.prototype.parenthesizedArrowFunctionExpression=function(t,i,r){return new n.ParenthesizedArrowFunctionExpressionSyntax(t,i,r,!0)},t.prototype.qualifiedName=function(t,i,r){return new n.QualifiedNameSyntax(t,i,r,!0)},t.prototype.typeArgumentList=function(t,i,r){return new n.TypeArgumentListSyntax(t,i,r,!0)},t.prototype.constructorType=function(t,i,r,u,f){return new n.ConstructorTypeSyntax(t,i,r,u,f,!0)},t.prototype.functionType=function(t,i,r,u){return new n.FunctionTypeSyntax(t,i,r,u,!0)},t.prototype.objectType=function(t,i,r){return new n.ObjectTypeSyntax(t,i,r,!0)},t.prototype.arrayType=function(t,i,r){return new n.ArrayTypeSyntax(t,i,r,!0)},t.prototype.genericType=function(t,i){return new n.GenericTypeSyntax(t,i,!0)},t.prototype.typeQuery=function(t,i){return new n.TypeQuerySyntax(t,i,!0)},t.prototype.typeAnnotation=function(t,i){return new n.TypeAnnotationSyntax(t,i,!0)},t.prototype.block=function(t,i,r){return new n.BlockSyntax(t,i,r,!0)},t.prototype.parameter=function(t,i,r,u,f,e){return new n.ParameterSyntax(t,i,r,u,f,e,!0)},t.prototype.memberAccessExpression=function(t,i,r){return new n.MemberAccessExpressionSyntax(t,i,r,!0)},t.prototype.postfixUnaryExpression=function(t,i,r){return new n.PostfixUnaryExpressionSyntax(t,i,r,!0)},t.prototype.elementAccessExpression=function(t,i,r,u){return new n.ElementAccessExpressionSyntax(t,i,r,u,!0)},t.prototype.invocationExpression=function(t,i){return new n.InvocationExpressionSyntax(t,i,!0)},t.prototype.argumentList=function(t,i,r,u){return new n.ArgumentListSyntax(t,i,r,u,!0)},t.prototype.binaryExpression=function(t,i,r,u){return new n.BinaryExpressionSyntax(t,i,r,u,!0)},t.prototype.conditionalExpression=function(t,i,r,u,f){return new n.ConditionalExpressionSyntax(t,i,r,u,f,!0)},t.prototype.constructSignature=function(t,i){return new n.ConstructSignatureSyntax(t,i,!0)},t.prototype.methodSignature=function(t,i,r){return new n.MethodSignatureSyntax(t,i,r,!0)},t.prototype.indexSignature=function(t,i,r,u){return new n.IndexSignatureSyntax(t,i,r,u,!0)},t.prototype.propertySignature=function(t,i,r){return new n.PropertySignatureSyntax(t,i,r,!0)},t.prototype.callSignature=function(t,i,r){return new n.CallSignatureSyntax(t,i,r,!0)},t.prototype.parameterList=function(t,i,r){return new n.ParameterListSyntax(t,i,r,!0)},t.prototype.typeParameterList=function(t,i,r){return new n.TypeParameterListSyntax(t,i,r,!0)},t.prototype.typeParameter=function(t,i){return new n.TypeParameterSyntax(t,i,!0)},t.prototype.constraint=function(t,i){return new n.ConstraintSyntax(t,i,!0)},t.prototype.elseClause=function(t,i){return new n.ElseClauseSyntax(t,i,!0)},t.prototype.ifStatement=function(t,i,r,u,f,e){return new n.IfStatementSyntax(t,i,r,u,f,e,!0)},t.prototype.expressionStatement=function(t,i){return new n.ExpressionStatementSyntax(t,i,!0)},t.prototype.constructorDeclaration=function(t,i,r,u){return new n.ConstructorDeclarationSyntax(t,i,r,u,!0)},t.prototype.memberFunctionDeclaration=function(t,i,r,u,f){return new n.MemberFunctionDeclarationSyntax(t,i,r,u,f,!0)},t.prototype.getMemberAccessorDeclaration=function(t,i,r,u,f,e){return new n.GetMemberAccessorDeclarationSyntax(t,i,r,u,f,e,!0)},t.prototype.setMemberAccessorDeclaration=function(t,i,r,u,f){return new n.SetMemberAccessorDeclarationSyntax(t,i,r,u,f,!0)},t.prototype.memberVariableDeclaration=function(t,i,r){return new n.MemberVariableDeclarationSyntax(t,i,r,!0)},t.prototype.throwStatement=function(t,i,r){return new n.ThrowStatementSyntax(t,i,r,!0)},t.prototype.returnStatement=function(t,i,r){return new n.ReturnStatementSyntax(t,i,r,!0)},t.prototype.objectCreationExpression=function(t,i,r){return new n.ObjectCreationExpressionSyntax(t,i,r,!0)},t.prototype.switchStatement=function(t,i,r,u,f,e,o){return new n.SwitchStatementSyntax(t,i,r,u,f,e,o,!0)},t.prototype.caseSwitchClause=function(t,i,r,u){return new n.CaseSwitchClauseSyntax(t,i,r,u,!0)},t.prototype.defaultSwitchClause=function(t,i,r){return new n.DefaultSwitchClauseSyntax(t,i,r,!0)},t.prototype.breakStatement=function(t,i,r){return new n.BreakStatementSyntax(t,i,r,!0)},t.prototype.continueStatement=function(t,i,r){return new n.ContinueStatementSyntax(t,i,r,!0)},t.prototype.forStatement=function(t,i,r,u,f,e,o,s,h,c){return new n.ForStatementSyntax(t,i,r,u,f,e,o,s,h,c,!0)},t.prototype.forInStatement=function(t,i,r,u,f,e,o,s){return new n.ForInStatementSyntax(t,i,r,u,f,e,o,s,!0)},t.prototype.whileStatement=function(t,i,r,u,f){return new n.WhileStatementSyntax(t,i,r,u,f,!0)},t.prototype.withStatement=function(t,i,r,u,f){return new n.WithStatementSyntax(t,i,r,u,f,!0)},t.prototype.enumDeclaration=function(t,i,r,u,f,e){return new n.EnumDeclarationSyntax(t,i,r,u,f,e,!0)},t.prototype.enumElement=function(t,i){return new n.EnumElementSyntax(t,i,!0)},t.prototype.castExpression=function(t,i,r,u){return new n.CastExpressionSyntax(t,i,r,u,!0)},t.prototype.objectLiteralExpression=function(t,i,r){return new n.ObjectLiteralExpressionSyntax(t,i,r,!0)},t.prototype.simplePropertyAssignment=function(t,i,r){return new n.SimplePropertyAssignmentSyntax(t,i,r,!0)},t.prototype.functionPropertyAssignment=function(t,i,r){return new n.FunctionPropertyAssignmentSyntax(t,i,r,!0)},t.prototype.getAccessorPropertyAssignment=function(t,i,r,u,f,e){return new n.GetAccessorPropertyAssignmentSyntax(t,i,r,u,f,e,!0)},t.prototype.setAccessorPropertyAssignment=function(t,i,r,u,f,e){return new n.SetAccessorPropertyAssignmentSyntax(t,i,r,u,f,e,!0)},t.prototype.functionExpression=function(t,i,r,u){return new n.FunctionExpressionSyntax(t,i,r,u,!0)},t.prototype.emptyStatement=function(t){return new n.EmptyStatementSyntax(t,!0)},t.prototype.tryStatement=function(t,i,r,u){return new n.TryStatementSyntax(t,i,r,u,!0)},t.prototype.catchClause=function(t,i,r,u,f,e){return new n.CatchClauseSyntax(t,i,r,u,f,e,!0)},t.prototype.finallyClause=function(t,i){return new n.FinallyClauseSyntax(t,i,!0)},t.prototype.labeledStatement=function(t,i,r){return new n.LabeledStatementSyntax(t,i,r,!0)},t.prototype.doStatement=function(t,i,r,u,f,e,o){return new n.DoStatementSyntax(t,i,r,u,f,e,o,!0)},t.prototype.typeOfExpression=function(t,i){return new n.TypeOfExpressionSyntax(t,i,!0)},t.prototype.deleteExpression=function(t,i){return new n.DeleteExpressionSyntax(t,i,!0)},t.prototype.voidExpression=function(t,i){return new n.VoidExpressionSyntax(t,i,!0)},t.prototype.debuggerStatement=function(t,i){return new n.DebuggerStatementSyntax(t,i,!0)},t}();t.StrictModeFactory=i;t.normalModeFactory=new r;t.strictModeFactory=new i})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){(function(t){function i(n){if(n.kind()===149){var t=n,i=t.expression;if(i.kind()===14)return!0}return!1}function r(n){var i=n,r=i.expression,t=r.text();return t==='"use strict"'||t==="'use strict'"}function u(t){var i=t.tokenKind;return i===11||n.SyntaxFacts.isAnyKeyword(i)}t.isDirectivePrologueElement=i;t.isUseStrictDirective=r;t.isIdentifierNameOrAnyKeyword=u})(n.SyntaxFacts||(n.SyntaxFacts={}));var t=n.SyntaxFacts}(TypeScript||(TypeScript={})),function(n){(function(t){function f(n){if(n===undefined||n===null||n.length===0)return t.emptyList;if(n.length===1){var i=n[0];return new r(i)}return new u(n)}var i=function(){function t(){}return t.prototype.kind=function(){return 1},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!1},t.prototype.isList=function(){return!0},t.prototype.isSeparatedList=function(){return!1},t.prototype.toJSON=function(){return[]},t.prototype.childCount=function(){return 0},t.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.toArray=function(){return[]},t.prototype.collectTextElements=function(){},t.prototype.firstToken=function(){return null},t.prototype.lastToken=function(){return null},t.prototype.fullWidth=function(){return 0},t.prototype.width=function(){return 0},t.prototype.leadingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.trailingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.leadingTriviaWidth=function(){return 0},t.prototype.trailingTriviaWidth=function(){return 0},t.prototype.fullText=function(){return""},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return!1},t.prototype.findTokenInternal=function(){throw n.Errors.invalidOperation();},t.prototype.insertChildrenInto=function(){},t}(),r,u;t.EmptySyntaxList=i;t.emptyList=new i;r=function(){function t(n){this.item=n}return t.prototype.kind=function(){return 1},t.prototype.isToken=function(){return!1},t.prototype.isNode=function(){return!1},t.prototype.isList=function(){return!0},t.prototype.isSeparatedList=function(){return!1},t.prototype.toJSON=function(){return[this.item]},t.prototype.childCount=function(){return 1},t.prototype.childAt=function(t){if(t!==0)throw n.Errors.argumentOutOfRange("index");return this.item},t.prototype.toArray=function(){return[this.item]},t.prototype.collectTextElements=function(n){this.item.collectTextElements(n)},t.prototype.firstToken=function(){return this.item.firstToken()},t.prototype.lastToken=function(){return this.item.lastToken()},t.prototype.fullWidth=function(){return this.item.fullWidth()},t.prototype.width=function(){return this.item.width()},t.prototype.leadingTrivia=function(){return this.item.leadingTrivia()},t.prototype.trailingTrivia=function(){return this.item.trailingTrivia()},t.prototype.leadingTriviaWidth=function(){return this.item.leadingTriviaWidth()},t.prototype.trailingTriviaWidth=function(){return this.item.trailingTriviaWidth()},t.prototype.fullText=function(){return this.item.fullText()},t.prototype.isTypeScriptSpecific=function(){return this.item.isTypeScriptSpecific()},t.prototype.isIncrementallyUnusable=function(){return this.item.isIncrementallyUnusable()},t.prototype.findTokenInternal=function(t,i,r){return this.item.findTokenInternal(new n.PositionedList(t,this,r),i,r)},t.prototype.insertChildrenInto=function(n,t){n.splice(t,0,this.item)},t}();u=function(){function t(n){this._data=0;this.nodeOrTokens=n}return t.prototype.kind=function(){return 1},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!1},t.prototype.isList=function(){return!0},t.prototype.isSeparatedList=function(){return!1},t.prototype.toJSON=function(){return this.nodeOrTokens},t.prototype.childCount=function(){return this.nodeOrTokens.length},t.prototype.childAt=function(t){if(t<0||t>=this.nodeOrTokens.length)throw n.Errors.argumentOutOfRange("index");return this.nodeOrTokens[t]},t.prototype.toArray=function(){return this.nodeOrTokens.slice(0)},t.prototype.collectTextElements=function(n){for(var r,t=0,i=this.nodeOrTokens.length;t<i;t++)r=this.nodeOrTokens[t],r.collectTextElements(n)},t.prototype.firstToken=function(){for(var t,n=0,i=this.nodeOrTokens.length;n<i;n++)if(t=this.nodeOrTokens[n].firstToken(),t!==null)return t;return null},t.prototype.lastToken=function(){for(var t,n=this.nodeOrTokens.length-1;n>=0;n--)if(t=this.nodeOrTokens[n].lastToken(),t!==null)return t;return null},t.prototype.fullText=function(){var n=[];return this.collectTextElements(n),n.join("")},t.prototype.isTypeScriptSpecific=function(){for(var n=0,t=this.nodeOrTokens.length;n<t;n++)if(this.nodeOrTokens[n].isTypeScriptSpecific())return!0;return!1},t.prototype.isIncrementallyUnusable=function(){return(this.data()&2)!=0},t.prototype.fullWidth=function(){return this.data()>>>3},t.prototype.width=function(){var n=this.fullWidth();return n-this.leadingTriviaWidth()-this.trailingTriviaWidth()},t.prototype.leadingTrivia=function(){return this.firstToken().leadingTrivia()},t.prototype.trailingTrivia=function(){return this.lastToken().trailingTrivia()},t.prototype.leadingTriviaWidth=function(){return this.firstToken().leadingTriviaWidth()},t.prototype.trailingTriviaWidth=function(){return this.lastToken().trailingTriviaWidth()},t.prototype.computeData=function(){for(var r=0,t=!1,i,n=0,u=this.nodeOrTokens.length;n<u;n++)i=this.nodeOrTokens[n],r+=i.fullWidth(),t=t||i.isIncrementallyUnusable();return r<<3|(t?2:0)|1},t.prototype.data=function(){return(this._data&1)==0&&(this._data=this.computeData()),this._data},t.prototype.findTokenInternal=function(t,i,r){var u,o,e,f;for(t=new n.PositionedList(t,this,r),u=0,o=this.nodeOrTokens.length;u<o;u++){if(e=this.nodeOrTokens[u],f=e.fullWidth(),i<f)return e.findTokenInternal(t,i,r);i-=f;r+=f}throw n.Errors.invalidOperation();},t.prototype.insertChildrenInto=function(n,t){t===0?n.unshift.apply(n,this.nodeOrTokens):n.splice.apply(n,[t,0].concat(this.nodeOrTokens))},t}();t.list=f})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n){this._data=n?4:0}return t.prototype.isNode=function(){return!0},t.prototype.isToken=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!1},t.prototype.kind=function(){throw n.Errors.abstract();},t.prototype.childCount=function(){throw n.Errors.abstract();},t.prototype.childAt=function(){throw n.Errors.abstract();},t.prototype.firstToken=function(){for(var n,t=0,i=this.childCount();t<i;t++)if(n=this.childAt(t),n!==null&&(n.fullWidth()>0||n.kind()===10))return n.firstToken();return null},t.prototype.lastToken=function(){for(var n,t=this.childCount()-1;t>=0;t--)if(n=this.childAt(t),n!==null&&(n.fullWidth()>0||n.kind()===10))return n.lastToken();return null},t.prototype.insertChildrenInto=function(t,i){for(var r,u=this.childCount()-1;u>=0;u--)if(r=this.childAt(u),r!==null)if(r.isNode()||r.isToken())t.splice(i,0,r);else if(r.isList())r.insertChildrenInto(t,i);else if(r.isSeparatedList())r.insertChildrenInto(t,i);else throw n.Errors.invalidOperation();},t.prototype.leadingTrivia=function(){return this.firstToken().leadingTrivia()},t.prototype.trailingTrivia=function(){return this.lastToken().trailingTrivia()},t.prototype.toJSON=function(){var t={kind:n.SyntaxKind[this.kind()],fullWidth:this.fullWidth()},i,f,r,u;for(this.isIncrementallyUnusable()&&(t.isIncrementallyUnusable=!0),this.parsedInStrictMode()&&(t.parsedInStrictMode=!0),i=0,f=this.childCount();i<f;i++)if(r=this.childAt(i),r)for(u in this)if(r===this[u]){t[u]=r;break}return t},t.prototype.accept=function(){throw n.Errors.abstract();},t.prototype.fullText=function(){var n=[];return this.collectTextElements(n),n.join("")},t.prototype.collectTextElements=function(n){for(var i,t=0,r=this.childCount();t<r;t++)i=this.childAt(t),i!==null&&i.collectTextElements(n)},t.prototype.replaceToken=function(t,i){return t===i?this:this.accept(new n.SyntaxTokenReplacer(t,i))},t.prototype.withLeadingTrivia=function(n){return this.replaceToken(this.firstToken(),this.firstToken().withLeadingTrivia(n))},t.prototype.withTrailingTrivia=function(n){return this.replaceToken(this.lastToken(),this.lastToken().withTrailingTrivia(n))},t.prototype.hasLeadingTrivia=function(){return this.lastToken().hasLeadingTrivia()},t.prototype.hasTrailingTrivia=function(){return this.lastToken().hasTrailingTrivia()},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return(this.data()&2)!=0},t.prototype.parsedInStrictMode=function(){return(this.data()&4)!=0},t.prototype.fullWidth=function(){return this.data()>>>3},t.prototype.computeData=function(){for(var r=this.childCount(),u=0,f=0,i=(this._data&2)!=0||r===0,t,n=0,e=r;n<e;n++)t=this.childAt(n),t!==null&&(f=t.fullWidth(),u+=f,i||(i=t.isIncrementallyUnusable()));return u<<3|(i?2:0)|1},t.prototype.data=function(){return(this._data&1)==0&&(this._data|=this.computeData()),this._data},t.prototype.findToken=function(t,i){var u,r;if(typeof i=="undefined"&&(i=!1),u=this.tryGetEndOfFileAt(t),u!==null)return u;if(t<0||t>=this.fullWidth())throw n.Errors.argumentOutOfRange("position");return(r=this.findTokenInternal(null,t,0),i)?n.Syntax.findSkippedTokenInPositionedToken(r,t)||r:r},t.prototype.tryGetEndOfFileAt=function(t){if(this.kind()===121&&t===this.fullWidth()){var i=this;return new n.PositionedToken(new n.PositionedNode(null,i,0),i.endOfFileToken,i.moduleElements.fullWidth())}return null},t.prototype.findTokenInternal=function(t,i,r){var u,o,f,e;for(t=new n.PositionedNode(t,this,r),u=0,o=this.childCount();u<o;u++)if(f=this.childAt(u),f!==null){if(e=f.fullWidth(),i<e)return f.findTokenInternal(t,i,r);i-=e;r+=e}throw n.Errors.invalidOperation();},t.prototype.findTokenOnLeft=function(t,i){typeof i=="undefined"&&(i=!1);var r=this.findToken(t,!1),u=r.start();return(i&&(r=n.Syntax.findSkippedTokenOnLeft(r,t)||r),t>u)?r:r.fullStart()===0?null:r.previousToken(i)},t.prototype.findCompleteTokenOnLeft=function(t,i){typeof i=="undefined"&&(i=!1);var r=this.findToken(t,!1);return(i&&(r=n.Syntax.findSkippedTokenOnLeft(r,t)||r),r.token().width()>0&&t>=r.end())?r:r.previousToken(i)},t.prototype.isModuleElement=function(){return!1},t.prototype.isClassElement=function(){return!1},t.prototype.isTypeMember=function(){return!1},t.prototype.isStatement=function(){return!1},t.prototype.isSwitchClause=function(){return!1},t.prototype.structuralEquals=function(t){var i,r,u,f;if(this===t)return!0;if(t===null||this.kind()!==t.kind())return!1;for(i=0,r=this.childCount();i<r;i++)if(u=this.childAt(i),f=t.childAt(i),!n.Syntax.elementStructuralEquals(u,f))return!1;return!0},t.prototype.width=function(){return this.fullWidth()-this.leadingTriviaWidth()-this.trailingTriviaWidth()},t.prototype.leadingTriviaWidth=function(){var n=this.firstToken();return n===null?0:n.leadingTriviaWidth()},t.prototype.trailingTriviaWidth=function(){var n=this.lastToken();return n===null?0:n.trailingTriviaWidth()},t}();n.SyntaxNode=t}(TypeScript||(TypeScript={})),function(n){var cu=function(t){function i(n,i,r){t.call(this,r);this.moduleElements=n;this.endOfFileToken=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitSourceUnit(this)},i.prototype.kind=function(){return 121},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.moduleElements;case 1:return this.endOfFileToken;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.moduleElements===n&&this.endOfFileToken===t?this:new i(n,t,this.parsedInStrictMode())},i.create=function(t){return new i(n.Syntax.emptyList,t,!1)},i.create1=function(t){return new i(n.Syntax.emptyList,t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModuleElements=function(n){return this.update(n,this.endOfFileToken)},i.prototype.withModuleElement=function(t){return this.withModuleElements(n.Syntax.list([t]))},i.prototype.withEndOfFileToken=function(n){return this.update(this.moduleElements,n)},i.prototype.isTypeScriptSpecific=function(){return this.moduleElements.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode),e,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,o,lt,at,vt,a,yt,pt,v,wt,bt,kt,dt,t,gt,ni,ti,ii,ri,y,ui,fi,ei,oi,si,hi,i,r,ci,li,ai,vi,yi,pi,wi,bi,s,ki,di,gi,nr,tr,ir,rr,h,ur,fr,er,or,u,c,sr,hr,cr,lr,ar,vr,yr,pr,f,wr,br,l,kr,dr,gr,nu,tu,iu,ru,uu,fu,eu,ou,su,hu;n.SourceUnitSyntax=cu;e=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.isModuleReference=function(){return!0},t.prototype.withLeadingTrivia=function(t){return n.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return n.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!0},t}(n.SyntaxNode);n.ModuleReferenceSyntax=e;p=function(t){function i(n,i,r,u,f){t.call(this,f);this.moduleOrRequireKeyword=n;this.openParenToken=i;this.stringLiteral=r;this.closeParenToken=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitExternalModuleReference(this)},i.prototype.kind=function(){return 246},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.moduleOrRequireKeyword;case 1:return this.openParenToken;case 2:return this.stringLiteral;case 3:return this.closeParenToken;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r,u){return this.moduleOrRequireKeyword===n&&this.openParenToken===t&&this.stringLiteral===r&&this.closeParenToken===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create1=function(t,r){return new i(t,n.Syntax.token(73),r,n.Syntax.token(74),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModuleOrRequireKeyword=function(n){return this.update(n,this.openParenToken,this.stringLiteral,this.closeParenToken)},i.prototype.withOpenParenToken=function(n){return this.update(this.moduleOrRequireKeyword,n,this.stringLiteral,this.closeParenToken)},i.prototype.withStringLiteral=function(n){return this.update(this.moduleOrRequireKeyword,this.openParenToken,n,this.closeParenToken)},i.prototype.withCloseParenToken=function(n){return this.update(this.moduleOrRequireKeyword,this.openParenToken,this.stringLiteral,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(e);n.ExternalModuleReferenceSyntax=p;w=function(t){function i(n,i){t.call(this,i);this.moduleName=n}return __extends(i,t),i.prototype.accept=function(n){return n.visitModuleNameModuleReference(this)},i.prototype.kind=function(){return 247},i.prototype.childCount=function(){return 1},i.prototype.childAt=function(t){switch(t){case 0:return this.moduleName;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n){return this.moduleName===n?this:new i(n,this.parsedInStrictMode())},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModuleName=function(n){return this.update(n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(e);n.ModuleNameModuleReferenceSyntax=w;b=function(t){function i(n,i,r,u,f,e,o){t.call(this,o);this.modifiers=n;this.importKeyword=i;this.identifier=r;this.equalsToken=u;this.moduleReference=f;this.semicolonToken=e}return __extends(i,t),i.prototype.accept=function(n){return n.visitImportDeclaration(this)},i.prototype.kind=function(){return 134},i.prototype.childCount=function(){return 6},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.importKeyword;case 2:return this.identifier;case 3:return this.equalsToken;case 4:return this.moduleReference;case 5:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e){return this.modifiers===n&&this.importKeyword===t&&this.identifier===r&&this.equalsToken===u&&this.moduleReference===f&&this.semicolonToken===e?this:new i(n,t,r,u,f,e,this.parsedInStrictMode())},i.create=function(t,r,u,f,e){return new i(n.Syntax.emptyList,t,r,u,f,e,!1)},i.create1=function(t,r){return new i(n.Syntax.emptyList,n.Syntax.token(49),t,n.Syntax.token(108),r,n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.importKeyword,this.identifier,this.equalsToken,this.moduleReference,this.semicolonToken)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withImportKeyword=function(n){return this.update(this.modifiers,n,this.identifier,this.equalsToken,this.moduleReference,this.semicolonToken)},i.prototype.withIdentifier=function(n){return this.update(this.modifiers,this.importKeyword,n,this.equalsToken,this.moduleReference,this.semicolonToken)},i.prototype.withEqualsToken=function(n){return this.update(this.modifiers,this.importKeyword,this.identifier,n,this.moduleReference,this.semicolonToken)},i.prototype.withModuleReference=function(n){return this.update(this.modifiers,this.importKeyword,this.identifier,this.equalsToken,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.modifiers,this.importKeyword,this.identifier,this.equalsToken,this.moduleReference,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ImportDeclarationSyntax=b;k=function(t){function i(n,i,r,u,f){t.call(this,f);this.exportKeyword=n;this.equalsToken=i;this.identifier=r;this.semicolonToken=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitExportAssignment(this)},i.prototype.kind=function(){return 135},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.exportKeyword;case 1:return this.equalsToken;case 2:return this.identifier;case 3:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u){return this.exportKeyword===n&&this.equalsToken===t&&this.identifier===r&&this.semicolonToken===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(47),n.Syntax.token(108),t,n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withExportKeyword=function(n){return this.update(n,this.equalsToken,this.identifier,this.semicolonToken)},i.prototype.withEqualsToken=function(n){return this.update(this.exportKeyword,n,this.identifier,this.semicolonToken)},i.prototype.withIdentifier=function(n){return this.update(this.exportKeyword,this.equalsToken,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.exportKeyword,this.equalsToken,this.identifier,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ExportAssignmentSyntax=k;d=function(t){function i(n,i,r,u,f,e,o,s,h){t.call(this,h);this.modifiers=n;this.classKeyword=i;this.identifier=r;this.typeParameterList=u;this.heritageClauses=f;this.openBraceToken=e;this.classElements=o;this.closeBraceToken=s}return __extends(i,t),i.prototype.accept=function(n){return n.visitClassDeclaration(this)},i.prototype.kind=function(){return 132},i.prototype.childCount=function(){return 8},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.classKeyword;case 2:return this.identifier;case 3:return this.typeParameterList;case 4:return this.heritageClauses;case 5:return this.openBraceToken;case 6:return this.classElements;case 7:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e,o,s){return this.modifiers===n&&this.classKeyword===t&&this.identifier===r&&this.typeParameterList===u&&this.heritageClauses===f&&this.openBraceToken===e&&this.classElements===o&&this.closeBraceToken===s?this:new i(n,t,r,u,f,e,o,s,this.parsedInStrictMode())},i.create=function(t,r,u,f){return new i(n.Syntax.emptyList,t,r,null,n.Syntax.emptyList,u,n.Syntax.emptyList,f,!1)},i.create1=function(t){return new i(n.Syntax.emptyList,n.Syntax.token(44),t,null,n.Syntax.emptyList,n.Syntax.token(71),n.Syntax.emptyList,n.Syntax.token(72),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.classKeyword,this.identifier,this.typeParameterList,this.heritageClauses,this.openBraceToken,this.classElements,this.closeBraceToken)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withClassKeyword=function(n){return this.update(this.modifiers,n,this.identifier,this.typeParameterList,this.heritageClauses,this.openBraceToken,this.classElements,this.closeBraceToken)},i.prototype.withIdentifier=function(n){return this.update(this.modifiers,this.classKeyword,n,this.typeParameterList,this.heritageClauses,this.openBraceToken,this.classElements,this.closeBraceToken)},i.prototype.withTypeParameterList=function(n){return this.update(this.modifiers,this.classKeyword,this.identifier,n,this.heritageClauses,this.openBraceToken,this.classElements,this.closeBraceToken)},i.prototype.withHeritageClauses=function(n){return this.update(this.modifiers,this.classKeyword,this.identifier,this.typeParameterList,n,this.openBraceToken,this.classElements,this.closeBraceToken)},i.prototype.withHeritageClause=function(t){return this.withHeritageClauses(n.Syntax.list([t]))},i.prototype.withOpenBraceToken=function(n){return this.update(this.modifiers,this.classKeyword,this.identifier,this.typeParameterList,this.heritageClauses,n,this.classElements,this.closeBraceToken)},i.prototype.withClassElements=function(n){return this.update(this.modifiers,this.classKeyword,this.identifier,this.typeParameterList,this.heritageClauses,this.openBraceToken,n,this.closeBraceToken)},i.prototype.withClassElement=function(t){return this.withClassElements(n.Syntax.list([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.modifiers,this.classKeyword,this.identifier,this.typeParameterList,this.heritageClauses,this.openBraceToken,this.classElements,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ClassDeclarationSyntax=d;g=function(t){function i(n,i,r,u,f,e,o){t.call(this,o);this.modifiers=n;this.interfaceKeyword=i;this.identifier=r;this.typeParameterList=u;this.heritageClauses=f;this.body=e}return __extends(i,t),i.prototype.accept=function(n){return n.visitInterfaceDeclaration(this)},i.prototype.kind=function(){return 129},i.prototype.childCount=function(){return 6},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.interfaceKeyword;case 2:return this.identifier;case 3:return this.typeParameterList;case 4:return this.heritageClauses;case 5:return this.body;default:throw n.Errors.invalidOperation();}},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e){return this.modifiers===n&&this.interfaceKeyword===t&&this.identifier===r&&this.typeParameterList===u&&this.heritageClauses===f&&this.body===e?this:new i(n,t,r,u,f,e,this.parsedInStrictMode())},i.create=function(t,r,u){return new i(n.Syntax.emptyList,t,r,null,n.Syntax.emptyList,u,!1)},i.create1=function(t){return new i(n.Syntax.emptyList,n.Syntax.token(52),t,null,n.Syntax.emptyList,v.create1(),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.interfaceKeyword,this.identifier,this.typeParameterList,this.heritageClauses,this.body)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withInterfaceKeyword=function(n){return this.update(this.modifiers,n,this.identifier,this.typeParameterList,this.heritageClauses,this.body)},i.prototype.withIdentifier=function(n){return this.update(this.modifiers,this.interfaceKeyword,n,this.typeParameterList,this.heritageClauses,this.body)},i.prototype.withTypeParameterList=function(n){return this.update(this.modifiers,this.interfaceKeyword,this.identifier,n,this.heritageClauses,this.body)},i.prototype.withHeritageClauses=function(n){return this.update(this.modifiers,this.interfaceKeyword,this.identifier,this.typeParameterList,n,this.body)},i.prototype.withHeritageClause=function(t){return this.withHeritageClauses(n.Syntax.list([t]))},i.prototype.withBody=function(n){return this.update(this.modifiers,this.interfaceKeyword,this.identifier,this.typeParameterList,this.heritageClauses,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.InterfaceDeclarationSyntax=g;nt=function(t){function i(n,i,r){t.call(this,r);this.extendsOrImplementsKeyword=n;this.typeNames=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitHeritageClause(this)},i.prototype.kind=function(){return 230},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.extendsOrImplementsKeyword;case 1:return this.typeNames;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.extendsOrImplementsKeyword===n&&this.typeNames===t?this:new i(n,t,this.parsedInStrictMode())},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withExtendsOrImplementsKeyword=function(n){return this.update(n,this.typeNames)},i.prototype.withTypeNames=function(n){return this.update(this.extendsOrImplementsKeyword,n)},i.prototype.withTypeName=function(t){return this.withTypeNames(n.Syntax.separatedList([t]))},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.HeritageClauseSyntax=nt;tt=function(t){function i(n,i,r,u,f,e,o,s){t.call(this,s);this.modifiers=n;this.moduleKeyword=i;this.moduleName=r;this.stringLiteral=u;this.openBraceToken=f;this.moduleElements=e;this.closeBraceToken=o}return __extends(i,t),i.prototype.accept=function(n){return n.visitModuleDeclaration(this)},i.prototype.kind=function(){return 131},i.prototype.childCount=function(){return 7},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.moduleKeyword;case 2:return this.moduleName;case 3:return this.stringLiteral;case 4:return this.openBraceToken;case 5:return this.moduleElements;case 6:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e,o){return this.modifiers===n&&this.moduleKeyword===t&&this.moduleName===r&&this.stringLiteral===u&&this.openBraceToken===f&&this.moduleElements===e&&this.closeBraceToken===o?this:new i(n,t,r,u,f,e,o,this.parsedInStrictMode())},i.create=function(t,r,u){return new i(n.Syntax.emptyList,t,null,null,r,n.Syntax.emptyList,u,!1)},i.create1=function(){return new i(n.Syntax.emptyList,n.Syntax.token(66),null,null,n.Syntax.token(71),n.Syntax.emptyList,n.Syntax.token(72),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.moduleKeyword,this.moduleName,this.stringLiteral,this.openBraceToken,this.moduleElements,this.closeBraceToken)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withModuleKeyword=function(n){return this.update(this.modifiers,n,this.moduleName,this.stringLiteral,this.openBraceToken,this.moduleElements,this.closeBraceToken)},i.prototype.withModuleName=function(n){return this.update(this.modifiers,this.moduleKeyword,n,this.stringLiteral,this.openBraceToken,this.moduleElements,this.closeBraceToken)},i.prototype.withStringLiteral=function(n){return this.update(this.modifiers,this.moduleKeyword,this.moduleName,n,this.openBraceToken,this.moduleElements,this.closeBraceToken)},i.prototype.withOpenBraceToken=function(n){return this.update(this.modifiers,this.moduleKeyword,this.moduleName,this.stringLiteral,n,this.moduleElements,this.closeBraceToken)},i.prototype.withModuleElements=function(n){return this.update(this.modifiers,this.moduleKeyword,this.moduleName,this.stringLiteral,this.openBraceToken,n,this.closeBraceToken)},i.prototype.withModuleElement=function(t){return this.withModuleElements(n.Syntax.list([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.modifiers,this.moduleKeyword,this.moduleName,this.stringLiteral,this.openBraceToken,this.moduleElements,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ModuleDeclarationSyntax=tt;it=function(t){function r(n,i,r,u,f,e,o){t.call(this,o);this.modifiers=n;this.functionKeyword=i;this.identifier=r;this.callSignature=u;this.block=f;this.semicolonToken=e}return __extends(r,t),r.prototype.accept=function(n){return n.visitFunctionDeclaration(this)},r.prototype.kind=function(){return 130},r.prototype.childCount=function(){return 6},r.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.functionKeyword;case 2:return this.identifier;case 3:return this.callSignature;case 4:return this.block;case 5:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},r.prototype.isStatement=function(){return!0},r.prototype.isModuleElement=function(){return!0},r.prototype.update=function(n,t,i,u,f,e){return this.modifiers===n&&this.functionKeyword===t&&this.identifier===i&&this.callSignature===u&&this.block===f&&this.semicolonToken===e?this:new r(n,t,i,u,f,e,this.parsedInStrictMode())},r.create=function(t,i,u){return new r(n.Syntax.emptyList,t,i,u,null,null,!1)},r.create1=function(t){return new r(n.Syntax.emptyList,n.Syntax.token(27),t,i.create1(),null,null,!1)},r.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},r.prototype.withModifiers=function(n){return this.update(n,this.functionKeyword,this.identifier,this.callSignature,this.block,this.semicolonToken)},r.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},r.prototype.withFunctionKeyword=function(n){return this.update(this.modifiers,n,this.identifier,this.callSignature,this.block,this.semicolonToken)},r.prototype.withIdentifier=function(n){return this.update(this.modifiers,this.functionKeyword,n,this.callSignature,this.block,this.semicolonToken)},r.prototype.withCallSignature=function(n){return this.update(this.modifiers,this.functionKeyword,this.identifier,n,this.block,this.semicolonToken)},r.prototype.withBlock=function(n){return this.update(this.modifiers,this.functionKeyword,this.identifier,this.callSignature,n,this.semicolonToken)},r.prototype.withSemicolonToken=function(n){return this.update(this.modifiers,this.functionKeyword,this.identifier,this.callSignature,this.block,n)},r.prototype.isTypeScriptSpecific=function(){return this.modifiers.isTypeScriptSpecific()?!0:this.callSignature.isTypeScriptSpecific()?!0:this.block!==null&&this.block.isTypeScriptSpecific()?!0:!1},r}(n.SyntaxNode);n.FunctionDeclarationSyntax=it;rt=function(t){function i(n,i,r,u){t.call(this,u);this.modifiers=n;this.variableDeclaration=i;this.semicolonToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitVariableStatement(this)},i.prototype.kind=function(){return 148},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.variableDeclaration;case 2:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.modifiers===n&&this.variableDeclaration===t&&this.semicolonToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(n.Syntax.emptyList,t,r,!1)},i.create1=function(t){return new i(n.Syntax.emptyList,t,n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.variableDeclaration,this.semicolonToken)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withVariableDeclaration=function(n){return this.update(this.modifiers,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.modifiers,this.variableDeclaration,n)},i.prototype.isTypeScriptSpecific=function(){return this.modifiers.isTypeScriptSpecific()?!0:this.variableDeclaration.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.VariableStatementSyntax=rt;ut=function(t){function i(n,i,r){t.call(this,r);this.varKeyword=n;this.variableDeclarators=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitVariableDeclaration(this)},i.prototype.kind=function(){return 224},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.varKeyword;case 1:return this.variableDeclarators;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.varKeyword===n&&this.variableDeclarators===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(40),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withVarKeyword=function(n){return this.update(n,this.variableDeclarators)},i.prototype.withVariableDeclarators=function(n){return this.update(this.varKeyword,n)},i.prototype.withVariableDeclarator=function(t){return this.withVariableDeclarators(n.Syntax.separatedList([t]))},i.prototype.isTypeScriptSpecific=function(){return this.variableDeclarators.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.VariableDeclarationSyntax=ut;ft=function(t){function i(n,i,r,u){t.call(this,u);this.identifier=n;this.typeAnnotation=i;this.equalsValueClause=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitVariableDeclarator(this)},i.prototype.kind=function(){return 225},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.identifier;case 1:return this.typeAnnotation;case 2:return this.equalsValueClause;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r){return this.identifier===n&&this.typeAnnotation===t&&this.equalsValueClause===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n){return new i(n,null,null,!1)},i.create1=function(n){return new i(n,null,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withIdentifier=function(n){return this.update(n,this.typeAnnotation,this.equalsValueClause)},i.prototype.withTypeAnnotation=function(n){return this.update(this.identifier,n,this.equalsValueClause)},i.prototype.withEqualsValueClause=function(n){return this.update(this.identifier,this.typeAnnotation,n)},i.prototype.isTypeScriptSpecific=function(){return this.typeAnnotation!==null?!0:this.equalsValueClause!==null&&this.equalsValueClause.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.VariableDeclaratorSyntax=ft;et=function(t){function i(n,i,r){t.call(this,r);this.equalsToken=n;this.value=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitEqualsValueClause(this)},i.prototype.kind=function(){return 231},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.equalsToken;case 1:return this.value;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.equalsToken===n&&this.value===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(108),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withEqualsToken=function(n){return this.update(n,this.value)},i.prototype.withValue=function(n){return this.update(this.equalsToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.value.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.EqualsValueClauseSyntax=et;ot=function(t){function i(n,i,r,u){t.call(this,u);this.operatorToken=i;this.operand=r;this._kind=n}return __extends(i,t),i.prototype.accept=function(n){return n.visitPrefixUnaryExpression(this)},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.operatorToken;case 1:return this.operand;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.kind=function(){return this._kind},i.prototype.update=function(n,t,r){return this._kind===n&&this.operatorToken===t&&this.operand===r?this:new i(n,t,r,this.parsedInStrictMode())},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withKind=function(n){return this.update(n,this.operatorToken,this.operand)},i.prototype.withOperatorToken=function(n){return this.update(this._kind,n,this.operand)},i.prototype.withOperand=function(n){return this.update(this._kind,this.operatorToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.operand.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.PrefixUnaryExpressionSyntax=ot;st=function(t){function i(n,i,r,u){t.call(this,u);this.openBracketToken=n;this.expressions=i;this.closeBracketToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitArrayLiteralExpression(this)},i.prototype.kind=function(){return 214},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.openBracketToken;case 1:return this.expressions;case 2:return this.closeBracketToken;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.openBracketToken===n&&this.expressions===t&&this.closeBracketToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(n.Syntax.token(75),n.Syntax.emptySeparatedList,n.Syntax.token(76),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenBracketToken=function(n){return this.update(n,this.expressions,this.closeBracketToken)},i.prototype.withExpressions=function(n){return this.update(this.openBracketToken,n,this.closeBracketToken)},i.prototype.withExpression=function(t){return this.withExpressions(n.Syntax.separatedList([t]))},i.prototype.withCloseBracketToken=function(n){return this.update(this.openBracketToken,this.expressions,n)},i.prototype.isTypeScriptSpecific=function(){return this.expressions.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ArrayLiteralExpressionSyntax=st;ht=function(t){function i(n){t.call(this,n)}return __extends(i,t),i.prototype.accept=function(n){return n.visitOmittedExpression(this)},i.prototype.kind=function(){return 223},i.prototype.childCount=function(){return 0},i.prototype.childAt=function(){throw n.Errors.invalidOperation();},i.prototype.isExpression=function(){return!0},i.prototype.update=function(){return this},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.isTypeScriptSpecific=function(){return!1},i}(n.SyntaxNode);n.OmittedExpressionSyntax=ht;ct=function(t){function i(n,i,r,u){t.call(this,u);this.openParenToken=n;this.expression=i;this.closeParenToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitParenthesizedExpression(this)},i.prototype.kind=function(){return 217},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.openParenToken;case 1:return this.expression;case 2:return this.closeParenToken;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.openParenToken===n&&this.expression===t&&this.closeParenToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(73),t,n.Syntax.token(74),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenParenToken=function(n){return this.update(n,this.expression,this.closeParenToken)},i.prototype.withExpression=function(n){return this.update(this.openParenToken,n,this.closeParenToken)},i.prototype.withCloseParenToken=function(n){return this.update(this.openParenToken,this.expression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ParenthesizedExpressionSyntax=ct;o=function(n){function t(t,i,r){n.call(this,r);this.equalsGreaterThanToken=t;this.body=i}return __extends(t,n),t.prototype.isUnaryExpression=function(){return!0},t.prototype.isExpression=function(){return!0},t.prototype.withLeadingTrivia=function(t){return n.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return n.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!0},t}(n.SyntaxNode);n.ArrowFunctionExpressionSyntax=o;lt=function(t){function i(n,i,r,u){t.call(this,i,r,u);this.identifier=n}return __extends(i,t),i.prototype.accept=function(n){return n.visitSimpleArrowFunctionExpression(this)},i.prototype.kind=function(){return 219},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.identifier;case 1:return this.equalsGreaterThanToken;case 2:return this.body;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r){return this.identifier===n&&this.equalsGreaterThanToken===t&&this.body===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t,r){return new i(t,n.Syntax.token(86),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withIdentifier=function(n){return this.update(n,this.equalsGreaterThanToken,this.body)},i.prototype.withEqualsGreaterThanToken=function(n){return this.update(this.identifier,n,this.body)},i.prototype.withBody=function(n){return this.update(this.identifier,this.equalsGreaterThanToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(o);n.SimpleArrowFunctionExpressionSyntax=lt;at=function(t){function r(n,i,r,u){t.call(this,i,r,u);this.callSignature=n}return __extends(r,t),r.prototype.accept=function(n){return n.visitParenthesizedArrowFunctionExpression(this)},r.prototype.kind=function(){return 218},r.prototype.childCount=function(){return 3},r.prototype.childAt=function(t){switch(t){case 0:return this.callSignature;case 1:return this.equalsGreaterThanToken;case 2:return this.body;default:throw n.Errors.invalidOperation();}},r.prototype.update=function(n,t,i){return this.callSignature===n&&this.equalsGreaterThanToken===t&&this.body===i?this:new r(n,t,i,this.parsedInStrictMode())},r.create1=function(t){return new r(i.create1(),n.Syntax.token(86),t,!1)},r.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},r.prototype.withCallSignature=function(n){return this.update(n,this.equalsGreaterThanToken,this.body)},r.prototype.withEqualsGreaterThanToken=function(n){return this.update(this.callSignature,n,this.body)},r.prototype.withBody=function(n){return this.update(this.callSignature,this.equalsGreaterThanToken,n)},r.prototype.isTypeScriptSpecific=function(){return!0},r}(o);n.ParenthesizedArrowFunctionExpressionSyntax=at;vt=function(t){function i(n,i,r,u){t.call(this,u);this.left=n;this.dotToken=i;this.right=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitQualifiedName(this)},i.prototype.kind=function(){return 122},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.left;case 1:return this.dotToken;case 2:return this.right;default:throw n.Errors.invalidOperation();}},i.prototype.isName=function(){return!0},i.prototype.isType=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.left===n&&this.dotToken===t&&this.right===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t,r){return new i(t,n.Syntax.token(77),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withLeft=function(n){return this.update(n,this.dotToken,this.right)},i.prototype.withDotToken=function(n){return this.update(this.left,n,this.right)},i.prototype.withRight=function(n){return this.update(this.left,this.dotToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.QualifiedNameSyntax=vt;a=function(t){function i(n,i,r,u){t.call(this,u);this.lessThanToken=n;this.typeArguments=i;this.greaterThanToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitTypeArgumentList(this)},i.prototype.kind=function(){return 228},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.lessThanToken;case 1:return this.typeArguments;case 2:return this.greaterThanToken;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r){return this.lessThanToken===n&&this.typeArguments===t&&this.greaterThanToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(n.Syntax.token(81),n.Syntax.emptySeparatedList,n.Syntax.token(82),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withLessThanToken=function(n){return this.update(n,this.typeArguments,this.greaterThanToken)},i.prototype.withTypeArguments=function(n){return this.update(this.lessThanToken,n,this.greaterThanToken)},i.prototype.withTypeArgument=function(t){return this.withTypeArguments(n.Syntax.separatedList([t]))},i.prototype.withGreaterThanToken=function(n){return this.update(this.lessThanToken,this.typeArguments,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.TypeArgumentListSyntax=a;yt=function(t){function i(n,i,r,u,f,e){t.call(this,e);this.newKeyword=n;this.typeParameterList=i;this.parameterList=r;this.equalsGreaterThanToken=u;this.type=f}return __extends(i,t),i.prototype.accept=function(n){return n.visitConstructorType(this)},i.prototype.kind=function(){return 126},i.prototype.childCount=function(){return 5},i.prototype.childAt=function(t){switch(t){case 0:return this.newKeyword;case 1:return this.typeParameterList;case 2:return this.parameterList;case 3:return this.equalsGreaterThanToken;case 4:return this.type;default:throw n.Errors.invalidOperation();}},i.prototype.isType=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r,u,f){return this.newKeyword===n&&this.typeParameterList===t&&this.parameterList===r&&this.equalsGreaterThanToken===u&&this.type===f?this:new i(n,t,r,u,f,this.parsedInStrictMode())},i.create=function(n,t,r,u){return new i(n,null,t,r,u,!1)},i.create1=function(t){return new i(n.Syntax.token(31),null,r.create1(),n.Syntax.token(86),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withNewKeyword=function(n){return this.update(n,this.typeParameterList,this.parameterList,this.equalsGreaterThanToken,this.type)},i.prototype.withTypeParameterList=function(n){return this.update(this.newKeyword,n,this.parameterList,this.equalsGreaterThanToken,this.type)},i.prototype.withParameterList=function(n){return this.update(this.newKeyword,this.typeParameterList,n,this.equalsGreaterThanToken,this.type)},i.prototype.withEqualsGreaterThanToken=function(n){return this.update(this.newKeyword,this.typeParameterList,this.parameterList,n,this.type)},i.prototype.withType=function(n){return this.update(this.newKeyword,this.typeParameterList,this.parameterList,this.equalsGreaterThanToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ConstructorTypeSyntax=yt;pt=function(t){function i(n,i,r,u,f){t.call(this,f);this.typeParameterList=n;this.parameterList=i;this.equalsGreaterThanToken=r;this.type=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitFunctionType(this)},i.prototype.kind=function(){return 124},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.typeParameterList;case 1:return this.parameterList;case 2:return this.equalsGreaterThanToken;case 3:return this.type;default:throw n.Errors.invalidOperation();}},i.prototype.isType=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r,u){return this.typeParameterList===n&&this.parameterList===t&&this.equalsGreaterThanToken===r&&this.type===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create=function(n,t,r){return new i(null,n,t,r,!1)},i.create1=function(t){return new i(null,r.create1(),n.Syntax.token(86),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withTypeParameterList=function(n){return this.update(n,this.parameterList,this.equalsGreaterThanToken,this.type)},i.prototype.withParameterList=function(n){return this.update(this.typeParameterList,n,this.equalsGreaterThanToken,this.type)},i.prototype.withEqualsGreaterThanToken=function(n){return this.update(this.typeParameterList,this.parameterList,n,this.type)},i.prototype.withType=function(n){return this.update(this.typeParameterList,this.parameterList,this.equalsGreaterThanToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.FunctionTypeSyntax=pt;v=function(t){function i(n,i,r,u){t.call(this,u);this.openBraceToken=n;this.typeMembers=i;this.closeBraceToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitObjectType(this)},i.prototype.kind=function(){return 123},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.openBraceToken;case 1:return this.typeMembers;case 2:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isType=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.openBraceToken===n&&this.typeMembers===t&&this.closeBraceToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(n.Syntax.token(71),n.Syntax.emptySeparatedList,n.Syntax.token(72),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenBraceToken=function(n){return this.update(n,this.typeMembers,this.closeBraceToken)},i.prototype.withTypeMembers=function(n){return this.update(this.openBraceToken,n,this.closeBraceToken)},i.prototype.withTypeMember=function(t){return this.withTypeMembers(n.Syntax.separatedList([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.openBraceToken,this.typeMembers,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ObjectTypeSyntax=v;wt=function(t){function i(n,i,r,u){t.call(this,u);this.type=n;this.openBracketToken=i;this.closeBracketToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitArrayType(this)},i.prototype.kind=function(){return 125},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.type;case 1:return this.openBracketToken;case 2:return this.closeBracketToken;default:throw n.Errors.invalidOperation();}},i.prototype.isType=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.type===n&&this.openBracketToken===t&&this.closeBracketToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t){return new i(t,n.Syntax.token(75),n.Syntax.token(76),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withType=function(n){return this.update(n,this.openBracketToken,this.closeBracketToken)},i.prototype.withOpenBracketToken=function(n){return this.update(this.type,n,this.closeBracketToken)},i.prototype.withCloseBracketToken=function(n){return this.update(this.type,this.openBracketToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ArrayTypeSyntax=wt;bt=function(t){function i(n,i,r){t.call(this,r);this.name=n;this.typeArgumentList=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitGenericType(this)},i.prototype.kind=function(){return 127},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.name;case 1:return this.typeArgumentList;default:throw n.Errors.invalidOperation();}},i.prototype.isType=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t){return this.name===n&&this.typeArgumentList===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(n){return new i(n,a.create1(),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withName=function(n){return this.update(n,this.typeArgumentList)},i.prototype.withTypeArgumentList=function(n){return this.update(this.name,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.GenericTypeSyntax=bt;kt=function(t){function i(n,i,r){t.call(this,r);this.typeOfKeyword=n;this.name=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitTypeQuery(this)},i.prototype.kind=function(){return 128},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.typeOfKeyword;case 1:return this.name;default:throw n.Errors.invalidOperation();}},i.prototype.isType=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t){return this.typeOfKeyword===n&&this.name===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(39),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withTypeOfKeyword=function(n){return this.update(n,this.name)},i.prototype.withName=function(n){return this.update(this.typeOfKeyword,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.TypeQuerySyntax=kt;dt=function(t){function i(n,i,r){t.call(this,r);this.colonToken=n;this.type=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitTypeAnnotation(this)},i.prototype.kind=function(){return 245},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.colonToken;case 1:return this.type;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.colonToken===n&&this.type===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(107),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withColonToken=function(n){return this.update(n,this.type)},i.prototype.withType=function(n){return this.update(this.colonToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.TypeAnnotationSyntax=dt;t=function(t){function i(n,i,r,u){t.call(this,u);this.openBraceToken=n;this.statements=i;this.closeBraceToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitBlock(this)},i.prototype.kind=function(){return 146},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.openBraceToken;case 1:return this.statements;case 2:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.openBraceToken===n&&this.statements===t&&this.closeBraceToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptyList,r,!1)},i.create1=function(){return new i(n.Syntax.token(71),n.Syntax.emptyList,n.Syntax.token(72),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenBraceToken=function(n){return this.update(n,this.statements,this.closeBraceToken)},i.prototype.withStatements=function(n){return this.update(this.openBraceToken,n,this.closeBraceToken)},i.prototype.withStatement=function(t){return this.withStatements(n.Syntax.list([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.openBraceToken,this.statements,n)},i.prototype.isTypeScriptSpecific=function(){return this.statements.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.BlockSyntax=t;gt=function(t){function i(n,i,r,u,f,e,o){t.call(this,o);this.dotDotDotToken=n;this.publicOrPrivateKeyword=i;this.identifier=r;this.questionToken=u;this.typeAnnotation=f;this.equalsValueClause=e}return __extends(i,t),i.prototype.accept=function(n){return n.visitParameter(this)},i.prototype.kind=function(){return 243},i.prototype.childCount=function(){return 6},i.prototype.childAt=function(t){switch(t){case 0:return this.dotDotDotToken;case 1:return this.publicOrPrivateKeyword;case 2:return this.identifier;case 3:return this.questionToken;case 4:return this.typeAnnotation;case 5:return this.equalsValueClause;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r,u,f,e){return this.dotDotDotToken===n&&this.publicOrPrivateKeyword===t&&this.identifier===r&&this.questionToken===u&&this.typeAnnotation===f&&this.equalsValueClause===e?this:new i(n,t,r,u,f,e,this.parsedInStrictMode())},i.create=function(n){return new i(null,null,n,null,null,null,!1)},i.create1=function(n){return new i(null,null,n,null,null,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withDotDotDotToken=function(n){return this.update(n,this.publicOrPrivateKeyword,this.identifier,this.questionToken,this.typeAnnotation,this.equalsValueClause)},i.prototype.withPublicOrPrivateKeyword=function(n){return this.update(this.dotDotDotToken,n,this.identifier,this.questionToken,this.typeAnnotation,this.equalsValueClause)},i.prototype.withIdentifier=function(n){return this.update(this.dotDotDotToken,this.publicOrPrivateKeyword,n,this.questionToken,this.typeAnnotation,this.equalsValueClause)},i.prototype.withQuestionToken=function(n){return this.update(this.dotDotDotToken,this.publicOrPrivateKeyword,this.identifier,n,this.typeAnnotation,this.equalsValueClause)},i.prototype.withTypeAnnotation=function(n){return this.update(this.dotDotDotToken,this.publicOrPrivateKeyword,this.identifier,this.questionToken,n,this.equalsValueClause)},i.prototype.withEqualsValueClause=function(n){return this.update(this.dotDotDotToken,this.publicOrPrivateKeyword,this.identifier,this.questionToken,this.typeAnnotation,n)},i.prototype.isTypeScriptSpecific=function(){return this.dotDotDotToken!==null?!0:this.publicOrPrivateKeyword!==null?!0:this.questionToken!==null?!0:this.typeAnnotation!==null?!0:this.equalsValueClause!==null?!0:!1},i}(n.SyntaxNode);n.ParameterSyntax=gt;ni=function(t){function i(n,i,r,u){t.call(this,u);this.expression=n;this.dotToken=i;this.name=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitMemberAccessExpression(this)},i.prototype.kind=function(){return 212},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.expression;case 1:return this.dotToken;case 2:return this.name;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.expression===n&&this.dotToken===t&&this.name===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t,r){return new i(t,n.Syntax.token(77),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withExpression=function(n){return this.update(n,this.dotToken,this.name)},i.prototype.withDotToken=function(n){return this.update(this.expression,n,this.name)},i.prototype.withName=function(n){return this.update(this.expression,this.dotToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.MemberAccessExpressionSyntax=ni;ti=function(t){function i(n,i,r,u){t.call(this,u);this.operand=i;this.operatorToken=r;this._kind=n}return __extends(i,t),i.prototype.accept=function(n){return n.visitPostfixUnaryExpression(this)},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.operand;case 1:return this.operatorToken;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.kind=function(){return this._kind},i.prototype.update=function(n,t,r){return this._kind===n&&this.operand===t&&this.operatorToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withKind=function(n){return this.update(n,this.operand,this.operatorToken)},i.prototype.withOperand=function(n){return this.update(this._kind,n,this.operatorToken)},i.prototype.withOperatorToken=function(n){return this.update(this._kind,this.operand,n)},i.prototype.isTypeScriptSpecific=function(){return this.operand.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.PostfixUnaryExpressionSyntax=ti;ii=function(t){function i(n,i,r,u,f){t.call(this,f);this.expression=n;this.openBracketToken=i;this.argumentExpression=r;this.closeBracketToken=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitElementAccessExpression(this)},i.prototype.kind=function(){return 221},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.expression;case 1:return this.openBracketToken;case 2:return this.argumentExpression;case 3:return this.closeBracketToken;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r,u){return this.expression===n&&this.openBracketToken===t&&this.argumentExpression===r&&this.closeBracketToken===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create1=function(t,r){return new i(t,n.Syntax.token(75),r,n.Syntax.token(76),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withExpression=function(n){return this.update(n,this.openBracketToken,this.argumentExpression,this.closeBracketToken)},i.prototype.withOpenBracketToken=function(n){return this.update(this.expression,n,this.argumentExpression,this.closeBracketToken)},i.prototype.withArgumentExpression=function(n){return this.update(this.expression,this.openBracketToken,n,this.closeBracketToken)},i.prototype.withCloseBracketToken=function(n){return this.update(this.expression,this.openBracketToken,this.argumentExpression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:this.argumentExpression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ElementAccessExpressionSyntax=ii;ri=function(t){function i(n,i,r){t.call(this,r);this.expression=n;this.argumentList=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitInvocationExpression(this)},i.prototype.kind=function(){return 213},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.expression;case 1:return this.argumentList;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t){return this.expression===n&&this.argumentList===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(n){return new i(n,y.create1(),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withExpression=function(n){return this.update(n,this.argumentList)},i.prototype.withArgumentList=function(n){return this.update(this.expression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:this.argumentList.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.InvocationExpressionSyntax=ri;y=function(t){function i(n,i,r,u,f){t.call(this,f);this.typeArgumentList=n;this.openParenToken=i;this.arguments=r;this.closeParenToken=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitArgumentList(this)},i.prototype.kind=function(){return 226},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.typeArgumentList;case 1:return this.openParenToken;case 2:return this.arguments;case 3:return this.closeParenToken;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r,u){return this.typeArgumentList===n&&this.openParenToken===t&&this.arguments===r&&this.closeParenToken===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create=function(t,r){return new i(null,t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(null,n.Syntax.token(73),n.Syntax.emptySeparatedList,n.Syntax.token(74),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withTypeArgumentList=function(n){return this.update(n,this.openParenToken,this.arguments,this.closeParenToken)},i.prototype.withOpenParenToken=function(n){return this.update(this.typeArgumentList,n,this.arguments,this.closeParenToken)},i.prototype.withArguments=function(n){return this.update(this.typeArgumentList,this.openParenToken,n,this.closeParenToken)},i.prototype.withArgument=function(t){return this.withArguments(n.Syntax.separatedList([t]))},i.prototype.withCloseParenToken=function(n){return this.update(this.typeArgumentList,this.openParenToken,this.arguments,n)},i.prototype.isTypeScriptSpecific=function(){return this.typeArgumentList!==null&&this.typeArgumentList.isTypeScriptSpecific()?!0:this.arguments.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ArgumentListSyntax=y;ui=function(t){function i(n,i,r,u,f){t.call(this,f);this.left=i;this.operatorToken=r;this.right=u;this._kind=n}return __extends(i,t),i.prototype.accept=function(n){return n.visitBinaryExpression(this)},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.left;case 1:return this.operatorToken;case 2:return this.right;default:throw n.Errors.invalidOperation();}},i.prototype.isExpression=function(){return!0},i.prototype.kind=function(){return this._kind},i.prototype.update=function(n,t,r,u){return this._kind===n&&this.left===t&&this.operatorToken===r&&this.right===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withKind=function(n){return this.update(n,this.left,this.operatorToken,this.right)},i.prototype.withLeft=function(n){return this.update(this._kind,n,this.operatorToken,this.right)},i.prototype.withOperatorToken=function(n){return this.update(this._kind,this.left,n,this.right)},i.prototype.withRight=function(n){return this.update(this._kind,this.left,this.operatorToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.left.isTypeScriptSpecific()?!0:this.right.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.BinaryExpressionSyntax=ui;fi=function(t){function i(n,i,r,u,f,e){t.call(this,e);this.condition=n;this.questionToken=i;this.whenTrue=r;this.colonToken=u;this.whenFalse=f}return __extends(i,t),i.prototype.accept=function(n){return n.visitConditionalExpression(this)},i.prototype.kind=function(){return 186},i.prototype.childCount=function(){return 5},i.prototype.childAt=function(t){switch(t){case 0:return this.condition;case 1:return this.questionToken;case 2:return this.whenTrue;case 3:return this.colonToken;case 4:return this.whenFalse;default:throw n.Errors.invalidOperation();}},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r,u,f){return this.condition===n&&this.questionToken===t&&this.whenTrue===r&&this.colonToken===u&&this.whenFalse===f?this:new i(n,t,r,u,f,this.parsedInStrictMode())},i.create1=function(t,r,u){return new i(t,n.Syntax.token(106),r,n.Syntax.token(107),u,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withCondition=function(n){return this.update(n,this.questionToken,this.whenTrue,this.colonToken,this.whenFalse)},i.prototype.withQuestionToken=function(n){return this.update(this.condition,n,this.whenTrue,this.colonToken,this.whenFalse)},i.prototype.withWhenTrue=function(n){return this.update(this.condition,this.questionToken,n,this.colonToken,this.whenFalse)},i.prototype.withColonToken=function(n){return this.update(this.condition,this.questionToken,this.whenTrue,n,this.whenFalse)},i.prototype.withWhenFalse=function(n){return this.update(this.condition,this.questionToken,this.whenTrue,this.colonToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.condition.isTypeScriptSpecific()?!0:this.whenTrue.isTypeScriptSpecific()?!0:this.whenFalse.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ConditionalExpressionSyntax=fi;ei=function(t){function r(n,i,r){t.call(this,r);this.newKeyword=n;this.callSignature=i}return __extends(r,t),r.prototype.accept=function(n){return n.visitConstructSignature(this)},r.prototype.kind=function(){return 143},r.prototype.childCount=function(){return 2},r.prototype.childAt=function(t){switch(t){case 0:return this.newKeyword;case 1:return this.callSignature;default:throw n.Errors.invalidOperation();}},r.prototype.isTypeMember=function(){return!0},r.prototype.update=function(n,t){return this.newKeyword===n&&this.callSignature===t?this:new r(n,t,this.parsedInStrictMode())},r.create1=function(){return new r(n.Syntax.token(31),i.create1(),!1)},r.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},r.prototype.withNewKeyword=function(n){return this.update(n,this.callSignature)},r.prototype.withCallSignature=function(n){return this.update(this.newKeyword,n)},r.prototype.isTypeScriptSpecific=function(){return!0},r}(n.SyntaxNode);n.ConstructSignatureSyntax=ei;oi=function(t){function r(n,i,r,u){t.call(this,u);this.propertyName=n;this.questionToken=i;this.callSignature=r}return __extends(r,t),r.prototype.accept=function(n){return n.visitMethodSignature(this)},r.prototype.kind=function(){return 145},r.prototype.childCount=function(){return 3},r.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.questionToken;case 2:return this.callSignature;default:throw n.Errors.invalidOperation();}},r.prototype.isTypeMember=function(){return!0},r.prototype.update=function(n,t,i){return this.propertyName===n&&this.questionToken===t&&this.callSignature===i?this:new r(n,t,i,this.parsedInStrictMode())},r.create=function(n,t){return new r(n,null,t,!1)},r.create1=function(n){return new r(n,null,i.create1(),!1)},r.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},r.prototype.withPropertyName=function(n){return this.update(n,this.questionToken,this.callSignature)},r.prototype.withQuestionToken=function(n){return this.update(this.propertyName,n,this.callSignature)},r.prototype.withCallSignature=function(n){return this.update(this.propertyName,this.questionToken,n)},r.prototype.isTypeScriptSpecific=function(){return this.callSignature.isTypeScriptSpecific()?!0:!1},r}(n.SyntaxNode);n.MethodSignatureSyntax=oi;si=function(t){function i(n,i,r,u,f){t.call(this,f);this.openBracketToken=n;this.parameter=i;this.closeBracketToken=r;this.typeAnnotation=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitIndexSignature(this)},i.prototype.kind=function(){return 144},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.openBracketToken;case 1:return this.parameter;case 2:return this.closeBracketToken;case 3:return this.typeAnnotation;default:throw n.Errors.invalidOperation();}},i.prototype.isTypeMember=function(){return!0},i.prototype.isClassElement=function(){return!0},i.prototype.update=function(n,t,r,u){return this.openBracketToken===n&&this.parameter===t&&this.closeBracketToken===r&&this.typeAnnotation===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create=function(n,t,r){return new i(n,t,r,null,!1)},i.create1=function(t){return new i(n.Syntax.token(75),t,n.Syntax.token(76),null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenBracketToken=function(n){return this.update(n,this.parameter,this.closeBracketToken,this.typeAnnotation)},i.prototype.withParameter=function(n){return this.update(this.openBracketToken,n,this.closeBracketToken,this.typeAnnotation)},i.prototype.withCloseBracketToken=function(n){return this.update(this.openBracketToken,this.parameter,n,this.typeAnnotation)},i.prototype.withTypeAnnotation=function(n){return this.update(this.openBracketToken,this.parameter,this.closeBracketToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.IndexSignatureSyntax=si;hi=function(t){function i(n,i,r,u){t.call(this,u);this.propertyName=n;this.questionToken=i;this.typeAnnotation=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitPropertySignature(this)},i.prototype.kind=function(){return 141},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.questionToken;case 2:return this.typeAnnotation;default:throw n.Errors.invalidOperation();}},i.prototype.isTypeMember=function(){return!0},i.prototype.update=function(n,t,r){return this.propertyName===n&&this.questionToken===t&&this.typeAnnotation===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n){return new i(n,null,null,!1)},i.create1=function(n){return new i(n,null,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withPropertyName=function(n){return this.update(n,this.questionToken,this.typeAnnotation)},i.prototype.withQuestionToken=function(n){return this.update(this.propertyName,n,this.typeAnnotation)},i.prototype.withTypeAnnotation=function(n){return this.update(this.propertyName,this.questionToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.PropertySignatureSyntax=hi;i=function(t){function i(n,i,r,u){t.call(this,u);this.typeParameterList=n;this.parameterList=i;this.typeAnnotation=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitCallSignature(this)},i.prototype.kind=function(){return 142},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.typeParameterList;case 1:return this.parameterList;case 2:return this.typeAnnotation;default:throw n.Errors.invalidOperation();}},i.prototype.isTypeMember=function(){return!0},i.prototype.update=function(n,t,r){return this.typeParameterList===n&&this.parameterList===t&&this.typeAnnotation===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n){return new i(null,n,null,!1)},i.create1=function(){return new i(null,r.create1(),null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withTypeParameterList=function(n){return this.update(n,this.parameterList,this.typeAnnotation)},i.prototype.withParameterList=function(n){return this.update(this.typeParameterList,n,this.typeAnnotation)},i.prototype.withTypeAnnotation=function(n){return this.update(this.typeParameterList,this.parameterList,n)},i.prototype.isTypeScriptSpecific=function(){return this.typeParameterList!==null?!0:this.parameterList.isTypeScriptSpecific()?!0:this.typeAnnotation!==null?!0:!1},i}(n.SyntaxNode);n.CallSignatureSyntax=i;r=function(t){function i(n,i,r,u){t.call(this,u);this.openParenToken=n;this.parameters=i;this.closeParenToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitParameterList(this)},i.prototype.kind=function(){return 227},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.openParenToken;case 1:return this.parameters;case 2:return this.closeParenToken;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r){return this.openParenToken===n&&this.parameters===t&&this.closeParenToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(n.Syntax.token(73),n.Syntax.emptySeparatedList,n.Syntax.token(74),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenParenToken=function(n){return this.update(n,this.parameters,this.closeParenToken)},i.prototype.withParameters=function(n){return this.update(this.openParenToken,n,this.closeParenToken)},i.prototype.withParameter=function(t){return this.withParameters(n.Syntax.separatedList([t]))},i.prototype.withCloseParenToken=function(n){return this.update(this.openParenToken,this.parameters,n)},i.prototype.isTypeScriptSpecific=function(){return this.parameters.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ParameterListSyntax=r;ci=function(t){function i(n,i,r,u){t.call(this,u);this.lessThanToken=n;this.typeParameters=i;this.greaterThanToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitTypeParameterList(this)},i.prototype.kind=function(){return 229},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.lessThanToken;case 1:return this.typeParameters;case 2:return this.greaterThanToken;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r){return this.lessThanToken===n&&this.typeParameters===t&&this.greaterThanToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(n.Syntax.token(81),n.Syntax.emptySeparatedList,n.Syntax.token(82),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withLessThanToken=function(n){return this.update(n,this.typeParameters,this.greaterThanToken)},i.prototype.withTypeParameters=function(n){return this.update(this.lessThanToken,n,this.greaterThanToken)},i.prototype.withTypeParameter=function(t){return this.withTypeParameters(n.Syntax.separatedList([t]))},i.prototype.withGreaterThanToken=function(n){return this.update(this.lessThanToken,this.typeParameters,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.TypeParameterListSyntax=ci;li=function(t){function i(n,i,r){t.call(this,r);this.identifier=n;this.constraint=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitTypeParameter(this)},i.prototype.kind=function(){return 237},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.identifier;case 1:return this.constraint;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.identifier===n&&this.constraint===t?this:new i(n,t,this.parsedInStrictMode())},i.create=function(n){return new i(n,null,!1)},i.create1=function(n){return new i(n,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withIdentifier=function(n){return this.update(n,this.constraint)},i.prototype.withConstraint=function(n){return this.update(this.identifier,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.TypeParameterSyntax=li;ai=function(t){function i(n,i,r){t.call(this,r);this.extendsKeyword=n;this.type=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitConstraint(this)},i.prototype.kind=function(){return 238},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.extendsKeyword;case 1:return this.type;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.extendsKeyword===n&&this.type===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(48),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withExtendsKeyword=function(n){return this.update(n,this.type)},i.prototype.withType=function(n){return this.update(this.extendsKeyword,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ConstraintSyntax=ai;vi=function(t){function i(n,i,r){t.call(this,r);this.elseKeyword=n;this.statement=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitElseClause(this)},i.prototype.kind=function(){return 234},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.elseKeyword;case 1:return this.statement;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.elseKeyword===n&&this.statement===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(23),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withElseKeyword=function(n){return this.update(n,this.statement)},i.prototype.withStatement=function(n){return this.update(this.elseKeyword,n)},i.prototype.isTypeScriptSpecific=function(){return this.statement.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ElseClauseSyntax=vi;yi=function(t){function i(n,i,r,u,f,e,o){t.call(this,o);this.ifKeyword=n;this.openParenToken=i;this.condition=r;this.closeParenToken=u;this.statement=f;this.elseClause=e}return __extends(i,t),i.prototype.accept=function(n){return n.visitIfStatement(this)},i.prototype.kind=function(){return 147},i.prototype.childCount=function(){return 6},i.prototype.childAt=function(t){switch(t){case 0:return this.ifKeyword;case 1:return this.openParenToken;case 2:return this.condition;case 3:return this.closeParenToken;case 4:return this.statement;case 5:return this.elseClause;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e){return this.ifKeyword===n&&this.openParenToken===t&&this.condition===r&&this.closeParenToken===u&&this.statement===f&&this.elseClause===e?this:new i(n,t,r,u,f,e,this.parsedInStrictMode())},i.create=function(n,t,r,u,f){return new i(n,t,r,u,f,null,!1)},i.create1=function(t,r){return new i(n.Syntax.token(28),n.Syntax.token(73),t,n.Syntax.token(74),r,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withIfKeyword=function(n){return this.update(n,this.openParenToken,this.condition,this.closeParenToken,this.statement,this.elseClause)},i.prototype.withOpenParenToken=function(n){return this.update(this.ifKeyword,n,this.condition,this.closeParenToken,this.statement,this.elseClause)},i.prototype.withCondition=function(n){return this.update(this.ifKeyword,this.openParenToken,n,this.closeParenToken,this.statement,this.elseClause)},i.prototype.withCloseParenToken=function(n){return this.update(this.ifKeyword,this.openParenToken,this.condition,n,this.statement,this.elseClause)},i.prototype.withStatement=function(n){return this.update(this.ifKeyword,this.openParenToken,this.condition,this.closeParenToken,n,this.elseClause)},i.prototype.withElseClause=function(n){return this.update(this.ifKeyword,this.openParenToken,this.condition,this.closeParenToken,this.statement,n)},i.prototype.isTypeScriptSpecific=function(){return this.condition.isTypeScriptSpecific()?!0:this.statement.isTypeScriptSpecific()?!0:this.elseClause!==null&&this.elseClause.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.IfStatementSyntax=yi;pi=function(t){function i(n,i,r){t.call(this,r);this.expression=n;this.semicolonToken=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitExpressionStatement(this)},i.prototype.kind=function(){return 149},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.expression;case 1:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t){return this.expression===n&&this.semicolonToken===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(t,n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withExpression=function(n){return this.update(n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.expression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ExpressionStatementSyntax=pi;wi=function(t){function i(n,i,r,u,f){t.call(this,f);this.constructorKeyword=n;this.parameterList=i;this.block=r;this.semicolonToken=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitConstructorDeclaration(this)},i.prototype.kind=function(){return 138},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.constructorKeyword;case 1:return this.parameterList;case 2:return this.block;case 3:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isClassElement=function(){return!0},i.prototype.update=function(n,t,r,u){return this.constructorKeyword===n&&this.parameterList===t&&this.block===r&&this.semicolonToken===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create=function(n,t){return new i(n,t,null,null,!1)},i.create1=function(){return new i(n.Syntax.token(63),r.create1(),null,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withConstructorKeyword=function(n){return this.update(n,this.parameterList,this.block,this.semicolonToken)},i.prototype.withParameterList=function(n){return this.update(this.constructorKeyword,n,this.block,this.semicolonToken)},i.prototype.withBlock=function(n){return this.update(this.constructorKeyword,this.parameterList,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.constructorKeyword,this.parameterList,this.block,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ConstructorDeclarationSyntax=wi;bi=function(t){function r(n,i,r,u,f,e){t.call(this,e);this.modifiers=n;this.propertyName=i;this.callSignature=r;this.block=u;this.semicolonToken=f}return __extends(r,t),r.prototype.accept=function(n){return n.visitMemberFunctionDeclaration(this)},r.prototype.kind=function(){return 136},r.prototype.childCount=function(){return 5},r.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.propertyName;case 2:return this.callSignature;case 3:return this.block;case 4:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},r.prototype.isMemberDeclaration=function(){return!0},r.prototype.isClassElement=function(){return!0},r.prototype.update=function(n,t,i,u,f){return this.modifiers===n&&this.propertyName===t&&this.callSignature===i&&this.block===u&&this.semicolonToken===f?this:new r(n,t,i,u,f,this.parsedInStrictMode())},r.create=function(t,i){return new r(n.Syntax.emptyList,t,i,null,null,!1)},r.create1=function(t){return new r(n.Syntax.emptyList,t,i.create1(),null,null,!1)},r.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},r.prototype.withModifiers=function(n){return this.update(n,this.propertyName,this.callSignature,this.block,this.semicolonToken)},r.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},r.prototype.withPropertyName=function(n){return this.update(this.modifiers,n,this.callSignature,this.block,this.semicolonToken)},r.prototype.withCallSignature=function(n){return this.update(this.modifiers,this.propertyName,n,this.block,this.semicolonToken)},r.prototype.withBlock=function(n){return this.update(this.modifiers,this.propertyName,this.callSignature,n,this.semicolonToken)},r.prototype.withSemicolonToken=function(n){return this.update(this.modifiers,this.propertyName,this.callSignature,this.block,n)},r.prototype.isTypeScriptSpecific=function(){return!0},r}(n.SyntaxNode);n.MemberFunctionDeclarationSyntax=bi;s=function(n){function t(t,i,r,u,f){n.call(this,f);this.modifiers=t;this.propertyName=i;this.parameterList=r;this.block=u}return __extends(t,n),t.prototype.isMemberDeclaration=function(){return!0},t.prototype.isClassElement=function(){return!0},t.prototype.withLeadingTrivia=function(t){return n.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return n.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!0},t}(n.SyntaxNode);n.MemberAccessorDeclarationSyntax=s;ki=function(i){function u(n,t,r,u,f,e,o){i.call(this,n,r,u,e,o);this.getKeyword=t;this.typeAnnotation=f}return __extends(u,i),u.prototype.accept=function(n){return n.visitGetMemberAccessorDeclaration(this)},u.prototype.kind=function(){return 139},u.prototype.childCount=function(){return 6},u.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.getKeyword;case 2:return this.propertyName;case 3:return this.parameterList;case 4:return this.typeAnnotation;case 5:return this.block;default:throw n.Errors.invalidOperation();}},u.prototype.update=function(n,t,i,r,f,e){return this.modifiers===n&&this.getKeyword===t&&this.propertyName===i&&this.parameterList===r&&this.typeAnnotation===f&&this.block===e?this:new u(n,t,i,r,f,e,this.parsedInStrictMode())},u.create=function(t,i,r,f){return new u(n.Syntax.emptyList,t,i,r,null,f,!1)},u.create1=function(i){return new u(n.Syntax.emptyList,n.Syntax.token(65),i,r.create1(),null,t.create1(),!1)},u.prototype.withLeadingTrivia=function(n){return i.prototype.withLeadingTrivia.call(this,n)},u.prototype.withTrailingTrivia=function(n){return i.prototype.withTrailingTrivia.call(this,n)},u.prototype.withModifiers=function(n){return this.update(n,this.getKeyword,this.propertyName,this.parameterList,this.typeAnnotation,this.block)},u.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},u.prototype.withGetKeyword=function(n){return this.update(this.modifiers,n,this.propertyName,this.parameterList,this.typeAnnotation,this.block)},u.prototype.withPropertyName=function(n){return this.update(this.modifiers,this.getKeyword,n,this.parameterList,this.typeAnnotation,this.block)},u.prototype.withParameterList=function(n){return this.update(this.modifiers,this.getKeyword,this.propertyName,n,this.typeAnnotation,this.block)},u.prototype.withTypeAnnotation=function(n){return this.update(this.modifiers,this.getKeyword,this.propertyName,this.parameterList,n,this.block)},u.prototype.withBlock=function(n){return this.update(this.modifiers,this.getKeyword,this.propertyName,this.parameterList,this.typeAnnotation,n)},u.prototype.isTypeScriptSpecific=function(){return!0},u}(s);n.GetMemberAccessorDeclarationSyntax=ki;di=function(i){function u(n,t,r,u,f,e){i.call(this,n,r,u,f,e);this.setKeyword=t}return __extends(u,i),u.prototype.accept=function(n){return n.visitSetMemberAccessorDeclaration(this)},u.prototype.kind=function(){return 140},u.prototype.childCount=function(){return 5},u.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.setKeyword;case 2:return this.propertyName;case 3:return this.parameterList;case 4:return this.block;default:throw n.Errors.invalidOperation();}},u.prototype.update=function(n,t,i,r,f){return this.modifiers===n&&this.setKeyword===t&&this.propertyName===i&&this.parameterList===r&&this.block===f?this:new u(n,t,i,r,f,this.parsedInStrictMode())},u.create=function(t,i,r,f){return new u(n.Syntax.emptyList,t,i,r,f,!1)},u.create1=function(i){return new u(n.Syntax.emptyList,n.Syntax.token(69),i,r.create1(),t.create1(),!1)},u.prototype.withLeadingTrivia=function(n){return i.prototype.withLeadingTrivia.call(this,n)},u.prototype.withTrailingTrivia=function(n){return i.prototype.withTrailingTrivia.call(this,n)},u.prototype.withModifiers=function(n){return this.update(n,this.setKeyword,this.propertyName,this.parameterList,this.block)},u.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},u.prototype.withSetKeyword=function(n){return this.update(this.modifiers,n,this.propertyName,this.parameterList,this.block)},u.prototype.withPropertyName=function(n){return this.update(this.modifiers,this.setKeyword,n,this.parameterList,this.block)},u.prototype.withParameterList=function(n){return this.update(this.modifiers,this.setKeyword,this.propertyName,n,this.block)},u.prototype.withBlock=function(n){return this.update(this.modifiers,this.setKeyword,this.propertyName,this.parameterList,n)},u.prototype.isTypeScriptSpecific=function(){return!0},u}(s);n.SetMemberAccessorDeclarationSyntax=di;gi=function(t){function i(n,i,r,u){t.call(this,u);this.modifiers=n;this.variableDeclarator=i;this.semicolonToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitMemberVariableDeclaration(this)},i.prototype.kind=function(){return 137},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.variableDeclarator;case 2:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isMemberDeclaration=function(){return!0},i.prototype.isClassElement=function(){return!0},i.prototype.update=function(n,t,r){return this.modifiers===n&&this.variableDeclarator===t&&this.semicolonToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(n.Syntax.emptyList,t,r,!1)},i.create1=function(t){return new i(n.Syntax.emptyList,t,n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.variableDeclarator,this.semicolonToken)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withVariableDeclarator=function(n){return this.update(this.modifiers,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.modifiers,this.variableDeclarator,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.MemberVariableDeclarationSyntax=gi;nr=function(t){function i(n,i,r,u){t.call(this,u);this.throwKeyword=n;this.expression=i;this.semicolonToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitThrowStatement(this)},i.prototype.kind=function(){return 157},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.throwKeyword;case 1:return this.expression;case 2:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.throwKeyword===n&&this.expression===t&&this.semicolonToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(36),t,n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withThrowKeyword=function(n){return this.update(n,this.expression,this.semicolonToken)},i.prototype.withExpression=function(n){return this.update(this.throwKeyword,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.throwKeyword,this.expression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ThrowStatementSyntax=nr;tr=function(t){function i(n,i,r,u){t.call(this,u);this.returnKeyword=n;this.expression=i;this.semicolonToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitReturnStatement(this)},i.prototype.kind=function(){return 150},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.returnKeyword;case 1:return this.expression;case 2:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.returnKeyword===n&&this.expression===t&&this.semicolonToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n,t){return new i(n,null,t,!1)},i.create1=function(){return new i(n.Syntax.token(33),null,n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withReturnKeyword=function(n){return this.update(n,this.expression,this.semicolonToken)},i.prototype.withExpression=function(n){return this.update(this.returnKeyword,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.returnKeyword,this.expression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression!==null&&this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ReturnStatementSyntax=tr;ir=function(t){function i(n,i,r,u){t.call(this,u);this.newKeyword=n;this.expression=i;this.argumentList=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitObjectCreationExpression(this)},i.prototype.kind=function(){return 216},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.newKeyword;case 1:return this.expression;case 2:return this.argumentList;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.newKeyword===n&&this.expression===t&&this.argumentList===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n,t){return new i(n,t,null,!1)},i.create1=function(t){return new i(n.Syntax.token(31),t,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withNewKeyword=function(n){return this.update(n,this.expression,this.argumentList)},i.prototype.withExpression=function(n){return this.update(this.newKeyword,n,this.argumentList)},i.prototype.withArgumentList=function(n){return this.update(this.newKeyword,this.expression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:this.argumentList!==null&&this.argumentList.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ObjectCreationExpressionSyntax=ir;rr=function(t){function i(n,i,r,u,f,e,o,s){t.call(this,s);this.switchKeyword=n;this.openParenToken=i;this.expression=r;this.closeParenToken=u;this.openBraceToken=f;this.switchClauses=e;this.closeBraceToken=o}return __extends(i,t),i.prototype.accept=function(n){return n.visitSwitchStatement(this)},i.prototype.kind=function(){return 151},i.prototype.childCount=function(){return 7},i.prototype.childAt=function(t){switch(t){case 0:return this.switchKeyword;case 1:return this.openParenToken;case 2:return this.expression;case 3:return this.closeParenToken;case 4:return this.openBraceToken;case 5:return this.switchClauses;case 6:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e,o){return this.switchKeyword===n&&this.openParenToken===t&&this.expression===r&&this.closeParenToken===u&&this.openBraceToken===f&&this.switchClauses===e&&this.closeBraceToken===o?this:new i(n,t,r,u,f,e,o,this.parsedInStrictMode())},i.create=function(t,r,u,f,e,o){return new i(t,r,u,f,e,n.Syntax.emptyList,o,!1)},i.create1=function(t){return new i(n.Syntax.token(34),n.Syntax.token(73),t,n.Syntax.token(74),n.Syntax.token(71),n.Syntax.emptyList,n.Syntax.token(72),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withSwitchKeyword=function(n){return this.update(n,this.openParenToken,this.expression,this.closeParenToken,this.openBraceToken,this.switchClauses,this.closeBraceToken)},i.prototype.withOpenParenToken=function(n){return this.update(this.switchKeyword,n,this.expression,this.closeParenToken,this.openBraceToken,this.switchClauses,this.closeBraceToken)},i.prototype.withExpression=function(n){return this.update(this.switchKeyword,this.openParenToken,n,this.closeParenToken,this.openBraceToken,this.switchClauses,this.closeBraceToken)},i.prototype.withCloseParenToken=function(n){return this.update(this.switchKeyword,this.openParenToken,this.expression,n,this.openBraceToken,this.switchClauses,this.closeBraceToken)},i.prototype.withOpenBraceToken=function(n){return this.update(this.switchKeyword,this.openParenToken,this.expression,this.closeParenToken,n,this.switchClauses,this.closeBraceToken)},i.prototype.withSwitchClauses=function(n){return this.update(this.switchKeyword,this.openParenToken,this.expression,this.closeParenToken,this.openBraceToken,n,this.closeBraceToken)},i.prototype.withSwitchClause=function(t){return this.withSwitchClauses(n.Syntax.list([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.switchKeyword,this.openParenToken,this.expression,this.closeParenToken,this.openBraceToken,this.switchClauses,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:this.switchClauses.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.SwitchStatementSyntax=rr;h=function(n){function t(t,i,r){n.call(this,r);this.colonToken=t;this.statements=i}return __extends(t,n),t.prototype.isSwitchClause=function(){return!0},t.prototype.withLeadingTrivia=function(t){return n.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return n.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!1},t}(n.SyntaxNode);n.SwitchClauseSyntax=h;ur=function(t){function i(n,i,r,u,f){t.call(this,r,u,f);this.caseKeyword=n;this.expression=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitCaseSwitchClause(this)},i.prototype.kind=function(){return 232},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.caseKeyword;case 1:return this.expression;case 2:return this.colonToken;case 3:return this.statements;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r,u){return this.caseKeyword===n&&this.expression===t&&this.colonToken===r&&this.statements===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create=function(t,r,u){return new i(t,r,u,n.Syntax.emptyList,!1)},i.create1=function(t){return new i(n.Syntax.token(16),t,n.Syntax.token(107),n.Syntax.emptyList,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withCaseKeyword=function(n){return this.update(n,this.expression,this.colonToken,this.statements)},i.prototype.withExpression=function(n){return this.update(this.caseKeyword,n,this.colonToken,this.statements)},i.prototype.withColonToken=function(n){return this.update(this.caseKeyword,this.expression,n,this.statements)},i.prototype.withStatements=function(n){return this.update(this.caseKeyword,this.expression,this.colonToken,n)},i.prototype.withStatement=function(t){return this.withStatements(n.Syntax.list([t]))},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:this.statements.isTypeScriptSpecific()?!0:!1},i}(h);n.CaseSwitchClauseSyntax=ur;fr=function(t){function i(n,i,r,u){t.call(this,i,r,u);this.defaultKeyword=n}return __extends(i,t),i.prototype.accept=function(n){return n.visitDefaultSwitchClause(this)},i.prototype.kind=function(){return 233},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.defaultKeyword;case 1:return this.colonToken;case 2:return this.statements;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r){return this.defaultKeyword===n&&this.colonToken===t&&this.statements===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,r,n.Syntax.emptyList,!1)},i.create1=function(){return new i(n.Syntax.token(20),n.Syntax.token(107),n.Syntax.emptyList,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withDefaultKeyword=function(n){return this.update(n,this.colonToken,this.statements)},i.prototype.withColonToken=function(n){return this.update(this.defaultKeyword,n,this.statements)},i.prototype.withStatements=function(n){return this.update(this.defaultKeyword,this.colonToken,n)},i.prototype.withStatement=function(t){return this.withStatements(n.Syntax.list([t]))},i.prototype.isTypeScriptSpecific=function(){return this.statements.isTypeScriptSpecific()?!0:!1},i}(h);n.DefaultSwitchClauseSyntax=fr;er=function(t){function i(n,i,r,u){t.call(this,u);this.breakKeyword=n;this.identifier=i;this.semicolonToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitBreakStatement(this)},i.prototype.kind=function(){return 152},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.breakKeyword;case 1:return this.identifier;case 2:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.breakKeyword===n&&this.identifier===t&&this.semicolonToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n,t){return new i(n,null,t,!1)},i.create1=function(){return new i(n.Syntax.token(15),null,n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withBreakKeyword=function(n){return this.update(n,this.identifier,this.semicolonToken)},i.prototype.withIdentifier=function(n){return this.update(this.breakKeyword,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.breakKeyword,this.identifier,n)},i.prototype.isTypeScriptSpecific=function(){return!1},i}(n.SyntaxNode);n.BreakStatementSyntax=er;or=function(t){function i(n,i,r,u){t.call(this,u);this.continueKeyword=n;this.identifier=i;this.semicolonToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitContinueStatement(this)},i.prototype.kind=function(){return 153},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.continueKeyword;case 1:return this.identifier;case 2:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.continueKeyword===n&&this.identifier===t&&this.semicolonToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n,t){return new i(n,null,t,!1)},i.create1=function(){return new i(n.Syntax.token(18),null,n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withContinueKeyword=function(n){return this.update(n,this.identifier,this.semicolonToken)},i.prototype.withIdentifier=function(n){return this.update(this.continueKeyword,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.continueKeyword,this.identifier,n)},i.prototype.isTypeScriptSpecific=function(){return!1},i}(n.SyntaxNode);n.ContinueStatementSyntax=or;u=function(n){function t(t,i,r,u){n.call(this,u);this.openParenToken=t;this.closeParenToken=i;this.statement=r}return __extends(t,n),t.prototype.isStatement=function(){return!0},t.prototype.isModuleElement=function(){return!0},t.prototype.withLeadingTrivia=function(t){return n.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return n.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!1},t}(n.SyntaxNode);n.IterationStatementSyntax=u;c=function(n){function t(t,i,r,u,f,e){n.call(this,i,u,f,e);this.forKeyword=t;this.variableDeclaration=r}return __extends(t,n),t.prototype.withLeadingTrivia=function(t){return n.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return n.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!1},t}(u);n.BaseForStatementSyntax=c;sr=function(t){function i(n,i,r,u,f,e,o,s,h,c,l){t.call(this,n,i,r,h,c,l);this.initializer=u;this.firstSemicolonToken=f;this.condition=e;this.secondSemicolonToken=o;this.incrementor=s}return __extends(i,t),i.prototype.accept=function(n){return n.visitForStatement(this)},i.prototype.kind=function(){return 154},i.prototype.childCount=function(){return 10},i.prototype.childAt=function(t){switch(t){case 0:return this.forKeyword;case 1:return this.openParenToken;case 2:return this.variableDeclaration;case 3:return this.initializer;case 4:return this.firstSemicolonToken;case 5:return this.condition;case 6:return this.secondSemicolonToken;case 7:return this.incrementor;case 8:return this.closeParenToken;case 9:return this.statement;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r,u,f,e,o,s,h,c){return this.forKeyword===n&&this.openParenToken===t&&this.variableDeclaration===r&&this.initializer===u&&this.firstSemicolonToken===f&&this.condition===e&&this.secondSemicolonToken===o&&this.incrementor===s&&this.closeParenToken===h&&this.statement===c?this:new i(n,t,r,u,f,e,o,s,h,c,this.parsedInStrictMode())},i.create=function(n,t,r,u,f,e){return new i(n,t,null,null,r,null,u,null,f,e,!1)},i.create1=function(t){return new i(n.Syntax.token(26),n.Syntax.token(73),null,null,n.Syntax.token(79),null,n.Syntax.token(79),null,n.Syntax.token(74),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withForKeyword=function(n){return this.update(n,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withOpenParenToken=function(n){return this.update(this.forKeyword,n,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withVariableDeclaration=function(n){return this.update(this.forKeyword,this.openParenToken,n,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withInitializer=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,n,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withFirstSemicolonToken=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,n,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withCondition=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,n,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withSecondSemicolonToken=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,n,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withIncrementor=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,n,this.closeParenToken,this.statement)},i.prototype.withCloseParenToken=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,n,this.statement)},i.prototype.withStatement=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.variableDeclaration!==null&&this.variableDeclaration.isTypeScriptSpecific()?!0:this.initializer!==null&&this.initializer.isTypeScriptSpecific()?!0:this.condition!==null&&this.condition.isTypeScriptSpecific()?!0:this.incrementor!==null&&this.incrementor.isTypeScriptSpecific()?!0:this.statement.isTypeScriptSpecific()?!0:!1},i}(c);n.ForStatementSyntax=sr;hr=function(t){function i(n,i,r,u,f,e,o,s,h){t.call(this,n,i,r,o,s,h);this.left=u;this.inKeyword=f;this.expression=e}return __extends(i,t),i.prototype.accept=function(n){return n.visitForInStatement(this)},i.prototype.kind=function(){return 155},i.prototype.childCount=function(){return 8},i.prototype.childAt=function(t){switch(t){case 0:return this.forKeyword;case 1:return this.openParenToken;case 2:return this.variableDeclaration;case 3:return this.left;case 4:return this.inKeyword;case 5:return this.expression;case 6:return this.closeParenToken;case 7:return this.statement;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r,u,f,e,o,s){return this.forKeyword===n&&this.openParenToken===t&&this.variableDeclaration===r&&this.left===u&&this.inKeyword===f&&this.expression===e&&this.closeParenToken===o&&this.statement===s?this:new i(n,t,r,u,f,e,o,s,this.parsedInStrictMode())},i.create=function(n,t,r,u,f,e){return new i(n,t,null,null,r,u,f,e,!1)},i.create1=function(t,r){return new i(n.Syntax.token(26),n.Syntax.token(73),null,null,n.Syntax.token(29),t,n.Syntax.token(74),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withForKeyword=function(n){return this.update(n,this.openParenToken,this.variableDeclaration,this.left,this.inKeyword,this.expression,this.closeParenToken,this.statement)},i.prototype.withOpenParenToken=function(n){return this.update(this.forKeyword,n,this.variableDeclaration,this.left,this.inKeyword,this.expression,this.closeParenToken,this.statement)},i.prototype.withVariableDeclaration=function(n){return this.update(this.forKeyword,this.openParenToken,n,this.left,this.inKeyword,this.expression,this.closeParenToken,this.statement)},i.prototype.withLeft=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,n,this.inKeyword,this.expression,this.closeParenToken,this.statement)},i.prototype.withInKeyword=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.left,n,this.expression,this.closeParenToken,this.statement)},i.prototype.withExpression=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.left,this.inKeyword,n,this.closeParenToken,this.statement)},i.prototype.withCloseParenToken=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.left,this.inKeyword,this.expression,n,this.statement)},i.prototype.withStatement=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.left,this.inKeyword,this.expression,this.closeParenToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.variableDeclaration!==null&&this.variableDeclaration.isTypeScriptSpecific()?!0:this.left!==null&&this.left.isTypeScriptSpecific()?!0:this.expression.isTypeScriptSpecific()?!0:this.statement.isTypeScriptSpecific()?!0:!1},i}(c);n.ForInStatementSyntax=hr;cr=function(t){function i(n,i,r,u,f,e){t.call(this,i,u,f,e);this.whileKeyword=n;this.condition=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitWhileStatement(this)},i.prototype.kind=function(){return 158},i.prototype.childCount=function(){return 5},i.prototype.childAt=function(t){switch(t){case 0:return this.whileKeyword;case 1:return this.openParenToken;case 2:return this.condition;case 3:return this.closeParenToken;case 4:return this.statement;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r,u,f){return this.whileKeyword===n&&this.openParenToken===t&&this.condition===r&&this.closeParenToken===u&&this.statement===f?this:new i(n,t,r,u,f,this.parsedInStrictMode())},i.create1=function(t,r){return new i(n.Syntax.token(42),n.Syntax.token(73),t,n.Syntax.token(74),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withWhileKeyword=function(n){return this.update(n,this.openParenToken,this.condition,this.closeParenToken,this.statement)},i.prototype.withOpenParenToken=function(n){return this.update(this.whileKeyword,n,this.condition,this.closeParenToken,this.statement)},i.prototype.withCondition=function(n){return this.update(this.whileKeyword,this.openParenToken,n,this.closeParenToken,this.statement)},i.prototype.withCloseParenToken=function(n){return this.update(this.whileKeyword,this.openParenToken,this.condition,n,this.statement)},i.prototype.withStatement=function(n){return this.update(this.whileKeyword,this.openParenToken,this.condition,this.closeParenToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.condition.isTypeScriptSpecific()?!0:this.statement.isTypeScriptSpecific()?!0:!1},i}(u);n.WhileStatementSyntax=cr;lr=function(t){function i(n,i,r,u,f,e){t.call(this,e);this.withKeyword=n;this.openParenToken=i;this.condition=r;this.closeParenToken=u;this.statement=f}return __extends(i,t),i.prototype.accept=function(n){return n.visitWithStatement(this)},i.prototype.kind=function(){return 163},i.prototype.childCount=function(){return 5},i.prototype.childAt=function(t){switch(t){case 0:return this.withKeyword;case 1:return this.openParenToken;case 2:return this.condition;case 3:return this.closeParenToken;case 4:return this.statement;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f){return this.withKeyword===n&&this.openParenToken===t&&this.condition===r&&this.closeParenToken===u&&this.statement===f?this:new i(n,t,r,u,f,this.parsedInStrictMode())},i.create1=function(t,r){return new i(n.Syntax.token(43),n.Syntax.token(73),t,n.Syntax.token(74),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withWithKeyword=function(n){return this.update(n,this.openParenToken,this.condition,this.closeParenToken,this.statement)},i.prototype.withOpenParenToken=function(n){return this.update(this.withKeyword,n,this.condition,this.closeParenToken,this.statement)},i.prototype.withCondition=function(n){return this.update(this.withKeyword,this.openParenToken,n,this.closeParenToken,this.statement)},i.prototype.withCloseParenToken=function(n){return this.update(this.withKeyword,this.openParenToken,this.condition,n,this.statement)},i.prototype.withStatement=function(n){return this.update(this.withKeyword,this.openParenToken,this.condition,this.closeParenToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.condition.isTypeScriptSpecific()?!0:this.statement.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.WithStatementSyntax=lr;ar=function(t){function i(n,i,r,u,f,e,o){t.call(this,o);this.modifiers=n;this.enumKeyword=i;this.identifier=r;this.openBraceToken=u;this.enumElements=f;this.closeBraceToken=e}return __extends(i,t),i.prototype.accept=function(n){return n.visitEnumDeclaration(this)},i.prototype.kind=function(){return 133},i.prototype.childCount=function(){return 6},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.enumKeyword;case 2:return this.identifier;case 3:return this.openBraceToken;case 4:return this.enumElements;case 5:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e){return this.modifiers===n&&this.enumKeyword===t&&this.identifier===r&&this.openBraceToken===u&&this.enumElements===f&&this.closeBraceToken===e?this:new i(n,t,r,u,f,e,this.parsedInStrictMode())},i.create=function(t,r,u,f){return new i(n.Syntax.emptyList,t,r,u,n.Syntax.emptySeparatedList,f,!1)},i.create1=function(t){return new i(n.Syntax.emptyList,n.Syntax.token(46),t,n.Syntax.token(71),n.Syntax.emptySeparatedList,n.Syntax.token(72),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.enumKeyword,this.identifier,this.openBraceToken,this.enumElements,this.closeBraceToken)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withEnumKeyword=function(n){return this.update(this.modifiers,n,this.identifier,this.openBraceToken,this.enumElements,this.closeBraceToken)},i.prototype.withIdentifier=function(n){return this.update(this.modifiers,this.enumKeyword,n,this.openBraceToken,this.enumElements,this.closeBraceToken)},i.prototype.withOpenBraceToken=function(n){return this.update(this.modifiers,this.enumKeyword,this.identifier,n,this.enumElements,this.closeBraceToken)},i.prototype.withEnumElements=function(n){return this.update(this.modifiers,this.enumKeyword,this.identifier,this.openBraceToken,n,this.closeBraceToken)},i.prototype.withEnumElement=function(t){return this.withEnumElements(n.Syntax.separatedList([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.modifiers,this.enumKeyword,this.identifier,this.openBraceToken,this.enumElements,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.EnumDeclarationSyntax=ar;vr=function(t){function i(n,i,r){t.call(this,r);this.propertyName=n;this.equalsValueClause=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitEnumElement(this)},i.prototype.kind=function(){return 244},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.equalsValueClause;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.propertyName===n&&this.equalsValueClause===t?this:new i(n,t,this.parsedInStrictMode())},i.create=function(n){return new i(n,null,!1)},i.create1=function(n){return new i(n,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withPropertyName=function(n){return this.update(n,this.equalsValueClause)},i.prototype.withEqualsValueClause=function(n){return this.update(this.propertyName,n)},i.prototype.isTypeScriptSpecific=function(){return this.equalsValueClause!==null&&this.equalsValueClause.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.EnumElementSyntax=vr;yr=function(t){function i(n,i,r,u,f){t.call(this,f);this.lessThanToken=n;this.type=i;this.greaterThanToken=r;this.expression=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitCastExpression(this)},i.prototype.kind=function(){return 220},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.lessThanToken;case 1:return this.type;case 2:return this.greaterThanToken;case 3:return this.expression;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r,u){return this.lessThanToken===n&&this.type===t&&this.greaterThanToken===r&&this.expression===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create1=function(t,r){return new i(n.Syntax.token(81),t,n.Syntax.token(82),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withLessThanToken=function(n){return this.update(n,this.type,this.greaterThanToken,this.expression)},i.prototype.withType=function(n){return this.update(this.lessThanToken,n,this.greaterThanToken,this.expression)},i.prototype.withGreaterThanToken=function(n){return this.update(this.lessThanToken,this.type,n,this.expression)},i.prototype.withExpression=function(n){return this.update(this.lessThanToken,this.type,this.greaterThanToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.CastExpressionSyntax=yr;pr=function(t){function i(n,i,r,u){t.call(this,u);this.openBraceToken=n;this.propertyAssignments=i;this.closeBraceToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitObjectLiteralExpression(this)},i.prototype.kind=function(){return 215},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.openBraceToken;case 1:return this.propertyAssignments;case 2:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.openBraceToken===n&&this.propertyAssignments===t&&this.closeBraceToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(n.Syntax.token(71),n.Syntax.emptySeparatedList,n.Syntax.token(72),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenBraceToken=function(n){return this.update(n,this.propertyAssignments,this.closeBraceToken)},i.prototype.withPropertyAssignments=function(n){return this.update(this.openBraceToken,n,this.closeBraceToken)},i.prototype.withPropertyAssignment=function(t){return this.withPropertyAssignments(n.Syntax.separatedList([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.openBraceToken,this.propertyAssignments,n)},i.prototype.isTypeScriptSpecific=function(){return this.propertyAssignments.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ObjectLiteralExpressionSyntax=pr;f=function(n){function t(t,i){n.call(this,i);this.propertyName=t}return __extends(t,n),t.prototype.withLeadingTrivia=function(t){return n.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return n.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!1},t}(n.SyntaxNode);n.PropertyAssignmentSyntax=f;wr=function(t){function i(n,i,r,u){t.call(this,n,u);this.colonToken=i;this.expression=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitSimplePropertyAssignment(this)},i.prototype.kind=function(){return 239},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.colonToken;case 2:return this.expression;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r){return this.propertyName===n&&this.colonToken===t&&this.expression===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t,r){return new i(t,n.Syntax.token(107),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withPropertyName=function(n){return this.update(n,this.colonToken,this.expression)},i.prototype.withColonToken=function(n){return this.update(this.propertyName,n,this.expression)},i.prototype.withExpression=function(n){return this.update(this.propertyName,this.colonToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(f);n.SimplePropertyAssignmentSyntax=wr;br=function(r){function u(n,t,i,u){r.call(this,n,u);this.callSignature=t;this.block=i}return __extends(u,r),u.prototype.accept=function(n){return n.visitFunctionPropertyAssignment(this)},u.prototype.kind=function(){return 242},u.prototype.childCount=function(){return 3},u.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.callSignature;case 2:return this.block;default:throw n.Errors.invalidOperation();}},u.prototype.update=function(n,t,i){return this.propertyName===n&&this.callSignature===t&&this.block===i?this:new u(n,t,i,this.parsedInStrictMode())},u.create1=function(n){return new u(n,i.create1(),t.create1(),!1)},u.prototype.withLeadingTrivia=function(n){return r.prototype.withLeadingTrivia.call(this,n)},u.prototype.withTrailingTrivia=function(n){return r.prototype.withTrailingTrivia.call(this,n)},u.prototype.withPropertyName=function(n){return this.update(n,this.callSignature,this.block)},u.prototype.withCallSignature=function(n){return this.update(this.propertyName,n,this.block)},u.prototype.withBlock=function(n){return this.update(this.propertyName,this.callSignature,n)},u.prototype.isTypeScriptSpecific=function(){return this.callSignature.isTypeScriptSpecific()?!0:this.block.isTypeScriptSpecific()?!0:!1},u}(f);n.FunctionPropertyAssignmentSyntax=br;l=function(n){function t(t,i,r,u,f){n.call(this,t,f);this.openParenToken=i;this.closeParenToken=r;this.block=u}return __extends(t,n),t.prototype.withLeadingTrivia=function(t){return n.prototype.withLeadingTrivia.call(this,t)},t.prototype.withTrailingTrivia=function(t){return n.prototype.withTrailingTrivia.call(this,t)},t.prototype.isTypeScriptSpecific=function(){return!1},t}(f);n.AccessorPropertyAssignmentSyntax=l;kr=function(i){function r(n,t,r,u,f,e,o){i.call(this,t,r,u,e,o);this.getKeyword=n;this.typeAnnotation=f}return __extends(r,i),r.prototype.accept=function(n){return n.visitGetAccessorPropertyAssignment(this)},r.prototype.kind=function(){return 240},r.prototype.childCount=function(){return 6},r.prototype.childAt=function(t){switch(t){case 0:return this.getKeyword;case 1:return this.propertyName;case 2:return this.openParenToken;case 3:return this.closeParenToken;case 4:return this.typeAnnotation;case 5:return this.block;default:throw n.Errors.invalidOperation();}},r.prototype.update=function(n,t,i,u,f,e){return this.getKeyword===n&&this.propertyName===t&&this.openParenToken===i&&this.closeParenToken===u&&this.typeAnnotation===f&&this.block===e?this:new r(n,t,i,u,f,e,this.parsedInStrictMode())},r.create=function(n,t,i,u,f){return new r(n,t,i,u,null,f,!1)},r.create1=function(i){return new r(n.Syntax.token(65),i,n.Syntax.token(73),n.Syntax.token(74),null,t.create1(),!1)},r.prototype.withLeadingTrivia=function(n){return i.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return i.prototype.withTrailingTrivia.call(this,n)},r.prototype.withGetKeyword=function(n){return this.update(n,this.propertyName,this.openParenToken,this.closeParenToken,this.typeAnnotation,this.block)},r.prototype.withPropertyName=function(n){return this.update(this.getKeyword,n,this.openParenToken,this.closeParenToken,this.typeAnnotation,this.block)},r.prototype.withOpenParenToken=function(n){return this.update(this.getKeyword,this.propertyName,n,this.closeParenToken,this.typeAnnotation,this.block)},r.prototype.withCloseParenToken=function(n){return this.update(this.getKeyword,this.propertyName,this.openParenToken,n,this.typeAnnotation,this.block)},r.prototype.withTypeAnnotation=function(n){return this.update(this.getKeyword,this.propertyName,this.openParenToken,this.closeParenToken,n,this.block)},r.prototype.withBlock=function(n){return this.update(this.getKeyword,this.propertyName,this.openParenToken,this.closeParenToken,this.typeAnnotation,n)},r.prototype.isTypeScriptSpecific=function(){return this.typeAnnotation!==null&&this.typeAnnotation.isTypeScriptSpecific()?!0:this.block.isTypeScriptSpecific()?!0:!1},r}(l);n.GetAccessorPropertyAssignmentSyntax=kr;dr=function(i){function r(n,t,r,u,f,e,o){i.call(this,t,r,f,e,o);this.setKeyword=n;this.parameter=u}return __extends(r,i),r.prototype.accept=function(n){return n.visitSetAccessorPropertyAssignment(this)},r.prototype.kind=function(){return 241},r.prototype.childCount=function(){return 6},r.prototype.childAt=function(t){switch(t){case 0:return this.setKeyword;case 1:return this.propertyName;case 2:return this.openParenToken;case 3:return this.parameter;case 4:return this.closeParenToken;case 5:return this.block;default:throw n.Errors.invalidOperation();}},r.prototype.update=function(n,t,i,u,f,e){return this.setKeyword===n&&this.propertyName===t&&this.openParenToken===i&&this.parameter===u&&this.closeParenToken===f&&this.block===e?this:new r(n,t,i,u,f,e,this.parsedInStrictMode())},r.create1=function(i,u){return new r(n.Syntax.token(69),i,n.Syntax.token(73),u,n.Syntax.token(74),t.create1(),!1)},r.prototype.withLeadingTrivia=function(n){return i.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return i.prototype.withTrailingTrivia.call(this,n)},r.prototype.withSetKeyword=function(n){return this.update(n,this.propertyName,this.openParenToken,this.parameter,this.closeParenToken,this.block)},r.prototype.withPropertyName=function(n){return this.update(this.setKeyword,n,this.openParenToken,this.parameter,this.closeParenToken,this.block)},r.prototype.withOpenParenToken=function(n){return this.update(this.setKeyword,this.propertyName,n,this.parameter,this.closeParenToken,this.block)},r.prototype.withParameter=function(n){return this.update(this.setKeyword,this.propertyName,this.openParenToken,n,this.closeParenToken,this.block)},r.prototype.withCloseParenToken=function(n){return this.update(this.setKeyword,this.propertyName,this.openParenToken,this.parameter,n,this.block)},r.prototype.withBlock=function(n){return this.update(this.setKeyword,this.propertyName,this.openParenToken,this.parameter,this.closeParenToken,n)},r.prototype.isTypeScriptSpecific=function(){return this.parameter.isTypeScriptSpecific()?!0:this.block.isTypeScriptSpecific()?!0:!1},r}(l);n.SetAccessorPropertyAssignmentSyntax=dr;gr=function(r){function u(n,t,i,u,f){r.call(this,f);this.functionKeyword=n;this.identifier=t;this.callSignature=i;this.block=u}return __extends(u,r),u.prototype.accept=function(n){return n.visitFunctionExpression(this)},u.prototype.kind=function(){return 222},u.prototype.childCount=function(){return 4},u.prototype.childAt=function(t){switch(t){case 0:return this.functionKeyword;case 1:return this.identifier;case 2:return this.callSignature;case 3:return this.block;default:throw n.Errors.invalidOperation();}},u.prototype.isUnaryExpression=function(){return!0},u.prototype.isExpression=function(){return!0},u.prototype.update=function(n,t,i,r){return this.functionKeyword===n&&this.identifier===t&&this.callSignature===i&&this.block===r?this:new u(n,t,i,r,this.parsedInStrictMode())},u.create=function(n,t,i){return new u(n,null,t,i,!1)},u.create1=function(){return new u(n.Syntax.token(27),null,i.create1(),t.create1(),!1)},u.prototype.withLeadingTrivia=function(n){return r.prototype.withLeadingTrivia.call(this,n)},u.prototype.withTrailingTrivia=function(n){return r.prototype.withTrailingTrivia.call(this,n)},u.prototype.withFunctionKeyword=function(n){return this.update(n,this.identifier,this.callSignature,this.block)},u.prototype.withIdentifier=function(n){return this.update(this.functionKeyword,n,this.callSignature,this.block)},u.prototype.withCallSignature=function(n){return this.update(this.functionKeyword,this.identifier,n,this.block)},u.prototype.withBlock=function(n){return this.update(this.functionKeyword,this.identifier,this.callSignature,n)},u.prototype.isTypeScriptSpecific=function(){return this.callSignature.isTypeScriptSpecific()?!0:this.block.isTypeScriptSpecific()?!0:!1},u}(n.SyntaxNode);n.FunctionExpressionSyntax=gr;nu=function(t){function i(n,i){t.call(this,i);this.semicolonToken=n}return __extends(i,t),i.prototype.accept=function(n){return n.visitEmptyStatement(this)},i.prototype.kind=function(){return 156},i.prototype.childCount=function(){return 1},i.prototype.childAt=function(t){switch(t){case 0:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n){return this.semicolonToken===n?this:new i(n,this.parsedInStrictMode())},i.create1=function(){return new i(n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withSemicolonToken=function(n){return this.update(n)},i.prototype.isTypeScriptSpecific=function(){return!1},i}(n.SyntaxNode);n.EmptyStatementSyntax=nu;tu=function(i){function r(n,t,r,u,f){i.call(this,f);this.tryKeyword=n;this.block=t;this.catchClause=r;this.finallyClause=u}return __extends(r,i),r.prototype.accept=function(n){return n.visitTryStatement(this)},r.prototype.kind=function(){return 159},r.prototype.childCount=function(){return 4},r.prototype.childAt=function(t){switch(t){case 0:return this.tryKeyword;case 1:return this.block;case 2:return this.catchClause;case 3:return this.finallyClause;default:throw n.Errors.invalidOperation();}},r.prototype.isStatement=function(){return!0},r.prototype.isModuleElement=function(){return!0},r.prototype.update=function(n,t,i,u){return this.tryKeyword===n&&this.block===t&&this.catchClause===i&&this.finallyClause===u?this:new r(n,t,i,u,this.parsedInStrictMode())},r.create=function(n,t){return new r(n,t,null,null,!1)},r.create1=function(){return new r(n.Syntax.token(38),t.create1(),null,null,!1)},r.prototype.withLeadingTrivia=function(n){return i.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return i.prototype.withTrailingTrivia.call(this,n)},r.prototype.withTryKeyword=function(n){return this.update(n,this.block,this.catchClause,this.finallyClause)},r.prototype.withBlock=function(n){return this.update(this.tryKeyword,n,this.catchClause,this.finallyClause)},r.prototype.withCatchClause=function(n){return this.update(this.tryKeyword,this.block,n,this.finallyClause)},r.prototype.withFinallyClause=function(n){return this.update(this.tryKeyword,this.block,this.catchClause,n)},r.prototype.isTypeScriptSpecific=function(){return this.block.isTypeScriptSpecific()?!0:this.catchClause!==null&&this.catchClause.isTypeScriptSpecific()?!0:this.finallyClause!==null&&this.finallyClause.isTypeScriptSpecific()?!0:!1},r}(n.SyntaxNode);n.TryStatementSyntax=tu;iu=function(i){function r(n,t,r,u,f,e,o){i.call(this,o);this.catchKeyword=n;this.openParenToken=t;this.identifier=r;this.typeAnnotation=u;this.closeParenToken=f;this.block=e}return __extends(r,i),r.prototype.accept=function(n){return n.visitCatchClause(this)},r.prototype.kind=function(){return 235},r.prototype.childCount=function(){return 6},r.prototype.childAt=function(t){switch(t){case 0:return this.catchKeyword;case 1:return this.openParenToken;case 2:return this.identifier;case 3:return this.typeAnnotation;case 4:return this.closeParenToken;case 5:return this.block;default:throw n.Errors.invalidOperation();}},r.prototype.update=function(n,t,i,u,f,e){return this.catchKeyword===n&&this.openParenToken===t&&this.identifier===i&&this.typeAnnotation===u&&this.closeParenToken===f&&this.block===e?this:new r(n,t,i,u,f,e,this.parsedInStrictMode())},r.create=function(n,t,i,u,f){return new r(n,t,i,null,u,f,!1)},r.create1=function(i){return new r(n.Syntax.token(17),n.Syntax.token(73),i,null,n.Syntax.token(74),t.create1(),!1)},r.prototype.withLeadingTrivia=function(n){return i.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return i.prototype.withTrailingTrivia.call(this,n)},r.prototype.withCatchKeyword=function(n){return this.update(n,this.openParenToken,this.identifier,this.typeAnnotation,this.closeParenToken,this.block)},r.prototype.withOpenParenToken=function(n){return this.update(this.catchKeyword,n,this.identifier,this.typeAnnotation,this.closeParenToken,this.block)},r.prototype.withIdentifier=function(n){return this.update(this.catchKeyword,this.openParenToken,n,this.typeAnnotation,this.closeParenToken,this.block)},r.prototype.withTypeAnnotation=function(n){return this.update(this.catchKeyword,this.openParenToken,this.identifier,n,this.closeParenToken,this.block)},r.prototype.withCloseParenToken=function(n){return this.update(this.catchKeyword,this.openParenToken,this.identifier,this.typeAnnotation,n,this.block)},r.prototype.withBlock=function(n){return this.update(this.catchKeyword,this.openParenToken,this.identifier,this.typeAnnotation,this.closeParenToken,n)},r.prototype.isTypeScriptSpecific=function(){return this.typeAnnotation!==null&&this.typeAnnotation.isTypeScriptSpecific()?!0:this.block.isTypeScriptSpecific()?!0:!1},r}(n.SyntaxNode);n.CatchClauseSyntax=iu;ru=function(i){function r(n,t,r){i.call(this,r);this.finallyKeyword=n;this.block=t}return __extends(r,i),r.prototype.accept=function(n){return n.visitFinallyClause(this)},r.prototype.kind=function(){return 236},r.prototype.childCount=function(){return 2},r.prototype.childAt=function(t){switch(t){case 0:return this.finallyKeyword;case 1:return this.block;default:throw n.Errors.invalidOperation();}},r.prototype.update=function(n,t){return this.finallyKeyword===n&&this.block===t?this:new r(n,t,this.parsedInStrictMode())},r.create1=function(){return new r(n.Syntax.token(25),t.create1(),!1)},r.prototype.withLeadingTrivia=function(n){return i.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return i.prototype.withTrailingTrivia.call(this,n)},r.prototype.withFinallyKeyword=function(n){return this.update(n,this.block)},r.prototype.withBlock=function(n){return this.update(this.finallyKeyword,n)},r.prototype.isTypeScriptSpecific=function(){return this.block.isTypeScriptSpecific()?!0:!1},r}(n.SyntaxNode);n.FinallyClauseSyntax=ru;uu=function(t){function i(n,i,r,u){t.call(this,u);this.identifier=n;this.colonToken=i;this.statement=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitLabeledStatement(this)},i.prototype.kind=function(){return 160},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.identifier;case 1:return this.colonToken;case 2:return this.statement;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.identifier===n&&this.colonToken===t&&this.statement===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t,r){return new i(t,n.Syntax.token(107),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withIdentifier=function(n){return this.update(n,this.colonToken,this.statement)},i.prototype.withColonToken=function(n){return this.update(this.identifier,n,this.statement)},i.prototype.withStatement=function(n){return this.update(this.identifier,this.colonToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.statement.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.LabeledStatementSyntax=uu;fu=function(t){function i(n,i,r,u,f,e,o,s){t.call(this,u,e,i,s);this.doKeyword=n;this.whileKeyword=r;this.condition=f;this.semicolonToken=o}return __extends(i,t),i.prototype.accept=function(n){return n.visitDoStatement(this)},i.prototype.kind=function(){return 161},i.prototype.childCount=function(){return 7},i.prototype.childAt=function(t){switch(t){case 0:return this.doKeyword;case 1:return this.statement;case 2:return this.whileKeyword;case 3:return this.openParenToken;case 4:return this.condition;case 5:return this.closeParenToken;case 6:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r,u,f,e,o){return this.doKeyword===n&&this.statement===t&&this.whileKeyword===r&&this.openParenToken===u&&this.condition===f&&this.closeParenToken===e&&this.semicolonToken===o?this:new i(n,t,r,u,f,e,o,this.parsedInStrictMode())},i.create1=function(t,r){return new i(n.Syntax.token(22),t,n.Syntax.token(42),n.Syntax.token(73),r,n.Syntax.token(74),n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withDoKeyword=function(n){return this.update(n,this.statement,this.whileKeyword,this.openParenToken,this.condition,this.closeParenToken,this.semicolonToken)},i.prototype.withStatement=function(n){return this.update(this.doKeyword,n,this.whileKeyword,this.openParenToken,this.condition,this.closeParenToken,this.semicolonToken)},i.prototype.withWhileKeyword=function(n){return this.update(this.doKeyword,this.statement,n,this.openParenToken,this.condition,this.closeParenToken,this.semicolonToken)},i.prototype.withOpenParenToken=function(n){return this.update(this.doKeyword,this.statement,this.whileKeyword,n,this.condition,this.closeParenToken,this.semicolonToken)},i.prototype.withCondition=function(n){return this.update(this.doKeyword,this.statement,this.whileKeyword,this.openParenToken,n,this.closeParenToken,this.semicolonToken)},i.prototype.withCloseParenToken=function(n){return this.update(this.doKeyword,this.statement,this.whileKeyword,this.openParenToken,this.condition,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.doKeyword,this.statement,this.whileKeyword,this.openParenToken,this.condition,this.closeParenToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.statement.isTypeScriptSpecific()?!0:this.condition.isTypeScriptSpecific()?!0:!1},i}(u);n.DoStatementSyntax=fu;eu=function(t){function i(n,i,r){t.call(this,r);this.typeOfKeyword=n;this.expression=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitTypeOfExpression(this)},i.prototype.kind=function(){return 171},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.typeOfKeyword;case 1:return this.expression;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t){return this.typeOfKeyword===n&&this.expression===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(39),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withTypeOfKeyword=function(n){return this.update(n,this.expression)},i.prototype.withExpression=function(n){return this.update(this.typeOfKeyword,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.TypeOfExpressionSyntax=eu;ou=function(t){function i(n,i,r){t.call(this,r);this.deleteKeyword=n;this.expression=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitDeleteExpression(this)},i.prototype.kind=function(){return 170},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.deleteKeyword;case 1:return this.expression;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t){return this.deleteKeyword===n&&this.expression===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(21),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withDeleteKeyword=function(n){return this.update(n,this.expression)},i.prototype.withExpression=function(n){return this.update(this.deleteKeyword,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.DeleteExpressionSyntax=ou;su=function(t){function i(n,i,r){t.call(this,r);this.voidKeyword=n;this.expression=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitVoidExpression(this)},i.prototype.kind=function(){return 172},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.voidKeyword;case 1:return this.expression;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t){return this.voidKeyword===n&&this.expression===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(41),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withVoidKeyword=function(n){return this.update(n,this.expression)},i.prototype.withExpression=function(n){return this.update(this.voidKeyword,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.VoidExpressionSyntax=su;hu=function(t){function i(n,i,r){t.call(this,r);this.debuggerKeyword=n;this.semicolonToken=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitDebuggerStatement(this)},i.prototype.kind=function(){return 162},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.debuggerKeyword;case 1:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t){return this.debuggerKeyword===n&&this.semicolonToken===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(){return new i(n.Syntax.token(19),n.Syntax.token(79),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withDebuggerKeyword=function(n){return this.update(n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.debuggerKeyword,n)},i.prototype.isTypeScriptSpecific=function(){return!1},i}(n.SyntaxNode);n.DebuggerStatementSyntax=hu}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(){}return t.prototype.visitToken=function(n){return n},t.prototype.visitNode=function(n){return n.accept(this)},t.prototype.visitNodeOrToken=function(n){return n.isToken()?this.visitToken(n):this.visitNode(n)},t.prototype.visitList=function(t){for(var i=null,f,e,u,r=0,o=t.childCount();r<o;r++){if(f=t.childAt(r),e=this.visitNodeOrToken(f),f!==e&&i===null)for(i=[],u=0;u<r;u++)i.push(t.childAt(u));i&&i.push(e)}return i===null?t:n.Syntax.list(i)},t.prototype.visitSeparatedList=function(t){for(var i=null,u,e,f,r=0,o=t.childCount();r<o;r++){if(u=t.childAt(r),e=u.isToken()?this.visitToken(u):this.visitNode(u),u!==e&&i===null)for(i=[],f=0;f<r;f++)i.push(t.childAt(f));i&&i.push(e)}return i===null?t:n.Syntax.separatedList(i)},t.prototype.visitSourceUnit=function(n){return n.update(this.visitList(n.moduleElements),this.visitToken(n.endOfFileToken))},t.prototype.visitExternalModuleReference=function(n){return n.update(this.visitToken(n.moduleOrRequireKeyword),this.visitToken(n.openParenToken),this.visitToken(n.stringLiteral),this.visitToken(n.closeParenToken))},t.prototype.visitModuleNameModuleReference=function(n){return n.update(this.visitNodeOrToken(n.moduleName))},t.prototype.visitImportDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.importKeyword),this.visitToken(n.identifier),this.visitToken(n.equalsToken),this.visitNode(n.moduleReference),this.visitToken(n.semicolonToken))},t.prototype.visitExportAssignment=function(n){return n.update(this.visitToken(n.exportKeyword),this.visitToken(n.equalsToken),this.visitToken(n.identifier),this.visitToken(n.semicolonToken))},t.prototype.visitClassDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.classKeyword),this.visitToken(n.identifier),n.typeParameterList===null?null:this.visitNode(n.typeParameterList),this.visitList(n.heritageClauses),this.visitToken(n.openBraceToken),this.visitList(n.classElements),this.visitToken(n.closeBraceToken))},t.prototype.visitInterfaceDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.interfaceKeyword),this.visitToken(n.identifier),n.typeParameterList===null?null:this.visitNode(n.typeParameterList),this.visitList(n.heritageClauses),this.visitNode(n.body))},t.prototype.visitHeritageClause=function(n){return n.update(this.visitToken(n.extendsOrImplementsKeyword),this.visitSeparatedList(n.typeNames))},t.prototype.visitModuleDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.moduleKeyword),n.moduleName===null?null:this.visitNodeOrToken(n.moduleName),n.stringLiteral===null?null:this.visitToken(n.stringLiteral),this.visitToken(n.openBraceToken),this.visitList(n.moduleElements),this.visitToken(n.closeBraceToken))},t.prototype.visitFunctionDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.functionKeyword),this.visitToken(n.identifier),this.visitNode(n.callSignature),n.block===null?null:this.visitNode(n.block),n.semicolonToken===null?null:this.visitToken(n.semicolonToken))},t.prototype.visitVariableStatement=function(n){return n.update(this.visitList(n.modifiers),this.visitNode(n.variableDeclaration),this.visitToken(n.semicolonToken))},t.prototype.visitVariableDeclaration=function(n){return n.update(this.visitToken(n.varKeyword),this.visitSeparatedList(n.variableDeclarators))},t.prototype.visitVariableDeclarator=function(n){return n.update(this.visitToken(n.identifier),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation),n.equalsValueClause===null?null:this.visitNode(n.equalsValueClause))},t.prototype.visitEqualsValueClause=function(n){return n.update(this.visitToken(n.equalsToken),this.visitNodeOrToken(n.value))},t.prototype.visitPrefixUnaryExpression=function(n){return n.update(n.kind(),this.visitToken(n.operatorToken),this.visitNodeOrToken(n.operand))},t.prototype.visitArrayLiteralExpression=function(n){return n.update(this.visitToken(n.openBracketToken),this.visitSeparatedList(n.expressions),this.visitToken(n.closeBracketToken))},t.prototype.visitOmittedExpression=function(n){return n},t.prototype.visitParenthesizedExpression=function(n){return n.update(this.visitToken(n.openParenToken),this.visitNodeOrToken(n.expression),this.visitToken(n.closeParenToken))},t.prototype.visitSimpleArrowFunctionExpression=function(n){return n.update(this.visitToken(n.identifier),this.visitToken(n.equalsGreaterThanToken),this.visitNodeOrToken(n.body))},t.prototype.visitParenthesizedArrowFunctionExpression=function(n){return n.update(this.visitNode(n.callSignature),this.visitToken(n.equalsGreaterThanToken),this.visitNodeOrToken(n.body))},t.prototype.visitQualifiedName=function(n){return n.update(this.visitNodeOrToken(n.left),this.visitToken(n.dotToken),this.visitToken(n.right))},t.prototype.visitTypeArgumentList=function(n){return n.update(this.visitToken(n.lessThanToken),this.visitSeparatedList(n.typeArguments),this.visitToken(n.greaterThanToken))},t.prototype.visitConstructorType=function(n){return n.update(this.visitToken(n.newKeyword),n.typeParameterList===null?null:this.visitNode(n.typeParameterList),this.visitNode(n.parameterList),this.visitToken(n.equalsGreaterThanToken),this.visitNodeOrToken(n.type))},t.prototype.visitFunctionType=function(n){return n.update(n.typeParameterList===null?null:this.visitNode(n.typeParameterList),this.visitNode(n.parameterList),this.visitToken(n.equalsGreaterThanToken),this.visitNodeOrToken(n.type))},t.prototype.visitObjectType=function(n){return n.update(this.visitToken(n.openBraceToken),this.visitSeparatedList(n.typeMembers),this.visitToken(n.closeBraceToken))},t.prototype.visitArrayType=function(n){return n.update(this.visitNodeOrToken(n.type),this.visitToken(n.openBracketToken),this.visitToken(n.closeBracketToken))},t.prototype.visitGenericType=function(n){return n.update(this.visitNodeOrToken(n.name),this.visitNode(n.typeArgumentList))},t.prototype.visitTypeQuery=function(n){return n.update(this.visitToken(n.typeOfKeyword),this.visitNodeOrToken(n.name))},t.prototype.visitTypeAnnotation=function(n){return n.update(this.visitToken(n.colonToken),this.visitNodeOrToken(n.type))},t.prototype.visitBlock=function(n){return n.update(this.visitToken(n.openBraceToken),this.visitList(n.statements),this.visitToken(n.closeBraceToken))},t.prototype.visitParameter=function(n){return n.update(n.dotDotDotToken===null?null:this.visitToken(n.dotDotDotToken),n.publicOrPrivateKeyword===null?null:this.visitToken(n.publicOrPrivateKeyword),this.visitToken(n.identifier),n.questionToken===null?null:this.visitToken(n.questionToken),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation),n.equalsValueClause===null?null:this.visitNode(n.equalsValueClause))},t.prototype.visitMemberAccessExpression=function(n){return n.update(this.visitNodeOrToken(n.expression),this.visitToken(n.dotToken),this.visitToken(n.name))},t.prototype.visitPostfixUnaryExpression=function(n){return n.update(n.kind(),this.visitNodeOrToken(n.operand),this.visitToken(n.operatorToken))},t.prototype.visitElementAccessExpression=function(n){return n.update(this.visitNodeOrToken(n.expression),this.visitToken(n.openBracketToken),this.visitNodeOrToken(n.argumentExpression),this.visitToken(n.closeBracketToken))},t.prototype.visitInvocationExpression=function(n){return n.update(this.visitNodeOrToken(n.expression),this.visitNode(n.argumentList))},t.prototype.visitArgumentList=function(n){return n.update(n.typeArgumentList===null?null:this.visitNode(n.typeArgumentList),this.visitToken(n.openParenToken),this.visitSeparatedList(n.arguments),this.visitToken(n.closeParenToken))},t.prototype.visitBinaryExpression=function(n){return n.update(n.kind(),this.visitNodeOrToken(n.left),this.visitToken(n.operatorToken),this.visitNodeOrToken(n.right))},t.prototype.visitConditionalExpression=function(n){return n.update(this.visitNodeOrToken(n.condition),this.visitToken(n.questionToken),this.visitNodeOrToken(n.whenTrue),this.visitToken(n.colonToken),this.visitNodeOrToken(n.whenFalse))},t.prototype.visitConstructSignature=function(n){return n.update(this.visitToken(n.newKeyword),this.visitNode(n.callSignature))},t.prototype.visitMethodSignature=function(n){return n.update(this.visitToken(n.propertyName),n.questionToken===null?null:this.visitToken(n.questionToken),this.visitNode(n.callSignature))},t.prototype.visitIndexSignature=function(n){return n.update(this.visitToken(n.openBracketToken),this.visitNode(n.parameter),this.visitToken(n.closeBracketToken),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation))},t.prototype.visitPropertySignature=function(n){return n.update(this.visitToken(n.propertyName),n.questionToken===null?null:this.visitToken(n.questionToken),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation))},t.prototype.visitCallSignature=function(n){return n.update(n.typeParameterList===null?null:this.visitNode(n.typeParameterList),this.visitNode(n.parameterList),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation))},t.prototype.visitParameterList=function(n){return n.update(this.visitToken(n.openParenToken),this.visitSeparatedList(n.parameters),this.visitToken(n.closeParenToken))},t.prototype.visitTypeParameterList=function(n){return n.update(this.visitToken(n.lessThanToken),this.visitSeparatedList(n.typeParameters),this.visitToken(n.greaterThanToken))},t.prototype.visitTypeParameter=function(n){return n.update(this.visitToken(n.identifier),n.constraint===null?null:this.visitNode(n.constraint))},t.prototype.visitConstraint=function(n){return n.update(this.visitToken(n.extendsKeyword),this.visitNodeOrToken(n.type))},t.prototype.visitElseClause=function(n){return n.update(this.visitToken(n.elseKeyword),this.visitNodeOrToken(n.statement))},t.prototype.visitIfStatement=function(n){return n.update(this.visitToken(n.ifKeyword),this.visitToken(n.openParenToken),this.visitNodeOrToken(n.condition),this.visitToken(n.closeParenToken),this.visitNodeOrToken(n.statement),n.elseClause===null?null:this.visitNode(n.elseClause))},t.prototype.visitExpressionStatement=function(n){return n.update(this.visitNodeOrToken(n.expression),this.visitToken(n.semicolonToken))},t.prototype.visitConstructorDeclaration=function(n){return n.update(this.visitToken(n.constructorKeyword),this.visitNode(n.parameterList),n.block===null?null:this.visitNode(n.block),n.semicolonToken===null?null:this.visitToken(n.semicolonToken))},t.prototype.visitMemberFunctionDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.propertyName),this.visitNode(n.callSignature),n.block===null?null:this.visitNode(n.block),n.semicolonToken===null?null:this.visitToken(n.semicolonToken))},t.prototype.visitGetMemberAccessorDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.getKeyword),this.visitToken(n.propertyName),this.visitNode(n.parameterList),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation),this.visitNode(n.block))},t.prototype.visitSetMemberAccessorDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.setKeyword),this.visitToken(n.propertyName),this.visitNode(n.parameterList),this.visitNode(n.block))},t.prototype.visitMemberVariableDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitNode(n.variableDeclarator),this.visitToken(n.semicolonToken))},t.prototype.visitThrowStatement=function(n){return n.update(this.visitToken(n.throwKeyword),this.visitNodeOrToken(n.expression),this.visitToken(n.semicolonToken))},t.prototype.visitReturnStatement=function(n){return n.update(this.visitToken(n.returnKeyword),n.expression===null?null:this.visitNodeOrToken(n.expression),this.visitToken(n.semicolonToken))},t.prototype.visitObjectCreationExpression=function(n){return n.update(this.visitToken(n.newKeyword),this.visitNodeOrToken(n.expression),n.argumentList===null?null:this.visitNode(n.argumentList))},t.prototype.visitSwitchStatement=function(n){return n.update(this.visitToken(n.switchKeyword),this.visitToken(n.openParenToken),this.visitNodeOrToken(n.expression),this.visitToken(n.closeParenToken),this.visitToken(n.openBraceToken),this.visitList(n.switchClauses),this.visitToken(n.closeBraceToken))},t.prototype.visitCaseSwitchClause=function(n){return n.update(this.visitToken(n.caseKeyword),this.visitNodeOrToken(n.expression),this.visitToken(n.colonToken),this.visitList(n.statements))},t.prototype.visitDefaultSwitchClause=function(n){return n.update(this.visitToken(n.defaultKeyword),this.visitToken(n.colonToken),this.visitList(n.statements))},t.prototype.visitBreakStatement=function(n){return n.update(this.visitToken(n.breakKeyword),n.identifier===null?null:this.visitToken(n.identifier),this.visitToken(n.semicolonToken))},t.prototype.visitContinueStatement=function(n){return n.update(this.visitToken(n.continueKeyword),n.identifier===null?null:this.visitToken(n.identifier),this.visitToken(n.semicolonToken))},t.prototype.visitForStatement=function(n){return n.update(this.visitToken(n.forKeyword),this.visitToken(n.openParenToken),n.variableDeclaration===null?null:this.visitNode(n.variableDeclaration),n.initializer===null?null:this.visitNodeOrToken(n.initializer),this.visitToken(n.firstSemicolonToken),n.condition===null?null:this.visitNodeOrToken(n.condition),this.visitToken(n.secondSemicolonToken),n.incrementor===null?null:this.visitNodeOrToken(n.incrementor),this.visitToken(n.closeParenToken),this.visitNodeOrToken(n.statement))},t.prototype.visitForInStatement=function(n){return n.update(this.visitToken(n.forKeyword),this.visitToken(n.openParenToken),n.variableDeclaration===null?null:this.visitNode(n.variableDeclaration),n.left===null?null:this.visitNodeOrToken(n.left),this.visitToken(n.inKeyword),this.visitNodeOrToken(n.expression),this.visitToken(n.closeParenToken),this.visitNodeOrToken(n.statement))},t.prototype.visitWhileStatement=function(n){return n.update(this.visitToken(n.whileKeyword),this.visitToken(n.openParenToken),this.visitNodeOrToken(n.condition),this.visitToken(n.closeParenToken),this.visitNodeOrToken(n.statement))},t.prototype.visitWithStatement=function(n){return n.update(this.visitToken(n.withKeyword),this.visitToken(n.openParenToken),this.visitNodeOrToken(n.condition),this.visitToken(n.closeParenToken),this.visitNodeOrToken(n.statement))},t.prototype.visitEnumDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.enumKeyword),this.visitToken(n.identifier),this.visitToken(n.openBraceToken),this.visitSeparatedList(n.enumElements),this.visitToken(n.closeBraceToken))},t.prototype.visitEnumElement=function(n){return n.update(this.visitToken(n.propertyName),n.equalsValueClause===null?null:this.visitNode(n.equalsValueClause))},t.prototype.visitCastExpression=function(n){return n.update(this.visitToken(n.lessThanToken),this.visitNodeOrToken(n.type),this.visitToken(n.greaterThanToken),this.visitNodeOrToken(n.expression))},t.prototype.visitObjectLiteralExpression=function(n){return n.update(this.visitToken(n.openBraceToken),this.visitSeparatedList(n.propertyAssignments),this.visitToken(n.closeBraceToken))},t.prototype.visitSimplePropertyAssignment=function(n){return n.update(this.visitToken(n.propertyName),this.visitToken(n.colonToken),this.visitNodeOrToken(n.expression))},t.prototype.visitFunctionPropertyAssignment=function(n){return n.update(this.visitToken(n.propertyName),this.visitNode(n.callSignature),this.visitNode(n.block))},t.prototype.visitGetAccessorPropertyAssignment=function(n){return n.update(this.visitToken(n.getKeyword),this.visitToken(n.propertyName),this.visitToken(n.openParenToken),this.visitToken(n.closeParenToken),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation),this.visitNode(n.block))},t.prototype.visitSetAccessorPropertyAssignment=function(n){return n.update(this.visitToken(n.setKeyword),this.visitToken(n.propertyName),this.visitToken(n.openParenToken),this.visitNode(n.parameter),this.visitToken(n.closeParenToken),this.visitNode(n.block))},t.prototype.visitFunctionExpression=function(n){return n.update(this.visitToken(n.functionKeyword),n.identifier===null?null:this.visitToken(n.identifier),this.visitNode(n.callSignature),this.visitNode(n.block))},t.prototype.visitEmptyStatement=function(n){return n.update(this.visitToken(n.semicolonToken))},t.prototype.visitTryStatement=function(n){return n.update(this.visitToken(n.tryKeyword),this.visitNode(n.block),n.catchClause===null?null:this.visitNode(n.catchClause),n.finallyClause===null?null:this.visitNode(n.finallyClause))},t.prototype.visitCatchClause=function(n){return n.update(this.visitToken(n.catchKeyword),this.visitToken(n.openParenToken),this.visitToken(n.identifier),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation),this.visitToken(n.closeParenToken),this.visitNode(n.block))},t.prototype.visitFinallyClause=function(n){return n.update(this.visitToken(n.finallyKeyword),this.visitNode(n.block))},t.prototype.visitLabeledStatement=function(n){return n.update(this.visitToken(n.identifier),this.visitToken(n.colonToken),this.visitNodeOrToken(n.statement))},t.prototype.visitDoStatement=function(n){return n.update(this.visitToken(n.doKeyword),this.visitNodeOrToken(n.statement),this.visitToken(n.whileKeyword),this.visitToken(n.openParenToken),this.visitNodeOrToken(n.condition),this.visitToken(n.closeParenToken),this.visitToken(n.semicolonToken))},t.prototype.visitTypeOfExpression=function(n){return n.update(this.visitToken(n.typeOfKeyword),this.visitNodeOrToken(n.expression))},t.prototype.visitDeleteExpression=function(n){return n.update(this.visitToken(n.deleteKeyword),this.visitNodeOrToken(n.expression))},t.prototype.visitVoidExpression=function(n){return n.update(this.visitToken(n.voidKeyword),this.visitNodeOrToken(n.expression))},t.prototype.visitDebuggerStatement=function(n){return n.update(this.visitToken(n.debuggerKeyword),this.visitToken(n.semicolonToken))},t}();n.SyntaxRewriter=t}(TypeScript||(TypeScript={})),function(n){var t=function(t){function i(n,i,r,u){t.call(this);this.dedentationAmount=i;this.minimumIndent=r;this.options=u;this.lastTriviaWasNewLine=n}return __extends(i,t),i.prototype.abort=function(){this.lastTriviaWasNewLine=!1;this.dedentationAmount=0},i.prototype.isAborted=function(){return this.dedentationAmount===0},i.prototype.visitToken=function(n){if(n.width()===0)return n;var t=n;return(this.lastTriviaWasNewLine&&(t=n.withLeadingTrivia(this.dedentTriviaList(n.leadingTrivia()))),this.isAborted())?n:(this.lastTriviaWasNewLine=n.hasTrailingNewLine(),t)},i.prototype.dedentTriviaList=function(t){for(var u=[],f=!0,i,o,s,r=0,e=t.count();r<e&&!this.isAborted();r++){if(i=t.syntaxTriviaAt(r),o=f,f=!1,o)if(i.kind()===4){s=r<t.count()-1&&t.syntaxTriviaAt(r+1).kind()===5;u.push(this.dedentWhitespace(i,s));continue}else if(i.kind()!==5){this.abort();break}if(i.kind()===6){u.push(this.dedentMultiLineComment(i));continue}u.push(i);i.kind()===5&&(f=!0)}return(f&&this.abort(),this.isAborted())?t:n.Syntax.triviaList(u)},i.prototype.dedentSegment=function(t,i){var r=n.Indentation.firstNonWhitespacePosition(t),u,f,e;if(r===t.length){if(i)return""}else if(n.CharacterInfo.isLineTerminator(t.charCodeAt(r)))return t.substring(r);return(u=n.Indentation.columnForPositionInString(t,r,this.options),f=n.MathPrototype.min(u,n.MathPrototype.max(u-this.dedentationAmount,this.minimumIndent)),f===u)?(this.abort(),t):(this.dedentationAmount=u-f,n.Debug.assert(this.dedentationAmount>=0),e=n.Indentation.indentationString(f,this.options),e+t.substring(r))},i.prototype.dedentWhitespace=function(t,i){var r=this.dedentSegment(t.fullText(),i);return n.Syntax.whitespace(r)},i.prototype.dedentMultiLineComment=function(t){var i=n.Syntax.splitMultiLineCommentTriviaIntoMultipleLines(t),r,u,f;if(i.length===1)return t;for(r=1;r<i.length;r++)u=i[r],i[r]=this.dedentSegment(u,!1);return f=i.join(""),n.Syntax.multiLineComment(f)},i.dedentNode=function(n,t,r,u,f){var e=new i(t,r,u,f),o=n.accept(e);return e.isAborted()?n:o},i}(n.SyntaxRewriter);n.SyntaxDedenter=t}(TypeScript||(TypeScript={})),function(n){var t=function(t){function i(i,r,u){t.call(this);this.indentationAmount=r;this.options=u;this.lastTriviaWasNewLine=i;this.indentationTrivia=n.Indentation.indentationTrivia(this.indentationAmount,this.options)}return __extends(i,t),i.prototype.visitToken=function(n){if(n.width()===0)return n;var t=n;return this.lastTriviaWasNewLine&&(t=n.withLeadingTrivia(this.indentTriviaList(n.leadingTrivia()))),this.lastTriviaWasNewLine=n.hasTrailingNewLine(),t},i.prototype.indentTriviaList=function(t){for(var i=[],u=!0,r,e,f=0,o=t.count();f<o;f++){r=t.syntaxTriviaAt(f);e=u;u=!1;switch(r.kind()){case 6:this.indentMultiLineComment(r,e,i);continue;case 7:case 8:this.indentSingleLineOrSkippedText(r,e,i);continue;case 4:this.indentWhitespace(r,e,i);continue;case 5:i.push(r);u=!0;continue;default:throw n.Errors.invalidOperation();}}return u&&i.push(this.indentationTrivia),n.Syntax.triviaList(i)},i.prototype.indentSegment=function(t){var i=n.Indentation.firstNonWhitespacePosition(t);if(i<t.length&&n.CharacterInfo.isLineTerminator(t.charCodeAt(i)))return t;var r=n.Indentation.columnForPositionInString(t,i,this.options),u=r+this.indentationAmount,f=n.Indentation.indentationString(u,this.options);return f+t.substring(i)},i.prototype.indentWhitespace=function(t,i,r){if(!i){r.push(t);return}var u=this.indentSegment(t.fullText());r.push(n.Syntax.whitespace(u))},i.prototype.indentSingleLineOrSkippedText=function(n,t,i){t&&i.push(this.indentationTrivia);i.push(n)},i.prototype.indentMultiLineComment=function(t,i,r){var u,f,e;for(i&&r.push(this.indentationTrivia),u=n.Syntax.splitMultiLineCommentTriviaIntoMultipleLines(t),f=1;f<u.length;f++)u[f]=this.indentSegment(u[f]);e=u.join("");r.push(n.Syntax.multiLineComment(e))},i.indentNode=function(n,t,r,u){var f=new i(t,r,u);return n.accept(f)},i.indentNodes=function(t,r,u,f){var e=new i(r,u,f);return n.ArrayUtilities.select(t,function(n){return n.accept(e)})},i}(n.SyntaxRewriter);n.SyntaxIndenter=t}(TypeScript||(TypeScript={})),function(n){(function(t){function r(n,t){n.leadingTrivia().collectTextElements(t);t.push(n.text());n.trailingTrivia().collectTextElements(t)}function y(n,t,i,r,u){return r===0?u===0?new h(i):new l(n,t,i,u):u===0?new c(n,t,i,r):new a(n,t,i,r,u)}function p(n,t,i,r,u,f){return r===0?f===0?new v(n,t,i,u):new o(n,t,i,u,f):f===0?new e(n,t,i,r,u):new s(n,t,i,r,u,f)}function i(n){return n>>>2}function u(n){return(n&2)!=0}function f(n){return(n&1)!=0}var v=function(){function i(n,t,i,r){this._sourceText=n;this._fullStart=t;this.tokenKind=i;this._textOrWidth=r}return i.prototype.clone=function(){return new i(this._sourceText,this._fullStart,this.tokenKind,this._textOrWidth)},i.prototype.isNode=function(){return!1},i.prototype.isToken=function(){return!0},i.prototype.isList=function(){return!1},i.prototype.isSeparatedList=function(){return!1},i.prototype.kind=function(){return this.tokenKind},i.prototype.childCount=function(){return 0},i.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},i.prototype.fullWidth=function(){return this.width()},i.prototype.start=function(){return this._fullStart},i.prototype.end=function(){return this.start()+this.width()},i.prototype.width=function(){return typeof this._textOrWidth=="number"?this._textOrWidth:this._textOrWidth.length},i.prototype.text=function(){return typeof this._textOrWidth=="number"&&(this._textOrWidth=this._sourceText.substr(this.start(),this._textOrWidth,this.tokenKind===11)),this._textOrWidth},i.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},i.prototype.value=function(){return this._value===undefined&&(this._value=t.value(this)),this._value},i.prototype.valueText=function(){return this._valueText===undefined&&(this._valueText=t.valueText(this)),this._valueText},i.prototype.hasLeadingTrivia=function(){return!1},i.prototype.hasLeadingComment=function(){return!1},i.prototype.hasLeadingNewLine=function(){return!1},i.prototype.hasLeadingSkippedText=function(){return!1},i.prototype.leadingTriviaWidth=function(){return 0},i.prototype.leadingTrivia=function(){return n.Syntax.emptyTriviaList},i.prototype.hasTrailingTrivia=function(){return!1},i.prototype.hasTrailingComment=function(){return!1},i.prototype.hasTrailingNewLine=function(){return!1},i.prototype.hasTrailingSkippedText=function(){return!1},i.prototype.trailingTriviaWidth=function(){return 0},i.prototype.trailingTrivia=function(){return n.Syntax.emptyTriviaList},i.prototype.hasSkippedToken=function(){return!1},i.prototype.toJSON=function(){return t.tokenToJSON(this)},i.prototype.firstToken=function(){return this},i.prototype.lastToken=function(){return this},i.prototype.isTypeScriptSpecific=function(){return!1},i.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},i.prototype.accept=function(n){return n.visitToken(this)},i.prototype.realize=function(){return t.realizeToken(this)},i.prototype.collectTextElements=function(n){r(this,n)},i.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},i.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},i.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},i}(),e,o,s,h,c,l,a;t.VariableWidthTokenWithNoTrivia=v;e=function(){function e(n,t,i,r,u){this._sourceText=n;this._fullStart=t;this.tokenKind=i;this._leadingTriviaInfo=r;this._textOrWidth=u}return e.prototype.clone=function(){return new e(this._sourceText,this._fullStart,this.tokenKind,this._leadingTriviaInfo,this._textOrWidth)},e.prototype.isNode=function(){return!1},e.prototype.isToken=function(){return!0},e.prototype.isList=function(){return!1},e.prototype.isSeparatedList=function(){return!1},e.prototype.kind=function(){return this.tokenKind},e.prototype.childCount=function(){return 0},e.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},e.prototype.fullWidth=function(){return i(this._leadingTriviaInfo)+this.width()},e.prototype.start=function(){return this._fullStart+i(this._leadingTriviaInfo)},e.prototype.end=function(){return this.start()+this.width()},e.prototype.width=function(){return typeof this._textOrWidth=="number"?this._textOrWidth:this._textOrWidth.length},e.prototype.text=function(){return typeof this._textOrWidth=="number"&&(this._textOrWidth=this._sourceText.substr(this.start(),this._textOrWidth,this.tokenKind===11)),this._textOrWidth},e.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},e.prototype.value=function(){return this._value===undefined&&(this._value=t.value(this)),this._value},e.prototype.valueText=function(){return this._valueText===undefined&&(this._valueText=t.valueText(this)),this._valueText},e.prototype.hasLeadingTrivia=function(){return!0},e.prototype.hasLeadingComment=function(){return u(this._leadingTriviaInfo)},e.prototype.hasLeadingNewLine=function(){return f(this._leadingTriviaInfo)},e.prototype.hasLeadingSkippedText=function(){return!1},e.prototype.leadingTriviaWidth=function(){return i(this._leadingTriviaInfo)},e.prototype.leadingTrivia=function(){return n.Scanner.scanTrivia(this._sourceText,this._fullStart,i(this._leadingTriviaInfo),!1)},e.prototype.hasTrailingTrivia=function(){return!1},e.prototype.hasTrailingComment=function(){return!1},e.prototype.hasTrailingNewLine=function(){return!1},e.prototype.hasTrailingSkippedText=function(){return!1},e.prototype.trailingTriviaWidth=function(){return 0},e.prototype.trailingTrivia=function(){return n.Syntax.emptyTriviaList},e.prototype.hasSkippedToken=function(){return!1},e.prototype.toJSON=function(){return t.tokenToJSON(this)},e.prototype.firstToken=function(){return this},e.prototype.lastToken=function(){return this},e.prototype.isTypeScriptSpecific=function(){return!1},e.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},e.prototype.accept=function(n){return n.visitToken(this)},e.prototype.realize=function(){return t.realizeToken(this)},e.prototype.collectTextElements=function(n){r(this,n)},e.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},e.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},e.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},e}();t.VariableWidthTokenWithLeadingTrivia=e;o=function(){function e(n,t,i,r,u){this._sourceText=n;this._fullStart=t;this.tokenKind=i;this._textOrWidth=r;this._trailingTriviaInfo=u}return e.prototype.clone=function(){return new e(this._sourceText,this._fullStart,this.tokenKind,this._textOrWidth,this._trailingTriviaInfo)},e.prototype.isNode=function(){return!1},e.prototype.isToken=function(){return!0},e.prototype.isList=function(){return!1},e.prototype.isSeparatedList=function(){return!1},e.prototype.kind=function(){return this.tokenKind},e.prototype.childCount=function(){return 0},e.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},e.prototype.fullWidth=function(){return this.width()+i(this._trailingTriviaInfo)},e.prototype.start=function(){return this._fullStart},e.prototype.end=function(){return this.start()+this.width()},e.prototype.width=function(){return typeof this._textOrWidth=="number"?this._textOrWidth:this._textOrWidth.length},e.prototype.text=function(){return typeof this._textOrWidth=="number"&&(this._textOrWidth=this._sourceText.substr(this.start(),this._textOrWidth,this.tokenKind===11)),this._textOrWidth},e.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},e.prototype.value=function(){return this._value===undefined&&(this._value=t.value(this)),this._value},e.prototype.valueText=function(){return this._valueText===undefined&&(this._valueText=t.valueText(this)),this._valueText},e.prototype.hasLeadingTrivia=function(){return!1},e.prototype.hasLeadingComment=function(){return!1},e.prototype.hasLeadingNewLine=function(){return!1},e.prototype.hasLeadingSkippedText=function(){return!1},e.prototype.leadingTriviaWidth=function(){return 0},e.prototype.leadingTrivia=function(){return n.Syntax.emptyTriviaList},e.prototype.hasTrailingTrivia=function(){return!0},e.prototype.hasTrailingComment=function(){return u(this._trailingTriviaInfo)},e.prototype.hasTrailingNewLine=function(){return f(this._trailingTriviaInfo)},e.prototype.hasTrailingSkippedText=function(){return!1},e.prototype.trailingTriviaWidth=function(){return i(this._trailingTriviaInfo)},e.prototype.trailingTrivia=function(){return n.Scanner.scanTrivia(this._sourceText,this.end(),i(this._trailingTriviaInfo),!0)},e.prototype.hasSkippedToken=function(){return!1},e.prototype.toJSON=function(){return t.tokenToJSON(this)},e.prototype.firstToken=function(){return this},e.prototype.lastToken=function(){return this},e.prototype.isTypeScriptSpecific=function(){return!1},e.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},e.prototype.accept=function(n){return n.visitToken(this)},e.prototype.realize=function(){return t.realizeToken(this)},e.prototype.collectTextElements=function(n){r(this,n)},e.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},e.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},e.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},e}();t.VariableWidthTokenWithTrailingTrivia=o;s=function(){function e(n,t,i,r,u,f){this._sourceText=n;this._fullStart=t;this.tokenKind=i;this._leadingTriviaInfo=r;this._textOrWidth=u;this._trailingTriviaInfo=f}return e.prototype.clone=function(){return new e(this._sourceText,this._fullStart,this.tokenKind,this._leadingTriviaInfo,this._textOrWidth,this._trailingTriviaInfo)},e.prototype.isNode=function(){return!1},e.prototype.isToken=function(){return!0},e.prototype.isList=function(){return!1},e.prototype.isSeparatedList=function(){return!1},e.prototype.kind=function(){return this.tokenKind},e.prototype.childCount=function(){return 0},e.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},e.prototype.fullWidth=function(){return i(this._leadingTriviaInfo)+this.width()+i(this._trailingTriviaInfo)},e.prototype.start=function(){return this._fullStart+i(this._leadingTriviaInfo)},e.prototype.end=function(){return this.start()+this.width()},e.prototype.width=function(){return typeof this._textOrWidth=="number"?this._textOrWidth:this._textOrWidth.length},e.prototype.text=function(){return typeof this._textOrWidth=="number"&&(this._textOrWidth=this._sourceText.substr(this.start(),this._textOrWidth,this.tokenKind===11)),this._textOrWidth},e.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},e.prototype.value=function(){return this._value===undefined&&(this._value=t.value(this)),this._value},e.prototype.valueText=function(){return this._valueText===undefined&&(this._valueText=t.valueText(this)),this._valueText},e.prototype.hasLeadingTrivia=function(){return!0},e.prototype.hasLeadingComment=function(){return u(this._leadingTriviaInfo)},e.prototype.hasLeadingNewLine=function(){return f(this._leadingTriviaInfo)},e.prototype.hasLeadingSkippedText=function(){return!1},e.prototype.leadingTriviaWidth=function(){return i(this._leadingTriviaInfo)},e.prototype.leadingTrivia=function(){return n.Scanner.scanTrivia(this._sourceText,this._fullStart,i(this._leadingTriviaInfo),!1)},e.prototype.hasTrailingTrivia=function(){return!0},e.prototype.hasTrailingComment=function(){return u(this._trailingTriviaInfo)},e.prototype.hasTrailingNewLine=function(){return f(this._trailingTriviaInfo)},e.prototype.hasTrailingSkippedText=function(){return!1},e.prototype.trailingTriviaWidth=function(){return i(this._trailingTriviaInfo)},e.prototype.trailingTrivia=function(){return n.Scanner.scanTrivia(this._sourceText,this.end(),i(this._trailingTriviaInfo),!0)},e.prototype.hasSkippedToken=function(){return!1},e.prototype.toJSON=function(){return t.tokenToJSON(this)},e.prototype.firstToken=function(){return this},e.prototype.lastToken=function(){return this},e.prototype.isTypeScriptSpecific=function(){return!1},e.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},e.prototype.accept=function(n){return n.visitToken(this)},e.prototype.realize=function(){return t.realizeToken(this)},e.prototype.collectTextElements=function(n){r(this,n)},e.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},e.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},e.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},e}();t.VariableWidthTokenWithLeadingAndTrailingTrivia=s;h=function(){function i(n){this.tokenKind=n}return i.prototype.clone=function(){return new i(this.tokenKind)},i.prototype.isNode=function(){return!1},i.prototype.isToken=function(){return!0},i.prototype.isList=function(){return!1},i.prototype.isSeparatedList=function(){return!1},i.prototype.kind=function(){return this.tokenKind},i.prototype.childCount=function(){return 0},i.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},i.prototype.fullWidth=function(){return this.width()},i.prototype.width=function(){return this.text().length},i.prototype.text=function(){return n.SyntaxFacts.getText(this.tokenKind)},i.prototype.fullText=function(){return this.text()},i.prototype.value=function(){return t.value(this)},i.prototype.valueText=function(){return t.valueText(this)},i.prototype.hasLeadingTrivia=function(){return!1},i.prototype.hasLeadingComment=function(){return!1},i.prototype.hasLeadingNewLine=function(){return!1},i.prototype.hasLeadingSkippedText=function(){return!1},i.prototype.leadingTriviaWidth=function(){return 0},i.prototype.leadingTrivia=function(){return n.Syntax.emptyTriviaList},i.prototype.hasTrailingTrivia=function(){return!1},i.prototype.hasTrailingComment=function(){return!1},i.prototype.hasTrailingNewLine=function(){return!1},i.prototype.hasTrailingSkippedText=function(){return!1},i.prototype.trailingTriviaWidth=function(){return 0},i.prototype.trailingTrivia=function(){return n.Syntax.emptyTriviaList},i.prototype.hasSkippedToken=function(){return!1},i.prototype.toJSON=function(){return t.tokenToJSON(this)},i.prototype.firstToken=function(){return this},i.prototype.lastToken=function(){return this},i.prototype.isTypeScriptSpecific=function(){return!1},i.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},i.prototype.accept=function(n){return n.visitToken(this)},i.prototype.realize=function(){return t.realizeToken(this)},i.prototype.collectTextElements=function(n){r(this,n)},i.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},i.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},i.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},i}();t.FixedWidthTokenWithNoTrivia=h;c=function(){function e(n,t,i,r){this._sourceText=n;this._fullStart=t;this.tokenKind=i;this._leadingTriviaInfo=r}return e.prototype.clone=function(){return new e(this._sourceText,this._fullStart,this.tokenKind,this._leadingTriviaInfo)},e.prototype.isNode=function(){return!1},e.prototype.isToken=function(){return!0},e.prototype.isList=function(){return!1},e.prototype.isSeparatedList=function(){return!1},e.prototype.kind=function(){return this.tokenKind},e.prototype.childCount=function(){return 0},e.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},e.prototype.fullWidth=function(){return i(this._leadingTriviaInfo)+this.width()},e.prototype.start=function(){return this._fullStart+i(this._leadingTriviaInfo)},e.prototype.end=function(){return this.start()+this.width()},e.prototype.width=function(){return this.text().length},e.prototype.text=function(){return n.SyntaxFacts.getText(this.tokenKind)},e.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},e.prototype.value=function(){return t.value(this)},e.prototype.valueText=function(){return t.valueText(this)},e.prototype.hasLeadingTrivia=function(){return!0},e.prototype.hasLeadingComment=function(){return u(this._leadingTriviaInfo)},e.prototype.hasLeadingNewLine=function(){return f(this._leadingTriviaInfo)},e.prototype.hasLeadingSkippedText=function(){return!1},e.prototype.leadingTriviaWidth=function(){return i(this._leadingTriviaInfo)},e.prototype.leadingTrivia=function(){return n.Scanner.scanTrivia(this._sourceText,this._fullStart,i(this._leadingTriviaInfo),!1)},e.prototype.hasTrailingTrivia=function(){return!1},e.prototype.hasTrailingComment=function(){return!1},e.prototype.hasTrailingNewLine=function(){return!1},e.prototype.hasTrailingSkippedText=function(){return!1},e.prototype.trailingTriviaWidth=function(){return 0},e.prototype.trailingTrivia=function(){return n.Syntax.emptyTriviaList},e.prototype.hasSkippedToken=function(){return!1},e.prototype.toJSON=function(){return t.tokenToJSON(this)},e.prototype.firstToken=function(){return this},e.prototype.lastToken=function(){return this},e.prototype.isTypeScriptSpecific=function(){return!1},e.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},e.prototype.accept=function(n){return n.visitToken(this)},e.prototype.realize=function(){return t.realizeToken(this)},e.prototype.collectTextElements=function(n){r(this,n)},e.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},e.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},e.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},e}();t.FixedWidthTokenWithLeadingTrivia=c;l=function(){function e(n,t,i,r){this._sourceText=n;this._fullStart=t;this.tokenKind=i;this._trailingTriviaInfo=r}return e.prototype.clone=function(){return new e(this._sourceText,this._fullStart,this.tokenKind,this._trailingTriviaInfo)},e.prototype.isNode=function(){return!1},e.prototype.isToken=function(){return!0},e.prototype.isList=function(){return!1},e.prototype.isSeparatedList=function(){return!1},e.prototype.kind=function(){return this.tokenKind},e.prototype.childCount=function(){return 0},e.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},e.prototype.fullWidth=function(){return this.width()+i(this._trailingTriviaInfo)},e.prototype.start=function(){return this._fullStart},e.prototype.end=function(){return this.start()+this.width()},e.prototype.width=function(){return this.text().length},e.prototype.text=function(){return n.SyntaxFacts.getText(this.tokenKind)},e.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},e.prototype.value=function(){return t.value(this)},e.prototype.valueText=function(){return t.valueText(this)},e.prototype.hasLeadingTrivia=function(){return!1},e.prototype.hasLeadingComment=function(){return!1},e.prototype.hasLeadingNewLine=function(){return!1},e.prototype.hasLeadingSkippedText=function(){return!1},e.prototype.leadingTriviaWidth=function(){return 0},e.prototype.leadingTrivia=function(){return n.Syntax.emptyTriviaList},e.prototype.hasTrailingTrivia=function(){return!0},e.prototype.hasTrailingComment=function(){return u(this._trailingTriviaInfo)},e.prototype.hasTrailingNewLine=function(){return f(this._trailingTriviaInfo)},e.prototype.hasTrailingSkippedText=function(){return!1},e.prototype.trailingTriviaWidth=function(){return i(this._trailingTriviaInfo)},e.prototype.trailingTrivia=function(){return n.Scanner.scanTrivia(this._sourceText,this.end(),i(this._trailingTriviaInfo),!0)},e.prototype.hasSkippedToken=function(){return!1},e.prototype.toJSON=function(){return t.tokenToJSON(this)},e.prototype.firstToken=function(){return this},e.prototype.lastToken=function(){return this},e.prototype.isTypeScriptSpecific=function(){return!1},e.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},e.prototype.accept=function(n){return n.visitToken(this)},e.prototype.realize=function(){return t.realizeToken(this)},e.prototype.collectTextElements=function(n){r(this,n)},e.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},e.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},e.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},e}();t.FixedWidthTokenWithTrailingTrivia=l;a=function(){function e(n,t,i,r,u){this._sourceText=n;this._fullStart=t;this.tokenKind=i;this._leadingTriviaInfo=r;this._trailingTriviaInfo=u}return e.prototype.clone=function(){return new e(this._sourceText,this._fullStart,this.tokenKind,this._leadingTriviaInfo,this._trailingTriviaInfo)},e.prototype.isNode=function(){return!1},e.prototype.isToken=function(){return!0},e.prototype.isList=function(){return!1},e.prototype.isSeparatedList=function(){return!1},e.prototype.kind=function(){return this.tokenKind},e.prototype.childCount=function(){return 0},e.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},e.prototype.fullWidth=function(){return i(this._leadingTriviaInfo)+this.width()+i(this._trailingTriviaInfo)},e.prototype.start=function(){return this._fullStart+i(this._leadingTriviaInfo)},e.prototype.end=function(){return this.start()+this.width()},e.prototype.width=function(){return this.text().length},e.prototype.text=function(){return n.SyntaxFacts.getText(this.tokenKind)},e.prototype.fullText=function(){return this._sourceText.substr(this._fullStart,this.fullWidth(),!1)},e.prototype.value=function(){return t.value(this)},e.prototype.valueText=function(){return t.valueText(this)},e.prototype.hasLeadingTrivia=function(){return!0},e.prototype.hasLeadingComment=function(){return u(this._leadingTriviaInfo)},e.prototype.hasLeadingNewLine=function(){return f(this._leadingTriviaInfo)},e.prototype.hasLeadingSkippedText=function(){return!1},e.prototype.leadingTriviaWidth=function(){return i(this._leadingTriviaInfo)},e.prototype.leadingTrivia=function(){return n.Scanner.scanTrivia(this._sourceText,this._fullStart,i(this._leadingTriviaInfo),!1)},e.prototype.hasTrailingTrivia=function(){return!0},e.prototype.hasTrailingComment=function(){return u(this._trailingTriviaInfo)},e.prototype.hasTrailingNewLine=function(){return f(this._trailingTriviaInfo)},e.prototype.hasTrailingSkippedText=function(){return!1},e.prototype.trailingTriviaWidth=function(){return i(this._trailingTriviaInfo)},e.prototype.trailingTrivia=function(){return n.Scanner.scanTrivia(this._sourceText,this.end(),i(this._trailingTriviaInfo),!0)},e.prototype.hasSkippedToken=function(){return!1},e.prototype.toJSON=function(){return t.tokenToJSON(this)},e.prototype.firstToken=function(){return this},e.prototype.lastToken=function(){return this},e.prototype.isTypeScriptSpecific=function(){return!1},e.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},e.prototype.accept=function(n){return n.visitToken(this)},e.prototype.realize=function(){return t.realizeToken(this)},e.prototype.collectTextElements=function(n){r(this,n)},e.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},e.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},e.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},e}();t.FixedWidthTokenWithLeadingAndTrailingTrivia=a;t.fixedWidthToken=y;t.variableWidthToken=p})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){(function(t){function o(n){return new u(n.tokenKind,n.leadingTrivia(),n.text(),n.value(),n.valueText(),n.trailingTrivia())}function l(t){return n.Debug.assert(n.SyntaxFacts.isAnyKeyword(t.tokenKind)),new u(11,t.leadingTrivia(),t.text(),t.text(),t.text(),t.trailingTrivia())}function f(t){var i={},u,f,r;for(u in n.SyntaxKind)if(n.SyntaxKind[u]===t.kind()){i.kind=u;break}return i.width=t.width(),t.fullWidth()!==t.width()&&(i.fullWidth=t.fullWidth()),i.text=t.text(),f=t.value(),f!==null&&(i.value=f,i.valueText=t.valueText()),t.hasLeadingTrivia()&&(i.hasLeadingTrivia=!0),t.hasLeadingComment()&&(i.hasLeadingComment=!0),t.hasLeadingNewLine()&&(i.hasLeadingNewLine=!0),t.hasLeadingSkippedText()&&(i.hasLeadingSkippedText=!0),t.hasTrailingTrivia()&&(i.hasTrailingTrivia=!0),t.hasTrailingComment()&&(i.hasTrailingComment=!0),t.hasTrailingNewLine()&&(i.hasTrailingNewLine=!0),t.hasTrailingSkippedText()&&(i.hasTrailingSkippedText=!0),r=t.leadingTrivia(),r.count()>0&&(i.leadingTrivia=r),r=t.trailingTrivia(),r.count()>0&&(i.trailingTrivia=r),i}function a(n){return e(n.tokenKind,n.text())}function s(t,i,r){for(var f=0,e,u=0;u<r;u++){if(e=t.charCodeAt(i+u),!n.CharacterInfo.isHexDigit(e))break;f=(f<<4)+n.CharacterInfo.hexValue(e)}return f}function v(n){var r,t,f,u;for(i.length=0,r="",t=0,f=n.length;t<f;t++){if(u=n.charCodeAt(t),u===92&&(t++,t<f)){u=n.charCodeAt(t);switch(u){case 48:i.push(0);continue;case 98:i.push(8);continue;case 102:i.push(12);continue;case 110:i.push(10);continue;case 114:i.push(13);continue;case 116:i.push(9);continue;case 118:i.push(11);continue;case 120:i.push(s(n,t+1,2));t+=2;continue;case 117:i.push(s(n,t+1,4));t+=4;continue}}i.push(u);!t||t%1024||(r=r.concat(String.fromCharCode.apply(null,i)),i.length=0)}return i.length&&(r=r.concat(String.fromCharCode.apply(null,i))),r}function r(n){return n.indexOf("\\")>=0?v(n):n}function e(i,u){if(i===11)return r(u);switch(i){case 37:return!0;case 24:return!1;case 32:return null}if(n.SyntaxFacts.isAnyKeyword(i)||n.SyntaxFacts.isAnyPunctuation(i))return n.SyntaxFacts.getText(i);if(i===13)return t.isHexInteger(u)?parseInt(u,16):parseFloat(u);if(i===14)return u.length>1&&u.charCodeAt(u.length-1)===u.charCodeAt(0)?r(u.substr(1,u.length-2)):r(u.substr(1));if(i===12)try{var f=u.lastIndexOf("/"),e=u.substring(1,f),o=u.substring(f+1);return new RegExp(e,o)}catch(s){return null}else{if(i===10||i===9)return null;throw n.Errors.invalidOperation();}}function y(n,t){var i=e(n,t);return i===null?"":i.toString()}function p(n){var t=n.value();return t===null?"":t.toString()}function w(n){return new h(n)}function c(t,i){typeof i=="undefined"&&(i=null);var r=i!==null&&i.text!==undefined?i.text:n.SyntaxFacts.getText(t);return new u(t,n.Syntax.triviaList(i===null?null:i.leadingTrivia),r,e(t,r),y(t,r),n.Syntax.triviaList(i===null?null:i.trailingTrivia))}function b(n,t){return typeof t=="undefined"&&(t=null),t=t||{},t.text=n,c(11,t)}var i,h,u;t.realizeToken=o;t.convertToIdentifierName=l;t.tokenToJSON=f;t.value=a;i=[];t.massageEscapes=r;t.valueText=p;h=function(){function t(n){this.tokenKind=n}return t.prototype.clone=function(){return new t(this.tokenKind)},t.prototype.kind=function(){return this.tokenKind},t.prototype.isToken=function(){return!0},t.prototype.isNode=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!1},t.prototype.childCount=function(){return 0},t.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.toJSON=function(){return f(this)},t.prototype.accept=function(n){return n.visitToken(this)},t.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},t.prototype.firstToken=function(){return this},t.prototype.lastToken=function(){return this},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return!0},t.prototype.fullWidth=function(){return 0},t.prototype.width=function(){return 0},t.prototype.text=function(){return""},t.prototype.fullText=function(){return""},t.prototype.value=function(){return null},t.prototype.valueText=function(){return""},t.prototype.hasLeadingTrivia=function(){return!1},t.prototype.hasLeadingComment=function(){return!1},t.prototype.hasLeadingNewLine=function(){return!1},t.prototype.hasLeadingSkippedText=function(){return!1},t.prototype.leadingTriviaWidth=function(){return 0},t.prototype.hasTrailingTrivia=function(){return!1},t.prototype.hasTrailingComment=function(){return!1},t.prototype.hasTrailingNewLine=function(){return!1},t.prototype.hasTrailingSkippedText=function(){return!1},t.prototype.hasSkippedToken=function(){return!1},t.prototype.trailingTriviaWidth=function(){return 0},t.prototype.leadingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.trailingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.realize=function(){return o(this)},t.prototype.collectTextElements=function(){},t.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},t.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},t}();t.emptyToken=w;u=function(){function t(n,t,i,r,u,f){this.tokenKind=n;this._leadingTrivia=t;this._text=i;this._value=r;this._valueText=u;this._trailingTrivia=f}return t.prototype.clone=function(){return new t(this.tokenKind,this._leadingTrivia,this._text,this._value,this._valueText,this._trailingTrivia)},t.prototype.kind=function(){return this.tokenKind},t.prototype.toJSON=function(){return f(this)},t.prototype.firstToken=function(){return this},t.prototype.lastToken=function(){return this},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return!0},t.prototype.accept=function(n){return n.visitToken(this)},t.prototype.childCount=function(){return 0},t.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.isToken=function(){return!0},t.prototype.isNode=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!1},t.prototype.isTrivia=function(){return!1},t.prototype.isTriviaList=function(){return!1},t.prototype.fullWidth=function(){return this._leadingTrivia.fullWidth()+this.width()+this._trailingTrivia.fullWidth()},t.prototype.width=function(){return this.text().length},t.prototype.text=function(){return this._text},t.prototype.fullText=function(){return this._leadingTrivia.fullText()+this.text()+this._trailingTrivia.fullText()},t.prototype.value=function(){return this._value},t.prototype.valueText=function(){return this._valueText},t.prototype.hasLeadingTrivia=function(){return this._leadingTrivia.count()>0},t.prototype.hasLeadingComment=function(){return this._leadingTrivia.hasComment()},t.prototype.hasLeadingNewLine=function(){return this._leadingTrivia.hasNewLine()},t.prototype.hasLeadingSkippedText=function(){return this._leadingTrivia.hasSkippedToken()},t.prototype.leadingTriviaWidth=function(){return this._leadingTrivia.fullWidth()},t.prototype.hasTrailingTrivia=function(){return this._trailingTrivia.count()>0},t.prototype.hasTrailingComment=function(){return this._trailingTrivia.hasComment()},t.prototype.hasTrailingNewLine=function(){return this._trailingTrivia.hasNewLine()},t.prototype.hasTrailingSkippedText=function(){return this._trailingTrivia.hasSkippedToken()},t.prototype.trailingTriviaWidth=function(){return this._trailingTrivia.fullWidth()},t.prototype.hasSkippedToken=function(){return this.hasLeadingSkippedText()||this.hasTrailingSkippedText()},t.prototype.leadingTrivia=function(){return this._leadingTrivia},t.prototype.trailingTrivia=function(){return this._trailingTrivia},t.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},t.prototype.collectTextElements=function(n){this.leadingTrivia().collectTextElements(n);n.push(this.text());this.trailingTrivia().collectTextElements(n)},t.prototype.withLeadingTrivia=function(n){return new t(this.tokenKind,n,this._text,this._value,this._valueText,this._trailingTrivia)},t.prototype.withTrailingTrivia=function(n){return new t(this.tokenKind,this._leadingTrivia,this._text,this._value,this._valueText,n)},t}();t.token=c;t.identifier=b})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){var t=function(n){function t(t,i){n.call(this);this.token1=t;this.token2=i}return __extends(t,n),t.prototype.visitToken=function(n){if(n===this.token1){var t=this.token2;return this.token1=null,this.token2=null,t}return n},t.prototype.visitNode=function(t){return this.token1===null?t:n.prototype.visitNode.call(this,t)},t.prototype.visitList=function(t){return this.token1===null?t:n.prototype.visitList.call(this,t)},t.prototype.visitSeparatedList=function(t){return this.token1===null?t:n.prototype.visitSeparatedList.call(this,t)},t}(n.SyntaxRewriter);n.SyntaxTokenReplacer=t}(TypeScript||(TypeScript={})),function(n){(function(t){function i(n,t){return new r(n,t)}function f(t){return n.Debug.assert(!t.hasLeadingTrivia()),n.Debug.assert(!t.hasTrailingTrivia()),n.Debug.assert(t.fullWidth()>0),new r(8,t)}function u(t){return i(4,n.StringUtilities.repeat(" ",t))}function e(n){return i(4,n)}function o(n){return i(6,n)}function s(n){return i(7,n)}function h(n){for(var r=[],i=n.fullText(),u=0,f,e,t=0;t<i.length;t++){f=i.charCodeAt(t);e=!1;switch(f){case 13:t<i.length-1&&i.charCodeAt(t+1)===10&&t++;case 10:case 8233:case 8232:r.push(i.substring(u,t+1));u=t+1;continue}}return r.push(i.substring(u)),r}var r=function(){function t(n,t){this._kind=n;this._textOrToken=t}return t.prototype.toJSON=function(){var t={};return t.kind=n.SyntaxKind[this._kind],this.isSkippedToken()?t.skippedToken=this._textOrToken:t.text=this._textOrToken,t},t.prototype.kind=function(){return this._kind},t.prototype.fullWidth=function(){return this.fullText().length},t.prototype.fullText=function(){return this.isSkippedToken()?this.skippedToken().fullText():this._textOrToken},t.prototype.isWhitespace=function(){return this.kind()===4},t.prototype.isComment=function(){return this.kind()===7||this.kind()===6},t.prototype.isNewLine=function(){return this.kind()===5},t.prototype.isSkippedToken=function(){return this.kind()===8},t.prototype.skippedToken=function(){return n.Debug.assert(this.isSkippedToken()),this._textOrToken},t.prototype.collectTextElements=function(n){n.push(this.fullText())},t}();t.trivia=i;t.skippedTokenTrivia=f;t.spaces=u;t.whitespace=e;t.multiLineComment=o;t.singleLineComment=s;t.spaceTrivia=u(1);t.lineFeedTrivia=i(5,"\n");t.carriageReturnTrivia=i(5,"\r");t.carriageReturnLineFeedTrivia=i(5,"\r\n");t.splitMultiLineCommentTriviaIntoMultipleLines=h})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){(function(t){function r(n,t){if(n.count()===0)return t;if(t.count()===0)return n;var r=n.toArray();return r.push.apply(r,t.toArray()),i(r)}function u(n){return n.kind()===6||n.kind()===7}function i(t){return t===undefined||t===null||t.length===0?n.Syntax.emptyTriviaList:t.length===1?new f(t[0]):new e(t)}t.emptyTriviaList={kind:function(){return 3},count:function(){return 0},syntaxTriviaAt:function(){throw n.Errors.argumentOutOfRange("index");},last:function(){throw n.Errors.argumentOutOfRange("index");},fullWidth:function(){return 0},fullText:function(){return""},hasComment:function(){return!1},hasNewLine:function(){return!1},hasSkippedToken:function(){return!1},toJSON:function(){return[]},collectTextElements:function(){},toArray:function(){return[]},concat:function(n){return n}};var f=function(){function t(n){this.item=n}return t.prototype.kind=function(){return 3},t.prototype.count=function(){return 1},t.prototype.syntaxTriviaAt=function(t){if(t!==0)throw n.Errors.argumentOutOfRange("index");return this.item},t.prototype.last=function(){return this.item},t.prototype.fullWidth=function(){return this.item.fullWidth()},t.prototype.fullText=function(){return this.item.fullText()},t.prototype.hasComment=function(){return u(this.item)},t.prototype.hasNewLine=function(){return this.item.kind()===5},t.prototype.hasSkippedToken=function(){return this.item.kind()===8},t.prototype.toJSON=function(){return[this.item]},t.prototype.collectTextElements=function(n){this.item.collectTextElements(n)},t.prototype.toArray=function(){return[this.item]},t.prototype.concat=function(n){return r(this,n)},t}(),e=function(){function t(n){this.trivia=n}return t.prototype.kind=function(){return 3},t.prototype.count=function(){return this.trivia.length},t.prototype.syntaxTriviaAt=function(t){if(t<0||t>=this.trivia.length)throw n.Errors.argumentOutOfRange("index");return this.trivia[t]},t.prototype.last=function(){return this.trivia[this.trivia.length-1]},t.prototype.fullWidth=function(){return n.ArrayUtilities.sum(this.trivia,function(n){return n.fullWidth()})},t.prototype.fullText=function(){for(var t="",n=0,i=this.trivia.length;n<i;n++)t+=this.trivia[n].fullText();return t},t.prototype.hasComment=function(){for(var n=0;n<this.trivia.length;n++)if(u(this.trivia[n]))return!0;return!1},t.prototype.hasNewLine=function(){for(var n=0;n<this.trivia.length;n++)if(this.trivia[n].kind()===5)return!0;return!1},t.prototype.hasSkippedToken=function(){for(var n=0;n<this.trivia.length;n++)if(this.trivia[n].kind()===8)return!0;return!1},t.prototype.toJSON=function(){return this.trivia},t.prototype.collectTextElements=function(n){for(var t=0;t<this.trivia.length;t++)this.trivia[t].collectTextElements(n)},t.prototype.toArray=function(){return this.trivia.slice(0)},t.prototype.concat=function(n){return r(this,n)},t}();t.triviaList=i;t.spaceTriviaList=i([n.Syntax.spaceTrivia])})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.isAngleBracket=function(n){var t=n.element(),i=n.parentElement();if(i!==null&&(t.kind()===81||t.kind()===82))switch(i.kind()){case 228:case 229:case 220:return!0}return!1},n.getToken=function(n,t){for(var r,i=0,u=n.childCount();i<u;i++)if(r=n.childAt(i),r.tokenKind===t)return r;return null},n.containsToken=function(t,i){return n.getToken(t,i)!==null},n.hasExportKeyword=function(t){return n.getExportKeyword(t)!==null},n.getExportKeyword=function(t){switch(t.kind()){case 131:case 132:case 130:case 148:case 133:case 129:case 134:return n.getToken(t.modifiers,47);default:return null}},n.isAmbientDeclarationSyntax=function(t){if(!t)return!1;var i=t.node();switch(i.kind()){case 131:case 132:case 130:case 148:case 133:if(n.containsToken(i.modifiers,64))return!0;case 134:case 138:case 136:case 139:case 140:case 137:if(i.isClassElement()||i.isModuleElement())return n.isAmbientDeclarationSyntax(t.containingNode());case 244:return n.isAmbientDeclarationSyntax(t.containingNode().containingNode());default:return n.isAmbientDeclarationSyntax(t.containingNode())}},n}();n.SyntaxUtilities=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.prototype.defaultVisit=function(){return null},n.prototype.visitToken=function(n){return this.defaultVisit(n)},n.prototype.visitSourceUnit=function(n){return this.defaultVisit(n)},n.prototype.visitExternalModuleReference=function(n){return this.defaultVisit(n)},n.prototype.visitModuleNameModuleReference=function(n){return this.defaultVisit(n)},n.prototype.visitImportDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitExportAssignment=function(n){return this.defaultVisit(n)},n.prototype.visitClassDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitInterfaceDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitHeritageClause=function(n){return this.defaultVisit(n)},n.prototype.visitModuleDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitFunctionDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitVariableStatement=function(n){return this.defaultVisit(n)},n.prototype.visitVariableDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitVariableDeclarator=function(n){return this.defaultVisit(n)},n.prototype.visitEqualsValueClause=function(n){return this.defaultVisit(n)},n.prototype.visitPrefixUnaryExpression=function(n){return this.defaultVisit(n)},n.prototype.visitArrayLiteralExpression=function(n){return this.defaultVisit(n)},n.prototype.visitOmittedExpression=function(n){return this.defaultVisit(n)},n.prototype.visitParenthesizedExpression=function(n){return this.defaultVisit(n)},n.prototype.visitSimpleArrowFunctionExpression=function(n){return this.defaultVisit(n)},n.prototype.visitParenthesizedArrowFunctionExpression=function(n){return this.defaultVisit(n)},n.prototype.visitQualifiedName=function(n){return this.defaultVisit(n)},n.prototype.visitTypeArgumentList=function(n){return this.defaultVisit(n)},n.prototype.visitConstructorType=function(n){return this.defaultVisit(n)},n.prototype.visitFunctionType=function(n){return this.defaultVisit(n)},n.prototype.visitObjectType=function(n){return this.defaultVisit(n)},n.prototype.visitArrayType=function(n){return this.defaultVisit(n)},n.prototype.visitGenericType=function(n){return this.defaultVisit(n)},n.prototype.visitTypeQuery=function(n){return this.defaultVisit(n)},n.prototype.visitTypeAnnotation=function(n){return this.defaultVisit(n)},n.prototype.visitBlock=function(n){return this.defaultVisit(n)},n.prototype.visitParameter=function(n){return this.defaultVisit(n)},n.prototype.visitMemberAccessExpression=function(n){return this.defaultVisit(n)},n.prototype.visitPostfixUnaryExpression=function(n){return this.defaultVisit(n)},n.prototype.visitElementAccessExpression=function(n){return this.defaultVisit(n)},n.prototype.visitInvocationExpression=function(n){return this.defaultVisit(n)},n.prototype.visitArgumentList=function(n){return this.defaultVisit(n)},n.prototype.visitBinaryExpression=function(n){return this.defaultVisit(n)},n.prototype.visitConditionalExpression=function(n){return this.defaultVisit(n)},n.prototype.visitConstructSignature=function(n){return this.defaultVisit(n)},n.prototype.visitMethodSignature=function(n){return this.defaultVisit(n)},n.prototype.visitIndexSignature=function(n){return this.defaultVisit(n)},n.prototype.visitPropertySignature=function(n){return this.defaultVisit(n)},n.prototype.visitCallSignature=function(n){return this.defaultVisit(n)},n.prototype.visitParameterList=function(n){return this.defaultVisit(n)},n.prototype.visitTypeParameterList=function(n){return this.defaultVisit(n)},n.prototype.visitTypeParameter=function(n){return this.defaultVisit(n)},n.prototype.visitConstraint=function(n){return this.defaultVisit(n)},n.prototype.visitElseClause=function(n){return this.defaultVisit(n)},n.prototype.visitIfStatement=function(n){return this.defaultVisit(n)},n.prototype.visitExpressionStatement=function(n){return this.defaultVisit(n)},n.prototype.visitConstructorDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitMemberFunctionDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitGetMemberAccessorDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitSetMemberAccessorDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitMemberVariableDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitThrowStatement=function(n){return this.defaultVisit(n)},n.prototype.visitReturnStatement=function(n){return this.defaultVisit(n)},n.prototype.visitObjectCreationExpression=function(n){return this.defaultVisit(n)},n.prototype.visitSwitchStatement=function(n){return this.defaultVisit(n)},n.prototype.visitCaseSwitchClause=function(n){return this.defaultVisit(n)},n.prototype.visitDefaultSwitchClause=function(n){return this.defaultVisit(n)},n.prototype.visitBreakStatement=function(n){return this.defaultVisit(n)},n.prototype.visitContinueStatement=function(n){return this.defaultVisit(n)},n.prototype.visitForStatement=function(n){return this.defaultVisit(n)},n.prototype.visitForInStatement=function(n){return this.defaultVisit(n)},n.prototype.visitWhileStatement=function(n){return this.defaultVisit(n)},n.prototype.visitWithStatement=function(n){return this.defaultVisit(n)},n.prototype.visitEnumDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitEnumElement=function(n){return this.defaultVisit(n)},n.prototype.visitCastExpression=function(n){return this.defaultVisit(n)},n.prototype.visitObjectLiteralExpression=function(n){return this.defaultVisit(n)},n.prototype.visitSimplePropertyAssignment=function(n){return this.defaultVisit(n)},n.prototype.visitFunctionPropertyAssignment=function(n){return this.defaultVisit(n)},n.prototype.visitGetAccessorPropertyAssignment=function(n){return this.defaultVisit(n)},n.prototype.visitSetAccessorPropertyAssignment=function(n){return this.defaultVisit(n)},n.prototype.visitFunctionExpression=function(n){return this.defaultVisit(n)},n.prototype.visitEmptyStatement=function(n){return this.defaultVisit(n)},n.prototype.visitTryStatement=function(n){return this.defaultVisit(n)},n.prototype.visitCatchClause=function(n){return this.defaultVisit(n)},n.prototype.visitFinallyClause=function(n){return this.defaultVisit(n)},n.prototype.visitLabeledStatement=function(n){return this.defaultVisit(n)},n.prototype.visitDoStatement=function(n){return this.defaultVisit(n)},n.prototype.visitTypeOfExpression=function(n){return this.defaultVisit(n)},n.prototype.visitDeleteExpression=function(n){return this.defaultVisit(n)},n.prototype.visitVoidExpression=function(n){return this.defaultVisit(n)},n.prototype.visitDebuggerStatement=function(n){return this.defaultVisit(n)},n}();n.SyntaxVisitor=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.prototype.visitToken=function(){},n.prototype.visitNode=function(n){n.accept(this)},n.prototype.visitNodeOrToken=function(n){n.isToken()?this.visitToken(n):this.visitNode(n)},n.prototype.visitOptionalToken=function(n){n!==null&&this.visitToken(n)},n.prototype.visitOptionalNode=function(n){n!==null&&this.visitNode(n)},n.prototype.visitOptionalNodeOrToken=function(n){n!==null&&this.visitNodeOrToken(n)},n.prototype.visitList=function(n){for(var t=0,i=n.childCount();t<i;t++)this.visitNodeOrToken(n.childAt(t))},n.prototype.visitSeparatedList=function(n){for(var r,t=0,i=n.childCount();t<i;t++)r=n.childAt(t),this.visitNodeOrToken(r)},n.prototype.visitSourceUnit=function(n){this.visitList(n.moduleElements);this.visitToken(n.endOfFileToken)},n.prototype.visitExternalModuleReference=function(n){this.visitToken(n.moduleOrRequireKeyword);this.visitToken(n.openParenToken);this.visitToken(n.stringLiteral);this.visitToken(n.closeParenToken)},n.prototype.visitModuleNameModuleReference=function(n){this.visitNodeOrToken(n.moduleName)},n.prototype.visitImportDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.importKeyword);this.visitToken(n.identifier);this.visitToken(n.equalsToken);this.visitNode(n.moduleReference);this.visitToken(n.semicolonToken)},n.prototype.visitExportAssignment=function(n){this.visitToken(n.exportKeyword);this.visitToken(n.equalsToken);this.visitToken(n.identifier);this.visitToken(n.semicolonToken)},n.prototype.visitClassDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.classKeyword);this.visitToken(n.identifier);this.visitOptionalNode(n.typeParameterList);this.visitList(n.heritageClauses);this.visitToken(n.openBraceToken);this.visitList(n.classElements);this.visitToken(n.closeBraceToken)},n.prototype.visitInterfaceDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.interfaceKeyword);this.visitToken(n.identifier);this.visitOptionalNode(n.typeParameterList);this.visitList(n.heritageClauses);this.visitNode(n.body)},n.prototype.visitHeritageClause=function(n){this.visitToken(n.extendsOrImplementsKeyword);this.visitSeparatedList(n.typeNames)},n.prototype.visitModuleDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.moduleKeyword);this.visitOptionalNodeOrToken(n.moduleName);this.visitOptionalToken(n.stringLiteral);this.visitToken(n.openBraceToken);this.visitList(n.moduleElements);this.visitToken(n.closeBraceToken)},n.prototype.visitFunctionDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.functionKeyword);this.visitToken(n.identifier);this.visitNode(n.callSignature);this.visitOptionalNode(n.block);this.visitOptionalToken(n.semicolonToken)},n.prototype.visitVariableStatement=function(n){this.visitList(n.modifiers);this.visitNode(n.variableDeclaration);this.visitToken(n.semicolonToken)},n.prototype.visitVariableDeclaration=function(n){this.visitToken(n.varKeyword);this.visitSeparatedList(n.variableDeclarators)},n.prototype.visitVariableDeclarator=function(n){this.visitToken(n.identifier);this.visitOptionalNode(n.typeAnnotation);this.visitOptionalNode(n.equalsValueClause)},n.prototype.visitEqualsValueClause=function(n){this.visitToken(n.equalsToken);this.visitNodeOrToken(n.value)},n.prototype.visitPrefixUnaryExpression=function(n){this.visitToken(n.operatorToken);this.visitNodeOrToken(n.operand)},n.prototype.visitArrayLiteralExpression=function(n){this.visitToken(n.openBracketToken);this.visitSeparatedList(n.expressions);this.visitToken(n.closeBracketToken)},n.prototype.visitOmittedExpression=function(){},n.prototype.visitParenthesizedExpression=function(n){this.visitToken(n.openParenToken);this.visitNodeOrToken(n.expression);this.visitToken(n.closeParenToken)},n.prototype.visitSimpleArrowFunctionExpression=function(n){this.visitToken(n.identifier);this.visitToken(n.equalsGreaterThanToken);this.visitNodeOrToken(n.body)},n.prototype.visitParenthesizedArrowFunctionExpression=function(n){this.visitNode(n.callSignature);this.visitToken(n.equalsGreaterThanToken);this.visitNodeOrToken(n.body)},n.prototype.visitQualifiedName=function(n){this.visitNodeOrToken(n.left);this.visitToken(n.dotToken);this.visitToken(n.right)},n.prototype.visitTypeArgumentList=function(n){this.visitToken(n.lessThanToken);this.visitSeparatedList(n.typeArguments);this.visitToken(n.greaterThanToken)},n.prototype.visitConstructorType=function(n){this.visitToken(n.newKeyword);this.visitOptionalNode(n.typeParameterList);this.visitNode(n.parameterList);this.visitToken(n.equalsGreaterThanToken);this.visitNodeOrToken(n.type)},n.prototype.visitFunctionType=function(n){this.visitOptionalNode(n.typeParameterList);this.visitNode(n.parameterList);this.visitToken(n.equalsGreaterThanToken);this.visitNodeOrToken(n.type)},n.prototype.visitObjectType=function(n){this.visitToken(n.openBraceToken);this.visitSeparatedList(n.typeMembers);this.visitToken(n.closeBraceToken)},n.prototype.visitArrayType=function(n){this.visitNodeOrToken(n.type);this.visitToken(n.openBracketToken);this.visitToken(n.closeBracketToken)},n.prototype.visitGenericType=function(n){this.visitNodeOrToken(n.name);this.visitNode(n.typeArgumentList)},n.prototype.visitTypeQuery=function(n){this.visitToken(n.typeOfKeyword);this.visitNodeOrToken(n.name)},n.prototype.visitTypeAnnotation=function(n){this.visitToken(n.colonToken);this.visitNodeOrToken(n.type)},n.prototype.visitBlock=function(n){this.visitToken(n.openBraceToken);this.visitList(n.statements);this.visitToken(n.closeBraceToken)},n.prototype.visitParameter=function(n){this.visitOptionalToken(n.dotDotDotToken);this.visitOptionalToken(n.publicOrPrivateKeyword);this.visitToken(n.identifier);this.visitOptionalToken(n.questionToken);this.visitOptionalNode(n.typeAnnotation);this.visitOptionalNode(n.equalsValueClause)},n.prototype.visitMemberAccessExpression=function(n){this.visitNodeOrToken(n.expression);this.visitToken(n.dotToken);this.visitToken(n.name)},n.prototype.visitPostfixUnaryExpression=function(n){this.visitNodeOrToken(n.operand);this.visitToken(n.operatorToken)},n.prototype.visitElementAccessExpression=function(n){this.visitNodeOrToken(n.expression);this.visitToken(n.openBracketToken);this.visitNodeOrToken(n.argumentExpression);this.visitToken(n.closeBracketToken)},n.prototype.visitInvocationExpression=function(n){this.visitNodeOrToken(n.expression);this.visitNode(n.argumentList)},n.prototype.visitArgumentList=function(n){this.visitOptionalNode(n.typeArgumentList);this.visitToken(n.openParenToken);this.visitSeparatedList(n.arguments);this.visitToken(n.closeParenToken)},n.prototype.visitBinaryExpression=function(n){this.visitNodeOrToken(n.left);this.visitToken(n.operatorToken);this.visitNodeOrToken(n.right)},n.prototype.visitConditionalExpression=function(n){this.visitNodeOrToken(n.condition);this.visitToken(n.questionToken);this.visitNodeOrToken(n.whenTrue);this.visitToken(n.colonToken);this.visitNodeOrToken(n.whenFalse)},n.prototype.visitConstructSignature=function(n){this.visitToken(n.newKeyword);this.visitNode(n.callSignature)},n.prototype.visitMethodSignature=function(n){this.visitToken(n.propertyName);this.visitOptionalToken(n.questionToken);this.visitNode(n.callSignature)},n.prototype.visitIndexSignature=function(n){this.visitToken(n.openBracketToken);this.visitNode(n.parameter);this.visitToken(n.closeBracketToken);this.visitOptionalNode(n.typeAnnotation)},n.prototype.visitPropertySignature=function(n){this.visitToken(n.propertyName);this.visitOptionalToken(n.questionToken);this.visitOptionalNode(n.typeAnnotation)},n.prototype.visitCallSignature=function(n){this.visitOptionalNode(n.typeParameterList);this.visitNode(n.parameterList);this.visitOptionalNode(n.typeAnnotation)},n.prototype.visitParameterList=function(n){this.visitToken(n.openParenToken);this.visitSeparatedList(n.parameters);this.visitToken(n.closeParenToken)},n.prototype.visitTypeParameterList=function(n){this.visitToken(n.lessThanToken);this.visitSeparatedList(n.typeParameters);this.visitToken(n.greaterThanToken)},n.prototype.visitTypeParameter=function(n){this.visitToken(n.identifier);this.visitOptionalNode(n.constraint)},n.prototype.visitConstraint=function(n){this.visitToken(n.extendsKeyword);this.visitNodeOrToken(n.type)},n.prototype.visitElseClause=function(n){this.visitToken(n.elseKeyword);this.visitNodeOrToken(n.statement)},n.prototype.visitIfStatement=function(n){this.visitToken(n.ifKeyword);this.visitToken(n.openParenToken);this.visitNodeOrToken(n.condition);this.visitToken(n.closeParenToken);this.visitNodeOrToken(n.statement);this.visitOptionalNode(n.elseClause)},n.prototype.visitExpressionStatement=function(n){this.visitNodeOrToken(n.expression);this.visitToken(n.semicolonToken)},n.prototype.visitConstructorDeclaration=function(n){this.visitToken(n.constructorKeyword);this.visitNode(n.parameterList);this.visitOptionalNode(n.block);this.visitOptionalToken(n.semicolonToken)},n.prototype.visitMemberFunctionDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.propertyName);this.visitNode(n.callSignature);this.visitOptionalNode(n.block);this.visitOptionalToken(n.semicolonToken)},n.prototype.visitGetMemberAccessorDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.getKeyword);this.visitToken(n.propertyName);this.visitNode(n.parameterList);this.visitOptionalNode(n.typeAnnotation);this.visitNode(n.block)},n.prototype.visitSetMemberAccessorDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.setKeyword);this.visitToken(n.propertyName);this.visitNode(n.parameterList);this.visitNode(n.block)},n.prototype.visitMemberVariableDeclaration=function(n){this.visitList(n.modifiers);this.visitNode(n.variableDeclarator);this.visitToken(n.semicolonToken)},n.prototype.visitThrowStatement=function(n){this.visitToken(n.throwKeyword);this.visitNodeOrToken(n.expression);this.visitToken(n.semicolonToken)},n.prototype.visitReturnStatement=function(n){this.visitToken(n.returnKeyword);this.visitOptionalNodeOrToken(n.expression);this.visitToken(n.semicolonToken)},n.prototype.visitObjectCreationExpression=function(n){this.visitToken(n.newKeyword);this.visitNodeOrToken(n.expression);this.visitOptionalNode(n.argumentList)},n.prototype.visitSwitchStatement=function(n){this.visitToken(n.switchKeyword);this.visitToken(n.openParenToken);this.visitNodeOrToken(n.expression);this.visitToken(n.closeParenToken);this.visitToken(n.openBraceToken);this.visitList(n.switchClauses);this.visitToken(n.closeBraceToken)},n.prototype.visitCaseSwitchClause=function(n){this.visitToken(n.caseKeyword);this.visitNodeOrToken(n.expression);this.visitToken(n.colonToken);this.visitList(n.statements)},n.prototype.visitDefaultSwitchClause=function(n){this.visitToken(n.defaultKeyword);this.visitToken(n.colonToken);this.visitList(n.statements)},n.prototype.visitBreakStatement=function(n){this.visitToken(n.breakKeyword);this.visitOptionalToken(n.identifier);this.visitToken(n.semicolonToken)},n.prototype.visitContinueStatement=function(n){this.visitToken(n.continueKeyword);this.visitOptionalToken(n.identifier);this.visitToken(n.semicolonToken)},n.prototype.visitForStatement=function(n){this.visitToken(n.forKeyword);this.visitToken(n.openParenToken);this.visitOptionalNode(n.variableDeclaration);this.visitOptionalNodeOrToken(n.initializer);this.visitToken(n.firstSemicolonToken);this.visitOptionalNodeOrToken(n.condition);this.visitToken(n.secondSemicolonToken);this.visitOptionalNodeOrToken(n.incrementor);this.visitToken(n.closeParenToken);this.visitNodeOrToken(n.statement)},n.prototype.visitForInStatement=function(n){this.visitToken(n.forKeyword);this.visitToken(n.openParenToken);this.visitOptionalNode(n.variableDeclaration);this.visitOptionalNodeOrToken(n.left);this.visitToken(n.inKeyword);this.visitNodeOrToken(n.expression);this.visitToken(n.closeParenToken);this.visitNodeOrToken(n.statement)},n.prototype.visitWhileStatement=function(n){this.visitToken(n.whileKeyword);this.visitToken(n.openParenToken);this.visitNodeOrToken(n.condition);this.visitToken(n.closeParenToken);this.visitNodeOrToken(n.statement)},n.prototype.visitWithStatement=function(n){this.visitToken(n.withKeyword);this.visitToken(n.openParenToken);this.visitNodeOrToken(n.condition);this.visitToken(n.closeParenToken);this.visitNodeOrToken(n.statement)},n.prototype.visitEnumDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.enumKeyword);this.visitToken(n.identifier);this.visitToken(n.openBraceToken);this.visitSeparatedList(n.enumElements);this.visitToken(n.closeBraceToken)},n.prototype.visitEnumElement=function(n){this.visitToken(n.propertyName);this.visitOptionalNode(n.equalsValueClause)},n.prototype.visitCastExpression=function(n){this.visitToken(n.lessThanToken);this.visitNodeOrToken(n.type);this.visitToken(n.greaterThanToken);this.visitNodeOrToken(n.expression)},n.prototype.visitObjectLiteralExpression=function(n){this.visitToken(n.openBraceToken);this.visitSeparatedList(n.propertyAssignments);this.visitToken(n.closeBraceToken)},n.prototype.visitSimplePropertyAssignment=function(n){this.visitToken(n.propertyName);this.visitToken(n.colonToken);this.visitNodeOrToken(n.expression)},n.prototype.visitFunctionPropertyAssignment=function(n){this.visitToken(n.propertyName);this.visitNode(n.callSignature);this.visitNode(n.block)},n.prototype.visitGetAccessorPropertyAssignment=function(n){this.visitToken(n.getKeyword);this.visitToken(n.propertyName);this.visitToken(n.openParenToken);this.visitToken(n.closeParenToken);this.visitOptionalNode(n.typeAnnotation);this.visitNode(n.block)},n.prototype.visitSetAccessorPropertyAssignment=function(n){this.visitToken(n.setKeyword);this.visitToken(n.propertyName);this.visitToken(n.openParenToken);this.visitNode(n.parameter);this.visitToken(n.closeParenToken);this.visitNode(n.block)},n.prototype.visitFunctionExpression=function(n){this.visitToken(n.functionKeyword);this.visitOptionalToken(n.identifier);this.visitNode(n.callSignature);this.visitNode(n.block)},n.prototype.visitEmptyStatement=function(n){this.visitToken(n.semicolonToken)},n.prototype.visitTryStatement=function(n){this.visitToken(n.tryKeyword);this.visitNode(n.block);this.visitOptionalNode(n.catchClause);this.visitOptionalNode(n.finallyClause)},n.prototype.visitCatchClause=function(n){this.visitToken(n.catchKeyword);this.visitToken(n.openParenToken);this.visitToken(n.identifier);this.visitOptionalNode(n.typeAnnotation);this.visitToken(n.closeParenToken);this.visitNode(n.block)},n.prototype.visitFinallyClause=function(n){this.visitToken(n.finallyKeyword);this.visitNode(n.block)},n.prototype.visitLabeledStatement=function(n){this.visitToken(n.identifier);this.visitToken(n.colonToken);this.visitNodeOrToken(n.statement)},n.prototype.visitDoStatement=function(n){this.visitToken(n.doKeyword);this.visitNodeOrToken(n.statement);this.visitToken(n.whileKeyword);this.visitToken(n.openParenToken);this.visitNodeOrToken(n.condition);this.visitToken(n.closeParenToken);this.visitToken(n.semicolonToken)},n.prototype.visitTypeOfExpression=function(n){this.visitToken(n.typeOfKeyword);this.visitNodeOrToken(n.expression)},n.prototype.visitDeleteExpression=function(n){this.visitToken(n.deleteKeyword);this.visitNodeOrToken(n.expression)},n.prototype.visitVoidExpression=function(n){this.visitToken(n.voidKeyword);this.visitNodeOrToken(n.expression)},n.prototype.visitDebuggerStatement=function(n){this.visitToken(n.debuggerKeyword);this.visitToken(n.semicolonToken)},n}();n.SyntaxWalker=t}(TypeScript||(TypeScript={})),function(n){var t=function(n){function t(){n.apply(this,arguments);this._position=0}return __extends(t,n),t.prototype.visitToken=function(n){this._position+=n.fullWidth()},t.prototype.position=function(){return this._position},t.prototype.skip=function(n){this._position+=n.fullWidth()},t}(n.SyntaxWalker);n.PositionTrackingWalker=t}(TypeScript||(TypeScript={})),function(n){var t=function(t){function i(i,r){t.call(this);this.trackParents=i;this.trackPreviousToken=r;this.tokenToInformation=n.Collections.createHashTable(n.Collections.DefaultHashTableCapacity,n.Collections.identityHashCode);this.elementToPosition=n.Collections.createHashTable(n.Collections.DefaultHashTableCapacity,n.Collections.identityHashCode);this._previousToken=null;this._previousTokenInformation=null;this._currentPosition=0;this._elementToParent=n.Collections.createHashTable(n.Collections.DefaultHashTableCapacity,n.Collections.identityHashCode);this._parentStack=[];this._parentStack.push(null)}return __extends(i,t),i.create=function(n,t,r){var u=new i(t,r);return u.visitNode(n),u},i.prototype.visitNode=function(i){this.trackParents&&this._elementToParent.add(i,n.ArrayUtilities.last(this._parentStack));this.elementToPosition.add(i,this._currentPosition);this.trackParents&&this._parentStack.push(i);t.prototype.visitNode.call(this,i);this.trackParents&&this._parentStack.pop()},i.prototype.visitToken=function(t){if(this.trackParents&&this._elementToParent.add(t,n.ArrayUtilities.last(this._parentStack)),this.trackPreviousToken){var i={previousToken:this._previousToken,nextToken:null};this._previousTokenInformation!==null&&(this._previousTokenInformation.nextToken=t);this._previousToken=t;this._previousTokenInformation=i;this.tokenToInformation.add(t,i)}this.elementToPosition.add(t,this._currentPosition);this._currentPosition+=t.fullWidth()},i.prototype.parent=function(n){return this._elementToParent.get(n)},i.prototype.fullStart=function(n){return this.elementToPosition.get(n)},i.prototype.start=function(n){return this.fullStart(n)+n.leadingTriviaWidth()},i.prototype.end=function(n){return this.start(n)+n.width()},i.prototype.previousToken=function(n){return this.tokenInformation(n).previousToken},i.prototype.tokenInformation=function(n){return this.tokenToInformation.get(n)},i.prototype.firstTokenInLineContainingToken=function(n){for(var t=n,i;;){if(i=this.tokenInformation(t),this.isFirstTokenInLineWorker(i))break;t=i.previousToken}return t},i.prototype.isFirstTokenInLine=function(n){var t=this.tokenInformation(n);return this.isFirstTokenInLineWorker(t)},i.prototype.isFirstTokenInLineWorker=function(n){return n.previousToken===null||n.previousToken.hasTrailingNewLine()},i}(n.SyntaxWalker);n.SyntaxInformationMap=t}(TypeScript||(TypeScript={})),function(n){var t=function(t){function i(){t.apply(this,arguments);this.tokenTable=n.Collections.createHashTable(n.Collections.DefaultHashTableCapacity,n.Collections.identityHashCode)}return __extends(i,t),i.checkInvariants=function(n){n.accept(new i)},i.prototype.visitToken=function(n){this.tokenTable.add(n,n)},i}(n.SyntaxWalker);n.SyntaxNodeInvariantsChecker=t}(TypeScript||(TypeScript={})),function(n){var t=function(n){function t(t){n.call(this);this._depth=0;this._maximumDepth=0;this._maximumDepth=t}return __extends(t,n),t.prototype.visitNode=function(t){this._depth<this._maximumDepth?(this._depth++,n.prototype.visitNode.call(this,t),this._depth--):this.skip(t)},t}(n.PositionTrackingWalker);n.DepthLimitedWalker=t}(TypeScript||(TypeScript={})),function(n){(function(t){function s(n,t,i,r){var e=new u(n,t,r.languageVersion());return new f(n,t.lineMap(),e,r).parseSyntaxTree(i)}function h(n,t,i){if(t.isUnchanged())return n;var r=new o(n,t,i);return new f(n.fileName(),i.lineMap(),r,n.parseOptions()).parseSyntaxTree(n.isDeclaration())}var i,r;(function(n){n[n.CommaExpressionPrecedence=1]="CommaExpressionPrecedence";n[n.AssignmentExpressionPrecedence=2]="AssignmentExpressionPrecedence";n[n.ConditionalExpressionPrecedence=3]="ConditionalExpressionPrecedence";n[n.ArrowFunctionPrecedence=4]="ArrowFunctionPrecedence";n[n.LogicalOrExpressionPrecedence=5]="LogicalOrExpressionPrecedence";n[n.LogicalAndExpressionPrecedence=6]="LogicalAndExpressionPrecedence";n[n.BitwiseOrExpressionPrecedence=7]="BitwiseOrExpressionPrecedence";n[n.BitwiseExclusiveOrExpressionPrecedence=8]="BitwiseExclusiveOrExpressionPrecedence";n[n.BitwiseAndExpressionPrecedence=9]="BitwiseAndExpressionPrecedence";n[n.EqualityExpressionPrecedence=10]="EqualityExpressionPrecedence";n[n.RelationalExpressionPrecedence=11]="RelationalExpressionPrecedence";n[n.ShiftExpressionPrecdence=12]="ShiftExpressionPrecdence";n[n.AdditiveExpressionPrecedence=13]="AdditiveExpressionPrecedence";n[n.MultiplicativeExpressionPrecedence=14]="MultiplicativeExpressionPrecedence";n[n.UnaryExpressionPrecedence=15]="UnaryExpressionPrecedence"})(i||(i={})),function(n){n[n.SourceUnit_ModuleElements=1]="SourceUnit_ModuleElements";n[n.ClassDeclaration_ClassElements=2]="ClassDeclaration_ClassElements";n[n.ModuleDeclaration_ModuleElements=4]="ModuleDeclaration_ModuleElements";n[n.SwitchStatement_SwitchClauses=8]="SwitchStatement_SwitchClauses";n[n.SwitchClause_Statements=16]="SwitchClause_Statements";n[n.Block_Statements=32]="Block_Statements";n[n.TryBlock_Statements=64]="TryBlock_Statements";n[n.CatchBlock_Statements=128]="CatchBlock_Statements";n[n.EnumDeclaration_EnumElements=256]="EnumDeclaration_EnumElements";n[n.ObjectType_TypeMembers=512]="ObjectType_TypeMembers";n[n.ClassOrInterfaceDeclaration_HeritageClauses=1024]="ClassOrInterfaceDeclaration_HeritageClauses";n[n.HeritageClause_TypeNameList=2048]="HeritageClause_TypeNameList";n[n.VariableDeclaration_VariableDeclarators_AllowIn=4096]="VariableDeclaration_VariableDeclarators_AllowIn";n[n.VariableDeclaration_VariableDeclarators_DisallowIn=8192]="VariableDeclaration_VariableDeclarators_DisallowIn";n[n.ArgumentList_AssignmentExpressions=16384]="ArgumentList_AssignmentExpressions";n[n.ObjectLiteralExpression_PropertyAssignments=32768]="ObjectLiteralExpression_PropertyAssignments";n[n.ArrayLiteralExpression_AssignmentExpressions=65536]="ArrayLiteralExpression_AssignmentExpressions";n[n.ParameterList_Parameters=131072]="ParameterList_Parameters";n[n.TypeArgumentList_Types=262144]="TypeArgumentList_Types";n[n.TypeParameterList_TypeParameters=524288]="TypeParameterList_TypeParameters";n[n.FirstListParsingState=n.SourceUnit_ModuleElements]="FirstListParsingState";n[n.LastListParsingState=n.TypeArgumentList_Types]="LastListParsingState"}(r||(r={}));var e=function(){function n(n){this._elements=[];this._index=0;this._pinCount=0;n.insertChildrenInto(this._elements,0)}return n.prototype.isFinished=function(){return this._index===this._elements.length},n.prototype.currentElement=function(){return this.isFinished()?null:this._elements[this._index]},n.prototype.currentNode=function(){var n=this.currentElement();return n!==null&&n.isNode()?n:null},n.prototype.moveToFirstChild=function(){var n,t;this.isFinished()||(n=this._elements[this._index],n.isToken())||(t=n,this._elements.splice(this._index,1),t.insertChildrenInto(this._elements,this._index))},n.prototype.moveToNextSibling=function(){if(!this.isFinished()){if(this._pinCount>0){this._index++;return}this._elements.shift()}},n.prototype.getAndPinCursorIndex=function(){return this._pinCount++,this._index},n.prototype.releaseAndUnpinCursorIndex=function(){this._pinCount--;this._pinCount===0},n.prototype.rewindToPinnedCursorIndex=function(n){this._index=n},n.prototype.pinCount=function(){return this._pinCount},n.prototype.moveToFirstToken=function(){for(var n;!this.isFinished();){if(n=this.currentElement(),n.isNode()){this.moveToFirstChild();continue}return}},n.prototype.currentToken=function(){if(this.moveToFirstToken(),this.isFinished())return null;return this.currentElement()},n.prototype.peekToken=function(n){var t,i;this.moveToFirstToken();t=this.getAndPinCursorIndex();try{for(i=0;i<n;i++)this.moveToNextSibling(),this.moveToFirstToken();return this.currentToken()}finally{this.rewindToPinnedCursorIndex(t);this.releaseAndUnpinCursorIndex(t)}},n}(),u=function(){function t(t,i,r){this._previousToken=null;this._absolutePosition=0;this._tokenDiagnostics=[];this.rewindPointPool=[];this.rewindPointPoolCount=0;this.slidingWindow=new n.SlidingWindow(this,n.ArrayUtilities.createArray(32,null),null);this.scanner=new n.Scanner(t,i,r)}return t.prototype.currentNode=function(){return null},t.prototype.moveToNextNode=function(){throw n.Errors.invalidOperation();},t.prototype.absolutePosition=function(){return this._absolutePosition},t.prototype.previousToken=function(){return this._previousToken},t.prototype.tokenDiagnostics=function(){return this._tokenDiagnostics},t.prototype.getOrCreateRewindPoint=function(){if(this.rewindPointPoolCount===0)return{};this.rewindPointPoolCount--;var n=this.rewindPointPool[this.rewindPointPoolCount];return this.rewindPointPool[this.rewindPointPoolCount]=null,n},t.prototype.getRewindPoint=function(){var t=this.slidingWindow.getAndPinAbsoluteIndex(),n=this.getOrCreateRewindPoint();return n.slidingWindowIndex=t,n.previousToken=this._previousToken,n.absolutePosition=this._absolutePosition,n.pinCount=this.slidingWindow.pinCount(),n},t.prototype.isPinned=function(){return this.slidingWindow.pinCount()>0},t.prototype.rewind=function(n){this.slidingWindow.rewindToPinnedIndex(n.slidingWindowIndex);this._previousToken=n.previousToken;this._absolutePosition=n.absolutePosition},t.prototype.releaseRewindPoint=function(n){this.slidingWindow.releaseAndUnpinAbsoluteIndex(n.absoluteIndex);this.rewindPointPool[this.rewindPointPoolCount]=n;this.rewindPointPoolCount++},t.prototype.fetchMoreItems=function(n,t,i,r){return i[r]=this.scanner.scan(this._tokenDiagnostics,n),1},t.prototype.peekToken=function(n){return this.slidingWindow.peekItemN(n)},t.prototype.moveToNextToken=function(){var n=this.currentToken();this._absolutePosition+=n.fullWidth();this._previousToken=n;this.slidingWindow.moveToNextItem()},t.prototype.currentToken=function(){return this.slidingWindow.currentItem(!1)},t.prototype.removeDiagnosticsOnOrAfterPosition=function(n){for(var t=this._tokenDiagnostics.length,i;t>0;)if(i=this._tokenDiagnostics[t-1],i.start()>=n)t--;else break;this._tokenDiagnostics.length=t},t.prototype.resetToPosition=function(n,t){this._absolutePosition=n;this._previousToken=t;this.removeDiagnosticsOnOrAfterPosition(n);this.slidingWindow.disgardAllItemsFromCurrentIndexOnwards();this.scanner.setAbsoluteIndex(n)},t.prototype.currentTokenAllowingRegularExpression=function(){this.resetToPosition(this._absolutePosition,this._previousToken);return this.slidingWindow.currentItem(!0)},t}(),o=function(){function t(n,i,r){this._changeDelta=0;var f=n.sourceUnit();this._oldSourceUnitCursor=new e(f);this._changeRange=t.extendToAffectedRange(i,f);this._normalParserSource=new u(n.fileName(),r,n.parseOptions().languageVersion())}return t.extendToAffectedRange=function(t,i){for(var r=t.span().start(),f,e,o,s,u=0;r>0&&u<=1;u++)f=i.findToken(r),e=f.fullStart(),r=n.MathPrototype.max(0,e-1);return o=n.TextSpan.fromBounds(r,t.span().end()),s=t.newLength()+(t.span().start()-r),new n.TextChangeRange(o,s)},t.prototype.absolutePosition=function(){return this._normalParserSource.absolutePosition()},t.prototype.previousToken=function(){return this._normalParserSource.previousToken()},t.prototype.tokenDiagnostics=function(){return this._normalParserSource.tokenDiagnostics()},t.prototype.getRewindPoint=function(){var n=this._normalParserSource.getRewindPoint(),t=this._oldSourceUnitCursor.getAndPinCursorIndex();return n.changeDelta=this._changeDelta,n.changeRange=this._changeRange,n.oldSourceUnitCursorIndex=t,n},t.prototype.rewind=function(n){this._changeRange=n.changeRange;this._changeDelta=n.changeDelta;this._oldSourceUnitCursor.rewindToPinnedCursorIndex(n.oldSourceUnitCursorIndex);this._normalParserSource.rewind(n)},t.prototype.releaseRewindPoint=function(n){this._oldSourceUnitCursor.releaseAndUnpinCursorIndex(n.oldSourceUnitCursorIndex);this._normalParserSource.releaseRewindPoint(n)},t.prototype.canReadFromOldSourceUnit=function(){return this._normalParserSource.isPinned()?!1:this._changeRange!==null&&this._changeRange.newSpan().intersectsWithPosition(this.absolutePosition())?!1:(this.syncCursorToNewTextIfBehind(),this._changeDelta===0&&!this._oldSourceUnitCursor.isFinished())},t.prototype.currentNode=function(){return this.canReadFromOldSourceUnit()?this.tryGetNodeFromOldSourceUnit():null},t.prototype.currentToken=function(){if(this.canReadFromOldSourceUnit()){var n=this.tryGetTokenFromOldSourceUnit();if(n!==null)return n}return this._normalParserSource.currentToken()},t.prototype.currentTokenAllowingRegularExpression=function(){return this._normalParserSource.currentTokenAllowingRegularExpression()},t.prototype.syncCursorToNewTextIfBehind=function(){for(;;){if(this._oldSourceUnitCursor.isFinished())break;if(this._changeDelta>=0)break;var n=this._oldSourceUnitCursor.currentElement();n.isNode()&&n.fullWidth()>Math.abs(this._changeDelta)?this._oldSourceUnitCursor.moveToFirstChild():(this._oldSourceUnitCursor.moveToNextSibling(),this._changeDelta+=n.fullWidth())}},t.prototype.intersectsWithChangeRangeSpanInOriginalText=function(n,t){return this._changeRange!==null&&this._changeRange.span().intersectsWith(n,t)},t.prototype.tryGetNodeFromOldSourceUnit=function(){for(;;){var n=this._oldSourceUnitCursor.currentNode();if(n===null)return null;if(!this.intersectsWithChangeRangeSpanInOriginalText(this.absolutePosition(),n.fullWidth())&&!n.isIncrementallyUnusable())return n;this._oldSourceUnitCursor.moveToFirstChild()}},t.prototype.canReuseTokenFromOldSourceUnit=function(n,t){return t!==null&&!this.intersectsWithChangeRangeSpanInOriginalText(n,t.fullWidth())&&!t.isIncrementallyUnusable()?!0:!1},t.prototype.tryGetTokenFromOldSourceUnit=function(){var n=this._oldSourceUnitCursor.currentToken();return this.canReuseTokenFromOldSourceUnit(this.absolutePosition(),n)?n:null},t.prototype.peekToken=function(n){if(this.canReadFromOldSourceUnit()){var t=this.tryPeekTokenFromOldSourceUnit(n);if(t!==null)return t}return this._normalParserSource.peekToken(n)},t.prototype.tryPeekTokenFromOldSourceUnit=function(n){for(var i=this.absolutePosition(),r,u,t=0;t<n;t++){if(r=this._oldSourceUnitCursor.peekToken(t),!this.canReuseTokenFromOldSourceUnit(i,r))return null;i+=r.fullWidth()}return u=this._oldSourceUnitCursor.peekToken(n),this.canReuseTokenFromOldSourceUnit(i,u)?u:null},t.prototype.moveToNextNode=function(){var r=this._oldSourceUnitCursor.currentElement(),n=this._oldSourceUnitCursor.currentNode(),t,i;this._oldSourceUnitCursor.moveToNextSibling();t=this.absolutePosition()+n.fullWidth();i=n.lastToken();this._normalParserSource.resetToPosition(t,i);this._changeRange!==null},t.prototype.moveToNextToken=function(){var n=this.currentToken(),t,i,r;this._oldSourceUnitCursor.currentToken()===n?(this._oldSourceUnitCursor.moveToNextSibling(),t=this.absolutePosition()+n.fullWidth(),i=n,this._normalParserSource.resetToPosition(t,i),this._changeRange!==null):(this._changeDelta-=n.fullWidth(),this._normalParserSource.moveToNextToken(),this._changeRange!==null&&(r=this._changeRange.newSpan(),this.absolutePosition()>=r.end()&&(this._changeDelta+=this._changeRange.newLength()-this._changeRange.span().length(),this._changeRange=null)))},t}(),f=function(){function t(t,i,r,u){this.listParsingState=0;this.isInStrictMode=!1;this.diagnostics=[];this.factory=n.Syntax.normalModeFactory;this.mergeTokensStorage=[];this.arrayPool=[];this.fileName=t;this.lineMap=i;this.source=r;this.parseOptions=u}return t.prototype.getRewindPoint=function(){var n=this.source.getRewindPoint();return n.diagnosticsCount=this.diagnostics.length,n.isInStrictMode=this.isInStrictMode,n.listParsingState=this.listParsingState,n},t.prototype.rewind=function(n){this.source.rewind(n);this.diagnostics.length=n.diagnosticsCount},t.prototype.releaseRewindPoint=function(n){this.source.releaseRewindPoint(n)},t.prototype.currentTokenStart=function(){return this.source.absolutePosition()+this.currentToken().leadingTriviaWidth()},t.prototype.previousTokenStart=function(){return this.previousToken()===null?0:this.source.absolutePosition()-this.previousToken().fullWidth()+this.previousToken().leadingTriviaWidth()},t.prototype.previousTokenEnd=function(){return this.previousToken()===null?0:this.previousTokenStart()+this.previousToken().width()},t.prototype.currentNode=function(){var n=this.source.currentNode();return n===null||n.parsedInStrictMode()!==this.isInStrictMode?null:n},t.prototype.currentToken=function(){return this.source.currentToken()},t.prototype.currentTokenAllowingRegularExpression=function(){return this.source.currentTokenAllowingRegularExpression()},t.prototype.peekToken=function(n){return this.source.peekToken(n)},t.prototype.eatAnyToken=function(){var n=this.currentToken();return this.moveToNextToken(),n},t.prototype.moveToNextToken=function(){this.source.moveToNextToken()},t.prototype.previousToken=function(){return this.source.previousToken()},t.prototype.eatNode=function(){var n=this.source.currentNode();return this.source.moveToNextNode(),n},t.prototype.eatToken=function(n){var t=this.currentToken();return t.tokenKind===n?(this.moveToNextToken(),t):this.createMissingToken(n,t)},t.prototype.tryEatToken=function(n){return this.currentToken().tokenKind===n?this.eatToken(n):null},t.prototype.tryEatKeyword=function(n){return this.currentToken().tokenKind===n?this.eatKeyword(n):null},t.prototype.eatKeyword=function(n){var t=this.currentToken();return t.tokenKind===n?(this.moveToNextToken(),t):this.createMissingToken(n,t)},t.prototype.isIdentifier=function(n){var t=n.tokenKind;return t===11?!0:t>=51?t<=59?!this.isInStrictMode:t<=70:!1},t.prototype.eatIdentifierNameToken=function(){var t=this.currentToken();return t.tokenKind===11?(this.moveToNextToken(),t):n.SyntaxFacts.isAnyKeyword(t.tokenKind)?(this.moveToNextToken(),n.Syntax.convertToIdentifierName(t)):this.createMissingToken(11,t)},t.prototype.eatIdentifierToken=function(){var t=this.currentToken();return this.isIdentifier(t)?(this.moveToNextToken(),t.tokenKind===11)?t:n.Syntax.convertToIdentifierName(t):this.createMissingToken(11,t)},t.prototype.canEatAutomaticSemicolon=function(n){var t=this.currentToken();return t.tokenKind===10?!0:t.tokenKind===72?!0:n?!0:this.previousToken()!==null&&this.previousToken().hasTrailingNewLine()?!0:!1},t.prototype.canEatExplicitOrAutomaticSemicolon=function(n){var t=this.currentToken();return t.tokenKind===79?!0:this.canEatAutomaticSemicolon(n)},t.prototype.eatExplicitOrAutomaticSemicolon=function(t){var r=this.currentToken(),i;return r.tokenKind===79?this.eatToken(79):this.canEatAutomaticSemicolon(t)?(i=n.Syntax.emptyToken(79),this.parseOptions.allowAutomaticSemicolonInsertion()||this.addDiagnostic(new n.Diagnostic(this.fileName,this.previousTokenEnd(),0,n.DiagnosticCode.Automatic_semicolon_insertion_not_allowed,null)),i):this.eatToken(79)},t.prototype.isKeyword=function(n){if(n>=15){if(n<=50)return!0;if(this.isInStrictMode)return n<=59}return!1},t.prototype.createMissingToken=function(t,i){var r=this.getExpectedTokenDiagnostic(t,i);return this.addDiagnostic(r),n.Syntax.emptyToken(t)},t.prototype.getExpectedTokenDiagnostic=function(t,i){var r=this.currentToken();return n.SyntaxFacts.isAnyKeyword(t)||n.SyntaxFacts.isAnyPunctuation(t)?new n.Diagnostic(this.fileName,this.currentTokenStart(),r.width(),n.DiagnosticCode._0_expected,[n.SyntaxFacts.getText(t)]):i!==null&&n.SyntaxFacts.isAnyKeyword(i.tokenKind)?new n.Diagnostic(this.fileName,this.currentTokenStart(),r.width(),n.DiagnosticCode.Identifier_expected_0_is_a_keyword,[n.SyntaxFacts.getText(i.tokenKind)]):new n.Diagnostic(this.fileName,this.currentTokenStart(),r.width(),n.DiagnosticCode.Identifier_expected,null)},t.getPrecedence=function(t){switch(t){case 173:return 1;case 174:case 175:case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:case 184:case 185:return 2;case 186:return 3;case 187:return 5;case 188:return 6;case 189:return 7;case 190:return 8;case 191:return 9;case 192:case 193:case 194:case 195:return 10;case 196:case 197:case 198:case 199:case 200:case 201:return 11;case 202:case 203:case 204:return 12;case 208:case 209:return 13;case 205:case 206:case 207:return 14;case 164:case 165:case 166:case 167:case 170:case 171:case 172:case 168:case 169:return 15}throw n.Errors.invalidOperation();},t.prototype.addSkippedTokenAfterNodeOrToken=function(t,i){if(t.isToken())return this.addSkippedTokenAfterToken(t,i);if(t.isNode())return this.addSkippedTokenAfterNode(t,i);throw n.Errors.invalidOperation();},t.prototype.addSkippedTokenAfterNode=function(n,t){var i=n.lastToken(),r=this.addSkippedTokenAfterToken(i,t);return n.replaceToken(i,r)},t.prototype.addSkippedTokensBeforeNode=function(n,t){if(t.length>0){var i=n.firstToken(),r=this.addSkippedTokensBeforeToken(i,t);return n.replaceToken(i,r)}return n},t.prototype.addSkippedTokensBeforeToken=function(t,i){for(var u=[],r=0,f=i.length;r<f;r++)this.addSkippedTokenToTriviaArray(u,i[r]);return this.addTriviaTo(t.leadingTrivia(),u),this.returnArray(i),t.withLeadingTrivia(n.Syntax.triviaList(u))},t.prototype.addSkippedTokensAfterToken=function(t,i){var u,r,f;if(i.length===0)return this.returnArray(i),t;for(u=t.trailingTrivia().toArray(),r=0,f=i.length;r<f;r++)this.addSkippedTokenToTriviaArray(u,i[r]);return this.returnArray(i),t.withTrailingTrivia(n.Syntax.triviaList(u))},t.prototype.addSkippedTokenAfterToken=function(t,i){var r=t.trailingTrivia().toArray();return this.addSkippedTokenToTriviaArray(r,i),t.withTrailingTrivia(n.Syntax.triviaList(r))},t.prototype.addSkippedTokenToTriviaArray=function(t,i){this.addTriviaTo(i.leadingTrivia(),t);var r=i.withLeadingTrivia(n.Syntax.emptyTriviaList).withTrailingTrivia(n.Syntax.emptyTriviaList);t.push(n.Syntax.skippedTokenTrivia(r));this.addTriviaTo(i.trailingTrivia(),t)},t.prototype.addTriviaTo=function(n,t){for(var i=0,r=n.count();i<r;i++)t.push(n.syntaxTriviaAt(i))},t.prototype.parseSyntaxTree=function(t){var r=this.parseSourceUnit(),i=this.source.tokenDiagnostics().concat(this.diagnostics);return i.sort(function(n,t){return n.start()-t.start()}),new n.SyntaxTree(r,t,i,this.fileName,this.lineMap,this.parseOptions)},t.prototype.setStrictMode=function(t){this.isInStrictMode=t;this.factory=t?n.Syntax.strictModeFactory:n.Syntax.normalModeFactory},t.prototype.parseSourceUnit=function(){var r=this.isInStrictMode,n=this.parseSyntaxList(1,t.updateStrictModeState),u=n.list,i;return this.setStrictMode(r),i=this.factory.sourceUnit(u,this.currentToken()),this.addSkippedTokensBeforeNode(i,n.skippedTokens)},t.updateStrictModeState=function(t,i){var r,u;if(!t.isInStrictMode){for(r=0;r<i.length;r++)if(u=i[r],!n.SyntaxFacts.isDirectivePrologueElement(u))return;t.setStrictMode(n.SyntaxFacts.isUseStrictDirective(i[i.length-1]))}},t.prototype.isModuleElement=function(n){return this.currentNode()!==null&&this.currentNode().isModuleElement()?!0:this.isImportDeclaration()||this.isExportAssignment()||this.isModuleDeclaration()||this.isInterfaceDeclaration()||this.isClassDeclaration()||this.isEnumDeclaration()||this.isStatement(n)},t.prototype.parseModuleElement=function(){if(this.currentNode()!==null&&this.currentNode().isModuleElement())return this.eatNode();if(this.isImportDeclaration())return this.parseImportDeclaration();if(this.isExportAssignment())return this.parseExportAssignment();if(this.isModuleDeclaration())return this.parseModuleDeclaration();if(this.isInterfaceDeclaration())return this.parseInterfaceDeclaration();if(this.isClassDeclaration())return this.parseClassDeclaration();if(this.isEnumDeclaration())return this.parseEnumDeclaration();if(this.isStatement(!1))return this.parseStatement();throw n.Errors.invalidOperation();},t.prototype.isImportDeclaration=function(){var n=this.modifierCount();return n>0&&this.peekToken(n).tokenKind===49?!0:this.currentToken().tokenKind===49&&this.isIdentifier(this.peekToken(1))},t.prototype.parseImportDeclaration=function(){var n=this.parseModifiers(),t=this.eatKeyword(49),i=this.eatIdentifierToken(),r=this.eatToken(108),u=this.parseModuleReference(),f=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.importDeclaration(n,t,i,r,u,f)},t.prototype.isExportAssignment=function(){return this.currentToken().tokenKind===47&&this.peekToken(1).tokenKind===108},t.prototype.parseExportAssignment=function(){var n=this.eatKeyword(47),t=this.eatToken(108),i=this.eatIdentifierToken(),r=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.exportAssignment(n,t,i,r)},t.prototype.parseModuleReference=function(){return this.isExternalModuleReference()?this.parseExternalModuleReference():this.parseModuleNameModuleReference()},t.prototype.isExternalModuleReference=function(){var n=this.currentToken();return n.tokenKind===66||n.tokenKind===67?this.peekToken(1).tokenKind===73:!1},t.prototype.parseExternalModuleReference=function(){var n=this.eatAnyToken(),t=this.eatToken(73),i=this.eatToken(14),r=this.eatToken(74);return this.factory.externalModuleReference(n,t,i,r)},t.prototype.parseModuleNameModuleReference=function(){var n=this.parseName();return this.factory.moduleNameModuleReference(n)},t.prototype.parseIdentifierName=function(){return this.eatIdentifierNameToken()},t.prototype.isName=function(){return this.isIdentifier(this.currentToken())},t.prototype.tryParseTypeArgumentList=function(n){var t,r,i,u,f;if(this.currentToken().kind()!==81)return null;if(!n)return t=this.eatToken(81),i=this.parseSeparatedSyntaxList(262144),u=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens),r=this.eatToken(82),this.factory.typeArgumentList(t,u,r);f=this.getRewindPoint();try{return(t=this.eatToken(81),i=this.parseSeparatedSyntaxList(262144),u=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens),r=this.eatToken(82),r.fullWidth()===0||!this.canFollowTypeArgumentListInExpression(this.currentToken().kind()))?(this.rewind(f),null):this.factory.typeArgumentList(t,u,r)}finally{this.releaseRewindPoint(f)}},t.prototype.canFollowTypeArgumentListInExpression=function(n){switch(n){case 73:case 77:case 74:case 76:case 107:case 79:case 80:case 106:case 85:case 88:case 87:case 89:case 104:case 105:case 101:case 99:case 100:case 72:case 10:return!0;default:return!1}},t.prototype.parseName=function(){for(var u=this.isIdentifier(this.currentToken()),i=this.eatIdentifierToken(),f,t,r;u&&this.currentToken().tokenKind===77;)f=this.eatToken(77),t=this.currentToken(),r=n.SyntaxFacts.isAnyKeyword(t.tokenKind)&&this.previousToken().hasTrailingNewLine()&&!t.hasTrailingNewLine()&&n.SyntaxFacts.isIdentifierNameOrAnyKeyword(this.peekToken(1))?this.createMissingToken(11,t):this.eatIdentifierNameToken(),i=this.factory.qualifiedName(i,f,r),u=r.fullWidth()>0;return i},t.prototype.isEnumDeclaration=function(){var n=this.modifierCount();return n>0&&this.peekToken(n).tokenKind===46?!0:this.currentToken().tokenKind===46&&this.isIdentifier(this.peekToken(1))},t.prototype.parseEnumDeclaration=function(){var f=this.parseModifiers(),e=this.eatKeyword(46),o=this.eatIdentifierToken(),t=this.eatToken(71),r=n.Syntax.emptySeparatedList,i,u;return t.width()>0&&(i=this.parseSeparatedSyntaxList(256),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),u=this.eatToken(72),this.factory.enumDeclaration(f,e,o,t,r,u)},t.prototype.isEnumElement=function(n){return this.currentNode()!==null&&this.currentNode().kind()===244?!0:this.isPropertyName(this.currentToken(),n)},t.prototype.parseEnumElement=function(){if(this.currentNode()!==null&&this.currentNode().kind()===244)return this.eatNode();var t=this.eatPropertyName(),n=null;return this.isEqualsValueClause(!1)&&(n=this.parseEqualsValueClause(!0)),this.factory.enumElement(t,n)},t.isModifier=function(n){switch(n.tokenKind){case 57:case 55:case 58:case 47:case 64:return!0;default:return!1}},t.prototype.modifierCount=function(){for(var n=0;;){if(t.isModifier(this.peekToken(n))){n++;continue}break}return n},t.prototype.parseModifiers=function(){for(var i=this.getArray(),r;;){if(t.isModifier(this.currentToken())){i.push(this.eatAnyToken());continue}break}return r=n.Syntax.list(i),this.returnZeroOrOneLengthArray(i),r},t.prototype.isClassDeclaration=function(){var n=this.modifierCount();return n>0&&this.peekToken(n).tokenKind===44?!0:this.currentToken().tokenKind===44&&this.isIdentifier(this.peekToken(1))},t.prototype.parseHeritageClauses=function(){var i=n.Syntax.emptyList,t;return this.isHeritageClause()&&(t=this.parseSyntaxList(1024),i=t.list,n.Debug.assert(t.skippedTokens.length===0)),i},t.prototype.parseClassDeclaration=function(){var f=this.parseModifiers(),e=this.eatKeyword(44),o=this.eatIdentifierToken(),s=this.parseOptionalTypeParameterList(!1),h=this.parseHeritageClauses(),t=this.eatToken(71),r=n.Syntax.emptyList,i,u;return t.width()>0&&(i=this.parseSyntaxList(2),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),u=this.eatToken(72),this.factory.classDeclaration(f,e,o,s,h,t,r,u)},t.prototype.isConstructorDeclaration=function(){return this.currentToken().tokenKind===63},t.isPublicOrPrivateKeyword=function(n){return n.tokenKind===57||n.tokenKind===55},t.prototype.isMemberAccessorDeclaration=function(n){var t=this.modifierCount();return this.peekToken(t).tokenKind!==65&&this.peekToken(t).tokenKind!==69?!1:(t++,this.isPropertyName(this.peekToken(t),n))},t.prototype.parseMemberAccessorDeclaration=function(){var t=this.parseModifiers();if(this.currentToken().tokenKind===65)return this.parseGetMemberAccessorDeclaration(t);if(this.currentToken().tokenKind===69)return this.parseSetMemberAccessorDeclaration(t);throw n.Errors.invalidOperation();},t.prototype.parseGetMemberAccessorDeclaration=function(n){var t=this.eatKeyword(65),i=this.eatPropertyName(),r=this.parseParameterList(),u=this.parseOptionalTypeAnnotation(!1),f=this.parseBlock(!1,!1);return this.factory.getMemberAccessorDeclaration(n,t,i,r,u,f)},t.prototype.parseSetMemberAccessorDeclaration=function(n){var t=this.eatKeyword(69),i=this.eatPropertyName(),r=this.parseParameterList(),u=this.parseBlock(!1,!1);return this.factory.setMemberAccessorDeclaration(n,t,i,r,u)},t.prototype.isClassElement=function(n){return this.currentNode()!==null&&this.currentNode().isClassElement()?!0:this.isConstructorDeclaration()||this.isMemberFunctionDeclaration(n)||this.isMemberAccessorDeclaration(n)||this.isMemberVariableDeclaration(n)||this.isIndexSignature()},t.prototype.parseConstructorDeclaration=function(){var i=this.eatKeyword(63),r=this.parseParameterList(),n=null,t=null;return this.isBlock()?t=this.parseBlock(!1,!0):n=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.constructorDeclaration(i,r,t,n)},t.prototype.isMemberFunctionDeclaration=function(n){for(var i=0,r;;){if(r=this.peekToken(i),this.isPropertyName(r,n)&&this.isCallSignature(i+1))return!0;if(t.isModifier(r)){i++;continue}return!1}},t.prototype.parseMemberFunctionDeclaration=function(){for(var r=this.getArray(),u,o,f,e;;){if(u=this.currentToken(),this.isPropertyName(u,!1)&&this.isCallSignature(1))break;n.Debug.assert(t.isModifier(u));r.push(this.eatAnyToken())}o=n.Syntax.list(r);this.returnZeroOrOneLengthArray(r);var c=this.eatPropertyName(),i=this.parseCallSignature(!1),s=this.tryAddUnexpectedEqualsGreaterThanToken(i),h=i!==s;return i=s,f=null,e=null,h||this.isBlock()?f=this.parseBlock(h,!0):e=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.memberFunctionDeclaration(o,c,i,f,e)},t.prototype.isDefinitelyMemberVariablePropertyName=function(t){if(n.SyntaxFacts.isAnyKeyword(this.peekToken(t).tokenKind))switch(this.peekToken(t+1).tokenKind){case 79:case 108:case 107:case 72:case 10:return!0;default:return!1}else return!0},t.prototype.isMemberVariableDeclaration=function(n){for(var i=0,r;;){if(r=this.peekToken(i),this.isPropertyName(r,n)&&this.isDefinitelyMemberVariablePropertyName(i))return!0;if(t.isModifier(this.peekToken(i))){i++;continue}return!1}},t.prototype.parseMemberVariableDeclaration=function(){for(var i=this.getArray(),r,u,f,e;;){if(r=this.currentToken(),this.isPropertyName(r,!1)&&this.isDefinitelyMemberVariablePropertyName(0))break;n.Debug.assert(t.isModifier(r));i.push(this.eatAnyToken())}return u=n.Syntax.list(i),this.returnZeroOrOneLengthArray(i),f=this.parseVariableDeclarator(!0,!0),e=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.memberVariableDeclaration(u,f,e)},t.prototype.parseClassElement=function(t){if(this.currentNode()!==null&&this.currentNode().isClassElement())return this.eatNode();if(this.isConstructorDeclaration())return this.parseConstructorDeclaration();if(this.isMemberFunctionDeclaration(t))return this.parseMemberFunctionDeclaration();if(this.isMemberAccessorDeclaration(t))return this.parseMemberAccessorDeclaration();if(this.isMemberVariableDeclaration(t))return this.parseMemberVariableDeclaration();if(this.isIndexSignature())return this.parseIndexSignature();throw n.Errors.invalidOperation();},t.prototype.tryAddUnexpectedEqualsGreaterThanToken=function(t){var i=this.currentToken(),u=i.tokenKind===86,r,f;return u?(r=new n.Diagnostic(this.fileName,this.currentTokenStart(),i.width(),n.DiagnosticCode.Unexpected_token_0_expected,[n.SyntaxFacts.getText(71)]),this.addDiagnostic(r),f=this.eatAnyToken(),this.addSkippedTokenAfterNode(t,i)):t},t.prototype.isFunctionDeclaration=function(){var n=this.modifierCount();return this.peekToken(n).tokenKind===27},t.prototype.parseFunctionDeclaration=function(){var f=this.parseModifiers(),e=this.eatKeyword(27),o=this.eatIdentifierToken(),n=this.parseCallSignature(!1),r=this.tryAddUnexpectedEqualsGreaterThanToken(n),u=n!==r,t,i;return n=r,t=null,i=null,u||this.isBlock()?i=this.parseBlock(u,!0):t=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.functionDeclaration(f,e,o,n,i,t)},t.prototype.isModuleDeclaration=function(){var t=this.modifierCount(),n;return t>0&&this.peekToken(t).tokenKind===66?!0:this.currentToken().tokenKind===66?(n=this.peekToken(1),this.isIdentifier(n)||n.tokenKind===14):!1},t.prototype.parseModuleDeclaration=function(){var o=this.parseModifiers(),s=this.eatKeyword(66),u=null,f=null,t,i,r,e;return this.currentToken().tokenKind===14?f=this.eatToken(14):u=this.parseName(),t=this.eatToken(71),i=n.Syntax.emptyList,t.width()>0&&(r=this.parseSyntaxList(4),i=r.list,t=this.addSkippedTokensAfterToken(t,r.skippedTokens)),e=this.eatToken(72),this.factory.moduleDeclaration(o,s,u,f,t,i,e)},t.prototype.isInterfaceDeclaration=function(){var n=this.modifierCount();return n>0&&this.peekToken(n).tokenKind===52?!0:this.currentToken().tokenKind===52&&this.isIdentifier(this.peekToken(1))},t.prototype.parseInterfaceDeclaration=function(){var n=this.parseModifiers(),t=this.eatKeyword(52),i=this.eatIdentifierToken(),r=this.parseOptionalTypeParameterList(!1),u=this.parseHeritageClauses(),f=this.parseObjectType();return this.factory.interfaceDeclaration(n,t,i,r,u,f)},t.prototype.parseObjectType=function(){var t=this.eatToken(71),r=n.Syntax.emptySeparatedList,i,u;return t.width()>0&&(i=this.parseSeparatedSyntaxList(512),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),u=this.eatToken(72),this.factory.objectType(t,r,u)},t.prototype.isTypeMember=function(n){return this.currentNode()!==null&&this.currentNode().isTypeMember()?!0:this.isCallSignature(0)||this.isConstructSignature()||this.isIndexSignature()||this.isMethodSignature(n)||this.isPropertySignature(n)},t.prototype.parseTypeMember=function(){if(this.currentNode()!==null&&this.currentNode().isTypeMember())return this.eatNode();if(this.isCallSignature(0))return this.parseCallSignature(!1);if(this.isConstructSignature())return this.parseConstructSignature();if(this.isIndexSignature())return this.parseIndexSignature();if(this.isMethodSignature(!1))return this.parseMethodSignature();if(this.isPropertySignature(!1))return this.parsePropertySignature();throw n.Errors.invalidOperation();},t.prototype.parseConstructSignature=function(){var n=this.eatKeyword(31),t=this.parseCallSignature(!1);return this.factory.constructSignature(n,t)},t.prototype.parseIndexSignature=function(){var n=this.eatToken(75),t=this.parseParameter(),i=this.eatToken(76),r=this.parseOptionalTypeAnnotation(!1);return this.factory.indexSignature(n,t,i,r)},t.prototype.parseMethodSignature=function(){var n=this.eatPropertyName(),t=this.tryEatToken(106),i=this.parseCallSignature(!1);return this.factory.methodSignature(n,t,i)},t.prototype.parsePropertySignature=function(){var n=this.eatPropertyName(),t=this.tryEatToken(106),i=this.parseOptionalTypeAnnotation(!1);return this.factory.propertySignature(n,t,i)},t.prototype.isCallSignature=function(n){var t=this.peekToken(n).tokenKind;return t===73||t===81},t.prototype.isConstructSignature=function(){if(this.currentToken().tokenKind!==31)return!1;var n=this.peekToken(1);return n.tokenKind===81||n.tokenKind===73},t.prototype.isIndexSignature=function(){return this.currentToken().tokenKind===75},t.prototype.isMethodSignature=function(n){return this.isPropertyName(this.currentToken(),n)&&(this.isCallSignature(1)||this.peekToken(1).tokenKind===106&&this.isCallSignature(2))?!0:!1},t.prototype.isPropertySignature=function(n){var i=this.currentToken();return t.isModifier(i)&&!i.hasTrailingNewLine()&&this.isPropertyName(this.peekToken(1),n)?!1:this.isPropertyName(i,n)},t.prototype.isHeritageClause=function(){var n=this.currentToken();return n.tokenKind===48||n.tokenKind===51},t.prototype.isNotHeritageClauseTypeName=function(){return this.currentToken().tokenKind===51||this.currentToken().tokenKind===48?this.isIdentifier(this.peekToken(1)):!1},t.prototype.isHeritageClauseTypeName=function(){return this.isName()?!this.isNotHeritageClauseTypeName():!1},t.prototype.parseHeritageClause=function(){var t=this.eatAnyToken(),i,r;return n.Debug.assert(t.tokenKind===48||t.tokenKind===51),i=this.parseSeparatedSyntaxList(2048),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens),this.factory.heritageClause(t,r)},t.prototype.isStatement=function(t){if(this.currentNode()!==null&&this.currentNode().isStatement())return!0;switch(this.currentToken().tokenKind){case 57:case 55:case 58:var i=this.peekToken(1);if(n.SyntaxFacts.isIdentifierNameOrAnyKeyword(i))return!1}return this.isVariableStatement()||this.isLabeledStatement()||this.isFunctionDeclaration()||this.isIfStatement()||this.isBlock()||this.isExpressionStatement()||this.isReturnStatement()||this.isSwitchStatement()||this.isThrowStatement()||this.isBreakStatement()||this.isContinueStatement()||this.isForOrForInStatement()||this.isEmptyStatement(t)||this.isWhileStatement()||this.isWithStatement()||this.isDoStatement()||this.isTryStatement()||this.isDebuggerStatement()},t.prototype.parseStatement=function(){return this.currentNode()!==null&&this.currentNode().isStatement()?this.eatNode():this.isVariableStatement()?this.parseVariableStatement():this.isLabeledStatement()?this.parseLabeledStatement():this.isFunctionDeclaration()?this.parseFunctionDeclaration():this.isIfStatement()?this.parseIfStatement():this.isBlock()?this.parseBlock(!1,!1):this.isReturnStatement()?this.parseReturnStatement():this.isSwitchStatement()?this.parseSwitchStatement():this.isThrowStatement()?this.parseThrowStatement():this.isBreakStatement()?this.parseBreakStatement():this.isContinueStatement()?this.parseContinueStatement():this.isForOrForInStatement()?this.parseForOrForInStatement():this.isEmptyStatement(!1)?this.parseEmptyStatement():this.isWhileStatement()?this.parseWhileStatement():this.isWithStatement()?this.parseWithStatement():this.isDoStatement()?this.parseDoStatement():this.isTryStatement()?this.parseTryStatement():this.isDebuggerStatement()?this.parseDebuggerStatement():this.parseExpressionStatement()},t.prototype.isDebuggerStatement=function(){return this.currentToken().tokenKind===19},t.prototype.parseDebuggerStatement=function(){var n=this.eatKeyword(19),t=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.debuggerStatement(n,t)},t.prototype.isDoStatement=function(){return this.currentToken().tokenKind===22},t.prototype.parseDoStatement=function(){var n=this.eatKeyword(22),t=this.parseStatement(),i=this.eatKeyword(42),r=this.eatToken(73),u=this.parseExpression(!0),f=this.eatToken(74),e=this.eatExplicitOrAutomaticSemicolon(!0);return this.factory.doStatement(n,t,i,r,u,f,e)},t.prototype.isLabeledStatement=function(){return this.isIdentifier(this.currentToken())&&this.peekToken(1).tokenKind===107},t.prototype.parseLabeledStatement=function(){var n=this.eatIdentifierToken(),t=this.eatToken(107),i=this.parseStatement();return this.factory.labeledStatement(n,t,i)},t.prototype.isTryStatement=function(){return this.currentToken().tokenKind===38},t.prototype.parseTryStatement=function(){var r=this.eatKeyword(38),u=this.listParsingState,i,n,t;return this.listParsingState|=64,i=this.parseBlock(!1,!1),this.listParsingState=u,n=null,this.isCatchClause()&&(n=this.parseCatchClause()),t=null,(n===null||this.isFinallyClause())&&(t=this.parseFinallyClause()),this.factory.tryStatement(r,i,n,t)},t.prototype.isCatchClause=function(){return this.currentToken().tokenKind===17},t.prototype.parseCatchClause=function(){var t=this.eatKeyword(17),i=this.eatToken(73),r=this.eatIdentifierToken(),u=this.parseOptionalTypeAnnotation(!1),f=this.eatToken(74),e=this.listParsingState,n;return this.listParsingState|=128,n=this.parseBlock(!1,!1),this.listParsingState=e,this.factory.catchClause(t,i,r,u,f,n)},t.prototype.isFinallyClause=function(){return this.currentToken().tokenKind===25},t.prototype.parseFinallyClause=function(){var n=this.eatKeyword(25),t=this.parseBlock(!1,!1);return this.factory.finallyClause(n,t)},t.prototype.isWithStatement=function(){return this.currentToken().tokenKind===43},t.prototype.parseWithStatement=function(){var n=this.eatKeyword(43),t=this.eatToken(73),i=this.parseExpression(!0),r=this.eatToken(74),u=this.parseStatement();return this.factory.withStatement(n,t,i,r,u)},t.prototype.isWhileStatement=function(){return this.currentToken().tokenKind===42},t.prototype.parseWhileStatement=function(){var n=this.eatKeyword(42),t=this.eatToken(73),i=this.parseExpression(!0),r=this.eatToken(74),u=this.parseStatement();return this.factory.whileStatement(n,t,i,r,u)},t.prototype.isEmptyStatement=function(n){return n?!1:this.currentToken().tokenKind===79},t.prototype.parseEmptyStatement=function(){var n=this.eatToken(79);return this.factory.emptyStatement(n)},t.prototype.isForOrForInStatement=function(){return this.currentToken().tokenKind===26},t.prototype.parseForOrForInStatement=function(){var n=this.eatKeyword(26),t=this.eatToken(73),i=this.currentToken();return i.tokenKind===40?this.parseForOrForInStatementWithVariableDeclaration(n,t):i.tokenKind===79?this.parseForStatement(n,t):this.parseForOrForInStatementWithInitializer(n,t)},t.prototype.parseForOrForInStatementWithVariableDeclaration=function(n,t){var i=this.parseVariableDeclaration(!1);return this.currentToken().tokenKind===29?this.parseForInStatementWithVariableDeclarationOrInitializer(n,t,i,null):this.parseForStatementWithVariableDeclarationOrInitializer(n,t,i,null)},t.prototype.parseForInStatementWithVariableDeclarationOrInitializer=function(n,t,i,r){var u=this.eatKeyword(29),f=this.parseExpression(!0),e=this.eatToken(74),o=this.parseStatement();return this.factory.forInStatement(n,t,i,r,u,f,e,o)},t.prototype.parseForOrForInStatementWithInitializer=function(n,t){var i=this.parseExpression(!1);return this.currentToken().tokenKind===29?this.parseForInStatementWithVariableDeclarationOrInitializer(n,t,null,i):this.parseForStatementWithVariableDeclarationOrInitializer(n,t,null,i)},t.prototype.parseForStatement=function(n,t){var i=null;return this.currentToken().tokenKind!==79&&this.currentToken().tokenKind!==74&&this.currentToken().tokenKind!==10&&(i=this.parseExpression(!1)),this.parseForStatementWithVariableDeclarationOrInitializer(n,t,null,i)},t.prototype.parseForStatementWithVariableDeclarationOrInitializer=function(n,t,i,r){var h=this.eatToken(79),f=null,e,u,o,s;return this.currentToken().tokenKind!==79&&this.currentToken().tokenKind!==74&&this.currentToken().tokenKind!==10&&(f=this.parseExpression(!0)),e=this.eatToken(79),u=null,this.currentToken().tokenKind!==74&&this.currentToken().tokenKind!==10&&(u=this.parseExpression(!0)),o=this.eatToken(74),s=this.parseStatement(),this.factory.forStatement(n,t,i,r,h,f,e,u,o,s)},t.prototype.isBreakStatement=function(){return this.currentToken().tokenKind===15},t.prototype.parseBreakStatement=function(){var i=this.eatKeyword(15),n=null,t;return this.canEatExplicitOrAutomaticSemicolon(!1)||this.isIdentifier(this.currentToken())&&(n=this.eatIdentifierToken()),t=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.breakStatement(i,n,t)},t.prototype.isContinueStatement=function(){return this.currentToken().tokenKind===18},t.prototype.parseContinueStatement=function(){var i=this.eatKeyword(18),n=null,t;return this.canEatExplicitOrAutomaticSemicolon(!1)||this.isIdentifier(this.currentToken())&&(n=this.eatIdentifierToken()),t=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.continueStatement(i,n,t)},t.prototype.isSwitchStatement=function(){return this.currentToken().tokenKind===34},t.prototype.parseSwitchStatement=function(){var f=this.eatKeyword(34),e=this.eatToken(73),o=this.parseExpression(!0),s=this.eatToken(74),t=this.eatToken(71),r=n.Syntax.emptyList,i,u;return t.width()>0&&(i=this.parseSyntaxList(8),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),u=this.eatToken(72),this.factory.switchStatement(f,e,o,s,t,r,u)},t.prototype.isCaseSwitchClause=function(){return this.currentToken().tokenKind===16},t.prototype.isDefaultSwitchClause=function(){return this.currentToken().tokenKind===20},t.prototype.isSwitchClause=function(){return this.currentNode()!==null&&this.currentNode().isSwitchClause()?!0:this.isCaseSwitchClause()||this.isDefaultSwitchClause()},t.prototype.parseSwitchClause=function(){if(this.currentNode()!==null&&this.currentNode().isSwitchClause())return this.eatNode();if(this.isCaseSwitchClause())return this.parseCaseSwitchClause();if(this.isDefaultSwitchClause())return this.parseDefaultSwitchClause();throw n.Errors.invalidOperation();},t.prototype.parseCaseSwitchClause=function(){var u=this.eatKeyword(16),f=this.parseExpression(!0),t=this.eatToken(107),r=n.Syntax.emptyList,i;return t.fullWidth()>0&&(i=this.parseSyntaxList(16),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),this.factory.caseSwitchClause(u,f,t,r)},t.prototype.parseDefaultSwitchClause=function(){var u=this.eatKeyword(20),t=this.eatToken(107),r=n.Syntax.emptyList,i;return t.fullWidth()>0&&(i=this.parseSyntaxList(16),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),this.factory.defaultSwitchClause(u,t,r)},t.prototype.isThrowStatement=function(){return this.currentToken().tokenKind===36},t.prototype.parseThrowStatement=function(){var r=this.eatKeyword(36),n=null,t,i;return this.canEatExplicitOrAutomaticSemicolon(!1)?(t=this.createMissingToken(11,null),n=t):n=this.parseExpression(!0),i=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.throwStatement(r,n,i)},t.prototype.isReturnStatement=function(){return this.currentToken().tokenKind===33},t.prototype.parseReturnStatement=function(){var i=this.eatKeyword(33),n=null,t;return this.canEatExplicitOrAutomaticSemicolon(!1)||(n=this.parseExpression(!0)),t=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.returnStatement(i,n,t)},t.prototype.isExpressionStatement=function(){var t=this.currentToken(),n=t.tokenKind;return n===71||n===27?!1:this.isExpression()},t.prototype.isAssignmentOrOmittedExpression=function(){return this.currentToken().tokenKind===80?!0:this.isExpression()},t.prototype.parseAssignmentOrOmittedExpression=function(){return this.currentToken().tokenKind===80?this.factory.omittedExpression():this.parseAssignmentExpression(!0)},t.prototype.isExpression=function(){var n=this.currentToken(),t=n.tokenKind;switch(t){case 13:case 14:case 12:return!0;case 75:case 73:return!0;case 81:return!0;case 94:case 95:case 90:case 91:case 103:case 102:return!0;case 71:return!0;case 86:return!0;case 119:case 120:return!0;case 50:case 35:case 37:case 24:case 32:return!0;case 31:return!0;case 21:case 41:case 39:return!0;case 27:return!0}return this.isIdentifier(this.currentToken())?!0:!1},t.prototype.parseExpressionStatement=function(){var n=this.parseExpression(!0),t=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.expressionStatement(n,t)},t.prototype.isIfStatement=function(){return this.currentToken().tokenKind===28},t.prototype.parseIfStatement=function(){var t=this.eatKeyword(28),i=this.eatToken(73),r=this.parseExpression(!0),u=this.eatToken(74),f=this.parseStatement(),n=null;return this.isElseClause()&&(n=this.parseElseClause()),this.factory.ifStatement(t,i,r,u,f,n)},t.prototype.isElseClause=function(){return this.currentToken().tokenKind===23},t.prototype.parseElseClause=function(){var n=this.eatKeyword(23),t=this.parseStatement();return this.factory.elseClause(n,t)},t.prototype.isVariableStatement=function(){var n=this.modifierCount();return this.peekToken(n).tokenKind===40},t.prototype.parseVariableStatement=function(){var n=this.parseModifiers(),t=this.parseVariableDeclaration(!0),i=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.variableStatement(n,t,i)},t.prototype.parseVariableDeclaration=function(n){var t=this.eatKeyword(40),r=n?4096:8192,i=this.parseSeparatedSyntaxList(r),u=i.list;return t=this.addSkippedTokensAfterToken(t,i.skippedTokens),this.factory.variableDeclaration(t,u)},t.prototype.isVariableDeclarator=function(){return this.currentNode()!==null&&this.currentNode().kind()===225?!0:this.isIdentifier(this.currentToken())},t.prototype.canReuseVariableDeclaratorNode=function(n){if(n===null||n.kind()!==225)return!1;var t=n;return t.equalsValueClause===null},t.prototype.parseVariableDeclarator=function(n,t){if(this.canReuseVariableDeclaratorNode(this.currentNode()))return this.eatNode();var i=t?this.eatPropertyName():this.eatIdentifierToken(),r=null,u=null;return i.width()>0&&(u=this.parseOptionalTypeAnnotation(!1),this.isEqualsValueClause(!1)&&(r=this.parseEqualsValueClause(n))),this.factory.variableDeclarator(i,u,r)},t.prototype.isColonValueClause=function(){return this.currentToken().tokenKind===107},t.prototype.isEqualsValueClause=function(n){var t=this.currentToken();return t.tokenKind===108?!0:this.previousToken().hasTrailingNewLine()?!1:t.tokenKind===86?!1:t.tokenKind===71&&n?!1:this.isExpression()},t.prototype.parseEqualsValueClause=function(n){var t=this.eatToken(108),i=this.parseAssignmentExpression(n);return this.factory.equalsValueClause(t,i)},t.prototype.parseExpression=function(n){return this.parseSubExpression(0,n)},t.prototype.parseAssignmentExpression=function(n){return this.parseSubExpression(2,n)},t.prototype.parseUnaryExpression=function(){var t=this.currentToken().tokenKind;if(n.SyntaxFacts.isPrefixUnaryExpressionOperatorToken(t)){var i=n.SyntaxFacts.getPrefixUnaryExpressionFromOperatorToken(t),r=this.eatAnyToken(),u=this.parseUnaryExpression();return this.factory.prefixUnaryExpression(i,r,u)}return this.parseTerm(!1)},t.prototype.parseSubExpression=function(n,t){var i=this.parseUnaryExpression();return this.parseBinaryOrConditionalExpressions(n,t,i)},t.prototype.parseBinaryOrConditionalExpressions=function(i,r,u){for(var o,e,l,a,c;;){if(o=this.currentToken(),e=o.tokenKind,n.SyntaxFacts.isBinaryExpressionOperatorToken(e)){if(e===29&&!r)break;var f=this.tryMergeBinaryExpressionTokens(),v=f===null?e:f.syntaxKind,s=n.SyntaxFacts.getBinaryExpressionFromOperatorToken(v),h=t.getPrecedence(s);if(h<i)break;if(h===i&&!this.isRightAssociative(s))break;for(l=f===null?o:n.Syntax.token(f.syntaxKind).withLeadingTrivia(o.leadingTrivia()).withTrailingTrivia(this.peekToken(f.tokenCount-1).trailingTrivia()),a=f===null?1:f.tokenCount,c=0;c<a;c++)this.eatAnyToken();u=this.factory.binaryExpression(s,u,l,this.parseSubExpression(h,r));continue}if(e===106&&i<=3){var y=this.eatToken(106),p=this.parseAssignmentExpression(r),w=this.eatToken(107),b=this.parseAssignmentExpression(r);u=this.factory.conditionalExpression(u,y,p,w,b);continue}break}return u},t.prototype.tryMergeBinaryExpressionTokens=function(){var r=this.currentToken(),n,t,i;if(r.tokenKind===82&&!r.hasTrailingTrivia()){for(n=this.mergeTokensStorage,n[0]=0,n[1]=0,n[2]=0,t=0;t<n.length;t++)if(i=this.peekToken(t+1),i.hasLeadingTrivia()||(n[t]=i.tokenKind),i.hasTrailingTrivia())break;if(n[0]===82)return n[1]===82?n[2]===108?{tokenCount:4,syntaxKind:115}:{tokenCount:3,syntaxKind:98}:n[1]===108?{tokenCount:3,syntaxKind:114}:{tokenCount:2,syntaxKind:97};if(n[0]===108)return{tokenCount:2,syntaxKind:84}}return null},t.prototype.isRightAssociative=function(n){switch(n){case 174:case 175:case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:case 184:case 185:return!0;default:return!1}},t.prototype.parseTerm=function(n){var t=this.parseTermWorker();return t===null?this.eatIdentifierToken():this.parsePostFixExpression(t,n)},t.prototype.parsePostFixExpression=function(t,i){for(var r,u;;){r=this.currentToken().tokenKind;switch(r){case 73:if(i)return t;t=this.factory.invocationExpression(t,this.parseArgumentList(null));continue;case 81:if(i)return t;if(u=this.tryParseArgumentList(),u!==null){t=this.factory.invocationExpression(t,u);continue}break;case 75:t=this.parseElementAccessExpression(t,i);continue;case 94:case 95:if(this.previousToken()!==null&&this.previousToken().hasTrailingNewLine())break;t=this.factory.postfixUnaryExpression(n.SyntaxFacts.getPostfixUnaryExpressionFromOperatorToken(r),t,this.eatAnyToken());continue;case 77:t=this.factory.memberAccessExpression(t,this.eatToken(77),this.eatIdentifierNameToken());continue}return t}},t.prototype.tryParseArgumentList=function(){var t=null,i,f;if(this.currentToken().tokenKind===81){i=this.getRewindPoint();try{t=this.tryParseTypeArgumentList(!0);var r=this.currentToken(),e=r.tokenKind===73,u=r.tokenKind===77,o=e||u;if(t===null||!o)return this.rewind(i),null;if(u)return f=new n.Diagnostic(this.fileName,this.currentTokenStart(),r.width(),n.DiagnosticCode.A_parameter_list_must_follow_a_generic_type_argument_list_expected,null),this.addDiagnostic(f),this.factory.argumentList(t,n.Syntax.emptyToken(73),n.Syntax.emptySeparatedList,n.Syntax.emptyToken(74))}finally{this.releaseRewindPoint(i)}}return this.currentToken().tokenKind===73?this.parseArgumentList(t):null},t.prototype.parseArgumentList=function(t){var i=this.eatToken(73),arguments=n.Syntax.emptySeparatedList,r,u;return i.fullWidth()>0&&(r=this.parseSeparatedSyntaxList(16384),arguments=r.list,i=this.addSkippedTokensAfterToken(i,r.skippedTokens)),u=this.eatToken(74),this.factory.argumentList(t,i,arguments,u)},t.prototype.parseElementAccessExpression=function(t,i){var u=this.currentTokenStart(),s=this.eatToken(75),r,f,e,o;return this.currentToken().tokenKind===76&&i?(f=this.currentTokenStart()+this.currentToken().width(),e=new n.Diagnostic(this.fileName,u,f-u,n.DiagnosticCode.new_T_cannot_be_used_to_create_an_array_Use_new_Array_T_instead,null),this.addDiagnostic(e),r=n.Syntax.emptyToken(11)):r=this.parseExpression(!0),o=this.eatToken(76),this.factory.elementAccessExpression(t,s,r,o)},t.prototype.parseTermWorker=function(){var n=this.currentToken(),i,t;if(n.tokenKind===86)return this.parseSimpleArrowFunctionExpression();if(this.isIdentifier(n))return this.isSimpleArrowFunctionExpression()?this.parseSimpleArrowFunctionExpression():this.eatIdentifierToken();i=n.tokenKind;switch(i){case 35:return this.parseThisExpression();case 37:case 24:return this.parseLiteralExpression();case 32:return this.parseLiteralExpression();case 31:return this.parseObjectCreationExpression();case 27:return this.parseFunctionExpression();case 50:return this.parseSuperExpression();case 39:return this.parseTypeOfExpression();case 21:return this.parseDeleteExpression();case 41:return this.parseVoidExpression();case 13:return this.parseLiteralExpression();case 12:return this.parseLiteralExpression();case 14:return this.parseLiteralExpression();case 75:return this.parseArrayLiteralExpression();case 71:return this.parseObjectLiteralExpression();case 73:return this.parseParenthesizedOrArrowFunctionExpression();case 81:return this.parseCastOrArrowFunctionExpression();case 119:case 120:if(t=this.tryReparseDivideAsRegularExpression(),t!==null)return t}return null},t.prototype.tryReparseDivideAsRegularExpression=function(){var t=this.currentToken(),i;if(this.previousToken()!==null){i=this.previousToken().tokenKind;switch(i){case 11:return null;case 35:case 37:case 24:return null;case 14:case 13:case 12:case 94:case 95:case 76:case 72:return null}}if(t=this.currentTokenAllowingRegularExpression(),t.tokenKind===119||t.tokenKind===120)return null;if(t.tokenKind===12)return this.parseLiteralExpression();throw n.Errors.invalidOperation();},t.prototype.parseTypeOfExpression=function(){var n=this.eatKeyword(39),t=this.parseUnaryExpression();return this.factory.typeOfExpression(n,t)},t.prototype.parseDeleteExpression=function(){var n=this.eatKeyword(21),t=this.parseUnaryExpression();return this.factory.deleteExpression(n,t)},t.prototype.parseVoidExpression=function(){var n=this.eatKeyword(41),t=this.parseUnaryExpression();return this.factory.voidExpression(n,t)},t.prototype.parseSuperExpression=function(){return this.eatKeyword(50)},t.prototype.parseFunctionExpression=function(){var r=this.eatKeyword(27),n=null,t,i;return this.isIdentifier(this.currentToken())&&(n=this.eatIdentifierToken()),t=this.parseCallSignature(!1),i=this.parseBlock(!1,!0),this.factory.functionExpression(r,n,t,i)},t.prototype.parseObjectCreationExpression=function(){var n=this.eatKeyword(31),t=this.parseTerm(!0),i=this.tryParseArgumentList();return this.factory.objectCreationExpression(n,t,i)},t.prototype.parseCastOrArrowFunctionExpression=function(){var t=this.getRewindPoint(),n;try{return(n=this.tryParseArrowFunctionExpression(),n!==null)?n:(this.rewind(t),this.parseCastExpression())}finally{this.releaseRewindPoint(t)}},t.prototype.parseCastExpression=function(){var n=this.eatToken(81),t=this.parseType(),i=this.eatToken(82),r=this.parseUnaryExpression();return this.factory.castExpression(n,t,i,r)},t.prototype.parseParenthesizedOrArrowFunctionExpression=function(){var n=this.tryParseArrowFunctionExpression();if(n!==null)return n;var t=this.eatToken(73),i=this.parseExpression(!0),r=this.eatToken(74);return this.factory.parenthesizedExpression(t,i,r)},t.prototype.tryParseArrowFunctionExpression=function(){var i=this.currentToken().tokenKind,n,t;if(this.isDefinitelyArrowFunctionExpression())return this.parseParenthesizedArrowFunctionExpression(!1);if(!this.isPossiblyArrowFunctionExpression())return null;n=this.getRewindPoint();try{return t=this.parseParenthesizedArrowFunctionExpression(!0),t===null&&this.rewind(n),t}finally{this.releaseRewindPoint(n)}},t.prototype.parseParenthesizedArrowFunctionExpression=function(n){var u=this.currentToken(),r=this.parseCallSignature(!0),t,i;return n&&this.currentToken().tokenKind!==86?null:(t=this.eatToken(86),i=this.parseArrowFunctionBody(),this.factory.parenthesizedArrowFunctionExpression(r,t,i))},t.prototype.parseArrowFunctionBody=function(){return this.isBlock()?this.parseBlock(!1,!1):this.parseAssignmentExpression(!0)},t.prototype.isSimpleArrowFunctionExpression=function(){return this.currentToken().tokenKind===86?!0:this.isIdentifier(this.currentToken())&&this.peekToken(1).tokenKind===86},t.prototype.parseSimpleArrowFunctionExpression=function(){var n=this.eatIdentifierToken(),t=this.eatToken(86),i=this.parseArrowFunctionBody();return this.factory.simpleArrowFunctionExpression(n,t,i)},t.prototype.isBlock=function(){return this.currentToken().tokenKind===71},t.prototype.isDefinitelyArrowFunctionExpression=function(){var r=this.currentToken(),i,n,t;return r.tokenKind!==73?!1:(i=this.peekToken(1),i.tokenKind===74)?(n=this.peekToken(2),n.tokenKind===107||n.tokenKind===86||n.tokenKind===71):i.tokenKind===78?!0:this.isIdentifier(i)?(n=this.peekToken(2),n.tokenKind===107)?!0:(t=this.peekToken(3),n.tokenKind===106&&(t.tokenKind===107||t.tokenKind===74||t.tokenKind===80))?!0:n.tokenKind===74&&t.tokenKind===86?!0:!1:!1},t.prototype.isPossiblyArrowFunctionExpression=function(){var r=this.currentToken(),t,n,i;return r.tokenKind!==73?!0:(t=this.peekToken(1),!this.isIdentifier(t))?!1:(n=this.peekToken(2),n.tokenKind===108)?!0:n.tokenKind===80?!0:n.tokenKind===74&&(i=this.peekToken(3),i.tokenKind===107)?!0:!1},t.prototype.parseObjectLiteralExpression=function(){var n=this.eatToken(71),t=this.parseSeparatedSyntaxList(32768),r=t.list,i;return n=this.addSkippedTokensAfterToken(n,t.skippedTokens),i=this.eatToken(72),this.factory.objectLiteralExpression(n,r,i)},t.prototype.parsePropertyAssignment=function(){if(this.isGetAccessorPropertyAssignment(!1))return this.parseGetAccessorPropertyAssignment();if(this.isSetAccessorPropertyAssignment(!1))return this.parseSetAccessorPropertyAssignment();if(this.isFunctionPropertyAssignment(!1))return this.parseFunctionPropertyAssignment();if(this.isSimplePropertyAssignment(!1))return this.parseSimplePropertyAssignment();throw n.Errors.invalidOperation();},t.prototype.isPropertyAssignment=function(n){return this.isGetAccessorPropertyAssignment(n)||this.isSetAccessorPropertyAssignment(n)||this.isFunctionPropertyAssignment(n)||this.isSimplePropertyAssignment(n)},t.prototype.isGetAccessorPropertyAssignment=function(n){return this.currentToken().tokenKind===65&&this.isPropertyName(this.peekToken(1),n)},t.prototype.parseGetAccessorPropertyAssignment=function(){var n=this.eatKeyword(65),t=this.eatPropertyName(),i=this.eatToken(73),r=this.eatToken(74),u=this.parseOptionalTypeAnnotation(!1),f=this.parseBlock(!1,!0);return this.factory.getAccessorPropertyAssignment(n,t,i,r,u,f)},t.prototype.isSetAccessorPropertyAssignment=function(n){return this.currentToken().tokenKind===69&&this.isPropertyName(this.peekToken(1),n)},t.prototype.parseSetAccessorPropertyAssignment=function(){var n=this.eatKeyword(69),t=this.eatPropertyName(),i=this.eatToken(73),r=this.parseParameter(),u=this.eatToken(74),f=this.parseBlock(!1,!0);return this.factory.setAccessorPropertyAssignment(n,t,i,r,u,f)},t.prototype.eatPropertyName=function(){return n.SyntaxFacts.isIdentifierNameOrAnyKeyword(this.currentToken())?this.eatIdentifierNameToken():this.eatAnyToken()},t.prototype.isFunctionPropertyAssignment=function(n){return this.isPropertyName(this.currentToken(),n)&&this.isCallSignature(1)},t.prototype.parseFunctionPropertyAssignment=function(){var n=this.eatPropertyName(),t=this.parseCallSignature(!1),i=this.parseBlock(!1,!0);return this.factory.functionPropertyAssignment(n,t,i)},t.prototype.isSimplePropertyAssignment=function(n){return this.isPropertyName(this.currentToken(),n)},t.prototype.parseSimplePropertyAssignment=function(){var n=this.eatPropertyName(),t=this.eatToken(107),i=this.parseAssignmentExpression(!0);return this.factory.simplePropertyAssignment(n,t,i)},t.prototype.isPropertyName=function(t,i){if(n.SyntaxFacts.isIdentifierNameOrAnyKeyword(t))return i?this.isIdentifier(t):!0;switch(t.tokenKind){case 14:case 13:return!0;default:return!1}},t.prototype.parseArrayLiteralExpression=function(){var n=this.eatToken(75),t=this.parseSeparatedSyntaxList(65536),r=t.list,i;return n=this.addSkippedTokensAfterToken(n,t.skippedTokens),i=this.eatToken(76),this.factory.arrayLiteralExpression(n,r,i)},t.prototype.parseLiteralExpression=function(){return this.eatAnyToken()},t.prototype.parseThisExpression=function(){return this.eatKeyword(35)},t.prototype.parseBlock=function(i,r){var u=this.eatToken(71),f=n.Syntax.emptyList,o;if(i||u.width()>0){var s=this.isInStrictMode,h=r?t.updateStrictModeState:null,e=this.parseSyntaxList(32,h);f=e.list;u=this.addSkippedTokensAfterToken(u,e.skippedTokens);this.setStrictMode(s)}return o=this.eatToken(72),this.factory.block(u,f,o)},t.prototype.parseCallSignature=function(n){var t=this.parseOptionalTypeParameterList(n),i=this.parseParameterList(),r=this.parseOptionalTypeAnnotation(!1);return this.factory.callSignature(t,i,r)},t.prototype.parseOptionalTypeParameterList=function(n){var t,r;if(this.currentToken().tokenKind!==81)return null;t=this.getRewindPoint();try{var i=this.eatToken(81),u=this.parseSeparatedSyntaxList(524288),f=u.list;return(i=this.addSkippedTokensAfterToken(i,u.skippedTokens),r=this.eatToken(82),n&&r.fullWidth()===0)?(this.rewind(t),null):this.factory.typeParameterList(i,f,r)}finally{this.releaseRewindPoint(t)}},t.prototype.isTypeParameter=function(){return this.isIdentifier(this.currentToken())},t.prototype.parseTypeParameter=function(){var n=this.eatIdentifierToken(),t=this.parseOptionalConstraint();return this.factory.typeParameter(n,t)},t.prototype.parseOptionalConstraint=function(){if(this.currentToken().kind()!==48)return null;var n=this.eatKeyword(48),t=this.parseType();return this.factory.constraint(n,t)},t.prototype.parseParameterList=function(){var t=this.eatToken(73),r=n.Syntax.emptySeparatedList,i,u;return t.width()>0&&(i=this.parseSeparatedSyntaxList(131072),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),u=this.eatToken(74),this.factory.parameterList(t,r,u)},t.prototype.isTypeAnnotation=function(){return this.currentToken().tokenKind===107},t.prototype.parseOptionalTypeAnnotation=function(n){return this.isTypeAnnotation()?this.parseTypeAnnotation(n):null},t.prototype.parseTypeAnnotation=function(n){var t=this.eatToken(107),i=n&&this.currentToken().tokenKind===14?this.eatToken(14):this.parseType();return this.factory.typeAnnotation(t,i)},t.prototype.isType=function(){return this.isPredefinedType()||this.isTypeLiteral()||this.isTypeQuery()||this.isName()},t.prototype.parseType=function(){var n,t,i;if(this.isTypeQuery())return this.parseTypeQuery();for(n=this.parseNonArrayType();this.currentToken().tokenKind===75;)t=this.eatToken(75),i=this.eatToken(76),n=this.factory.arrayType(n,t,i);return n},t.prototype.isTypeQuery=function(){return this.currentToken().tokenKind===39},t.prototype.parseTypeQuery=function(){var n=this.eatToken(39),t=this.parseName();return this.factory.typeQuery(n,t)},t.prototype.parseNonArrayType=function(){return this.isPredefinedType()?this.parsePredefinedType():this.isTypeLiteral()?this.parseTypeLiteral():this.parseNameOrGenericType()},t.prototype.parseNameOrGenericType=function(){var n=this.parseName(),t=this.tryParseTypeArgumentList(!1);return t===null?n:this.factory.genericType(n,t)},t.prototype.parseTypeLiteral=function(){if(this.isObjectType())return this.parseObjectType();if(this.isFunctionType())return this.parseFunctionType();if(this.isConstructorType())return this.parseConstructorType();throw n.Errors.invalidOperation();},t.prototype.parseFunctionType=function(){var n=this.parseOptionalTypeParameterList(!1),t=this.parseParameterList(),i=this.eatToken(86),r=this.parseType();return this.factory.functionType(n,t,i,r)},t.prototype.parseConstructorType=function(){var n=this.eatKeyword(31),t=this.parseParameterList(),i=this.eatToken(86),r=this.parseType();return this.factory.constructorType(n,null,t,i,r)},t.prototype.isTypeLiteral=function(){return this.isObjectType()||this.isFunctionType()||this.isConstructorType()},t.prototype.isObjectType=function(){return this.currentToken().tokenKind===71},t.prototype.isFunctionType=function(){var n=this.currentToken().tokenKind;return n===73||n===81},t.prototype.isConstructorType=function(){return this.currentToken().tokenKind===31},t.prototype.parsePredefinedType=function(){return this.eatAnyToken()},t.prototype.isPredefinedType=function(){switch(this.currentToken().tokenKind){case 60:case 68:case 61:case 62:case 70:case 41:return!0}return!1},t.prototype.isParameter=function(){if(this.currentNode()!==null&&this.currentNode().kind()===243)return!0;var n=this.currentToken();return n.tokenKind===78?!0:t.isPublicOrPrivateKeyword(n)?!0:this.isIdentifier(n)},t.prototype.parseParameter=function(){var i,n;if(this.currentNode()!==null&&this.currentNode().kind()===243)return this.eatNode();i=this.tryEatToken(78);n=null;t.isPublicOrPrivateKeyword(this.currentToken())&&(n=this.eatAnyToken());var u=this.eatIdentifierToken(),f=this.tryEatToken(106),e=this.parseOptionalTypeAnnotation(!0),r=null;return this.isEqualsValueClause(!0)&&(r=this.parseEqualsValueClause(!0)),this.factory.parameter(i,n,u,f,e,r)},t.prototype.parseSyntaxList=function(n,t){var i,r;return typeof t=="undefined"&&(t=null),i=this.listParsingState,this.listParsingState|=n,r=this.parseSyntaxListWorker(n,t),this.listParsingState=i,r},t.prototype.parseSeparatedSyntaxList=function(n){var i=this.listParsingState,t;return this.listParsingState|=n,t=this.parseSeparatedSyntaxListWorker(n),this.listParsingState=i,t},t.prototype.abortParsingListOrMoveToNextToken=function(n,t,i){var r,u;for(this.reportUnexpectedTokenDiagnostic(n),r=262144;r>=1;r>>=1)if((this.listParsingState&r)!=0&&(this.isExpectedListTerminator(r)||this.isExpectedListItem(r,!0)))return!0;return u=this.currentToken(),this.moveToNextToken(),this.addSkippedTokenToList(t,i,u),!1},t.prototype.addSkippedTokenToList=function(n,t,i){for(var u,f,r=n.length-1;r>=0;r--)if(u=n[r],f=u.lastToken(),f.fullWidth()>0){n[r]=this.addSkippedTokenAfterNodeOrToken(u,i);return}t.push(i)},t.prototype.tryParseExpectedListItem=function(n,t,i,r){if(this.isExpectedListItem(n,t)){var u=this.parseExpectedListItem(n);i.push(u);r!==null&&r(this,i)}},t.prototype.listIsTerminated=function(n){return this.isExpectedListTerminator(n)||this.currentToken().tokenKind===10},t.prototype.getArray=function(){return this.arrayPool.length>0?this.arrayPool.pop():[]},t.prototype.returnZeroOrOneLengthArray=function(n){n.length<=1&&this.returnArray(n)},t.prototype.returnArray=function(n){n.length=0;this.arrayPool.push(n)},t.prototype.parseSyntaxListWorker=function(t,i){for(var r=this.getArray(),u=this.getArray(),f,e,o,s;;)if(f=r.length,this.tryParseExpectedListItem(t,!1,r,i),e=r.length,e===f){if(this.listIsTerminated(t))break;if(o=this.abortParsingListOrMoveToNextToken(t,r,u),o)break}return s=n.Syntax.list(r),this.returnZeroOrOneLengthArray(r),{skippedTokens:u,list:s}},t.prototype.parseSeparatedSyntaxListWorker=function(t){var i=this.getArray(),r=this.getArray(),s,h,c,e,l;n.Debug.assert(i.length===0);n.Debug.assert(r.length===0);n.Debug.assert(r!==i);for(var f=this.separatorKind(t),a=f===79,u=!1,o=!1;;){if(s=i.length,this.tryParseExpectedListItem(t,u,i,null),h=i.length,h===s){if(this.listIsTerminated(t)){o=!0;break}if(c=this.abortParsingListOrMoveToNextToken(t,i,r),c)break;else{u=!0;continue}}if(u=!1,e=this.currentToken(),e.tokenKind===f||e.tokenKind===80){i.push(this.eatAnyToken());continue}if(this.listIsTerminated(t)){o=!0;break}if(a&&this.canEatAutomaticSemicolon(!1)){i.push(this.eatExplicitOrAutomaticSemicolon(!1));continue}i.push(this.eatToken(f));u=!0}return l=n.Syntax.separatedList(i),this.returnZeroOrOneLengthArray(i),{skippedTokens:r,list:l}},t.prototype.separatorKind=function(t){switch(t){case 2048:case 16384:case 256:case 4096:case 8192:case 32768:case 131072:case 65536:case 262144:case 524288:return 80;case 512:return 79;case 1:case 1024:case 2:case 4:case 8:case 16:case 32:default:throw n.Errors.notYetImplemented();}},t.prototype.reportUnexpectedTokenDiagnostic=function(t){var i=this.currentToken(),r=new n.Diagnostic(this.fileName,this.currentTokenStart(),i.width(),n.DiagnosticCode.Unexpected_token_0_expected,[this.getExpectedListElementType(t)]);this.addDiagnostic(r)},t.prototype.addDiagnostic=function(n){this.diagnostics.length>0&&this.diagnostics[this.diagnostics.length-1].start()===n.start()||this.diagnostics.push(n)},t.prototype.isExpectedListTerminator=function(t){switch(t){case 1:return this.isExpectedSourceUnit_ModuleElementsTerminator();case 1024:return this.isExpectedClassOrInterfaceDeclaration_HeritageClausesTerminator();case 2:return this.isExpectedClassDeclaration_ClassElementsTerminator();case 4:return this.isExpectedModuleDeclaration_ModuleElementsTerminator();case 8:return this.isExpectedSwitchStatement_SwitchClausesTerminator();case 16:return this.isExpectedSwitchClause_StatementsTerminator();case 32:return this.isExpectedBlock_StatementsTerminator();case 64:return this.isExpectedTryBlock_StatementsTerminator();case 128:return this.isExpectedCatchBlock_StatementsTerminator();case 256:return this.isExpectedEnumDeclaration_EnumElementsTerminator();case 512:return this.isExpectedObjectType_TypeMembersTerminator();case 16384:return this.isExpectedArgumentList_AssignmentExpressionsTerminator();case 2048:return this.isExpectedHeritageClause_TypeNameListTerminator();case 4096:return this.isExpectedVariableDeclaration_VariableDeclarators_AllowInTerminator();case 8192:return this.isExpectedVariableDeclaration_VariableDeclarators_DisallowInTerminator();case 32768:return this.isExpectedObjectLiteralExpression_PropertyAssignmentsTerminator();case 131072:return this.isExpectedParameterList_ParametersTerminator();case 262144:return this.isExpectedTypeArgumentList_TypesTerminator();case 524288:return this.isExpectedTypeParameterList_TypeParametersTerminator();case 65536:return this.isExpectedLiteralExpression_AssignmentExpressionsTerminator();default:throw n.Errors.invalidOperation();}},t.prototype.isExpectedSourceUnit_ModuleElementsTerminator=function(){return this.currentToken().tokenKind===10},t.prototype.isExpectedEnumDeclaration_EnumElementsTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedModuleDeclaration_ModuleElementsTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedObjectType_TypeMembersTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedObjectLiteralExpression_PropertyAssignmentsTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedLiteralExpression_AssignmentExpressionsTerminator=function(){return this.currentToken().tokenKind===76},t.prototype.isExpectedTypeArgumentList_TypesTerminator=function(){var n=this.currentToken();return n.tokenKind===82?!0:this.canFollowTypeArgumentListInExpression(n.tokenKind)?!0:!1},t.prototype.isExpectedTypeParameterList_TypeParametersTerminator=function(){var n=this.currentToken();return n.tokenKind===82?!0:n.tokenKind===73||n.tokenKind===71||n.tokenKind===48||n.tokenKind===51?!0:!1},t.prototype.isExpectedParameterList_ParametersTerminator=function(){var n=this.currentToken();return n.tokenKind===74?!0:n.tokenKind===71?!0:n.tokenKind===86?!0:!1},t.prototype.isExpectedVariableDeclaration_VariableDeclarators_DisallowInTerminator=function(){return this.currentToken().tokenKind===79||this.currentToken().tokenKind===74?!0:this.currentToken().tokenKind===29?!0:!1},t.prototype.isExpectedVariableDeclaration_VariableDeclarators_AllowInTerminator=function(){return this.previousToken().tokenKind===80?!1:this.currentToken().tokenKind===86?!0:this.canEatExplicitOrAutomaticSemicolon(!1)},t.prototype.isExpectedClassOrInterfaceDeclaration_HeritageClausesTerminator=function(){var n=this.currentToken();return n.tokenKind===71||n.tokenKind===72?!0:!1},t.prototype.isExpectedHeritageClause_TypeNameListTerminator=function(){var n=this.currentToken();return n.tokenKind===48||n.tokenKind===51?!0:this.isExpectedClassOrInterfaceDeclaration_HeritageClausesTerminator()?!0:!1},t.prototype.isExpectedArgumentList_AssignmentExpressionsTerminator=function(){var n=this.currentToken();return n.tokenKind===74||n.tokenKind===79},t.prototype.isExpectedClassDeclaration_ClassElementsTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedSwitchStatement_SwitchClausesTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedSwitchClause_StatementsTerminator=function(){return this.currentToken().tokenKind===72||this.isSwitchClause()},t.prototype.isExpectedBlock_StatementsTerminator=function(){return this.currentToken().tokenKind===72},t.prototype.isExpectedTryBlock_StatementsTerminator=function(){return this.currentToken().tokenKind===17||this.currentToken().tokenKind===25},t.prototype.isExpectedCatchBlock_StatementsTerminator=function(){return this.currentToken().tokenKind===25},t.prototype.isExpectedListItem=function(t,i){switch(t){case 1:return this.isModuleElement(i);case 1024:return this.isHeritageClause();case 2:return this.isClassElement(i);case 4:return this.isModuleElement(i);case 8:return this.isSwitchClause();case 16:return this.isStatement(i);case 32:return this.isStatement(i);case 64:case 128:return!1;case 256:return this.isEnumElement(i);case 4096:case 8192:return this.isVariableDeclarator();case 512:return this.isTypeMember(i);case 16384:return this.isExpectedArgumentList_AssignmentExpression();case 2048:return this.isHeritageClauseTypeName();case 32768:return this.isPropertyAssignment(i);case 131072:return this.isParameter();case 262144:return this.isType();case 524288:return this.isTypeParameter();case 65536:return this.isAssignmentOrOmittedExpression();default:throw n.Errors.invalidOperation();}},t.prototype.isExpectedArgumentList_AssignmentExpression=function(){return this.isExpression()?!0:this.currentToken().tokenKind===80?!0:!1},t.prototype.parseExpectedListItem=function(t){switch(t){case 1:return this.parseModuleElement();case 1024:return this.parseHeritageClause();case 2:return this.parseClassElement(!1);case 4:return this.parseModuleElement();case 8:return this.parseSwitchClause();case 16:return this.parseStatement();case 32:return this.parseStatement();case 256:return this.parseEnumElement();case 512:return this.parseTypeMember();case 16384:return this.parseAssignmentExpression(!0);case 2048:return this.parseNameOrGenericType();case 4096:return this.parseVariableDeclarator(!0,!1);case 8192:return this.parseVariableDeclarator(!1,!1);case 32768:return this.parsePropertyAssignment();case 65536:return this.parseAssignmentOrOmittedExpression();case 131072:return this.parseParameter();case 262144:return this.parseType();case 524288:return this.parseTypeParameter();default:throw n.Errors.invalidOperation();}},t.prototype.getExpectedListElementType=function(t){switch(t){case 1:return n.getLocalizedText(n.DiagnosticCode.module_class_interface_enum_import_or_statement,null);case 1024:return"{";case 2:return n.getLocalizedText(n.DiagnosticCode.constructor_function_accessor_or_variable,null);case 4:return n.getLocalizedText(n.DiagnosticCode.module_class_interface_enum_import_or_statement,null);case 8:return n.getLocalizedText(n.DiagnosticCode.case_or_default_clause,null);case 16:return n.getLocalizedText(n.DiagnosticCode.statement,null);case 32:return n.getLocalizedText(n.DiagnosticCode.statement,null);case 4096:case 8192:return n.getLocalizedText(n.DiagnosticCode.identifier,null);case 256:return n.getLocalizedText(n.DiagnosticCode.identifier,null);case 512:return n.getLocalizedText(n.DiagnosticCode.call_construct_index_property_or_function_signature,null);case 16384:return n.getLocalizedText(n.DiagnosticCode.expression,null);case 2048:return n.getLocalizedText(n.DiagnosticCode.type_name,null);case 32768:return n.getLocalizedText(n.DiagnosticCode.property_or_accessor,null);case 131072:return n.getLocalizedText(n.DiagnosticCode.parameter,null);case 262144:return n.getLocalizedText(n.DiagnosticCode.type,null);case 524288:return n.getLocalizedText(n.DiagnosticCode.type_parameter,null);case 65536:return n.getLocalizedText(n.DiagnosticCode.expression,null);default:throw n.Errors.invalidOperation();}},t}();t.parse=s;t.incrementalParse=h})(n.Parser||(n.Parser={}));var t=n.Parser}(TypeScript||(TypeScript={})),function(n){var i=function(){function i(n,t,i,r,u,f){this._allDiagnostics=null;this._sourceUnit=n;this._isDeclaration=t;this._parserDiagnostics=i;this._fileName=r;this._lineMap=u;this._parseOptions=f}return i.prototype.toJSON=function(){var t={};return t.isDeclaration=this._isDeclaration,t.languageVersion=n.LanguageVersion[this._parseOptions.languageVersion()],t.parseOptions=this._parseOptions,this.diagnostics().length>0&&(t.diagnostics=this.diagnostics()),t.sourceUnit=this._sourceUnit,t.lineMap=this._lineMap,t},i.prototype.sourceUnit=function(){return this._sourceUnit},i.prototype.isDeclaration=function(){return this._isDeclaration},i.prototype.computeDiagnostics=function(){if(this._parserDiagnostics.length>0)return this._parserDiagnostics;var n=[];return this.sourceUnit().accept(new t(this,n)),n},i.prototype.diagnostics=function(){return this._allDiagnostics===null&&(this._allDiagnostics=this.computeDiagnostics()),this._allDiagnostics},i.prototype.fileName=function(){return this._fileName},i.prototype.lineMap=function(){return this._lineMap},i.prototype.parseOptions=function(){return this._parseOptions},i.prototype.structuralEquals=function(t){return n.ArrayUtilities.sequenceEquals(this.diagnostics(),t.diagnostics(),n.Diagnostic.equals)&&this.sourceUnit().structuralEquals(t.sourceUnit())},i}(),t;n.SyntaxTree=i;t=function(t){function i(n,i){t.call(this);this.syntaxTree=n;this.diagnostics=i;this.inAmbientDeclaration=!1;this.inBlock=!1;this.currentConstructor=null}return __extends(i,t),i.prototype.childFullStart=function(t,i){return this.position()+n.Syntax.childOffset(t,i)},i.prototype.childStart=function(n,t){return this.childFullStart(n,t)+t.leadingTriviaWidth()},i.prototype.pushDiagnostic=function(t,i,r,u){typeof u=="undefined"&&(u=null);this.diagnostics.push(new n.Diagnostic(this.syntaxTree.fileName(),t,i,r,u))},i.prototype.pushDiagnostic1=function(t,i,r,u){typeof u=="undefined"&&(u=null);this.diagnostics.push(new n.Diagnostic(this.syntaxTree.fileName(),t+i.leadingTriviaWidth(),i.width(),r,u))},i.prototype.visitCatchClause=function(i){i.typeAnnotation&&this.pushDiagnostic(this.childStart(i,i.typeAnnotation),i.typeAnnotation.width(),n.DiagnosticCode.Catch_clause_parameter_cannot_have_a_type_annotation);t.prototype.visitCatchClause.call(this,i)},i.prototype.checkParameterListOrder=function(t){for(var u=this.childFullStart(t,t.parameters),f=!1,h=t.parameters.nonSeparatorCount(),o,s,i,r=0,e=t.parameters.childCount();r<e;r++){if(o=t.parameters.childAt(r),r%2==0)if(s=r/2,i=t.parameters.childAt(r),i.dotDotDotToken){if(s!==h-1)return this.pushDiagnostic1(u,i,n.DiagnosticCode.Rest_parameter_must_be_last_in_list),!0;if(i.questionToken)return this.pushDiagnostic1(u,i,n.DiagnosticCode.Rest_parameter_cannot_be_optional),!0;if(i.equalsValueClause)return this.pushDiagnostic1(u,i,n.DiagnosticCode.Rest_parameter_cannot_have_an_initializer),!0}else if(i.questionToken||i.equalsValueClause){if(f=!0,i.questionToken&&i.equalsValueClause)return this.pushDiagnostic1(u,i,n.DiagnosticCode.Parameter_cannot_have_question_mark_and_initializer),!0}else if(f)return this.pushDiagnostic1(u,i,n.DiagnosticCode.Required_parameter_cannot_follow_optional_parameter),!0;u+=o.fullWidth()}return!1},i.prototype.checkParameterListAcessibilityModifiers=function(t){var f,r,e,o,i,u;if(this.currentConstructor!==null&&this.currentConstructor.parameterList===t&&this.currentConstructor.block&&!this.inAmbientDeclaration)return!1;for(f=this.childFullStart(t,t.parameters),r=0,e=t.parameters.childCount();r<e;r++)o=t.parameters.childAt(r),r%2==0&&(i=t.parameters.childAt(r),i.publicOrPrivateKeyword&&(u=f+n.Syntax.childOffset(i,i.publicOrPrivateKeyword),this.inAmbientDeclaration?this.pushDiagnostic1(u,i.publicOrPrivateKeyword,n.DiagnosticCode.Parameter_property_declarations_cannot_be_used_in_an_ambient_context):this.currentConstructor.block?this.pushDiagnostic1(u,i.publicOrPrivateKeyword,n.DiagnosticCode.Parameter_property_declarations_can_only_be_used_in_constructors):this.pushDiagnostic1(u,i.publicOrPrivateKeyword,n.DiagnosticCode.Parameter_property_declarations_cannot_be_used_in_a_constructor_overload))),f+=o.fullWidth();return!1},i.prototype.checkForTrailingSeparator=function(t,i){var u,r,f,e;if(i.childCount()===0||i.childCount()%2==1)return!1;for(u=this.childFullStart(t,i),r=0,f=i.childCount();r<f;r++)e=i.childAt(r),r===f-1&&this.pushDiagnostic1(u,e,n.DiagnosticCode.Trailing_separator_not_allowed),u+=e.fullWidth();return!0},i.prototype.checkForAtLeastOneElement=function(t,i,r){if(i.childCount()>0)return!1;var u=this.childFullStart(t,i),f=this.syntaxTree.sourceUnit().findToken(u);return this.pushDiagnostic1(u,f.token(),n.DiagnosticCode.Unexpected_token_0_expected,[r]),!0},i.prototype.visitParameterList=function(n){if(this.checkParameterListAcessibilityModifiers(n)||this.checkParameterListOrder(n)||this.checkForTrailingSeparator(n,n.parameters)){this.skip(n);return}t.prototype.visitParameterList.call(this,n)},i.prototype.visitHeritageClause=function(i){if(this.checkForTrailingSeparator(i,i.typeNames)||this.checkForAtLeastOneElement(i,i.typeNames,n.getLocalizedText(n.DiagnosticCode.type_name,null))){this.skip(i);return}t.prototype.visitHeritageClause.call(this,i)},i.prototype.visitArgumentList=function(n){if(this.checkForTrailingSeparator(n,n.arguments)){this.skip(n);return}t.prototype.visitArgumentList.call(this,n)},i.prototype.visitVariableDeclaration=function(i){if(this.checkForTrailingSeparator(i,i.variableDeclarators)||this.checkForAtLeastOneElement(i,i.variableDeclarators,n.getLocalizedText(n.DiagnosticCode.identifier,null))){this.skip(i);return}t.prototype.visitVariableDeclaration.call(this,i)},i.prototype.visitTypeArgumentList=function(i){if(this.checkForTrailingSeparator(i,i.typeArguments)||this.checkForAtLeastOneElement(i,i.typeArguments,n.getLocalizedText(n.DiagnosticCode.identifier,null))){this.skip(i);return}t.prototype.visitTypeArgumentList.call(this,i)},i.prototype.visitTypeParameterList=function(i){if(this.checkForTrailingSeparator(i,i.typeParameters)||this.checkForAtLeastOneElement(i,i.typeParameters,n.getLocalizedText(n.DiagnosticCode.identifier,null))){this.skip(i);return}t.prototype.visitTypeParameterList.call(this,i)},i.prototype.checkIndexSignatureParameter=function(t){var r=this.childFullStart(t,t.parameter),i=t.parameter;if(i.dotDotDotToken)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Index_signatures_cannot_have_rest_parameters),!0;if(i.publicOrPrivateKeyword)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Index_signature_parameter_cannot_have_accessibility_modifiers),!0;if(i.questionToken)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Index_signature_parameter_cannot_have_a_question_mark),!0;if(i.equalsValueClause)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Index_signature_parameter_cannot_have_an_initializer),!0;if(i.typeAnnotation){if(i.typeAnnotation.type.kind()!==70&&i.typeAnnotation.type.kind()!==68)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Index_signature_parameter_type_must_be_string_or_number),!0}else return this.pushDiagnostic1(r,i,n.DiagnosticCode.Index_signature_parameter_must_have_a_type_annotation),!0;return!1},i.prototype.visitIndexSignature=function(i){if(this.checkIndexSignatureParameter(i)){this.skip(i);return}if(!i.typeAnnotation){this.pushDiagnostic1(this.position(),i,n.DiagnosticCode.Index_signature_must_have_a_type_annotation);this.skip(i);return}t.prototype.visitIndexSignature.call(this,i)},i.prototype.checkClassDeclarationHeritageClauses=function(t){for(var r=this.childFullStart(t,t.heritageClauses),e=!1,f=!1,i,u=0,o=t.heritageClauses.childCount();u<o;u++){if(n.Debug.assert(u<=2),i=t.heritageClauses.childAt(u),i.extendsOrImplementsKeyword.tokenKind===48){if(e)return this.pushDiagnostic1(r,i,n.DiagnosticCode.extends_clause_already_seen),!0;if(f)return this.pushDiagnostic1(r,i,n.DiagnosticCode.extends_clause_must_precede_implements_clause),!0;if(i.typeNames.nonSeparatorCount()>1)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Classes_can_only_extend_a_single_class),!0;e=!0}else{if(n.Debug.assert(i.extendsOrImplementsKeyword.tokenKind===51),f)return this.pushDiagnostic1(r,i,n.DiagnosticCode.implements_clause_already_seen),!0;f=!0}r+=i.fullWidth()}return!1},i.prototype.checkForDisallowedDeclareModifier=function(t){if(this.inAmbientDeclaration){var i=n.SyntaxUtilities.getToken(t,64);if(i)return this.pushDiagnostic1(this.childFullStart(t,i),i,n.DiagnosticCode.declare_modifier_not_allowed_for_code_already_in_an_ambient_context),!0}return!1},i.prototype.checkForRequiredDeclareModifier=function(t,i,r){if(!this.inAmbientDeclaration&&this.syntaxTree.isDeclaration()&&!n.SyntaxUtilities.containsToken(r,64))return this.pushDiagnostic1(this.childFullStart(t,i),i.firstToken(),n.DiagnosticCode.declare_modifier_required_for_top_level_element),!0},i.prototype.checkFunctionOverloads=function(t,i){var f,h,r,c,u,l;if(!this.inAmbientDeclaration&&!this.syntaxTree.isDeclaration()){var e=this.childFullStart(t,i),o=!1,s=null;for(f=0,h=i.childCount();f<h;f++){if(r=i.childAt(f),c=f===h-1,o){if(r.kind()!==130)return this.pushDiagnostic1(e,r.firstToken(),n.DiagnosticCode.Function_implementation_expected),!0;if(u=r,u.identifier.valueText()!==s)return l=e+n.Syntax.childOffset(r,u.identifier),this.pushDiagnostic1(l,u.identifier,n.DiagnosticCode.Function_overload_name_must_be_0,[s]),!0}if(r.kind()===130)if(u=r,n.SyntaxUtilities.containsToken(u.modifiers,64))o=!1,s="";else if(o=u.block===null,s=u.identifier.valueText(),c&&o)return this.pushDiagnostic1(e,r.firstToken(),n.DiagnosticCode.Function_implementation_expected),!0;e+=r.fullWidth()}}return!1},i.prototype.checkClassOverloads=function(t){var f,l,e,y,p;if(!this.inAmbientDeclaration&&!n.SyntaxUtilities.containsToken(t.modifiers,64)){var u=this.childFullStart(t,t.classElements),o=!1,s=!1,h=null,c=null,r=null;for(f=0,l=t.classElements.childCount();f<l;f++){var i=t.classElements.childAt(f),a=f===l-1,v=null;if(o){if(i.kind()!==136)return this.pushDiagnostic1(u,i.firstToken(),n.DiagnosticCode.Function_implementation_expected),!0;if(r=i,r.propertyName.valueText()!==h)return e=u+n.Syntax.childOffset(i,r.propertyName),this.pushDiagnostic1(e,r.propertyName,n.DiagnosticCode.Function_overload_name_must_be_0,[h]),!0;if(v=n.SyntaxUtilities.containsToken(r.modifiers,58),v!==c)return e=u+n.Syntax.childOffset(i,r.propertyName),y=c?n.DiagnosticCode.Function_overload_must_be_static:n.DiagnosticCode.Function_overload_must_not_be_static,this.pushDiagnostic1(e,r.propertyName,y,null),!0}else if(s&&i.kind()!==138)return this.pushDiagnostic1(u,i.firstToken(),n.DiagnosticCode.Constructor_implementation_expected),!0;if(i.kind()===136){if(r=i,o=r.block===null,h=r.propertyName.valueText(),c=n.SyntaxUtilities.containsToken(r.modifiers,58),a&&o)return this.pushDiagnostic1(u,i.firstToken(),n.DiagnosticCode.Function_implementation_expected),!0}else if(i.kind()===138&&(p=i,s=p.block===null,a&&s))return this.pushDiagnostic1(u,i.firstToken(),n.DiagnosticCode.Constructor_implementation_expected),!0;u+=i.fullWidth()}}return!1},i.prototype.checkForReservedName=function(t,i,r){for(var s=this.childFullStart(t,i),u,o,f=i,e;f!==null;){f.kind()===122?(e=f,u=e.right,o=s+this.childFullStart(e,u),f=e.left):(n.Debug.assert(f.kind()===11),u=f,o=s,f=null);switch(u.valueText()){case"any":case"number":case"bool":case"boolean":case"string":case"void":return this.pushDiagnostic(o+u.leadingTriviaWidth(),u.width(),r,[u.valueText()]),!0}}return!1},i.prototype.visitClassDeclaration=function(i){if(this.checkForReservedName(i,i.identifier,n.DiagnosticCode.Class_name_cannot_be_0)||this.checkForDisallowedDeclareModifier(i.modifiers)||this.checkForRequiredDeclareModifier(i,i.classKeyword,i.modifiers)||this.checkModuleElementModifiers(i.modifiers)||this.checkClassDeclarationHeritageClauses(i)||this.checkClassOverloads(i)){this.skip(i);return}var r=this.inAmbientDeclaration;this.inAmbientDeclaration=this.inAmbientDeclaration||this.syntaxTree.isDeclaration()||n.SyntaxUtilities.containsToken(i.modifiers,64);t.prototype.visitClassDeclaration.call(this,i);this.inAmbientDeclaration=r},i.prototype.checkInterfaceDeclarationHeritageClauses=function(t){for(var u=this.childFullStart(t,t.heritageClauses),f=!1,i,r=0,e=t.heritageClauses.childCount();r<e;r++){if(n.Debug.assert(r<=1),i=t.heritageClauses.childAt(r),i.extendsOrImplementsKeyword.tokenKind===48){if(f)return this.pushDiagnostic1(u,i,n.DiagnosticCode.extends_clause_already_seen),!0;f=!0}else return n.Debug.assert(i.extendsOrImplementsKeyword.tokenKind===51),this.pushDiagnostic1(u,i,n.DiagnosticCode.Interface_declaration_cannot_have_implements_clause),!0;u+=i.fullWidth()}return!1},i.prototype.checkInterfaceModifiers=function(t){for(var u=this.position(),r,i=0,f=t.childCount();i<f;i++){if(r=t.childAt(i),r.tokenKind===64)return this.pushDiagnostic1(u,r,n.DiagnosticCode.declare_modifier_cannot_appear_on_an_interface_declaration),!0;u+=r.fullWidth()}return!1},i.prototype.visitInterfaceDeclaration=function(i){if(this.checkForReservedName(i,i.identifier,n.DiagnosticCode.Interface_name_cannot_be_0)||this.checkInterfaceModifiers(i.modifiers)||this.checkModuleElementModifiers(i.modifiers)||this.checkInterfaceDeclarationHeritageClauses(i)){this.skip(i);return}t.prototype.visitInterfaceDeclaration.call(this,i)},i.prototype.checkClassElementModifiers=function(t){for(var r=this.position(),e=!1,f=!1,i,s,u=0,o=t.childCount();u<o;u++){if(i=t.childAt(u),i.tokenKind===57||i.tokenKind===55){if(e)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Accessibility_modifier_already_seen),!0;if(f)return s=t.childAt(u-1),this.pushDiagnostic1(r,i,n.DiagnosticCode._0_modifier_must_precede_1_modifier,[i.text(),s.text()]),!0;e=!0}else if(i.tokenKind===58){if(f)return this.pushDiagnostic1(r,i,n.DiagnosticCode._0_modifier_already_seen,[i.text()]),!0;f=!0}else return this.pushDiagnostic1(r,i,n.DiagnosticCode._0_modifier_cannot_appear_on_a_class_element,[i.text()]),!0;r+=i.fullWidth()}return!1},i.prototype.visitMemberVariableDeclaration=function(n){if(this.checkClassElementModifiers(n.modifiers)){this.skip(n);return}t.prototype.visitMemberVariableDeclaration.call(this,n)},i.prototype.visitMemberFunctionDeclaration=function(n){if(this.checkClassElementModifiers(n.modifiers)){this.skip(n);return}t.prototype.visitMemberFunctionDeclaration.call(this,n)},i.prototype.checkGetMemberAccessorParameter=function(t){var i=this.childFullStart(t,t.getKeyword);return t.parameterList.parameters.childCount()!==0?(this.pushDiagnostic1(i,t.getKeyword,n.DiagnosticCode.get_accessor_cannot_have_parameters),!0):!1},i.prototype.checkEcmaScriptVersionIsAtLeast=function(n,t,i,r){if(this.syntaxTree.parseOptions().languageVersion()<i){var u=this.childFullStart(n,t);return this.pushDiagnostic1(u,t,r),!0}return!1},i.prototype.visitGetMemberAccessorDeclaration=function(i){if(this.checkEcmaScriptVersionIsAtLeast(i,i.getKeyword,1,n.DiagnosticCode.Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher)||this.checkClassElementModifiers(i.modifiers)||this.checkGetMemberAccessorParameter(i)){this.skip(i);return}t.prototype.visitGetMemberAccessorDeclaration.call(this,i)},i.prototype.checkSetMemberAccessorParameter=function(t){var u=this.childFullStart(t,t.setKeyword);if(t.parameterList.parameters.childCount()!==1)return this.pushDiagnostic1(u,t.setKeyword,n.DiagnosticCode.set_accessor_must_have_one_and_only_one_parameter),!0;var f=this.childFullStart(t,t.parameterList),r=f+n.Syntax.childOffset(t.parameterList,t.parameterList.openParenToken),i=t.parameterList.parameters.childAt(0);return i.publicOrPrivateKeyword?(this.pushDiagnostic1(r,i,n.DiagnosticCode.set_accessor_parameter_cannot_have_accessibility_modifier),!0):i.questionToken?(this.pushDiagnostic1(r,i,n.DiagnosticCode.set_accessor_parameter_cannot_be_optional),!0):i.equalsValueClause?(this.pushDiagnostic1(r,i,n.DiagnosticCode.set_accessor_parameter_cannot_have_an_initializer),!0):i.dotDotDotToken?(this.pushDiagnostic1(r,i,n.DiagnosticCode.set_accessor_cannot_have_rest_parameter),!0):!1},i.prototype.visitSetMemberAccessorDeclaration=function(i){if(this.checkEcmaScriptVersionIsAtLeast(i,i.setKeyword,1,n.DiagnosticCode.Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher)||this.checkClassElementModifiers(i.modifiers)||this.checkSetMemberAccessorParameter(i)){this.skip(i);return}t.prototype.visitSetMemberAccessorDeclaration.call(this,i)},i.prototype.visitGetAccessorPropertyAssignment=function(i){if(this.checkEcmaScriptVersionIsAtLeast(i,i.getKeyword,1,n.DiagnosticCode.Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher)){this.skip(i);return}t.prototype.visitGetAccessorPropertyAssignment.call(this,i)},i.prototype.visitSetAccessorPropertyAssignment=function(i){if(this.checkEcmaScriptVersionIsAtLeast(i,i.setKeyword,1,n.DiagnosticCode.Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher)){this.skip(i);return}t.prototype.visitSetAccessorPropertyAssignment.call(this,i)},i.prototype.visitEnumDeclaration=function(i){if(this.checkForReservedName(i,i.identifier,n.DiagnosticCode.Enum_name_cannot_be_0)||this.checkForDisallowedDeclareModifier(i.modifiers)||this.checkForRequiredDeclareModifier(i,i.enumKeyword,i.modifiers)||this.checkModuleElementModifiers(i.modifiers),this.checkEnumElements(i)){this.skip(i);return}var r=this.inAmbientDeclaration;this.inAmbientDeclaration=this.inAmbientDeclaration||this.syntaxTree.isDeclaration()||n.SyntaxUtilities.containsToken(i.modifiers,64);t.prototype.visitEnumDeclaration.call(this,i);this.inAmbientDeclaration=r},i.prototype.checkEnumElements=function(t){for(var f=this.childFullStart(t,t.enumElements),e=!1,u,r,s,i=0,o=t.enumElements.childCount();i<o;i++){if(u=t.enumElements.childAt(i),i%2==0){if(r=u,!r.equalsValueClause&&e)return this.pushDiagnostic1(f,r,n.DiagnosticCode.Enum_member_must_have_initializer,null),!0;r.equalsValueClause&&(s=r.equalsValueClause.value,n.Syntax.isIntegerLiteral(s)||(e=!0))}f+=u.fullWidth()}return!1},i.prototype.visitEnumElement=function(i){if(this.inAmbientDeclaration&&i.equalsValueClause){var r=i.equalsValueClause.value;if(!n.Syntax.isIntegerLiteral(r)){this.pushDiagnostic1(this.childFullStart(i,i.equalsValueClause),i.equalsValueClause.firstToken(),n.DiagnosticCode.Ambient_enum_elements_can_only_have_integer_literal_initializers);this.skip(i);return}}t.prototype.visitEnumElement.call(this,i)},i.prototype.visitInvocationExpression=function(i){i.expression.kind()===50&&i.argumentList.typeArgumentList!==null&&this.pushDiagnostic1(this.position(),i,n.DiagnosticCode.super_invocation_cannot_have_type_arguments);t.prototype.visitInvocationExpression.call(this,i)},i.prototype.checkModuleElementModifiers=function(t){for(var r=this.position(),e=!1,f=!1,i,u=0,o=t.childCount();u<o;u++){if(i=t.childAt(u),i.tokenKind===57||i.tokenKind===55||i.tokenKind===58)return this.pushDiagnostic1(r,i,n.DiagnosticCode._0_modifier_cannot_appear_on_a_module_element,[i.text()]),!0;if(i.tokenKind===64){if(f){this.pushDiagnostic1(r,i,n.DiagnosticCode.Accessibility_modifier_already_seen);return}f=!0}else if(i.tokenKind===47){if(e){this.pushDiagnostic1(r,i,n.DiagnosticCode._0_modifier_already_seen,[i.text()]);return}if(f){this.pushDiagnostic1(r,i,n.DiagnosticCode._0_modifier_must_precede_1_modifier,[n.SyntaxFacts.getText(47),n.SyntaxFacts.getText(64)]);return}e=!0}r+=i.fullWidth()}return!1},i.prototype.checkForDisallowedImportDeclaration=function(t){var u,i,e,r,f;if(t.stringLiteral===null)for(u=this.childFullStart(t,t.moduleElements),i=0,e=t.moduleElements.childCount();i<e;i++)r=t.moduleElements.childAt(i),r.kind()===134&&(f=r,f.moduleReference.kind()===246&&this.pushDiagnostic1(u,f,n.DiagnosticCode.Import_declarations_in_an_internal_module_cannot_reference_an_external_module,null)),u+=r.fullWidth();return!1},i.prototype.checkForDisallowedDeclareModifierOnImportDeclaration=function(t){var i=n.SyntaxUtilities.getToken(t,64);if(i)return this.pushDiagnostic1(this.childFullStart(t,i),i,n.DiagnosticCode.declare_modifier_not_allowed_on_import_declaration),!0},i.prototype.visitImportDeclaration=function(n){if(this.checkForDisallowedDeclareModifierOnImportDeclaration(n.modifiers)||this.checkModuleElementModifiers(n.modifiers)){this.skip(n);return}t.prototype.visitImportDeclaration.call(this,n)},i.prototype.visitModuleDeclaration=function(i){var r,u;if(this.checkForReservedName(i,i.moduleName,n.DiagnosticCode.Module_name_cannot_be_0)||this.checkForDisallowedDeclareModifier(i.modifiers)||this.checkForRequiredDeclareModifier(i,i.moduleKeyword,i.modifiers)||this.checkModuleElementModifiers(i.modifiers)||this.checkForDisallowedImportDeclaration(i)||this.checkForDisallowedExports(i,i.moduleElements)||this.checkForMultipleExportAssignments(i,i.moduleElements)){this.skip(i);return}if(!n.SyntaxUtilities.containsToken(i.modifiers,64)&&this.checkFunctionOverloads(i,i.moduleElements)){this.skip(i);return}if(i.stringLiteral&&!this.inAmbientDeclaration&&!n.SyntaxUtilities.containsToken(i.modifiers,64)){r=this.childFullStart(i,i.stringLiteral);this.pushDiagnostic1(r,i.stringLiteral,n.DiagnosticCode.Only_ambient_modules_can_use_quoted_names);this.skip(i);return}if(!i.stringLiteral&&this.checkForDisallowedExportAssignment(i)){this.skip(i);return}u=this.inAmbientDeclaration;this.inAmbientDeclaration=this.inAmbientDeclaration||this.syntaxTree.isDeclaration()||n.SyntaxUtilities.containsToken(i.modifiers,64);t.prototype.visitModuleDeclaration.call(this,i);this.inAmbientDeclaration=u},i.prototype.checkForDisallowedExports=function(t,i){for(var o=!1,e,u,r=0,f=i.childCount();r<f;r++)if(u=i.childAt(r),n.SyntaxUtilities.hasExportKeyword(u)){o=!0;break}if(e=this.childFullStart(t,i),o)for(r=0,f=i.childCount();r<f;r++){if(u=i.childAt(r),u.kind()===135)return this.pushDiagnostic1(e,u,n.DiagnosticCode.Export_assignment_not_allowed_in_module_with_exported_element),!0;e+=u.fullWidth()}return!1},i.prototype.checkForMultipleExportAssignments=function(t,i){for(var f=this.childFullStart(t,i),e=!1,o=!1,u,r=0,s=i.childCount();r<s;r++)u=i.childAt(r),u.kind()===135&&(e&&(this.pushDiagnostic1(f,u,n.DiagnosticCode.Module_cannot_have_multiple_export_assignments),o=!0),e=!0),f+=u.fullWidth();return o},i.prototype.checkForDisallowedExportAssignment=function(t){for(var u=this.childFullStart(t,t.moduleElements),r,i=0,f=t.moduleElements.childCount();i<f;i++){if(r=t.moduleElements.childAt(i),r.kind()===135)return this.pushDiagnostic1(u,r,n.DiagnosticCode.Export_assignment_cannot_be_used_in_internal_modules),!0;u+=r.fullWidth()}return!1},i.prototype.visitBlock=function(i){if(this.inAmbientDeclaration||this.syntaxTree.isDeclaration()){this.pushDiagnostic1(this.position(),i.firstToken(),n.DiagnosticCode.Implementations_are_not_allowed_in_ambient_contexts);this.skip(i);return}if(this.checkFunctionOverloads(i,i.statements)){this.skip(i);return}var r=this.inBlock;this.inBlock=!0;t.prototype.visitBlock.call(this,i);this.inBlock=r},i.prototype.checkForStatementInAmbientContxt=function(t){return this.inAmbientDeclaration||this.syntaxTree.isDeclaration()?(this.pushDiagnostic1(this.position(),t.firstToken(),n.DiagnosticCode.Statements_are_not_allowed_in_ambient_contexts),!0):!1},i.prototype.visitBreakStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitBreakStatement.call(this,n)},i.prototype.visitContinueStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitContinueStatement.call(this,n)},i.prototype.visitDebuggerStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitDebuggerStatement.call(this,n)},i.prototype.visitDoStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitDoStatement.call(this,n)},i.prototype.visitEmptyStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitEmptyStatement.call(this,n)},i.prototype.visitExpressionStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitExpressionStatement.call(this,n)},i.prototype.visitForInStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitForInStatement.call(this,n)},i.prototype.visitForStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitForStatement.call(this,n)},i.prototype.visitIfStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitIfStatement.call(this,n)},i.prototype.visitLabeledStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitLabeledStatement.call(this,n)},i.prototype.visitReturnStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitReturnStatement.call(this,n)},i.prototype.visitSwitchStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitSwitchStatement.call(this,n)},i.prototype.visitThrowStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitThrowStatement.call(this,n)},i.prototype.visitTryStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitTryStatement.call(this,n)},i.prototype.visitWhileStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitWhileStatement.call(this,n)},i.prototype.visitWithStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitWithStatement.call(this,n)},i.prototype.checkForDisallowedModifiers=function(t,i){if(this.inBlock&&i.childCount()>0){var r=this.childFullStart(t,i);return this.pushDiagnostic1(r,i.childAt(0),n.DiagnosticCode.Modifiers_cannot_appear_here),!0}return!1},i.prototype.visitFunctionDeclaration=function(i){if(this.checkForDisallowedDeclareModifier(i.modifiers)||this.checkForDisallowedModifiers(i,i.modifiers)||this.checkForRequiredDeclareModifier(i,i.functionKeyword,i.modifiers)||this.checkModuleElementModifiers(i.modifiers)){this.skip(i);return}var r=this.inAmbientDeclaration;this.inAmbientDeclaration=this.inAmbientDeclaration||this.syntaxTree.isDeclaration()||n.SyntaxUtilities.containsToken(i.modifiers,64);t.prototype.visitFunctionDeclaration.call(this,i);this.inAmbientDeclaration=r},i.prototype.visitVariableStatement=function(i){if(this.checkForDisallowedDeclareModifier(i.modifiers)||this.checkForDisallowedModifiers(i,i.modifiers)||this.checkForRequiredDeclareModifier(i,i.variableDeclaration,i.modifiers)||this.checkModuleElementModifiers(i.modifiers)){this.skip(i);return}var r=this.inAmbientDeclaration;this.inAmbientDeclaration=this.inAmbientDeclaration||this.syntaxTree.isDeclaration()||n.SyntaxUtilities.containsToken(i.modifiers,64);t.prototype.visitVariableStatement.call(this,i);this.inAmbientDeclaration=r},i.prototype.checkListSeparators=function(t,i,r){for(var e=this.childFullStart(t,i),f,u=0,o=i.childCount();u<o;u++)f=i.childAt(u),u%2==1&&f.kind()!==r&&this.pushDiagnostic1(e,f,n.DiagnosticCode._0_expected,[n.SyntaxFacts.getText(r)]),e+=f.fullWidth();return!1},i.prototype.visitObjectType=function(n){if(this.checkListSeparators(n,n.typeMembers,79)){this.skip(n);return}var i=this.inAmbientDeclaration;this.inAmbientDeclaration=!0;t.prototype.visitObjectType.call(this,n);this.inAmbientDeclaration=i},i.prototype.visitArrayType=function(n){var i=this.inAmbientDeclaration;this.inAmbientDeclaration=!0;t.prototype.visitArrayType.call(this,n);this.inAmbientDeclaration=i},i.prototype.visitFunctionType=function(n){var i=this.inAmbientDeclaration;this.inAmbientDeclaration=!0;t.prototype.visitFunctionType.call(this,n);this.inAmbientDeclaration=i},i.prototype.visitConstructorType=function(n){var i=this.inAmbientDeclaration;this.inAmbientDeclaration=!0;t.prototype.visitConstructorType.call(this,n);this.inAmbientDeclaration=i},i.prototype.visitVariableDeclarator=function(i){if(this.inAmbientDeclaration&&i.equalsValueClause){this.pushDiagnostic1(this.childFullStart(i,i.equalsValueClause),i.equalsValueClause.firstToken(),n.DiagnosticCode.Initializers_are_not_allowed_in_ambient_contexts);this.skip(i);return}t.prototype.visitVariableDeclarator.call(this,i)},i.prototype.visitConstructorDeclaration=function(n){var i=this.currentConstructor;this.currentConstructor=n;t.prototype.visitConstructorDeclaration.call(this,n);this.currentConstructor=i},i.prototype.visitSourceUnit=function(n){if(this.checkFunctionOverloads(n,n.moduleElements)||this.checkForDisallowedExports(n,n.moduleElements)||this.checkForMultipleExportAssignments(n,n.moduleElements)){this.skip(n);return}t.prototype.visitSourceUnit.call(this,n)},i.prototype.visitExternalModuleReference=function(i){if(i.moduleOrRequireKeyword.tokenKind===66&&!this.syntaxTree.parseOptions().allowModuleKeywordInExternalModuleReference()){this.pushDiagnostic1(this.position(),i.moduleOrRequireKeyword,n.DiagnosticCode.module_is_deprecated_Use_require_instead);this.skip(i);return}t.prototype.visitExternalModuleReference.call(this,i)},i}(n.PositionTrackingWalker)}(TypeScript||(TypeScript={})),function(n){var t=function(t){function i(n){t.call(this);this.textSpan=n;this._position=0}return __extends(i,t),i.prototype.visitToken=function(n){this._position+=n.fullWidth()},i.prototype.visitNode=function(t){var i=new n.TextSpan(this.position(),t.fullWidth());i.intersectsWithTextSpan(this.textSpan)?t.accept(this):this._position+=t.fullWidth()},i.prototype.position=function(){return this._position},i}(n.SyntaxWalker)}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(){}return t.lookupInUnicodeMap=function(n,t){if(n<t[0])return!1;for(var r=0,u=t.length,i;r+1<u;){if(i=r+(u-r)/2,i-=i%2,t[i]<=n&&n<=t[i+1])return!0;n<t[i]?u=i:r=i+2}return!1},t.isIdentifierStart=function(i,r){if(r===0)return t.lookupInUnicodeMap(i,t.unicodeES3IdentifierStart);if(r===1)return t.lookupInUnicodeMap(i,t.unicodeES5IdentifierStart);throw n.Errors.argumentOutOfRange("languageVersion");},t.isIdentifierPart=function(i,r){if(r===0)return t.lookupInUnicodeMap(i,t.unicodeES3IdentifierPart);if(r===1)return t.lookupInUnicodeMap(i,t.unicodeES5IdentifierPart);throw n.Errors.argumentOutOfRange("languageVersion");},t.unicodeES3IdentifierStart=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1569,1594,1600,1610,1649,1747,1749,1749,1765,1766,1786,1788,1808,1808,1810,1836,1920,1957,2309,2361,2365,2365,2384,2384,2392,2401,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2784,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2877,2877,2908,2909,2911,2913,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3294,3294,3296,3297,3333,3340,3342,3344,3346,3368,3370,3385,3424,3425,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3805,3840,3840,3904,3911,3913,3946,3976,3979,4096,4129,4131,4135,4137,4138,4176,4181,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6067,6176,6263,6272,6312,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8319,8319,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12329,12337,12341,12344,12346,12353,12436,12445,12446,12449,12538,12540,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65138,65140,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],t.unicodeES3IdentifierPart=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,768,846,864,866,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1155,1158,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1425,1441,1443,1465,1467,1469,1471,1471,1473,1474,1476,1476,1488,1514,1520,1522,1569,1594,1600,1621,1632,1641,1648,1747,1749,1756,1759,1768,1770,1773,1776,1788,1808,1836,1840,1866,1920,1968,2305,2307,2309,2361,2364,2381,2384,2388,2392,2403,2406,2415,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2492,2494,2500,2503,2504,2507,2509,2519,2519,2524,2525,2527,2531,2534,2545,2562,2562,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2649,2652,2654,2654,2662,2676,2689,2691,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2784,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2876,2883,2887,2888,2891,2893,2902,2903,2908,2909,2911,2913,2918,2927,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3006,3010,3014,3016,3018,3021,3031,3031,3047,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3134,3140,3142,3144,3146,3149,3157,3158,3168,3169,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3262,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3297,3302,3311,3330,3331,3333,3340,3342,3344,3346,3368,3370,3385,3390,3395,3398,3400,3402,3405,3415,3415,3424,3425,3430,3439,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3805,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3946,3953,3972,3974,3979,3984,3991,3993,4028,4038,4038,4096,4129,4131,4135,4137,4138,4140,4146,4150,4153,4160,4169,4176,4185,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,4969,4977,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6099,6112,6121,6160,6169,6176,6263,6272,6313,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8255,8256,8319,8319,8400,8412,8417,8417,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12335,12337,12341,12344,12346,12353,12436,12441,12442,12445,12446,12449,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65056,65059,65075,65076,65101,65103,65136,65138,65140,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65381,65470,65474,65479,65482,65487,65490,65495,65498,65500],t.unicodeES5IdentifierStart=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1319,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2208,2208,2210,2220,2308,2361,2365,2365,2384,2384,2392,2401,2417,2423,2425,2431,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3133,3160,3161,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3424,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6263,6272,6312,6314,6314,6320,6389,6400,6428,6480,6509,6512,6516,6528,6571,6593,6599,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7401,7404,7406,7409,7413,7414,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11823,11823,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42647,42656,42735,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43648,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],t.unicodeES5IdentifierPart=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,768,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1155,1159,1162,1319,1329,1366,1369,1369,1377,1415,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1488,1514,1520,1522,1552,1562,1568,1641,1646,1747,1749,1756,1759,1768,1770,1788,1791,1791,1808,1866,1869,1969,1984,2037,2042,2042,2048,2093,2112,2139,2208,2208,2210,2220,2276,2302,2304,2403,2406,2415,2417,2423,2425,2431,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2525,2527,2531,2534,2545,2561,2563,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2641,2641,2649,2652,2654,2654,2662,2677,2689,2691,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2787,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2876,2884,2887,2888,2891,2893,2902,2903,2908,2909,2911,2915,2918,2927,2929,2929,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3016,3018,3021,3024,3024,3031,3031,3046,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3140,3142,3144,3146,3149,3157,3158,3160,3161,3168,3171,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3260,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3299,3302,3311,3313,3314,3330,3331,3333,3340,3342,3344,3346,3386,3389,3396,3398,3400,3402,3406,3415,3415,3424,3427,3430,3439,3450,3455,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3807,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3948,3953,3972,3974,3991,3993,4028,4038,4038,4096,4169,4176,4253,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4957,4959,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5908,5920,5940,5952,5971,5984,5996,5998,6e3,6002,6003,6016,6099,6103,6103,6108,6109,6112,6121,6155,6157,6160,6169,6176,6263,6272,6314,6320,6389,6400,6428,6432,6443,6448,6459,6470,6509,6512,6516,6528,6571,6576,6601,6608,6617,6656,6683,6688,6750,6752,6780,6783,6793,6800,6809,6823,6823,6912,6987,6992,7001,7019,7027,7040,7155,7168,7223,7232,7241,7245,7293,7376,7378,7380,7414,7424,7654,7676,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8204,8205,8255,8256,8276,8276,8305,8305,8319,8319,8336,8348,8400,8412,8417,8417,8421,8432,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11647,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11744,11775,11823,11823,12293,12295,12321,12335,12337,12341,12344,12348,12353,12438,12441,12442,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42539,42560,42607,42612,42621,42623,42647,42655,42737,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43047,43072,43123,43136,43204,43216,43225,43232,43255,43259,43259,43264,43309,43312,43347,43360,43388,43392,43456,43471,43481,43520,43574,43584,43597,43600,43609,43616,43638,43642,43643,43648,43714,43739,43741,43744,43759,43762,43766,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44010,44012,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65024,65039,65056,65062,65075,65076,65101,65103,65136,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],t}();n.Unicode=t}(TypeScript||(TypeScript={})),function(n){function i(n,t,i){var r=(new Date).getTime(),u=i(),f=(new Date).getTime();return n.log(t+" completed in "+(f-r)+" msec"),u}(function(n){function t(t){n.diagnosticWriter&&n.diagnosticWriter.Alert(t)}function i(i){n.debug&&t(i)}function r(i,r){n.debug&&(i||t(r))}n.debug=!1;n.diagnosticWriter=null;n.analysisPass=0;n.Alert=t;n.debugPrint=i;n.assert=r})(n.CompilerDiagnostics||(n.CompilerDiagnostics={}));var r=n.CompilerDiagnostics,t=function(){function n(){}return n.prototype.information=function(){return!1},n.prototype.debug=function(){return!1},n.prototype.warning=function(){return!1},n.prototype.error=function(){return!1},n.prototype.fatal=function(){return!1},n.prototype.log=function(){},n}();n.NullLogger=t;n.timeFunction=i}(TypeScript||(TypeScript={})),function(n){function t(n,t){return(n&t)!=0}function i(n,t){return n&~t}function s(n){return n}var r,u,f,e,o,h,c;n.hasFlag=t;n.withoutFlag=i,function(n){n[n.None=0]="None";n[n.SingleLine=2]="SingleLine";n[n.OptionalName=4]="OptionalName";n[n.TypeReference=8]="TypeReference";n[n.EnumElement=16]="EnumElement"}(n.ASTFlags||(n.ASTFlags={}));r=n.ASTFlags,function(n){n[n.None=0]="None";n[n.Exported=1]="Exported";n[n.Private=2]="Private";n[n.Public=4]="Public";n[n.Ambient=8]="Ambient";n[n.Static=16]="Static"}(n.DeclFlags||(n.DeclFlags={}));u=n.DeclFlags,function(n){n[n.None=0]="None";n[n.Exported=1]="Exported";n[n.Private=2]="Private";n[n.Public=4]="Public";n[n.Ambient=8]="Ambient";n[n.Static=16]="Static";n[n.IsEnum=128]="IsEnum";n[n.IsWholeFile=256]="IsWholeFile";n[n.IsDynamic=512]="IsDynamic"}(n.ModuleFlags||(n.ModuleFlags={}));f=n.ModuleFlags,function(n){n[n.None=0]="None";n[n.Exported=1]="Exported";n[n.Private=2]="Private";n[n.Public=4]="Public";n[n.Ambient=8]="Ambient";n[n.Static=16]="Static";n[n.Property=256]="Property";n[n.ClassProperty=2048]="ClassProperty";n[n.EnumElement=8192]="EnumElement";n[n.ForInVariable=16384]="ForInVariable"}(n.VariableFlags||(n.VariableFlags={}));e=n.VariableFlags,function(n){n[n.None=0]="None";n[n.Exported=1]="Exported";n[n.Private=2]="Private";n[n.Public=4]="Public";n[n.Ambient=8]="Ambient";n[n.Static=16]="Static";n[n.GetAccessor=32]="GetAccessor";n[n.SetAccessor=64]="SetAccessor";n[n.Signature=128]="Signature";n[n.Method=256]="Method";n[n.CallMember=512]="CallMember";n[n.ConstructMember=1024]="ConstructMember";n[n.IsFatArrowFunction=2048]="IsFatArrowFunction";n[n.IndexerMember=4096]="IndexerMember";n[n.IsFunctionExpression=8192]="IsFunctionExpression";n[n.IsFunctionProperty=16384]="IsFunctionProperty"}(n.FunctionFlags||(n.FunctionFlags={}));o=n.FunctionFlags;n.ToDeclFlags=s,function(n){n[n.SuccessfulComparison=0]="SuccessfulComparison";n[n.RequiredPropertyIsMissing=2]="RequiredPropertyIsMissing";n[n.IncompatibleSignatures=4]="IncompatibleSignatures";n[n.SourceSignatureHasTooManyParameters=3]="SourceSignatureHasTooManyParameters";n[n.IncompatibleReturnTypes=16]="IncompatibleReturnTypes";n[n.IncompatiblePropertyTypes=32]="IncompatiblePropertyTypes";n[n.IncompatibleParameterTypes=64]="IncompatibleParameterTypes";n[n.InconsistantPropertyAccesibility=128]="InconsistantPropertyAccesibility"}(n.TypeRelationshipFlags||(n.TypeRelationshipFlags={}));h=n.TypeRelationshipFlags,function(n){n[n.Unspecified=0]="Unspecified";n[n.Synchronous=1]="Synchronous";n[n.Asynchronous=2]="Asynchronous"}(n.ModuleGenTarget||(n.ModuleGenTarget={}));c=n.ModuleGenTarget}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.None=0]="None";n[n.List=1]="List";n[n.Script=2]="Script";n[n.TrueLiteral=3]="TrueLiteral";n[n.FalseLiteral=4]="FalseLiteral";n[n.StringLiteral=5]="StringLiteral";n[n.RegularExpressionLiteral=6]="RegularExpressionLiteral";n[n.NumericLiteral=7]="NumericLiteral";n[n.NullLiteral=8]="NullLiteral";n[n.TypeParameter=9]="TypeParameter";n[n.GenericType=10]="GenericType";n[n.TypeRef=11]="TypeRef";n[n.TypeQuery=12]="TypeQuery";n[n.FunctionDeclaration=13]="FunctionDeclaration";n[n.ClassDeclaration=14]="ClassDeclaration";n[n.InterfaceDeclaration=15]="InterfaceDeclaration";n[n.ModuleDeclaration=16]="ModuleDeclaration";n[n.ImportDeclaration=17]="ImportDeclaration";n[n.VariableDeclarator=18]="VariableDeclarator";n[n.VariableDeclaration=19]="VariableDeclaration";n[n.Parameter=20]="Parameter";n[n.Name=21]="Name";n[n.ArrayLiteralExpression=22]="ArrayLiteralExpression";n[n.ObjectLiteralExpression=23]="ObjectLiteralExpression";n[n.OmittedExpression=24]="OmittedExpression";n[n.VoidExpression=25]="VoidExpression";n[n.CommaExpression=26]="CommaExpression";n[n.PlusExpression=27]="PlusExpression";n[n.NegateExpression=28]="NegateExpression";n[n.DeleteExpression=29]="DeleteExpression";n[n.ThisExpression=30]="ThisExpression";n[n.SuperExpression=31]="SuperExpression";n[n.InExpression=32]="InExpression";n[n.MemberAccessExpression=33]="MemberAccessExpression";n[n.InstanceOfExpression=34]="InstanceOfExpression";n[n.TypeOfExpression=35]="TypeOfExpression";n[n.ElementAccessExpression=36]="ElementAccessExpression";n[n.InvocationExpression=37]="InvocationExpression";n[n.ObjectCreationExpression=38]="ObjectCreationExpression";n[n.AssignmentExpression=39]="AssignmentExpression";n[n.AddAssignmentExpression=40]="AddAssignmentExpression";n[n.SubtractAssignmentExpression=41]="SubtractAssignmentExpression";n[n.DivideAssignmentExpression=42]="DivideAssignmentExpression";n[n.MultiplyAssignmentExpression=43]="MultiplyAssignmentExpression";n[n.ModuloAssignmentExpression=44]="ModuloAssignmentExpression";n[n.AndAssignmentExpression=45]="AndAssignmentExpression";n[n.ExclusiveOrAssignmentExpression=46]="ExclusiveOrAssignmentExpression";n[n.OrAssignmentExpression=47]="OrAssignmentExpression";n[n.LeftShiftAssignmentExpression=48]="LeftShiftAssignmentExpression";n[n.SignedRightShiftAssignmentExpression=49]="SignedRightShiftAssignmentExpression";n[n.UnsignedRightShiftAssignmentExpression=50]="UnsignedRightShiftAssignmentExpression";n[n.ConditionalExpression=51]="ConditionalExpression";n[n.LogicalOrExpression=52]="LogicalOrExpression";n[n.LogicalAndExpression=53]="LogicalAndExpression";n[n.BitwiseOrExpression=54]="BitwiseOrExpression";n[n.BitwiseExclusiveOrExpression=55]="BitwiseExclusiveOrExpression";n[n.BitwiseAndExpression=56]="BitwiseAndExpression";n[n.EqualsWithTypeConversionExpression=57]="EqualsWithTypeConversionExpression";n[n.NotEqualsWithTypeConversionExpression=58]="NotEqualsWithTypeConversionExpression";n[n.EqualsExpression=59]="EqualsExpression";n[n.NotEqualsExpression=60]="NotEqualsExpression";n[n.LessThanExpression=61]="LessThanExpression";n[n.LessThanOrEqualExpression=62]="LessThanOrEqualExpression";n[n.GreaterThanExpression=63]="GreaterThanExpression";n[n.GreaterThanOrEqualExpression=64]="GreaterThanOrEqualExpression";n[n.AddExpression=65]="AddExpression";n[n.SubtractExpression=66]="SubtractExpression";n[n.MultiplyExpression=67]="MultiplyExpression";n[n.DivideExpression=68]="DivideExpression";n[n.ModuloExpression=69]="ModuloExpression";n[n.LeftShiftExpression=70]="LeftShiftExpression";n[n.SignedRightShiftExpression=71]="SignedRightShiftExpression";n[n.UnsignedRightShiftExpression=72]="UnsignedRightShiftExpression";n[n.BitwiseNotExpression=73]="BitwiseNotExpression";n[n.LogicalNotExpression=74]="LogicalNotExpression";n[n.PreIncrementExpression=75]="PreIncrementExpression";n[n.PreDecrementExpression=76]="PreDecrementExpression";n[n.PostIncrementExpression=77]="PostIncrementExpression";n[n.PostDecrementExpression=78]="PostDecrementExpression";n[n.CastExpression=79]="CastExpression";n[n.ParenthesizedExpression=80]="ParenthesizedExpression";n[n.Member=81]="Member";n[n.Block=82]="Block";n[n.BreakStatement=83]="BreakStatement";n[n.ContinueStatement=84]="ContinueStatement";n[n.DebuggerStatement=85]="DebuggerStatement";n[n.DoStatement=86]="DoStatement";n[n.EmptyStatement=87]="EmptyStatement";n[n.ExportAssignment=88]="ExportAssignment";n[n.ExpressionStatement=89]="ExpressionStatement";n[n.ForInStatement=90]="ForInStatement";n[n.ForStatement=91]="ForStatement";n[n.IfStatement=92]="IfStatement";n[n.LabeledStatement=93]="LabeledStatement";n[n.ReturnStatement=94]="ReturnStatement";n[n.SwitchStatement=95]="SwitchStatement";n[n.ThrowStatement=96]="ThrowStatement";n[n.TryStatement=97]="TryStatement";n[n.VariableStatement=98]="VariableStatement";n[n.WhileStatement=99]="WhileStatement";n[n.WithStatement=100]="WithStatement";n[n.CaseClause=101]="CaseClause";n[n.CatchClause=102]="CatchClause";n[n.Comment=103]="Comment"})(n.NodeType||(n.NodeType={}));var t=n.NodeType}(TypeScript||(TypeScript={})),function(n){var i=function(){function n(){this.prototype=undefined;this.toString=undefined;this.toLocaleString=undefined;this.valueOf=undefined;this.hasOwnProperty=undefined;this.propertyIsEnumerable=undefined;this.isPrototypeOf=undefined;this.constructor=undefined}return n}(),t,r;n.BlockIntrinsics=i;t=function(){function n(){this.itemCount=0;this.table=new i}return n.prototype.getAllKeys=function(){var t=[],n;for(n in this.table)this.table[n]!==undefined&&t.push(n);return t},n.prototype.add=function(n,t){return this.table[n]!==undefined?!1:(this.table[n]=t,this.itemCount++,!0)},n.prototype.addOrUpdate=function(n,t){return this.table[n]!==undefined?(this.table[n]=t,!1):(this.table[n]=t,this.itemCount++,!0)},n.prototype.map=function(n,t){var i,r;for(i in this.table)r=this.table[i],r!==undefined&&n(i,this.table[i],t)},n.prototype.every=function(n,t){var i,r;for(i in this.table)if(r=this.table[i],r!==undefined&&!n(i,this.table[i],t))return!1;return!0},n.prototype.some=function(n,t){var i,r;for(i in this.table)if(r=this.table[i],r!==undefined&&n(i,this.table[i],t))return!0;return!1},n.prototype.count=function(){return this.itemCount},n.prototype.lookup=function(n){var t=this.table[n];return t===undefined?null:t},n}();n.StringHashTable=t;r=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.getAllKeys=function(){var t=[];return n.prototype.map.call(this,function(n,i){i!==undefined&&t.push(n.substring(1))},null),t},t.prototype.add=function(t,i){return n.prototype.add.call(this,"#"+t,i)},t.prototype.addOrUpdate=function(t,i){return n.prototype.addOrUpdate.call(this,"#"+t,i)},t.prototype.map=function(t,i){return n.prototype.map.call(this,function(n,i,r){return t(n.substring(1),i,r)},i)},t.prototype.every=function(t,i){return n.prototype.every.call(this,function(n,i,r){return t(n.substring(1),i,r)},i)},t.prototype.some=function(t,i){return n.prototype.some.call(this,function(n,i,r){return t(n.substring(1),i,r)},i)},t.prototype.lookup=function(t){return n.prototype.lookup.call(this,"#"+t)},t}(t);n.IdentiferNameHashTable=r}(TypeScript||(TypeScript={})),function(n){function e(){return r||(r=new i),r}var u=function(){function n(){this.goChildren=!0}return n}(),f,i,r,t;n.AstWalkOptions=u;f=function(){function n(n,t,i,r,u){this.childrenWalkers=n;this.pre=t;this.post=i;this.options=r;this.state=u}return n.prototype.walk=function(n,t){var i=this.pre(n,t,this),r;return i===undefined&&(i=n),this.options.goChildren?this.childrenWalkers[n.nodeType()](n,t,this):this.options.goChildren=!0,this.post?(r=this.post(i,t,this),r===undefined&&(r=i),r):i},n}();i=function(){function i(){this.childrenWalkers=[];this.initChildrenWalkers()}return i.prototype.walk=function(n,t,i,r,u){return this.getWalker(t,i,r,u).walk(n,null)},i.prototype.getWalker=function(n,t,i,r){return this.getSlowWalker(n,t,i,r)},i.prototype.getSlowWalker=function(n,t,i,r){return i||(i=new u),new f(this.childrenWalkers,n,t,i,r)},i.prototype.initChildrenWalkers=function(){this.childrenWalkers[0]=t.walkNone;this.childrenWalkers[87]=t.walkNone;this.childrenWalkers[24]=t.walkNone;this.childrenWalkers[3]=t.walkNone;this.childrenWalkers[4]=t.walkNone;this.childrenWalkers[30]=t.walkNone;this.childrenWalkers[31]=t.walkNone;this.childrenWalkers[5]=t.walkNone;this.childrenWalkers[6]=t.walkNone;this.childrenWalkers[8]=t.walkNone;this.childrenWalkers[22]=t.walkUnaryExpressionChildren;this.childrenWalkers[23]=t.walkUnaryExpressionChildren;this.childrenWalkers[25]=t.walkUnaryExpressionChildren;this.childrenWalkers[26]=t.walkBinaryExpressionChildren;this.childrenWalkers[27]=t.walkUnaryExpressionChildren;this.childrenWalkers[28]=t.walkUnaryExpressionChildren;this.childrenWalkers[29]=t.walkUnaryExpressionChildren;this.childrenWalkers[32]=t.walkBinaryExpressionChildren;this.childrenWalkers[33]=t.walkBinaryExpressionChildren;this.childrenWalkers[34]=t.walkBinaryExpressionChildren;this.childrenWalkers[35]=t.walkUnaryExpressionChildren;this.childrenWalkers[7]=t.walkNone;this.childrenWalkers[21]=t.walkNone;this.childrenWalkers[9]=t.walkTypeParameterChildren;this.childrenWalkers[10]=t.walkGenericTypeChildren;this.childrenWalkers[11]=t.walkTypeReferenceChildren;this.childrenWalkers[12]=t.walkTypeQueryChildren;this.childrenWalkers[36]=t.walkBinaryExpressionChildren;this.childrenWalkers[37]=t.walkInvocationExpressionChildren;this.childrenWalkers[38]=t.walkObjectCreationExpressionChildren;this.childrenWalkers[39]=t.walkBinaryExpressionChildren;this.childrenWalkers[40]=t.walkBinaryExpressionChildren;this.childrenWalkers[41]=t.walkBinaryExpressionChildren;this.childrenWalkers[42]=t.walkBinaryExpressionChildren;this.childrenWalkers[43]=t.walkBinaryExpressionChildren;this.childrenWalkers[44]=t.walkBinaryExpressionChildren;this.childrenWalkers[45]=t.walkBinaryExpressionChildren;this.childrenWalkers[46]=t.walkBinaryExpressionChildren;this.childrenWalkers[47]=t.walkBinaryExpressionChildren;this.childrenWalkers[48]=t.walkBinaryExpressionChildren;this.childrenWalkers[49]=t.walkBinaryExpressionChildren;this.childrenWalkers[50]=t.walkBinaryExpressionChildren;this.childrenWalkers[51]=t.walkTrinaryExpressionChildren;this.childrenWalkers[52]=t.walkBinaryExpressionChildren;this.childrenWalkers[53]=t.walkBinaryExpressionChildren;this.childrenWalkers[54]=t.walkBinaryExpressionChildren;this.childrenWalkers[55]=t.walkBinaryExpressionChildren;this.childrenWalkers[56]=t.walkBinaryExpressionChildren;this.childrenWalkers[57]=t.walkBinaryExpressionChildren;this.childrenWalkers[58]=t.walkBinaryExpressionChildren;this.childrenWalkers[59]=t.walkBinaryExpressionChildren;this.childrenWalkers[60]=t.walkBinaryExpressionChildren;this.childrenWalkers[61]=t.walkBinaryExpressionChildren;this.childrenWalkers[62]=t.walkBinaryExpressionChildren;this.childrenWalkers[63]=t.walkBinaryExpressionChildren;this.childrenWalkers[64]=t.walkBinaryExpressionChildren;this.childrenWalkers[65]=t.walkBinaryExpressionChildren;this.childrenWalkers[66]=t.walkBinaryExpressionChildren;this.childrenWalkers[67]=t.walkBinaryExpressionChildren;this.childrenWalkers[68]=t.walkBinaryExpressionChildren;this.childrenWalkers[69]=t.walkBinaryExpressionChildren;this.childrenWalkers[70]=t.walkBinaryExpressionChildren;this.childrenWalkers[71]=t.walkBinaryExpressionChildren;this.childrenWalkers[72]=t.walkBinaryExpressionChildren;this.childrenWalkers[73]=t.walkUnaryExpressionChildren;this.childrenWalkers[74]=t.walkUnaryExpressionChildren;this.childrenWalkers[75]=t.walkUnaryExpressionChildren;this.childrenWalkers[76]=t.walkUnaryExpressionChildren;this.childrenWalkers[77]=t.walkUnaryExpressionChildren;this.childrenWalkers[78]=t.walkUnaryExpressionChildren;this.childrenWalkers[79]=t.walkUnaryExpressionChildren;this.childrenWalkers[80]=t.walkParenthesizedExpressionChildren;this.childrenWalkers[13]=t.walkFuncDeclChildren;this.childrenWalkers[81]=t.walkBinaryExpressionChildren;this.childrenWalkers[18]=t.walkBoundDeclChildren;this.childrenWalkers[19]=t.walkVariableDeclarationChildren;this.childrenWalkers[20]=t.walkBoundDeclChildren;this.childrenWalkers[94]=t.walkReturnStatementChildren;this.childrenWalkers[83]=t.walkNone;this.childrenWalkers[84]=t.walkNone;this.childrenWalkers[96]=t.walkThrowStatementChildren;this.childrenWalkers[91]=t.walkForStatementChildren;this.childrenWalkers[90]=t.walkForInStatementChildren;this.childrenWalkers[92]=t.walkIfStatementChildren;this.childrenWalkers[99]=t.walkWhileStatementChildren;this.childrenWalkers[86]=t.walkDoStatementChildren;this.childrenWalkers[82]=t.walkBlockChildren;this.childrenWalkers[101]=t.walkCaseClauseChildren;this.childrenWalkers[95]=t.walkSwitchStatementChildren;this.childrenWalkers[97]=t.walkTryStatementChildren;this.childrenWalkers[102]=t.walkCatchClauseChildren;this.childrenWalkers[1]=t.walkListChildren;this.childrenWalkers[2]=t.walkScriptChildren;this.childrenWalkers[14]=t.walkClassDeclChildren;this.childrenWalkers[15]=t.walkTypeDeclChildren;this.childrenWalkers[16]=t.walkModuleDeclChildren;this.childrenWalkers[17]=t.walkImportDeclChildren;this.childrenWalkers[88]=t.walkExportAssignmentChildren;this.childrenWalkers[100]=t.walkWithStatementChildren;this.childrenWalkers[89]=t.walkExpressionStatementChildren;this.childrenWalkers[93]=t.walkLabeledStatementChildren;this.childrenWalkers[98]=t.walkVariableStatementChildren;this.childrenWalkers[103]=t.walkNone;this.childrenWalkers[85]=t.walkNone;for(var i in n.NodeType)n.NodeType.hasOwnProperty(i)&&n.StringUtilities.isString(n.NodeType[i])&&n.CompilerDiagnostics.assert(this.childrenWalkers[i]!==undefined,"initWalkers function is not up to date with enum content!")},i}();n.AstWalkerFactory=i;n.getAstWalkerFactory=e,function(n){function t(){}function i(n,t,i){for(var u=n.members.length,r=0;r<u;r++)n.members[r]=i.walk(n.members[r],n)}function r(n,t,i){n.expression&&(n.expression=i.walk(n.expression,n))}function u(n,t,i){n.castTerm&&(n.castTerm=i.walk(n.castTerm,n));n.operand&&(n.operand=i.walk(n.operand,n))}function f(n,t,i){n.expression&&(n.expression=i.walk(n.expression,n))}function e(n,t,i){n.operand1&&(n.operand1=i.walk(n.operand1,n));n.operand2&&(n.operand2=i.walk(n.operand2,n))}function o(n,t,i){n.name&&(n.name=i.walk(n.name,n));n.constraint&&(n.constraint=i.walk(n.constraint,n))}function s(n,t,i){n.name&&(n.name=i.walk(n.name,n));n.typeArguments&&(n.typeArguments=i.walk(n.typeArguments,n))}function h(n,t,i){n.term&&(n.term=i.walk(n.term,n))}function c(n,t,i){n.name&&(n.name=i.walk(n.name,n))}function l(n,t,i){n.target=i.walk(n.target,n);n.typeArguments&&(n.typeArguments=i.walk(n.typeArguments,n));n.arguments&&(n.arguments=i.walk(n.arguments,n))}function a(n,t,i){n.target=i.walk(n.target,n);n.typeArguments&&(n.typeArguments=i.walk(n.typeArguments,n));n.arguments&&(n.arguments=i.walk(n.arguments,n))}function v(n,t,i){n.operand1&&(n.operand1=i.walk(n.operand1,n));n.operand2&&(n.operand2=i.walk(n.operand2,n));n.operand3&&(n.operand3=i.walk(n.operand3,n))}function y(n,t,i){n.name&&(n.name=i.walk(n.name,n));n.typeArguments&&(n.typeArguments=i.walk(n.typeArguments,n));n.arguments&&(n.arguments=i.walk(n.arguments,n));n.returnTypeAnnotation&&(n.returnTypeAnnotation=i.walk(n.returnTypeAnnotation,n));n.block&&(n.block=i.walk(n.block,n))}function p(n,t,i){n.id&&(n.id=i.walk(n.id,n));n.init&&(n.init=i.walk(n.init,n));n.typeExpr&&(n.typeExpr=i.walk(n.typeExpr,n))}function w(n,t,i){n.returnExpression&&(n.returnExpression=i.walk(n.returnExpression,n))}function b(n,t,i){n.init&&(n.init=i.walk(n.init,n));n.cond&&(n.cond=i.walk(n.cond,n));n.incr&&(n.incr=i.walk(n.incr,n));n.body&&(n.body=i.walk(n.body,n))}function k(n,t,i){n.lval=i.walk(n.lval,n);n.obj=i.walk(n.obj,n);n.body&&(n.body=i.walk(n.body,n))}function d(n,t,i){n.cond=i.walk(n.cond,n);n.thenBod&&(n.thenBod=i.walk(n.thenBod,n));n.elseBod&&(n.elseBod=i.walk(n.elseBod,n))}function g(n,t,i){n.cond=i.walk(n.cond,n);n.body&&(n.body=i.walk(n.body,n))}function nt(n,t,i){n.cond=i.walk(n.cond,n);n.body&&(n.body=i.walk(n.body,n))}function tt(n,t,i){n.statements&&(n.statements=i.walk(n.statements,n))}function it(n,t,i){n.declarators&&(n.declarators=i.walk(n.declarators,n))}function rt(n,t,i){n.expr&&(n.expr=i.walk(n.expr,n));n.body&&(n.body=i.walk(n.body,n))}function ut(n,t,i){n.val&&(n.val=i.walk(n.val,n));n.caseList&&(n.caseList=i.walk(n.caseList,n))}function ft(n,t,i){n.tryBody&&(n.tryBody=i.walk(n.tryBody,n));n.catchClause&&(n.catchClause=i.walk(n.catchClause,n));n.finallyBody&&(n.finallyBody=i.walk(n.finallyBody,n))}function et(n,t,i){n.param&&(n.param=i.walk(n.param,n));n.body&&(n.body=i.walk(n.body,n))}function ot(n,t,i){n.name=i.walk(n.name,n);n.members&&(n.members=i.walk(n.members,n));n.typeParameters&&(n.typeParameters=i.walk(n.typeParameters,n));n.extendsList&&(n.extendsList=i.walk(n.extendsList,n));n.implementsList&&(n.implementsList=i.walk(n.implementsList,n))}function st(n,t,i){n.moduleElements&&(n.moduleElements=i.walk(n.moduleElements,n))}function ht(n,t,i){n.name=i.walk(n.name,n);n.members&&(n.members=i.walk(n.members,n));n.typeParameters&&(n.typeParameters=i.walk(n.typeParameters,n));n.extendsList&&(n.extendsList=i.walk(n.extendsList,n));n.implementsList&&(n.implementsList=i.walk(n.implementsList,n))}function ct(n,t,i){n.name=i.walk(n.name,n);n.members&&(n.members=i.walk(n.members,n))}function lt(n,t,i){n.id&&(n.id=i.walk(n.id,n));n.alias&&(n.alias=i.walk(n.alias,n))}function at(n,t,i){n.id&&(n.id=i.walk(n.id,n))}function vt(n,t,i){n.expr&&(n.expr=i.walk(n.expr,n));n.body&&(n.body=i.walk(n.body,n))}function yt(n,t,i){n.expression=i.walk(n.expression,n)}function pt(n,t,i){n.identifier=i.walk(n.identifier,n);n.statement=i.walk(n.statement,n)}function wt(n,t,i){n.declaration=i.walk(n.declaration,n)}n.walkNone=t;n.walkListChildren=i;n.walkThrowStatementChildren=r;n.walkUnaryExpressionChildren=u;n.walkParenthesizedExpressionChildren=f;n.walkBinaryExpressionChildren=e;n.walkTypeParameterChildren=o;n.walkGenericTypeChildren=s;n.walkTypeReferenceChildren=h;n.walkTypeQueryChildren=c;n.walkInvocationExpressionChildren=l;n.walkObjectCreationExpressionChildren=a;n.walkTrinaryExpressionChildren=v;n.walkFuncDeclChildren=y;n.walkBoundDeclChildren=p;n.walkReturnStatementChildren=w;n.walkForStatementChildren=b;n.walkForInStatementChildren=k;n.walkIfStatementChildren=d;n.walkWhileStatementChildren=g;n.walkDoStatementChildren=nt;n.walkBlockChildren=tt;n.walkVariableDeclarationChildren=it;n.walkCaseClauseChildren=rt;n.walkSwitchStatementChildren=ut;n.walkTryStatementChildren=ft;n.walkCatchClauseChildren=et;n.walkClassDeclChildren=ot;n.walkScriptChildren=st;n.walkTypeDeclChildren=ht;n.walkModuleDeclChildren=ct;n.walkImportDeclChildren=lt;n.walkExportAssignmentChildren=at;n.walkWithStatementChildren=vt;n.walkExpressionStatementChildren=yt;n.walkLabeledStatementChildren=pt;n.walkVariableStatementChildren=wt}(t||(t={}))}(TypeScript||(TypeScript={})),function(n){function u(n,t){return n>=t?n:t}function f(n,t){return n<=t?n:t}function r(n){return n===null?!1:n.minChar===-1||n.limChar===-1?!1:!0}function e(t,u,f){typeof f=="undefined"&&(f=!0);var o=function(n){var t,r,i;if(n&&n.length>0)for(t=0;t<n.length;t++)r=n[t].minChar,i=n[t].limChar+(f?n[t].trailingTriviaWidth:0),n[t].isBlockComment||i++,u>=r&&u<i&&e.path.push(n[t])},s=function(n,i,s){var a,h;if(r(n))if(a=n.nodeType()===89&&n.getLength()===0,a)s.options.goChildren=!1;else{var v=n.nodeType()===21||n.nodeType()===33||n.nodeType()===11||n.nodeType()===19||n.nodeType()===18||n.nodeType()===37||u===t.limChar+t.trailingTriviaWidth,c=n.minChar,l=n.limChar+(f?n.trailingTriviaWidth:0)+(v?1:0);u>=c&&u<l&&(h=e.path.ast(),(h===null||n.minChar>=h.minChar&&n.limChar+(f?n.trailingTriviaWidth:0)<=h.limChar+(f?h.trailingTriviaWidth:0))&&e.path.push(n));u<l&&o(n.preComments());u>=c&&o(n.postComments());s.options.goChildren=c<=u&&u<=l}return n},e=new i;return n.getAstWalkerFactory().walk(t,s,null,null,e),e.path}function o(i,r){var u=function(n,t,i){var u=i.state;return u.push(n),r(u,i),n},f=function(n,t,i){var r=i.state;return r.pop(),n},e=new t;n.getAstWalkerFactory().walk(i,u,f,null,e)}var t,i;n.max=u;n.min=f;t=function(){function t(){this.asts=[];this.top=-1}return t.reverseIndexOf=function(n,t){return n===null||n.length<=t?null:n[n.length-t-1]},t.prototype.clone=function(){var n=new t;return n.asts=this.asts.map(function(n){return n}),n.top=this.top,n},t.prototype.pop=function(){var n=this.ast();for(this.up();this.asts.length>this.count();)this.asts.pop();return n},t.prototype.push=function(n){while(this.asts.length>this.count())this.asts.pop();this.top=this.asts.length;this.asts.push(n)},t.prototype.up=function(){if(this.top<=-1)throw n.Errors.invalidOperation(n.getLocalizedText(n.DiagnosticCode.Invalid_call_to_up,null));this.top--},t.prototype.down=function(){if(this.top===this.ast.length-1)throw n.Errors.invalidOperation(n.getLocalizedText(n.DiagnosticCode.Invalid_call_to_down,null));this.top++},t.prototype.nodeType=function(){return this.ast()===null?0:this.ast().nodeType()},t.prototype.ast=function(){return t.reverseIndexOf(this.asts,this.asts.length-(this.top+1))},t.prototype.parent=function(){return t.reverseIndexOf(this.asts,this.asts.length-this.top)},t.prototype.count=function(){return this.top+1},t.prototype.get=function(n){return this.asts[n]},t.prototype.isNameOfClass=function(){return this.ast()===null||this.parent()===null?!1:this.ast().nodeType()===21&&this.parent().nodeType()===14&&this.parent().name===this.ast()},t.prototype.isNameOfInterface=function(){return this.ast()===null||this.parent()===null?!1:this.ast().nodeType()===21&&this.parent().nodeType()===15&&this.parent().name===this.ast()},t.prototype.isNameOfArgument=function(){return this.ast()===null||this.parent()===null?!1:this.ast().nodeType()===21&&this.parent().nodeType()===20&&this.parent().id===this.ast()},t.prototype.isNameOfVariable=function(){return this.ast()===null||this.parent()===null?!1:this.ast().nodeType()===21&&this.parent().nodeType()===18&&this.parent().id===this.ast()},t.prototype.isNameOfModule=function(){return this.ast()===null||this.parent()===null?!1:this.ast().nodeType()===21&&this.parent().nodeType()===16&&this.parent().name===this.ast()},t.prototype.isNameOfFunction=function(){return this.ast()===null||this.parent()===null?!1:this.ast().nodeType()===21&&this.parent().nodeType()===13&&this.parent().name===this.ast()},t.prototype.isBodyOfFunction=function(){return this.count()>=2&&this.asts[this.top-1].nodeType()===13&&this.asts[this.top-1].block===this.asts[this.top-0]},t.prototype.isArgumentListOfFunction=function(){return this.count()>=2&&this.asts[this.top-0].nodeType()===1&&this.asts[this.top-1].nodeType()===13&&this.asts[this.top-1].arguments===this.asts[this.top-0]},t.prototype.isTargetOfCall=function(){return this.count()>=2&&this.asts[this.top-1].nodeType()===37&&this.asts[this.top-1].target===this.asts[this.top]},t.prototype.isTargetOfNew=function(){return this.count()>=2&&this.asts[this.top-1].nodeType()===38&&this.asts[this.top-1].target===this.asts[this.top]},t.prototype.isInClassImplementsList=function(){return this.ast()===null||this.parent()===null?!1:this.parent().nodeType()===14&&this.isMemberOfList(this.parent().implementsList,this.ast())},t.prototype.isInInterfaceExtendsList=function(){return this.ast()===null||this.parent()===null?!1:this.parent().nodeType()===15&&this.isMemberOfList(this.parent().extendsList,this.ast())},t.prototype.isMemberOfMemberAccessExpression=function(){return this.count()>1&&this.parent().nodeType()===33&&this.parent().operand2===this.asts[this.top]?!0:!1},t.prototype.isCallExpression=function(){return this.count()>=1&&(this.asts[this.top-0].nodeType()===37||this.asts[this.top-0].nodeType()===38)},t.prototype.isCallExpressionTarget=function(){if(this.count()<2)return!1;var n=this.top,t=this.asts[n].nodeType();for((t===30||t===31||t===21)&&n--;n>=0;){if(n<this.top&&this.asts[n].nodeType()===33&&this.asts[n].operand2===this.asts[n+1]){n--;continue}break}return n<this.top&&(this.asts[n].nodeType()===37||this.asts[n].nodeType()===38)&&this.asts[n+1]===this.asts[n].target},t.prototype.isDeclaration=function(){if(this.ast()!==null)switch(this.ast().nodeType()){case 14:case 15:case 16:case 13:case 18:return!0}return!1},t.prototype.isMemberOfList=function(n,t){if(n&&n.members)for(var i=0,r=n.members.length;i<r;i++)if(n.members[i]===t)return!0;return!1},t}();n.AstPath=t;n.isValidAstNode=r;i=function(){function t(){this.path=new n.AstPath}return t}();n.AstPathContext=i;n.getAstPathToPosition=e;n.walkAST=o}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.encode=function(t){if(t<64)return n.encodedValues.charAt(t);throw TypeError(t+": not a 64 based value");},n.decodeChar=function(t){if(t.length===1)return n.encodedValues.indexOf(t);throw TypeError('"'+t+'" must have length 1');},n.encodedValues="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n}(),i=function(){function i(){}return i.encode=function(n){var i,r;n=n<0?(-n<<1)+1:n<<1;i="";do r=n&31,n=n>>5,n>0&&(r=r|32),i=i+t.encode(r);while(n>0);return i},i.decode=function(i){for(var u=0,e=!1,o=0,f,r=0;r<i.length;r++)if(f=t.decodeChar(i[r]),r===0?((f&1)==1&&(e=!0),u=f>>1&15):u=u|(f&31)<<o,o+=r===0?4:5,(f&32)!=32)return{value:e?-u:u,rest:i.substr(r+1)};throw new Error(n.getDiagnosticMessage(n.DiagnosticCode.Base64_value_0_finished_with_a_continuation_bit,[i]));},i}();n.Base64VLQFormat=i}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n}(),i,r,u;n.SourceMapPosition=t;i=function(){function n(){this.start=new t;this.end=new t;this.nameIndex=-1;this.childMappings=[]}return n}();n.SourceMapping=i;r=function(){function n(n){n&&(this.jsFileName=n.jsFileName,this.sourceMapPath=n.sourceMapPath,this.sourceMapDirectory=n.sourceMapDirectory,this.sourceRoot=n.sourceRoot)}return n}();n.SourceMapSourceInfo=r;u=function(){function t(n,t,i){this.jsFile=n;this.sourceMapOut=t;this.sourceMapSourceInfo=i;this.sourceMappings=[];this.currentMappings=[];this.names=[];this.currentNameIndex=[];this.currentMappings.push(this.sourceMappings)}return t.emitSourceMapping=function(t){var r=t[0],e,a,v,y;r.jsFile.WriteLine("//# sourceMappingURL="+r.sourceMapSourceInfo.sourceMapPath);var p=r.sourceMapOut,i="",o=[],s=0,h=0,w=0,b=0,k=0,d=0,c=[],u=0,l=!1,f=null;for(e=0;e<t.length;e++)r=t[e],a=o.length,o.push(r.sourceMapSourceInfo.tsFilePath),r.names.length>0&&c.push.apply(c,r.names),v=function(t,r){if(f===null||f.emittedColumn!==t.emittedColumn||f.emittedLine!==t.emittedLine){if(h!==t.emittedLine){while(h<t.emittedLine)s=0,i=i+";",h++;l=!1}else l&&(i=i+",");i=i+n.Base64VLQFormat.encode(t.emittedColumn-s);s=t.emittedColumn;i=i+n.Base64VLQFormat.encode(a-k);k=a;i=i+n.Base64VLQFormat.encode(t.sourceLine-1-b);b=t.sourceLine-1;i=i+n.Base64VLQFormat.encode(t.sourceColumn-w);w=t.sourceColumn;r>=0&&(i=i+n.Base64VLQFormat.encode(u+r-d),d=u+r);l=!0;f=t}},y=function(n){for(var t,i=0;i<n.length;i++)t=n[i],v(t.start,t.nameIndex),y(t.childMappings),v(t.end,t.nameIndex)},y(r.sourceMappings),u=u+r.names.length;p.Write(JSON.stringify({version:3,file:r.sourceMapSourceInfo.jsFileName,sourceRoot:r.sourceMapSourceInfo.sourceRoot,sources:o,names:c,mappings:i}));p.Close()},t.MapFileExtension=".map",t}();n.SourceMapper=u}(TypeScript||(TypeScript={})),function(n){var f,t,r,i,u;(function(n){n[n.Prog=0]="Prog";n[n.Module=1]="Module";n[n.DynamicModule=2]="DynamicModule";n[n.Class=3]="Class";n[n.Constructor=4]="Constructor";n[n.Function=5]="Function";n[n.Args=6]="Args";n[n.Interface=7]="Interface"})(n.EmitContainer||(n.EmitContainer={}));f=n.EmitContainer;t=function(){function n(){this.column=0;this.line=0;this.container=0}return n}();n.EmitState=t;r=function(){function t(n){this.compilationSettings=n;this.ioHost=null;this.outputMany=!0;this.commonDirectoryPath=""}return t.prototype.mapOutputFileName=function(n,t){if(this.outputMany||n.script.topLevelMod){var i=n.fileName;return this.compilationSettings.outDirOption!==""&&(i=n.fileName.replace(this.commonDirectoryPath,""),i=this.compilationSettings.outDirOption+i),t(i,!1)}return t(this.compilationSettings.outFileOption,!0)},t.prototype.decodeSourceMapOptions=function(t,i,r){var u=new n.SourceMapSourceInfo(r),e=n.switchToForwardSlashes(t.fileName),o,s,f;return r||(o=n.getPrettyName(i,!1,!0),s=o+n.SourceMapper.MapFileExtension,u.jsFileName=o,this.compilationSettings.mapRoot?this.outputMany||t.script.topLevelMod?(f=e.replace(this.commonDirectoryPath,""),f=this.compilationSettings.mapRoot+f,f=n.TypeScriptCompiler.mapToJSFileName(f,!1)+n.SourceMapper.MapFileExtension,u.sourceMapPath=f,n.isRelative(u.sourceMapPath)&&(f=this.commonDirectoryPath+u.sourceMapPath),u.sourceMapDirectory=n.getRootFilePath(f)):(u.sourceMapPath=this.compilationSettings.mapRoot+s,u.sourceMapDirectory=this.compilationSettings.mapRoot,n.isRelative(u.sourceMapDirectory)&&(u.sourceMapDirectory=n.getRootFilePath(i)+this.compilationSettings.mapRoot)):(u.sourceMapPath=s,u.sourceMapDirectory=n.getRootFilePath(i)),u.sourceRoot=this.compilationSettings.sourceRoot),u.tsFilePath=this.compilationSettings.sourceRoot?n.getRelativePathToFixedPath(this.commonDirectoryPath,e):n.getRelativePathToFixedPath(u.sourceMapDirectory,e),u},t}();n.EmitOptions=r;i=function(){function n(){this.indentAmt=0}return n.prototype.increaseIndent=function(){this.indentAmt+=n.indentStep},n.prototype.decreaseIndent=function(){this.indentAmt-=n.indentStep},n.prototype.getIndent=function(){var t=n.indentStrings[this.indentAmt],i;if(t===undefined){for(t="",i=0;i<this.indentAmt;i=i+n.indentStep)t+=n.indentStepString;n.indentStrings[this.indentAmt]=t}return t},n.indentStep=4,n.indentStepString="    ",n.indentStrings=[],n}();n.Indenter=i;u=function(){function r(r,u,f,e){this.emittingFileName=r;this.outfile=u;this.emitOptions=f;this.semanticInfoChain=e;this.globalThisCapturePrologueEmitted=!1;this.extendsPrologueEmitted=!1;this.thisClassNode=null;this.thisFunctionDeclaration=null;this.moduleName="";this.emitState=new t;this.indenter=new i;this.modAliasId=null;this.firstModAlias=null;this.allSourceMappers=[];this.sourceMapper=null;this.captureThisStmtString="var _this = this;";this.varListCountStack=[0];this.declStack=[];this.resolvingContext=new n.PullTypeResolutionContext;this.exportAssignmentIdentifier=null;this.document=null;this.copyrightElement=null;n.globalSemanticInfoChain=e;n.globalBinder.semanticInfoChain=e}return r.prototype.pushDecl=function(n){n&&(this.declStack[this.declStack.length]=n)},r.prototype.popDecl=function(n){n&&this.declStack.length--},r.prototype.getEnclosingDecl=function(){var n=this.declStack.length;return n>0?this.declStack[n-1]:null},r.prototype.setExportAssignmentIdentifier=function(n){this.exportAssignmentIdentifier=n},r.prototype.getExportAssignmentIdentifier=function(){return this.exportAssignmentIdentifier},r.prototype.setDocument=function(n){this.document=n},r.prototype.importStatementShouldBeEmitted=function(n){var r=this.semanticInfoChain.getDeclForAST(n,this.document.fileName),t=r.getSymbol(),i;return!n.isExternalImportDeclaration()&&(t.getExportAssignedValueSymbol()||(i=t.getExportAssignedContainerSymbol(),i&&i.getInstanceSymbol()))?!0:t.isUsedAsValue},r.prototype.emitImportDeclaration=function(t){var o,s,u,y;if(this.importStatementShouldBeEmitted(t)){o=this.modAliasId;s=this.firstModAlias;this.emitComments(t,!0);var h=this.semanticInfoChain.getDeclForAST(t,this.document.fileName),i=h.getSymbol(),r=i.getContainer(),c=r?r.kind:0,l=r?r.getAssociatedContainerType():null,a=l?l.kind:0,f=!1,v=!1,e;n.hasFlag(h.flags,1)&&(c==4||c===32||a===4||a===32)&&(i.getExportAssignedTypeSymbol()||i.getExportAssignedContainerSymbol()?f=!0:(u=i.getExportAssignedValueSymbol(),u&&(u.kind==65536||u.kind==16384)?f=!0:v=!0),e=this.emitState.container===2?"exports.":this.moduleName+".");this.recordSourceMappingStart(t);v?this.writeToOutput(e):this.writeToOutput("var ");this.writeToOutput(t.id.actualText+" = ");this.modAliasId=t.id.actualText;this.firstModAlias=t.firstAliasedModToString();y=t.alias.nodeType()===11?t.alias.term:t.alias;this.emitJavascript(y,!1);this.recordSourceMappingEnd(t);this.writeToOutput(";");f&&(this.writeLineToOutput(""),this.emitIndent(),this.recordSourceMappingStart(t),this.writeToOutput(e+t.id.actualText+" = "+t.id.actualText),this.recordSourceMappingEnd(t),this.writeToOutput(";"));this.emitComments(t,!1);this.modAliasId=o;this.firstModAlias=s}},r.prototype.setSourceMappings=function(n){this.allSourceMappers.push(n);this.sourceMapper=n},r.prototype.updateLineAndColumn=function(t){var i=n.TextUtilities.parseLineStarts(n.TextFactory.createText(t));i.length>1?(this.emitState.line+=i.length-1,this.emitState.column=t.length-i[i.length-1]):this.emitState.column+=t.length},r.prototype.writeToOutput=function(n){this.outfile.Write(n);this.updateLineAndColumn(n)},r.prototype.writeToOutputTrimmable=function(n){this.writeToOutput(n)},r.prototype.writeLineToOutput=function(n){this.outfile.WriteLine(n);this.updateLineAndColumn(n);this.emitState.column=0;this.emitState.line++},r.prototype.writeCaptureThisStatement=function(n){this.emitIndent();this.recordSourceMappingStart(n);this.writeToOutput(this.captureThisStmtString);this.recordSourceMappingEnd(n);this.writeLineToOutput("")},r.prototype.setInVarBlock=function(n){this.varListCountStack[this.varListCountStack.length-1]=n},r.prototype.setContainer=function(n){var t=this.emitState.container;return this.emitState.container=n,t},r.prototype.getIndentString=function(){return this.indenter.getIndent()},r.prototype.emitIndent=function(){this.writeToOutput(this.getIndentString())},r.prototype.emitComment=function(n){var t,r,i;if(!this.emitOptions.compilationSettings.removeComments){if(t=n.getText(),r=this.emitState.column,r===0&&this.emitIndent(),n.isBlockComment)if(this.recordSourceMappingStart(n),this.writeToOutput(t[0]),t.length>1||n.endsLine){for(i=1;i<t.length;i++)this.writeLineToOutput(""),this.emitIndent(),this.writeToOutput(t[i]);this.recordSourceMappingEnd(n);this.writeLineToOutput("")}else{this.recordSourceMappingEnd(n);this.writeToOutput(" ");return}else this.recordSourceMappingStart(n),this.writeToOutput(t[0]),this.recordSourceMappingEnd(n),this.writeLineToOutput("");r!=0&&this.emitIndent()}},r.prototype.emitComments=function(n,t){var i,r,u;t?(r=n.preComments(),r&&n===this.copyrightElement?(u=this.getCopyrightComments(),i=r.slice(u.length)):i=r):i=n.postComments();this.emitCommentsArray(i)},r.prototype.emitCommentsArray=function(n){if(!this.emitOptions.compilationSettings.removeComments&&n)for(var t=0,i=n.length;t<i;t++)this.emitComment(n[t])},r.prototype.emitObjectLiteral=function(t){var i=!n.hasFlag(t.getFlags(),2),r;this.writeToOutput("{");r=t.operand;r.members.length>0&&(i?this.writeLineToOutput(""):this.writeToOutput(" "),this.indenter.increaseIndent(),this.emitCommaSeparatedList(r,i),this.indenter.decreaseIndent(),i?this.emitIndent():this.writeToOutput(" "));this.writeToOutput("}")},r.prototype.emitArrayLiteral=function(t){var i=!n.hasFlag(t.getFlags(),2),r;this.writeToOutput("[");r=t.operand;r.members.length>0&&(i&&this.writeLineToOutput(""),this.indenter.increaseIndent(),this.emitCommaSeparatedList(r,i),this.indenter.decreaseIndent(),i&&this.emitIndent());this.writeToOutput("]")},r.prototype.emitNew=function(n,t,i){if(this.writeToOutput("new "),t.nodeType()===11){var r=t;r.arrayCount?this.writeToOutput("Array()"):(r.term.emit(this),this.writeToOutput("()"))}else t.emit(this),this.recordSourceMappingStart(i),this.writeToOutput("("),this.emitCommaSeparatedList(i),this.recordSourceMappingStart(n.closeParenSpan),this.writeToOutput(")"),this.recordSourceMappingEnd(n.closeParenSpan),this.recordSourceMappingEnd(i)},r.prototype.getVarDeclFromIdentifier=function(t){var r,u,i;n.CompilerDiagnostics.assert(t.boundDecl&&t.boundDecl.init&&t.boundDecl.init.nodeType()===21,"The init expression of bound declaration when emitting as constant has to be indentifier");var e=t.boundDecl.init,o=e,f=this.semanticInfoChain.getSymbolForAST(t.boundDecl,this.document.fileName);return f&&(r=f.getDeclarations(),r.length===1&&(u=r[0],i=this.semanticInfoChain.getASTForDecl(u),i&&i.nodeType()===18))?{boundDecl:i,pullDecl:u}:null},r.prototype.getConstantDecl=function(n){var i=this.semanticInfoChain.getSymbolForAST(n,this.document.fileName),r,u,t;return i&&i.hasFlag(524288)&&(r=i.getDeclarations(),r.length===1&&(u=r[0],t=this.semanticInfoChain.getASTForDecl(u),t&&t.nodeType()===18))?{boundDecl:t,pullDecl:u}:null},r.prototype.tryEmitConstant=function(n){var u,i,r,t;return this.emitOptions.compilationSettings.propagateEnumConstants?(u=n.operand2,i=this.getConstantDecl(n),i&&(r=i.boundDecl.constantValue,r!==null))?(this.writeToOutput(r.toString()),t=" /* ",t+=u.actualText,t+=" */",this.writeToOutput(t),!0):!1:!1},r.prototype.emitCall=function(n,t,i){this.emitSuperCall(n)||(t.nodeType()===13&&this.writeToOutput("("),n.target.nodeType()===31&&this.emitState.container===4?this.writeToOutput("_super.call"):this.emitJavascript(t,!1),t.nodeType()===13&&this.writeToOutput(")"),this.recordSourceMappingStart(i),this.writeToOutput("("),n.target.nodeType()===31&&this.emitState.container===4&&(this.writeToOutput("this"),i&&i.members.length&&this.writeToOutput(", ")),this.emitCommaSeparatedList(i),this.recordSourceMappingStart(n.closeParenSpan),this.writeToOutput(")"),this.recordSourceMappingEnd(n.closeParenSpan),this.recordSourceMappingEnd(i))},r.prototype.emitInnerFunction=function(t,i,r){var e,o,s,h,v,f,u,y;typeof r=="undefined"&&(r=!0);e=this.semanticInfoChain.getDeclForAST(t,this.document.fileName);this.pushDecl(e);o=!1;r&&this.emitComments(t,!0);o&&this.writeToOutput("(");this.recordSourceMappingStart(t);var c=t.isAccessor()?n.PullHelpers.getAccessorSymbol(t,this.semanticInfoChain,this.document.fileName):null,l=c?c.getContainer():null,a=l?l.kind:0;if(t.isAccessor()&&a!==8&&a!==33554432||this.writeToOutput("function "),t.isConstructor&&this.writeToOutput(this.thisClassNode.name.actualText),i&&(s=t.getNameText(),s&&!t.isAccessor()&&(t.name&&this.recordSourceMappingStart(t.name),this.writeToOutput(s),t.name&&this.recordSourceMappingEnd(t.name))),this.writeToOutput("("),h=0,t.arguments){for(this.emitComments(t.arguments,!0),v=this.setContainer(6),h=t.arguments.members.length,f=h,t.variableArgList&&f--,u=0;u<f;u++)y=t.arguments.members[u],y.emit(this),u<f-1&&this.writeToOutput(", ");this.setContainer(v);this.emitComments(t.arguments,!1)}this.writeLineToOutput(") {");t.isConstructor?this.recordSourceMappingNameStart("constructor"):t.isGetAccessor()?this.recordSourceMappingNameStart("get_"+t.getNameText()):t.isSetAccessor()?this.recordSourceMappingNameStart("set_"+t.getNameText()):this.recordSourceMappingNameStart(t.getNameText());this.indenter.increaseIndent();this.emitDefaultValueAssignments(t);this.emitRestParameterInitializer(t);this.shouldCaptureThis(t)&&this.writeCaptureThisStatement(t);t.isConstructor?this.emitConstructorStatements(t):this.emitModuleElements(t.block.statements);this.emitCommentsArray(t.block.closeBraceLeadingComments);this.indenter.decreaseIndent();this.emitIndent();this.recordSourceMappingStart(t.block.closeBraceSpan);this.writeToOutput("}");this.recordSourceMappingNameEnd();this.recordSourceMappingEnd(t.block.closeBraceSpan);this.recordSourceMappingEnd(t);o&&this.writeToOutput(")");this.recordSourceMappingEnd(t);this.emitComments(t,!1);this.popDecl(e)},r.prototype.emitDefaultValueAssignments=function(n){var r=n.arguments.members.length,i,t;for(n.variableArgList&&r--,i=0;i<r;i++)t=n.arguments.members[i],t.init&&(this.emitIndent(),this.recordSourceMappingStart(t),this.writeToOutput("if (typeof "+t.id.actualText+' === "undefined") { '),this.recordSourceMappingStart(t.id),this.writeToOutput(t.id.actualText),this.recordSourceMappingEnd(t.id),this.writeToOutput(" = "),this.emitJavascript(t.init,!1),this.writeLineToOutput("; }"),this.recordSourceMappingEnd(t))},r.prototype.emitRestParameterInitializer=function(n){if(n.variableArgList){var i=n.arguments.members.length,t=n.arguments.members[i-1];this.emitIndent();this.recordSourceMappingStart(t);this.writeToOutput("var ");this.recordSourceMappingStart(t.id);this.writeToOutput(t.id.actualText);this.recordSourceMappingEnd(t.id);this.writeLineToOutput(" = [];");this.recordSourceMappingEnd(t);this.emitIndent();this.writeToOutput("for (");this.recordSourceMappingStart(t);this.writeToOutput("var _i = 0;");this.recordSourceMappingEnd(t);this.writeToOutput(" ");this.recordSourceMappingStart(t);this.writeToOutput("_i < (arguments.length - "+(i-1)+")");this.recordSourceMappingEnd(t);this.writeToOutput("; ");this.recordSourceMappingStart(t);this.writeToOutput("_i++");this.recordSourceMappingEnd(t);this.writeLineToOutput(") {");this.indenter.increaseIndent();this.emitIndent();this.recordSourceMappingStart(t);this.writeToOutput(t.id.actualText+"[_i] = arguments[_i + "+(i-1)+"];");this.recordSourceMappingEnd(t);this.writeLineToOutput("");this.indenter.decreaseIndent();this.emitIndent();this.writeLineToOutput("}")}},r.prototype.getImportDecls=function(){for(var e=this.semanticInfoChain.getUnit(this.document.fileName),o=[],i=e.getTopLevelDecls(),t,u,s,f,r;i.length>0;)t=i.shift(),t.kind&256&&(u=e.getASTForDecl(t),u.alias.nodeType()===21&&(s=u.alias.actualText,n.isQuoted(s)&&(f=t.getSymbol(),r=f&&f.type,r&&r!==this.semanticInfoChain.anyTypeSymbol&&!r.isError()&&o.push(t)))),i=i.concat(t.getChildDecls());return o},r.prototype.getModuleImportAndDependencyList=function(n){var u="",i="",e=this.semanticInfoChain.getUnit(this.document.fileName),r=this.getImportDecls(this.document.fileName),t;if(r.length)for(t=0;t<r.length;t++){var f=r[t],o=f.getSymbol(),s=e.getASTForDecl(f);o.isUsedAsValue&&(t<=r.length-1&&(i+=", ",u+=", "),u+="__"+f.name+"__",i+=s.firstAliasedModToString())}for(t=0;t<n.amdDependencies.length;t++)i+=', "'+n.amdDependencies[t]+'"';return{importList:u,dependencyList:i}},r.prototype.shouldCaptureThis=function(n){var i,t;return n.nodeType()===2?(i=this.semanticInfoChain.getUnit(this.document.fileName).getTopLevelDecls()[0],(i.flags&262144)==262144):(t=this.semanticInfoChain.getDeclForAST(n,this.document.fileName),t)?(t.flags&262144)==262144:!1},r.prototype.emitModule=function(t){var s=this.semanticInfoChain.getDeclForAST(t,this.document.fileName),i,e,o,c,l;this.pushDecl(s);i=this.moduleName;this.moduleName=t.name.actualText;n.isTSFile(this.moduleName)&&(this.moduleName=this.moduleName.substring(0,this.moduleName.length-3));var h=n.hasFlag(t.getModuleFlags(),512),a=this.outfile,b=this.emittingFileName,k=this.allSourceMappers,v=this.sourceMapper,d=this.emitState.column,g=this.emitState.line,r=this.setContainer(1),f=n.hasFlag(s.flags,1),u=n.hasFlag(t.getModuleFlags(),256);if(h){if(this.setExportAssignmentIdentifier(null),this.setContainer(2),this.recordSourceMappingStart(t),this.emitOptions.compilationSettings.moduleGenTarget===2){var y='["require", "exports"',p="require, exports",w=this.getModuleImportAndDependencyList(t);p+=w.importList;y+=w.dependencyList+"]";this.writeLineToOutput("define("+y+", function("+p+") {")}}else f||(this.recordSourceMappingStart(t),this.writeToOutput("var "),this.recordSourceMappingStart(t.name),this.writeToOutput(this.moduleName),this.recordSourceMappingEnd(t.name),this.writeLineToOutput(";"),this.recordSourceMappingEnd(t),this.emitIndent()),this.writeToOutput("("),this.recordSourceMappingStart(t),this.writeToOutput("function ("),this.recordSourceMappingStart(t.name),this.writeToOutput(this.moduleName),this.recordSourceMappingEnd(t.name),this.writeLineToOutput(") {");u||this.recordSourceMappingNameStart(this.moduleName);h&&this.emitOptions.compilationSettings.moduleGenTarget!==2||this.indenter.increaseIndent();this.shouldCaptureThis(t)&&this.writeCaptureThisStatement(t);this.emitModuleElements(t.members);h&&this.emitOptions.compilationSettings.moduleGenTarget!==2||this.indenter.decreaseIndent();this.emitIndent();h?(e=this.getExportAssignmentIdentifier(),o=s.getSymbol().getExportAssignedValueSymbol(),this.emitOptions.compilationSettings.moduleGenTarget===2?(!e||!o||o.kind&n.PullElementKind.SomeTypeReference||(this.indenter.increaseIndent(),this.emitIndent(),this.writeLineToOutput("return "+e+";"),this.indenter.decreaseIndent()),this.writeToOutput("});")):!e||!o||o.kind&n.PullElementKind.SomeTypeReference||(this.emitIndent(),this.writeLineToOutput("module.exports = "+e+";")),u||this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t),this.outfile!==a&&(this.emitSourceMapsAndClose(),v!==null&&(this.allSourceMappers=k,this.sourceMapper=v,this.emitState.column=d,this.emitState.line=g),this.outfile=a,this.emittingFileName=b)):(c=r===2,this.recordSourceMappingStart(t.endingToken),r===0&&f?(this.writeToOutput("}"),u||this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t.endingToken),this.writeToOutput(")(this."+this.moduleName+" || (this."+this.moduleName+" = {}));")):f||r===0?(l=i!==""?(c?"exports":i)+".":i,this.writeToOutput("}"),u||this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t.endingToken),this.writeToOutput(")("+l+this.moduleName+" || ("+l+this.moduleName+" = {}));")):f||r===0?(this.writeToOutput("}"),u||this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t.endingToken),this.writeToOutput(")();")):(this.writeToOutput("}"),u||this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t.endingToken),this.writeToOutput(")("+this.moduleName+" || ("+this.moduleName+" = {}));")),this.recordSourceMappingEnd(t),r!==0&&f&&(this.recordSourceMappingStart(t),c?(this.writeLineToOutput(""),this.emitIndent(),this.writeToOutput("var "+this.moduleName+" = exports."+this.moduleName+";")):(this.writeLineToOutput(""),this.emitIndent(),this.writeToOutput("var "+this.moduleName+" = "+i+"."+this.moduleName+";")),this.recordSourceMappingEnd(t)));this.setContainer(r);this.moduleName=i;this.popDecl(s)},r.prototype.emitEnumElement=function(t){this.emitComments(t,!0);this.recordSourceMappingStart(t);var i=t.id.actualText,r=n.isQuoted(i);this.writeToOutput(this.moduleName);this.writeToOutput("[");this.writeToOutput(this.moduleName);this.writeToOutput("[");this.writeToOutput(r?i:'"'+i+'"');this.writeToOutput("] = ");t.init?t.init.emit(this):t.constantValue!==null?this.writeToOutput(t.constantValue.toString()):this.writeToOutput("null");this.writeToOutput("] = ");this.writeToOutput(r?i:'"'+i+'"');this.recordSourceMappingEnd(t);this.emitComments(t,!1);this.writeToOutput(";")},r.prototype.emitIndex=function(n,t){n.emit(this);this.writeToOutput("[");t.emit(this);this.writeToOutput("]")},r.prototype.emitFunction=function(t){var r,u,i,f,e;n.hasFlag(t.getFunctionFlags(),128)||(u=this.thisFunctionDeclaration,this.thisFunctionDeclaration=t,r=t.isConstructor?this.setContainer(4):this.setContainer(5),i=t.getNameText(),(r!==4||(t.getFunctionFlags()&256)==0)&&(this.recordSourceMappingStart(t),this.emitInnerFunction(t,t.name&&!t.name.isMissing())),this.setContainer(r),this.thisFunctionDeclaration=u,n.hasFlag(t.getFunctionFlags(),128)||(f=this.semanticInfoChain.getDeclForAST(t,this.document.fileName),n.hasFlag(t.getFunctionFlags(),16)?this.thisClassNode&&(this.writeLineToOutput(""),t.isAccessor()?this.emitPropertyAccessor(t,this.thisClassNode.name.actualText,!1):(this.emitIndent(),this.recordSourceMappingStart(t),this.writeToOutput(this.thisClassNode.name.actualText+"."+i+" = "+i+";"),this.recordSourceMappingEnd(t))):(this.emitState.container===1||this.emitState.container===2)&&n.hasFlag(f.flags,1)&&(this.writeLineToOutput(""),this.emitIndent(),e=this.emitState.container===1?this.moduleName:"exports",this.recordSourceMappingStart(t),this.writeToOutput(e+"."+i+" = "+i+";"),this.recordSourceMappingEnd(t))))},r.prototype.emitAmbientVarDecl=function(n){n.init&&(this.emitComments(n,!0),this.recordSourceMappingStart(n),this.recordSourceMappingStart(n.id),this.writeToOutput(n.id.actualText),this.recordSourceMappingEnd(n.id),this.writeToOutput(" = "),this.emitJavascript(n.init,!1),this.recordSourceMappingEnd(n),this.emitComments(n,!1))},r.prototype.varListCount=function(){return this.varListCountStack[this.varListCountStack.length-1]},r.prototype.emitVarDeclVar=function(){return this.varListCount()>=0&&(this.writeToOutput("var "),this.setInVarBlock(-this.varListCount())),!0},r.prototype.onEmitVar=function(){this.varListCount()>0?this.setInVarBlock(this.varListCount()-1):this.varListCount()<0&&this.setInVarBlock(this.varListCount()+1)},r.prototype.emitVariableDeclaration=function(t){var r=t.declarators.members[0],f=this.semanticInfoChain.getSymbolForAST(r,this.document.fileName),e=f?f.getContainer():null,c=e?e.kind:0,l=c===8,u,o,i,s,h;if(this.emitComments(t,!0),this.recordSourceMappingStart(t),this.setInVarBlock(t.declarators.members.length),u=this.semanticInfoChain.getDeclForAST(r,this.document.fileName),o=u&&n.hasFlag(u.flags,8)&&r.init===null,!o)for(i=0,s=t.declarators.members.length;i<s;i++)h=t.declarators.members[i],i>0&&(l?this.writeToOutputTrimmable(";"):this.writeToOutputTrimmable(", ")),h.emit(this);this.recordSourceMappingEnd(t);this.emitComments(t,!1)},r.prototype.emitVariableDeclarator=function(t){var r=this.semanticInfoChain.getDeclForAST(t,this.document.fileName),o;if(this.pushDecl(r),(r.flags&8)==8)this.emitAmbientVarDecl(t),this.onEmitVar();else{this.emitComments(t,!0);this.recordSourceMappingStart(t);var e=this.semanticInfoChain.getSymbolForAST(t,this.document.fileName),i=e?e.getContainer():null,f=i?i.kind:0,u=i?i.getAssociatedContainerType():null,s=u?u.kind:0;f===8?this.emitState.container!==6&&(t.isStatic()?this.writeToOutput(i.getName()+"."):this.writeToOutput("this.")):n.PullHelpers.symbolIsModule(i)||n.PullHelpers.symbolIsEnum(i)||n.PullHelpers.symbolIsModule(u)||n.PullHelpers.symbolIsEnum(u)||f===32||s===32?n.hasFlag(r.flags,1)||t.isProperty()?this.emitState.container===2?this.writeToOutput("exports."):this.writeToOutput(this.moduleName+"."):this.emitVarDeclVar():this.emitVarDeclVar();this.recordSourceMappingStart(t.id);this.writeToOutput(t.id.actualText);this.recordSourceMappingEnd(t.id);o=t.init!==null;o&&(this.writeToOutputTrimmable(" = "),this.varListCountStack.push(0),t.init.emit(this),this.varListCountStack.pop());f===8&&this.emitState.container!==6&&this.writeToOutput(";");this.onEmitVar();this.recordSourceMappingEnd(t);this.emitComments(t,!1)}this.popDecl(r)},r.prototype.symbolIsUsedInItsEnclosingContainer=function(n,t){var f,e,o,i,r,u;if(typeof t=="undefined"&&(t=!1),f=n.getDeclarations(),f.length&&(e=this.getEnclosingDecl(),e&&(o=f[0].getParentDecl(),o))){for(i=o,r=e;i;){if(i.kind===(t?32:4))break;i=i.getParentDecl()}if(i)while(r){if(r.kind===(t?32:4))break;r=r.getParentDecl()}if(i&&r)return u=i===r,!u&&n.hasFlag(32768)&&(u=i===r.getParentDecl()),u}return!1},r.prototype.emitName=function(t,i){var r,e,a,o,v,u,s,c,l,h;if(this.emitComments(t,!0),this.recordSourceMappingStart(t),!t.isMissing()){if(r=this.semanticInfoChain.getSymbolForAST(t,this.document.fileName),r||(r=this.semanticInfoChain.anyTypeSymbol),e=this.semanticInfoChain.getAliasSymbolForAST(t,this.document.fileName),r&&e&&(a=this.resolvingContext.resolvingTypeReference?e.getExportAssignedTypeSymbol():e.getExportAssignedValueSymbol(),r==a&&(r=e,e=null)),o=r.kind,v=e&&e.getDeclarations()[0].getParentDecl()==this.getEnclosingDecl(),i&&this.emitState.container!==6&&r&&(u=r.getContainer(),u))if(s=u.kind,s===8)r.hasFlag(16)?this.writeToOutput(u.getName()+"."):o===4096&&(this.emitThis(),this.writeToOutput("."));else if(n.PullHelpers.symbolIsModule(u)||s===64||u.hasFlag(163840))o===4096||o===67108864?this.writeToOutput(u.getDisplayName()+"."):r.hasFlag(1)&&o===1024&&!r.hasFlag(163840)?this.writeToOutput(u.getDisplayName()+"."):r.hasFlag(1)&&!this.symbolIsUsedInItsEnclosingContainer(r)&&this.writeToOutput(u.getDisplayName()+".");else if(s===32||u.hasFlag(65536))o===4096?this.writeToOutput("exports."):!r.hasFlag(1)||v||r.hasFlag(n.PullElementFlags.ImplicitVariable)||r.kind===32768||r.kind===8||r.kind===64||this.writeToOutput("exports.");else if(o===4096)u.kind===8&&(this.emitThis(),this.writeToOutput("."));else{for(c=r.getDeclarations(),l=!0,h=0;h<c.length;h++)c[h].getScriptName()===this.document.fileName&&(l=!1);l&&this.writeToOutput(u.getName()+".")}if(r&&o===32)if(this.emitOptions.compilationSettings.moduleGenTarget===2)this.writeToOutput("__"+this.modAliasId+"__");else{var p=this.semanticInfoChain.getASTForSymbol(r,this.document.fileName),f=t.actualText,y=r.hasFlag(8);f=y?f:this.firstModAlias?this.firstModAlias:n.quoteBaseName(f);f=y?f:n.isRelative(n.stripQuotes(f))?f:n.quoteStr("./"+n.stripQuotes(f));this.writeToOutput("require("+f+")")}else this.writeToOutput(t.actualText)}this.recordSourceMappingEnd(t);this.emitComments(t,!1)},r.prototype.recordSourceMappingNameStart=function(n){if(this.sourceMapper){var t=n;n?this.sourceMapper.currentNameIndex.length>0&&(t=this.sourceMapper.names[this.sourceMapper.currentNameIndex[this.sourceMapper.currentNameIndex.length-1]]+"."+n):t="";this.sourceMapper.names.push(t);this.sourceMapper.currentNameIndex.push(this.sourceMapper.names.length-1)}},r.prototype.recordSourceMappingNameEnd=function(){this.sourceMapper&&this.sourceMapper.currentNameIndex.pop()},r.prototype.recordSourceMappingStart=function(t){var r,i,u,f;this.sourceMapper&&n.isValidAstNode(t)&&(r={line:-1,character:-1},i=new n.SourceMapping,i.start.emittedColumn=this.emitState.column,i.start.emittedLine=this.emitState.line,u=this.document.lineMap,u.fillLineAndCharacterFromPosition(t.minChar,r),i.start.sourceColumn=r.character,i.start.sourceLine=r.line+1,u.fillLineAndCharacterFromPosition(t.limChar,r),i.end.sourceColumn=r.character,i.end.sourceLine=r.line+1,this.sourceMapper.currentNameIndex.length>0&&(i.nameIndex=this.sourceMapper.currentNameIndex[this.sourceMapper.currentNameIndex.length-1]),f=this.sourceMapper.currentMappings[this.sourceMapper.currentMappings.length-1],f.push(i),this.sourceMapper.currentMappings.push(i.childMappings))},r.prototype.recordSourceMappingEnd=function(t){if(this.sourceMapper&&n.isValidAstNode(t)){this.sourceMapper.currentMappings.pop();var i=this.sourceMapper.currentMappings[this.sourceMapper.currentMappings.length-1],r=i[i.length-1];r.end.emittedColumn=this.emitState.column;r.end.emittedLine=this.emitState.line}},r.prototype.emitSourceMapsAndClose=function(){this.sourceMapper!==null&&n.SourceMapper.emitSourceMapping(this.allSourceMappers);try{this.outfile.Close()}catch(t){r.throwEmitterError(t)}},r.prototype.emitParameterPropertyAndMemberVariableAssignments=function(){var u=this.thisClassNode.constructorDecl,i,t,r,f;if(u&&u.arguments)for(t=0,r=u.arguments.members.length;t<r;t++)i=u.arguments.members[t],(i.getVarFlags()&256)!=0&&(this.emitIndent(),this.recordSourceMappingStart(i),this.recordSourceMappingStart(i.id),this.writeToOutput("this."+i.id.actualText),this.recordSourceMappingEnd(i.id),this.writeToOutput(" = "),this.recordSourceMappingStart(i.id),this.writeToOutput(i.id.actualText),this.recordSourceMappingEnd(i.id),this.writeLineToOutput(";"),this.recordSourceMappingEnd(i));for(t=0,r=this.thisClassNode.members.members.length;t<r;t++)this.thisClassNode.members.members[t].nodeType()===18&&(f=this.thisClassNode.members.members[t],!n.hasFlag(f.getVarFlags(),16)&&f.init&&(this.emitIndent(),this.emitVariableDeclarator(f),this.writeLineToOutput("")))},r.prototype.emitCommaSeparatedList=function(n,t){var i,r,u;if(typeof t=="undefined"&&(t=!1),n!==null)for(i=0,r=n.members.length;i<r;i++)u=n.members[i],this.emitJavascript(u,t),i<r-1&&this.writeToOutput(t?",":", "),t&&this.writeLineToOutput("")},r.prototype.emitModuleElements=function(n){var r,i,u,t;if(n!==null){for(this.emitComments(n,!0),r=null,i=0,u=n.members.length;i<u;i++)t=n.members[i],t.shouldEmit()&&(this.emitSpaceBetweenConstructs(r,t),this.emitJavascript(t,!0),this.writeLineToOutput(""),r=t);this.emitComments(n,!1)}},r.prototype.isDirectivePrologueElement=function(n){if(n.nodeType()===89){var t=n;return t.expression.nodeType()===5}return!1},r.prototype.emitSpaceBetweenConstructs=function(n,t){if(n!==null&&t!==null&&n.minChar!==-1&&n.limChar!==-1&&t.minChar!==-1&&t.limChar!==-1){var i=this.document.lineMap,r=i.getLineNumberFromPosition(n.limChar),u=i.getLineNumberFromPosition(t.minChar);u-r>1&&this.writeLineToOutput("")}},r.prototype.getCopyrightComments=function(){var e=this.copyrightElement.preComments(),u,s,f,h,t,c;if(e){var i=this.document.lineMap,r=[],o=null;for(u=0,s=e.length;u<s;u++){if(f=e[u],o&&(t=i.getLineNumberFromPosition(o.limChar),h=i.getLineNumberFromPosition(f.minChar),h>=t+2))return r;r.push(f);o=f}if(t=i.getLineNumberFromPosition(n.ArrayUtilities.last(r).limChar),c=i.getLineNumberFromPosition(this.copyrightElement.minChar),c>=t+2)return r}return[]},r.prototype.emitPossibleCopyrightHeaders=function(n){var r=n.moduleElements,t,i;r.members.length>0&&(t=r.members[0],t.nodeType()===16&&(i=t,i.isWholeFile()&&(t=i.members.members[0])),this.copyrightElement=t,this.emitCommentsArray(this.getCopyrightComments()))},r.prototype.emitScriptElements=function(n){var r=n.moduleElements,i,u,f,t;for(this.emitPossibleCopyrightHeaders(n),i=0,u=r.members.length;i<u;i++){if(t=r.members[i],!this.isDirectivePrologueElement(t))break;this.emitJavascript(t,!0);this.writeLineToOutput("")}for(this.emitPrologue(n),f=null;i<u;i++)t=r.members[i],t.shouldEmit()&&(this.emitSpaceBetweenConstructs(f,t),this.emitJavascript(t,!0),this.writeLineToOutput(""),f=t)},r.prototype.emitConstructorStatements=function(n){var i=n.block.statements,t,e,r;if(i!==null){this.emitComments(i,!0);var o=this.thisClassNode.extendsList&&this.thisClassNode.extendsList.members.length>0,u=o?1:0,f=null;for(t=0,e=i.members.length;t<e;t++)t===u&&this.emitParameterPropertyAndMemberVariableAssignments(),r=i.members[t],r.shouldEmit()&&(this.emitSpaceBetweenConstructs(f,r),this.emitJavascript(r,!0),this.writeLineToOutput(""),f=r);t===u&&this.emitParameterPropertyAndMemberVariableAssignments();this.emitComments(i,!1)}},r.prototype.emitJavascript=function(n,t){n!==null&&(t&&this.indenter.indentAmt>0&&this.emitIndent(),n.emit(this))},r.prototype.emitPropertyAccessor=function(t,i,r){var f,u;(n.hasFlag(t.getFunctionFlags(),32)||(f=n.PullHelpers.getAccessorSymbol(t,this.semanticInfoChain,this.document.fileName),!f.getGetter()))&&(this.emitIndent(),this.recordSourceMappingStart(t),this.writeLineToOutput("Object.defineProperty("+i+(r?'.prototype, "':', "')+t.name.actualText+'", {'),this.indenter.increaseIndent(),u=n.PullHelpers.getGetterAndSetterFunction(t,this.semanticInfoChain,this.document.fileName),u.getter&&(this.emitIndent(),this.recordSourceMappingStart(u.getter),this.writeToOutput("get: "),this.emitInnerFunction(u.getter,!1),this.writeLineToOutput(",")),u.setter&&(this.emitIndent(),this.recordSourceMappingStart(u.setter),this.writeToOutput("set: "),this.emitInnerFunction(u.setter,!1),this.writeLineToOutput(",")),this.emitIndent(),this.writeLineToOutput("enumerable: true,"),this.emitIndent(),this.writeLineToOutput("configurable: true"),this.indenter.decreaseIndent(),this.emitIndent(),this.writeLineToOutput("});"),this.recordSourceMappingEnd(t))},r.prototype.emitPrototypeMember=function(n,t){n.isAccessor()?this.emitPropertyAccessor(n,t,!0):(this.emitIndent(),this.recordSourceMappingStart(n),this.emitComments(n,!0),this.writeToOutput(t+".prototype."+n.getNameText()+" = "),this.emitInnerFunction(n,!1,!1),this.writeLineToOutput(";"))},r.prototype.emitClass=function(t){var e=this.semanticInfoChain.getDeclForAST(t,this.document.fileName),s,i,r,o,c;this.pushDecl(e);s=this.thisClassNode;this.thisClassNode=t;i=t.name.actualText;this.emitComments(t,!0);r=this.setContainer(3);this.recordSourceMappingStart(t);this.writeToOutput("var "+i);var u=t.extendsList&&t.extendsList.members.length,f=null,h=null;u?this.writeLineToOutput(" = (function (_super) {"):this.writeLineToOutput(" = (function () {");this.recordSourceMappingNameStart(i);this.indenter.increaseIndent();u&&(f=t.extendsList.members[0],h=f.nodeType()===37?f.target:f,this.emitIndent(),this.writeLineToOutput("__extends("+i+", _super);"));this.emitIndent();o=t.constructorDecl;o?(o.emit(this),this.writeLineToOutput("")):(this.recordSourceMappingStart(t),this.indenter.increaseIndent(),this.writeLineToOutput("function "+t.name.actualText+"() {"),this.recordSourceMappingNameStart("constructor"),u&&(this.emitIndent(),this.writeLineToOutput("_super.apply(this, arguments);")),this.shouldCaptureThis(t)&&this.writeCaptureThisStatement(t),this.emitParameterPropertyAndMemberVariableAssignments(),this.indenter.decreaseIndent(),this.emitIndent(),this.writeLineToOutput("}"),this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t));this.emitClassMembers(t);this.emitIndent();this.recordSourceMappingStart(t.endingToken);this.writeLineToOutput("return "+i+";");this.recordSourceMappingEnd(t.endingToken);this.indenter.decreaseIndent();this.emitIndent();this.recordSourceMappingStart(t.endingToken);this.writeToOutput("}");this.recordSourceMappingNameEnd();this.recordSourceMappingEnd(t.endingToken);this.recordSourceMappingStart(t);this.writeToOutput(")(");u&&(this.resolvingContext.resolvingTypeReference=!0,this.emitJavascript(h,!1),this.resolvingContext.resolvingTypeReference=!1);this.writeToOutput(");");this.recordSourceMappingEnd(t);(r===1||r===2)&&n.hasFlag(e.flags,1)&&(this.writeLineToOutput(""),this.emitIndent(),c=r===1?this.moduleName:"exports",this.recordSourceMappingStart(t),this.writeToOutput(c+"."+i+" = "+i+";"),this.recordSourceMappingEnd(t));this.recordSourceMappingEnd(t);this.emitComments(t,!1);this.setContainer(r);this.thisClassNode=s;this.popDecl(e)},r.prototype.emitClassMembers=function(t){for(var o=null,i,f,u,r=0,e=t.members.members.length;r<e;r++)f=t.members.members[r],f.nodeType()===13&&(i=f,n.hasFlag(i.getFunctionFlags(),256)&&!i.isSignature()&&(this.emitSpaceBetweenConstructs(o,i),n.hasFlag(i.getFunctionFlags(),16)?i.isAccessor()?this.emitPropertyAccessor(i,this.thisClassNode.name.actualText,!1):(this.emitIndent(),this.recordSourceMappingStart(i),this.writeToOutput(t.name.actualText+"."+i.name.actualText+" = "),this.emitInnerFunction(i,!1),this.writeLineToOutput(";")):this.emitPrototypeMember(i,t.name.actualText),o=i));for(r=0,e=t.members.members.length;r<e;r++)f=t.members.members[r],f.nodeType()===18&&(u=f,n.hasFlag(u.getVarFlags(),16)&&u.init&&(this.emitSpaceBetweenConstructs(o,u),this.emitIndent(),this.recordSourceMappingStart(u),this.writeToOutput(t.name.actualText+"."+u.id.actualText+" = "),u.init.emit(this),this.writeLineToOutput(";"),this.recordSourceMappingEnd(u),o=u))},r.prototype.requiresExtendsBlock=function(n){for(var t,r,i=0,u=n.members.length;i<u;i++)if(t=n.members[i],t.nodeType()===16){if(this.requiresExtendsBlock(t.members))return!0}else if(t.nodeType()===14&&(r=t,r.extendsList&&r.extendsList.members.length>0))return!0;return!1},r.prototype.emitPrologue=function(n){this.extendsPrologueEmitted||this.requiresExtendsBlock(n.moduleElements)&&(this.extendsPrologueEmitted=!0,this.writeLineToOutput("var __extends = this.__extends || function (d, b) {"),this.writeLineToOutput("    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];"),this.writeLineToOutput("    function __() { this.constructor = d; }"),this.writeLineToOutput("    __.prototype = b.prototype;"),this.writeLineToOutput("    d.prototype = new __();"),this.writeLineToOutput("};"));this.globalThisCapturePrologueEmitted||this.shouldCaptureThis(n)&&(this.globalThisCapturePrologueEmitted=!0,this.writeLineToOutput(this.captureThisStmtString))},r.prototype.emitSuperReference=function(){this.writeToOutput("_super.prototype")},r.prototype.emitSuperCall=function(n){if(n.target.nodeType()===33){var t=n.target;if(t.operand1.nodeType()===31)return t.emit(this),this.writeToOutput(".call("),this.emitThis(),n.arguments&&n.arguments.members.length>0&&(this.writeToOutput(", "),this.emitCommaSeparatedList(n.arguments)),this.writeToOutput(")"),!0}return!1},r.prototype.emitThis=function(){!this.thisFunctionDeclaration||this.thisFunctionDeclaration.isMethod()||this.thisFunctionDeclaration.isConstructor?this.writeToOutput("this"):this.writeToOutput("_this")},r.prototype.emitBlockOrStatement=function(n){n.nodeType()===82?n.emit(this):(this.writeLineToOutput(""),this.indenter.increaseIndent(),this.emitJavascript(n,!0),this.indenter.decreaseIndent())},r.throwEmitterError=function(n){var t=new Error(n.message);t.isEmitterError=!0;throw t;},r.handleEmitterError=function(t,i){if(i.isEmitterError===!0)return[new n.Diagnostic(t,0,0,n.DiagnosticCode.Emit_Error_0,[i.message])];throw i;},r}();n.Emitter=u}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){this.prefix="";this.suffix=""}return n.prototype.isString=function(){return!1},n.prototype.isArray=function(){return!1},n.prototype.isMarker=function(){return!this.isString()&&!this.isArray()},n.prototype.toString=function(){return n.memberNameToString(this)},n.memberNameToString=function(t,i,r){var u,f,e;if(typeof r=="undefined"&&(r=0),u=t.prefix,t.isString())u+=t.text;else if(t.isArray())for(f=t,e=0;e<f.entries.length;e++){if(f.entries[e].isMarker()){i&&i.push(r+u.length);continue}u+=n.memberNameToString(f.entries[e],i,r+u.length);u+=f.delim}return u+t.suffix},n.create=function(n,t,u){if(typeof n=="string")return new i(n);var f=new r;return t&&(f.prefix=t),u&&(f.suffix=u),f.entries.push(n),f},n}(),i,r;n.MemberName=t;i=function(n){function t(t){n.call(this);this.text=t}return __extends(t,n),t.prototype.isString=function(){return!0},t}(t);n.MemberNameString=i;r=function(n){function t(){n.call(this);this.delim="";this.entries=[]}return __extends(t,n),t.prototype.isArray=function(){return!0},t.prototype.add=function(n){this.entries.push(n)},t.prototype.addAll=function(n){for(var t=0;t<n.length;t++)this.entries.push(n[t])},t}(t);n.MemberNameArray=r}(TypeScript||(TypeScript={})),function(n){function i(n){return n.replace(p,"")}function o(n){return n.indexOf("'")!==-1}function w(n){return n.indexOf('"')!==-1||o(n)}function u(n){return'"'+n+'"'}function b(n){return n.indexOf('"')!==-1?(n=n.replace('"',"'"),n=n.replace('"',"'")):(n=n.replace("'",'"'),n=n.replace("'",'"')),n}function t(n){return n.replace(s,"/")}function r(n){return n.length>5&&n.substring(n.length-5,n.length)===".d.ts"?n.substring(0,n.length-5):n.length>3&&n.substring(n.length-3,n.length)===".ts"?n.substring(0,n.length-3):n.length>3&&n.substring(n.length-3,n.length)===".js"?n.substring(0,n.length-3):n}function k(n){return h(n)?e(n):e(n)}function f(n,t){var i=n.toLocaleUpperCase(),r=t.toLocaleUpperCase(),u=r.length;return i.length>u&&i.substring(i.length-u,i.length)===r}function d(n){return f(n,".js")}function h(n){return f(n,".ts")}function g(n){return f(n,".d.ts")}function nt(n,f,e){typeof f=="undefined"&&(f=!0);typeof e=="undefined"&&(e=!1);var s=e?t(n):r(i(n)),o=this.getPathComponents(s);return o.length?f?u(o[o.length-1]):o[o.length-1]:n}function c(n){return n.split("/")}function tt(n,i,r){var o,s;typeof r=="undefined"&&(r=!0);i=t(i);for(var f=this.getPathComponents(i),e=this.getPathComponents(n),u=0;u<f.length&&u<e.length;u++)if(e[u]!==f[u])break;if(u!==0){for(o="",s=f.slice(u,f.length);u<e.length;u++)e[u]!==""&&(o=o+"../");return o+s.join("/")}return r&&i.indexOf("://")===-1&&(i="file:///"+i),i}function it(n){var f=r(i(n)),e=l(f),t,o;return e===""?n:(t=f.split(e),o=t.length>1?1:0,u(t[o]))}function e(n){return r(i(n))+".d.ts"}function rt(n){return n.length>0&&n.charAt(0)==="."}function ut(n){return n.length>0&&(n.charAt(0)==="\\"||n.charAt(0)==="/"||n.indexOf(":\\")!==-1||n.indexOf(":/")!==-1)}function l(n){if(n==="")return n;var t=n.indexOf("/")!==-1;return t?v(n):""}function a(n){n=t(n);var i=c(n);return i.slice(0,i.length-1)}function v(n){var t=a(n);return t.join("/")+"/"}function ft(n){return n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n}function et(i){var e,r,u,f;for(y.test(i)&&(i="file:"+i),e=this.getPathComponents(t(i)),r=[],u=0;u<e.length;u++)if(f=e[u],f!=="."){if(r.length>0&&n.ArrayUtilities.last(r)!==".."&&f===".."){r.pop();continue}r.push(f)}return r.join("/")}var p=/["']/g,s,y;n.stripQuotes=i;n.isSingleQuoted=o;n.isQuoted=w;n.quoteStr=u;n.swapQuotes=b;s=/\\/g;n.switchToForwardSlashes=t;n.trimModName=r;n.getDeclareFilePath=k;n.isJSFile=d;n.isTSFile=h;n.isDTSFile=g;n.getPrettyName=nt;n.getPathComponents=c;n.getRelativePathToFixedPath=tt;n.quoteBaseName=it;n.changePathToDTS=e;n.isRelative=rt;n.isRooted=ut;n.getRootFilePath=l;n.filePathComponents=a;n.filePath=v;n.convertToDirectoryPath=ft;y=/^\\\\[^\\]/;n.normalizePath=et}(TypeScript||(TypeScript={})),function(n){function f(t){var i=/^(\/\/\/\s*<reference\s+path=)('|")(.+?)\2\s*(static=('|")(.+?)\2\s*)*\/>/gim.exec(t);if(i){var r=n.normalizePath(i[3]),f=n.normalizePath(r),u=i.length>=7&&i[6]==="true";return u&&n.CompilerDiagnostics.debugPrint(r+" is resident"),{line:0,character:0,position:0,length:0,path:n.switchToForwardSlashes(f),isResident:u}}return null}function e(n){var t=/^(\/\/\/\s*<implicit-import\s*)*\/>/gim.exec(n);return t?!0:!1}function o(n,t){var i=u(n,t,null,!1);return i.referencedFiles}function s(i,r,u,f){for(var o=0,e={line:-1,character:-1},s,h,c;u.tokenKind!==10;)u.tokenKind===49&&(s=o+u.leadingTriviaWidth(),u=r.scan(t,!1),n.SyntaxFacts.isIdentifierNameOrAnyKeyword(u)&&(u=r.scan(t,!1),u.tokenKind===108&&(u=r.scan(t,!1),(u.tokenKind===66||u.tokenKind===67)&&(u=r.scan(t,!1),u.tokenKind===73&&(h=r.absoluteIndex(),u=r.scan(t,!1),i.fillLineAndCharacterFromPosition(s,e),u.tokenKind===14&&(c={line:e.line,character:e.character,position:h+u.leadingTriviaWidth(),length:u.width(),path:n.stripQuotes(n.switchToForwardSlashes(u.text())),isResident:!1},f.push(c))))))),o=r.absoluteIndex(),u=r.scan(t,!1)}function h(n,t,i,r){for(var a=t.leadingTrivia(),s=0,h={line:-1,character:-1},v=!1,e,c,u,p,l,o=0,y=a.count();o<y;o++)e=a.syntaxTriviaAt(o),e.kind()===7&&(c=e.fullText(),u=f(c),u&&(n.fillLineAndCharacterFromPosition(s,h),u.position=s,u.length=e.fullWidth(),u.line=h.line,u.character=h.character,r.push(u)),i&&(p=/^(\/\/\/\s*<reference\s+no-default-lib=)('|")(.+?)\2\s*\/>/gim,l=p.exec(c),l&&(v=l[3]==="true"))),s+=e.fullWidth();return{noDefaultLib:v}}function u(u,f,e,o){var l,p;typeof o=="undefined"&&(o=!0);e=e||new i;var c=n.SimpleText.fromScriptSnapshot(f),a=new n.Scanner(u,c,e.codeGenTarget,r),v=a.scan(t,!1),y=[];return o&&s(c.lineMap(),a,v,y),l=[],p=h(c.lineMap(),v,e,l),t.length=0,{settings:e,referencedFiles:l,importedFiles:y,isLibFile:p.noDefaultLib}}function c(t){return new n.ParseOptions(t.codeGenTarget,t.allowAutomaticSemicolonInsertion,t.allowModuleKeywordInExternalModuleReference)}var i=function(){function n(){this.propagateEnumConstants=!1;this.removeComments=!1;this.watch=!1;this.noResolve=!1;this.allowBool=!1;this.allowAutomaticSemicolonInsertion=!0;this.allowModuleKeywordInExternalModuleReference=!1;this.noImplicitAny=!1;this.noLib=!1;this.codeGenTarget=0;this.moduleGenTarget=0;this.outFileOption="";this.outDirOption="";this.mapSourceFiles=!1;this.mapRoot="";this.sourceRoot="";this.generateDeclarationFiles=!1;this.useCaseSensitiveFileResolution=!1;this.gatherDiagnostics=!1;this.updateTC=!1;this.codepage=null}return n}(),r,t;n.CompilationSettings=i;n.getImplicitImport=e;n.getReferencedFiles=o;r=n.ArrayUtilities.createArray(2048,0);t=[];n.preProcessFile=u;n.getParseOptions=c}(TypeScript||(TypeScript={})),function(n){var i=function(){function n(){this.resolvedFiles=[];this.diagnostics=[];this.seenNoDefaultLibTag=!1}return n}(),t,r;n.ReferenceResolutionResult=i;t=function(){function n(n,t,i,r){this.filePath=n;this.position=t;this.length=i;this.isImported=r}return n}();r=function(){function r(n,t,i){this.inputFileNames=n;this.host=t;this.settings=i;this.visited={}}return r.resolve=function(n,t,i){var u=new r(n,t,i);return u.resolveInputFiles()},r.prototype.resolveInputFiles=function(){var r=new i,u,n,f;if(!this.inputFileNames||this.inputFileNames.length<=0)return r;for(u=new t(null,0,0,!1),n=0,f=this.inputFileNames.length;n<f;n++)this.resolveIncludedFile(this.inputFileNames[n],u,r);return r},r.prototype.resolveIncludedFile=function(t,i,r){var u=this.getNormalizedFilePath(t,i.filePath),f,e;return this.isSameFile(u,i.filePath)?(i.isImported||r.diagnostics.push(new n.Diagnostic(i.filePath,i.position,i.length,n.DiagnosticCode.A_file_cannot_have_a_reference_to_itself,null)),u):(n.isTSFile(u)||n.isDTSFile(u)||(f=u+".d.ts",e=u+".ts",u=this.host.fileExists(f)?f:e),!this.host.fileExists(u))?(i.isImported||r.diagnostics.push(new n.Diagnostic(i.filePath,i.position,i.length,n.DiagnosticCode.Cannot_resolve_referenced_file_0,[t])),u):this.resolveFile(u,r)},r.prototype.resolveImportedFile=function(t,i,r){var o=n.isRelative(t),s=o?!1:n.isRooted(t),u;if(o||s)return this.resolveIncludedFile(t,i,r);var f=this.host.getParentDirectory(i.filePath),e=null,h=t+".d.ts",c=t+".ts";do{if(u=this.host.resolveRelativePath(h,f),this.host.fileExists(u)){e=u;break}if(u=this.host.resolveRelativePath(c,f),this.host.fileExists(u)){e=u;break}f=this.host.getParentDirectory(f)}while(f);return e?this.resolveFile(e,r):t},r.prototype.resolveFile=function(i,r){var l=this.isVisited(i),f,e,a,h,u;if(l)i=l;else{for(this.recordVisitedFile(i),f=n.preProcessFile(i,this.host.getScriptSnapshot(i),this.settings),f.isLibFile&&(r.seenNoDefaultLibTag=!0),e=[],u=0,a=f.referencedFiles.length;u<a;u++){var o=f.referencedFiles[u],s=new t(i,o.position,o.length,!1),v=this.resolveIncludedFile(o.path,s,r);e.push(v)}for(h=[],u=0;u<f.importedFiles.length;u++){var c=f.importedFiles[u],s=new t(i,c.position,c.length,!0),y=this.resolveImportedFile(c.path,s,r);h.push(y)}r.resolvedFiles.push({path:i,referencedFiles:e,importedFiles:h})}return i},r.prototype.getNormalizedFilePath=function(n,t){var i=t?this.host.getParentDirectory(t):"";return this.host.resolveRelativePath(n,i)},r.prototype.getUniqueFileId=function(n){return this.settings.useCaseSensitiveFileResolution?n:n.toLocaleUpperCase()},r.prototype.recordVisitedFile=function(n){this.visited[this.getUniqueFileId(n)]=n},r.prototype.isVisited=function(n){return this.visited[this.getUniqueFileId(n)]},r.prototype.isSameFile=function(n,t){return!n||!t?!1:this.settings.useCaseSensitiveFileResolution?n===t:n.toLocaleUpperCase()===t.toLocaleUpperCase()},r}();n.ReferenceResolver=r}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n,t,i){this.ioHost=n;this.path=t;this.writeByteOrderMark=i;this.contents="";this.onNewLine=!0}return t.prototype.Write=function(n){this.contents+=n;this.onNewLine=!1},t.prototype.WriteLine=function(t){this.contents+=t;this.contents+=n.newLine();this.onNewLine=!0},t.prototype.Close=function(){try{this.ioHost.writeFile(this.path,this.contents,this.writeByteOrderMark)}catch(t){n.Emitter.throwEmitterError(t)}},t}(),i;n.TextWriter=t;i=function(){function i(i,r,u){this.emittingFileName=i;this.document=r;this.compiler=u;this.declFile=null;this.indenter=new n.Indenter;this.declarationContainerStack=[];this.isDottedModuleName=[];this.ignoreCallbackAst=null;this.varListCount=0;this.emittedReferencePaths=!1;this.declFile=new t(this.compiler.emitOptions.ioHost,i,this.document.byteOrderMark!==0)}return i.prototype.widenType=function(n){return n===this.compiler.semanticInfoChain.undefinedTypeSymbol||n===this.compiler.semanticInfoChain.nullTypeSymbol?this.compiler.semanticInfoChain.anyTypeSymbol:n},i.prototype.close=function(){try{this.declFile.Close()}catch(t){n.Emitter.throwEmitterError(t)}},i.prototype.emitDeclarations=function(t){var i=this,r=function(n,t){switch(t.nodeType()){case 98:return i.variableStatementCallback(n,t);case 19:return i.variableDeclarationCallback(n,t);case 18:return i.variableDeclaratorCallback(n,t);case 82:return i.blockCallback(n,t);case 13:return i.functionDeclarationCallback(n,t);case 14:return i.classDeclarationCallback(n,t);case 15:return i.interfaceDeclarationCallback(n,t);case 17:return i.importDeclarationCallback(n,t);case 16:return i.moduleDeclarationCallback(n,t);case 88:return i.exportAssignmentCallback(n,t);case 2:return i.scriptCallback(n,t);default:return i.defaultCallback(n,t)}};n.getAstWalkerFactory().walk(t,function(n,t,i){return i.options.goChildren=r(!0,n),n},function(n,t,i){return i.options.goChildren=r(!1,n),n})},i.prototype.getAstDeclarationContainer=function(){return this.declarationContainerStack[this.declarationContainerStack.length-1]},i.prototype.emitDottedModuleName=function(){return this.isDottedModuleName.length===0?!1:this.isDottedModuleName[this.isDottedModuleName.length-1]},i.prototype.getIndentString=function(n){return typeof n=="undefined"&&(n=!1),this.indenter.getIndent()},i.prototype.emitIndent=function(){this.declFile.Write(this.getIndentString())},i.prototype.canEmitSignature=function(t,i,r,u){var f,e;if(typeof r=="undefined"&&(r=!0),typeof u=="undefined"&&(u=!0),f=u?this.getAstDeclarationContainer():this.declarationContainerStack[this.declarationContainerStack.length-2],e=this.compiler.semanticInfoChain.getDeclForAST(i,this.document.fileName),f.nodeType()===16&&!n.hasFlag(e.flags,1)){var s=(new Date).getTime(),o=this.compiler.semanticInfoChain.getSymbolForAST(i,this.document.fileName),h=o&&o.isExternallyVisible();return n.declarationEmitIsExternallyVisibleTime+=(new Date).getTime()-s,h}return!r&&f.nodeType()===2&&n.hasFlag(e.flags,8)?!1:!0},i.prototype.canEmitPrePostAstSignature=function(t,i,r){return this.ignoreCallbackAst?(n.CompilerDiagnostics.assert(this.ignoreCallbackAst!==i,"Ignore Callback AST mismatch"),this.ignoreCallbackAst=null,!1):r&&!this.canEmitSignature(t,i,!0,r)?(this.ignoreCallbackAst=i,!1):!0},i.prototype.getDeclFlagsString=function(t,i,r){var u=this.getIndentString(),o=i.flags,f,e;return n.hasFlag(t,16)?(n.hasFlag(t,2)&&(u+="private "),u+="static "):n.hasFlag(t,2)?u+="private ":n.hasFlag(t,4)?u+="public ":(f=!n.hasFlag(o,1),e=this.getAstDeclarationContainer(),e.nodeType()===16&&n.hasFlag(e.getModuleFlags(),256)&&n.hasFlag(o,1)&&(u+="export ",f=!0),f&&r!=="interface"&&r!="import"&&(u+="declare "),u+=r+" "),u},i.prototype.emitDeclFlags=function(n,t,i){this.declFile.Write(this.getDeclFlagsString(n,t,i))},i.prototype.canEmitTypeAnnotationSignature=function(t){return typeof t=="undefined"&&(t=0),!n.hasFlag(t,2)},i.prototype.pushDeclarationContainer=function(n){this.declarationContainerStack.push(n)},i.prototype.popDeclarationContainer=function(t){n.CompilerDiagnostics.assert(t!==this.getAstDeclarationContainer(),"Declaration container mismatch");this.declarationContainerStack.pop()},i.prototype.emitTypeNamesMember=function(n,t){var i,r;if(typeof t=="undefined"&&(t=!1),n.prefix==="{ "?(t&&this.emitIndent(),this.declFile.WriteLine("{"),this.indenter.increaseIndent(),t=!0):n.prefix!==""&&(t&&this.emitIndent(),this.declFile.Write(n.prefix),t=!1),n.isString())t&&this.emitIndent(),this.declFile.Write(n.text);else if(n.isArray())for(i=n,r=0;r<i.entries.length;r++)this.emitTypeNamesMember(i.entries[r],t),i.delim==="; "&&this.declFile.WriteLine(";");n.suffix==="}"?(this.indenter.decreaseIndent(),this.emitIndent(),this.declFile.Write(n.suffix)):this.declFile.Write(n.suffix)},i.prototype.emitTypeSignature=function(t){var r=this.getAstDeclarationContainer(),u=(new Date).getTime(),f=this.compiler.semanticInfoChain.getDeclForAST(r,this.document.fileName),e=f.getSymbol(),i;n.declarationEmitTypeSignatureTime+=(new Date).getTime()-u;i=t.getScopedNameEx(e);this.emitTypeNamesMember(i)},i.prototype.emitComment=function(n){var i=n.getText(),t;for(this.declFile.onNewLine?this.emitIndent():n.isBlockComment||(this.declFile.WriteLine(""),this.emitIndent()),this.declFile.Write(i[0]),t=1;t<i.length;t++)this.declFile.WriteLine(""),this.emitIndent(),this.declFile.Write(i[t]);n.endsLine||!n.isBlockComment?this.declFile.WriteLine(""):this.declFile.Write(" ")},i.prototype.emitDeclarationComments=function(n,t){if(typeof t=="undefined"&&(t=!0),!this.compiler.emitOptions.compilationSettings.removeComments){var i=n.docComments();this.writeDeclarationComments(i,t)}},i.prototype.writeDeclarationComments=function(n,t){if(typeof t=="undefined"&&(t=!0),n.length>0){for(var i=0;i<n.length;i++)this.emitComment(n[i]);t?this.declFile.onNewLine||this.declFile.WriteLine(""):this.declFile.onNewLine&&this.emitIndent()}},i.prototype.emitTypeOfBoundDecl=function(t){var r=(new Date).getTime(),u=this.compiler.semanticInfoChain.getDeclForAST(t,this.document.fileName),f=u.getSymbol(),i;(n.declarationEmitGetBoundDeclTypeTime+=(new Date).getTime()-r,i=this.widenType(f.type),i)&&(t.typeExpr||t.init&&i!==this.compiler.semanticInfoChain.anyTypeSymbol)&&(this.declFile.Write(": "),this.emitTypeSignature(i))},i.prototype.variableDeclaratorCallback=function(t,i){if(t&&this.canEmitSignature(n.ToDeclFlags(i.getVarFlags()),i,!1)){var r=this.getAstDeclarationContainer().nodeType()===15;this.emitDeclarationComments(i);r?(this.emitIndent(),this.declFile.Write(i.id.actualText),n.hasFlag(i.id.getFlags(),4)&&this.declFile.Write("?")):(this.varListCount>=0&&(this.emitDeclFlags(n.ToDeclFlags(i.getVarFlags()),this.compiler.semanticInfoChain.getDeclForAST(i,this.document.fileName),"var"),this.varListCount=-this.varListCount),this.declFile.Write(i.id.actualText));this.canEmitTypeAnnotationSignature(n.ToDeclFlags(i.getVarFlags()))&&this.emitTypeOfBoundDecl(i);this.varListCount>0?this.varListCount--:this.varListCount<0&&this.varListCount++;this.varListCount<0?this.declFile.Write(", "):this.declFile.WriteLine(";")}return!1},i.prototype.blockCallback=function(){return!1},i.prototype.variableStatementCallback=function(){return!0},i.prototype.variableDeclarationCallback=function(n,t){return this.varListCount=n?t.declarators.members.length:0,!0},i.prototype.emitArgDecl=function(t,i){this.indenter.increaseIndent();this.emitDeclarationComments(t,!1);this.declFile.Write(t.id.actualText);t.isOptionalArg()&&this.declFile.Write("?");this.indenter.decreaseIndent();this.canEmitTypeAnnotationSignature(n.ToDeclFlags(i.getFunctionFlags()))&&this.emitTypeOfBoundDecl(t)},i.prototype.isOverloadedCallSignature=function(t){var r=(new Date).getTime(),u=this.compiler.semanticInfoChain.getDeclForAST(t,this.document.fileName),f=u.getSymbol();n.declarationEmitIsOverloadedCallSignatureTime+=(new Date).getTime()-r;var e=f.type,i=e.getCallSignatures();return i&&i.length>1},i.prototype.functionDeclarationCallback=function(t,i){var h,c,u,l,r,e,o,f,v,y,s;if(!t)return!1;if(i.isAccessor())return this.emitPropertyAccessorSignature(i);var a=this.getAstDeclarationContainer().nodeType()===15,p=(new Date).getTime(),w=this.compiler.semanticInfoChain.getSymbolForAST(i,this.document.fileName);if(n.declarationEmitFunctionDeclarationGetSymbolTime+=(new Date).getTime()-p,h=w.type,i.block){if((c=h.getConstructSignatures(),c&&c.length>1)||this.isOverloadedCallSignature(i))return!1}else if(!a&&n.hasFlag(i.getFunctionFlags(),2)&&this.isOverloadedCallSignature(i)){u=h.getCallSignatures();n.Debug.assert(u&&u.length>1);var b=u[0].isDefinition()?u[1]:u[0],k=b.getDeclarations()[0],d=this.compiler.semanticInfoChain.getASTForDecl(k);if(d!==i)return!1}if(!this.canEmitSignature(n.ToDeclFlags(i.getFunctionFlags()),i,!1))return!1;if(l=this.compiler.semanticInfoChain.getDeclForAST(i,this.document.fileName),r=l.getSignatureSymbol(),this.emitDeclarationComments(i),i.isConstructor?(this.emitIndent(),this.declFile.Write("constructor"),this.emitTypeParameters(i.typeArguments,r)):(e=i.getNameText(),a?(this.emitIndent(),i.isConstructMember()?(this.declFile.Write("new"),this.emitTypeParameters(i.typeArguments,r)):i.isCallMember()||i.isIndexerMember()?this.emitTypeParameters(i.typeArguments,r):(this.declFile.Write(e),this.emitTypeParameters(i.typeArguments,r),n.hasFlag(i.name.getFlags(),4)&&this.declFile.Write("? "))):(this.emitDeclFlags(n.ToDeclFlags(i.getFunctionFlags()),l,"function"),e==="__missing"&&i.name&&i.name.isMissing()?i.isConstructMember()&&this.declFile.Write("new"):this.declFile.Write(e),this.emitTypeParameters(i.typeArguments,r))),i.isIndexerMember()?this.declFile.Write("["):this.declFile.Write("("),i.arguments)for(o=i.arguments.members.length,i.variableArgList&&o--,f=0;f<o;f++)v=i.arguments.members[f],this.emitArgDecl(v,i),f<o-1&&this.declFile.Write(", ");return i.variableArgList&&(y=i.arguments.members[i.arguments.members.length-1],i.arguments.members.length>1?this.declFile.Write(", ..."):this.declFile.Write("..."),this.emitArgDecl(y,i)),i.isIndexerMember()?this.declFile.Write("]"):this.declFile.Write(")"),!i.isConstructor&&this.canEmitTypeAnnotationSignature(n.ToDeclFlags(i.getFunctionFlags()))&&(s=r.returnType,(i.returnTypeAnnotation||s&&s!==this.compiler.semanticInfoChain.anyTypeSymbol)&&(this.declFile.Write(": "),this.emitTypeSignature(s))),this.declFile.WriteLine(";"),!1},i.prototype.emitBaseExpression=function(t,i){var f=(new Date).getTime(),r=this.compiler.semanticInfoChain.getSymbolForAST(t.members[i],this.document.fileName),u;n.declarationEmitGetBaseTypeTime+=(new Date).getTime()-f;u=r&&r;this.emitTypeSignature(u)},i.prototype.emitBaseList=function(n,t){var r=t?n.extendsList:n.implementsList,u,f,i;if(r&&r.members.length>0)for(u=t?"extends":"implements",this.declFile.Write(" "+u+" "),f=r.members.length,i=0;i<f;i++)i>0&&this.declFile.Write(", "),this.emitBaseExpression(r,i)},i.prototype.emitAccessorDeclarationComments=function(t){var u,r,i;this.compiler.emitOptions.compilationSettings.removeComments||(u=(new Date).getTime(),r=n.PullHelpers.getGetterAndSetterFunction(t,this.compiler.semanticInfoChain,this.document.fileName),n.declarationEmitGetAccessorFunctionTime+=(new Date).getTime(),i=[],r.getter&&(i=i.concat(r.getter.docComments())),r.setter&&(i=i.concat(r.setter.docComments())),this.writeDeclarationComments(i))},i.prototype.emitPropertyAccessorSignature=function(t){var u=(new Date).getTime(),i=n.PullHelpers.getAccessorSymbol(t,this.compiler.semanticInfoChain,this.document.fileName),r;return(n.declarationEmitGetAccessorFunctionTime+=(new Date).getTime(),!n.hasFlag(t.getFunctionFlags(),32)&&i.getGetter())?!1:(this.emitAccessorDeclarationComments(t),this.emitDeclFlags(n.ToDeclFlags(t.getFunctionFlags()),this.compiler.semanticInfoChain.getDeclForAST(t,this.document.fileName),"var"),this.declFile.Write(t.name.actualText),this.canEmitTypeAnnotationSignature(n.ToDeclFlags(t.getFunctionFlags()))&&(this.declFile.Write(" : "),r=i.type,this.emitTypeSignature(r)),this.declFile.WriteLine(";"),!1)},i.prototype.emitClassMembersFromConstructorDefinition=function(t){var u,r,i,f;if(t.arguments)for(u=t.arguments.members.length,t.variableArgList&&u--,r=0;r<u;r++)i=t.arguments.members[r],n.hasFlag(i.getVarFlags(),256)&&(f=this.compiler.semanticInfoChain.getDeclForAST(t,this.document.fileName),this.emitDeclarationComments(i),this.emitDeclFlags(n.ToDeclFlags(i.getVarFlags()),f,"var"),this.declFile.Write(i.id.actualText),this.canEmitTypeAnnotationSignature(n.ToDeclFlags(i.getVarFlags()))&&this.emitTypeOfBoundDecl(i),this.declFile.WriteLine(";"))},i.prototype.classDeclarationCallback=function(t,i){var r,u;return this.canEmitPrePostAstSignature(n.ToDeclFlags(i.getVarFlags()),i,t)?(t?(r=i.name.actualText,this.emitDeclarationComments(i),u=this.compiler.semanticInfoChain.getDeclForAST(i,this.document.fileName),this.emitDeclFlags(n.ToDeclFlags(i.getVarFlags()),u,"class"),this.declFile.Write(r),this.pushDeclarationContainer(i),this.emitTypeParameters(i.typeParameters),this.emitBaseList(i,!0),this.emitBaseList(i,!1),this.declFile.WriteLine(" {"),this.indenter.increaseIndent(),i.constructorDecl&&this.emitClassMembersFromConstructorDefinition(i.constructorDecl)):(this.indenter.decreaseIndent(),this.popDeclarationContainer(i),this.emitIndent(),this.declFile.WriteLine("}")),!0):!1},i.prototype.emitTypeParameters=function(t,i){var r,u,e;if(t&&t.members.length){this.declFile.Write("<");var o=this.getAstDeclarationContainer(),s=(new Date).getTime(),h=this.compiler.semanticInfoChain.getDeclForAST(o,this.document.fileName),f=h.getSymbol();for(n.declarationEmitGetTypeParameterSymbolTime+=(new Date).getTime()-s,i?r=i.getTypeParameters():(r=f.getTypeArguments(),r&&r.length||(r=f.getTypeParameters())),u=0;u<r.length;u++)u&&this.declFile.Write(", "),e=r[u].getScopedNameEx(f,!0),this.emitTypeNamesMember(e);this.declFile.Write(">")}},i.prototype.interfaceDeclarationCallback=function(t,i){var r,u;return this.canEmitPrePostAstSignature(n.ToDeclFlags(i.getVarFlags()),i,t)?i.isObjectTypeLiteral?!1:(t?(r=i.name.actualText,this.emitDeclarationComments(i),u=this.compiler.semanticInfoChain.getDeclForAST(i,this.document.fileName),this.emitDeclFlags(n.ToDeclFlags(i.getVarFlags()),u,"interface"),this.declFile.Write(r),this.pushDeclarationContainer(i),this.emitTypeParameters(i.typeParameters),this.emitBaseList(i,!0),this.declFile.WriteLine(" {"),this.indenter.increaseIndent()):(this.indenter.decreaseIndent(),this.popDeclarationContainer(i),this.emitIndent(),this.declFile.WriteLine("}")),!0):!1},i.prototype.importDeclarationCallback=function(t,i){if(t){var f=this.compiler.semanticInfoChain.getDeclForAST(i,this.document.fileName),r=f.getSymbol(),u=n.hasFlag(i.getVarFlags(),1);(u||r.typeUsedExternally||n.PullContainerTypeSymbol.usedAsSymbol(r.getContainer(),r))&&(this.emitDeclarationComments(i),this.emitIndent(),u&&this.declFile.Write("export "),this.declFile.Write("import "),this.declFile.Write(i.id.actualText+" = "),i.isExternalImportDeclaration()?this.declFile.WriteLine("require("+i.getAliasName()+");"):this.declFile.WriteLine(i.getAliasName()+";"))}return!1},i.prototype.emitEnumSignature=function(t){var u,f,r;if(!this.canEmitSignature(n.ToDeclFlags(t.getModuleFlags()),t))return!1;for(this.emitDeclarationComments(t),u=this.compiler.semanticInfoChain.getDeclForAST(t,this.document.fileName),this.emitDeclFlags(n.ToDeclFlags(t.getModuleFlags()),u,"enum"),this.declFile.WriteLine(t.name.actualText+" {"),this.indenter.increaseIndent(),f=t.members.members.length,r=0;r<f;r++){var e=t.members.members[r],o=e,i=o.declaration.declarators.members[0];this.emitDeclarationComments(i);this.emitIndent();this.declFile.Write(i.id.actualText);i.init&&i.init.nodeType()==7&&this.declFile.Write(" = "+i.init.text());this.declFile.WriteLine(",")}return this.indenter.decreaseIndent(),this.emitIndent(),this.declFile.WriteLine("}"),!1},i.prototype.moduleDeclarationCallback=function(t,i){var f,r,u;return n.hasFlag(i.getModuleFlags(),256)?(n.hasFlag(i.getModuleFlags(),512)&&(t?this.pushDeclarationContainer(i):this.popDeclarationContainer(i)),!0):i.isEnum()?(t&&this.emitEnumSignature(i),!1):this.canEmitPrePostAstSignature(n.ToDeclFlags(i.getModuleFlags()),i,t)?(t?(this.emitDottedModuleName()?this.dottedModuleEmit+=".":(f=this.compiler.semanticInfoChain.getDeclForAST(i,this.document.fileName),this.dottedModuleEmit=this.getDeclFlagsString(n.ToDeclFlags(i.getModuleFlags()),f,"module")),this.dottedModuleEmit+=i.name.actualText,r=i.members.members.length===1&&i.members.members[0].nodeType()===16&&!i.members.members[0].isEnum()&&n.hasFlag(i.members.members[0].getModuleFlags(),1),u=i.docComments(),r=r&&(u===null||u.length===0),this.isDottedModuleName.push(r),this.pushDeclarationContainer(i),r||(this.emitDeclarationComments(i),this.declFile.Write(this.dottedModuleEmit),this.declFile.WriteLine(" {"),this.indenter.increaseIndent())):(this.emitDottedModuleName()||(this.indenter.decreaseIndent(),this.emitIndent(),this.declFile.WriteLine("}")),this.popDeclarationContainer(i),this.isDottedModuleName.pop()),!0):!1},i.prototype.exportAssignmentCallback=function(n,t){return n&&(this.emitIndent(),this.declFile.Write("export = "),this.declFile.Write(t.id.actualText),this.declFile.WriteLine(";")),!1},i.prototype.resolveScriptReference=function(t,i){if(!this.compiler.settings.noResolve||n.isRooted(i))return i;var r=n.convertToDirectoryPath(n.switchToForwardSlashes(n.getRootFilePath(t.fileName)));return this.compiler.emitOptions.ioHost.resolvePath(r+i)},i.prototype.emitReferencePaths=function(t){var u,l,o,e,f,s,h,a,r,i,c;if(!this.emittedReferencePaths){if(u=[],this.compiler.emitOptions.outputMany||t.topLevelMod)for(e=t.referencedFiles,l=!1,f=0;f<e.length;f++)s=this.resolveScriptReference(this.document,e[f]),i=this.compiler.getDocument(s),i&&(this.compiler.emitOptions.outputMany||i.script.isDeclareFile||i.script.topLevelMod||!l)&&(u=u.concat(i),!i.script.isDeclareFile&&i.script.topLevelMod&&(l=!0));else for(o=this.compiler.getDocuments(),r=0;r<o.length;r++)if(!o[r].script.isDeclareFile&&!o[r].script.topLevelMod)for(e=o[r].script.referencedFiles,f=0;f<e.length;f++)if(s=this.resolveScriptReference(o[r],e[f]),i=this.compiler.getDocument(s),i&&(i.script.isDeclareFile||i.script.topLevelMod)){for(h=0;h<u.length;h++)if(u[h]==i)break;h==u.length&&(u=u.concat(i))}for(a=u.length?n.getRootFilePath(this.emittingFileName):null,r=0;r<u.length;r++)i=u[r],c=i.script.isDeclareFile?i.fileName:this.compiler.emitOptions.mapOutputFileName(i,n.TypeScriptCompiler.mapToDTSFileName),c=n.getRelativePathToFixedPath(a,c,!1),this.declFile.WriteLine('/// <reference path="'+c+'" />');this.emittedReferencePaths=!0}},i.prototype.scriptCallback=function(n,t){return n?(this.emitReferencePaths(t),this.pushDeclarationContainer(t)):this.popDeclarationContainer(t),!0},i.prototype.defaultCallback=function(n,t){return!t.isStatement()},i}();n.DeclarationEmitter=i}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n){var u=Math.max(1,t.computeM(n)),f=Math.max(1,t.computeK(n)),e=u+7&-8,i,r;for(this.bitArray=[],i=0,r=e;i<r;i++)this.bitArray[i]=!1;this.hashFunctionCount=f}return t.computeM=function(n){var i=t.falsePositiveProbability,r=n,u=r*Math.log(i),f=Math.log(1/Math.pow(2,Math.log(2)));return Math.ceil(u/f)},t.computeK=function(n){var i=n,r=t.computeM(n),u=Math.log(2)*r/i;return Math.round(u)},t.prototype.computeHash=function(t,i){return n.Hash.computeMurmur2StringHashCode(t,i)},t.prototype.addKeys=function(n){for(var t in n)n[t]&&this.add(t)},t.prototype.add=function(n){for(var i,t=0;t<this.hashFunctionCount;t++)i=this.computeHash(n,t),i=i%this.bitArray.length,this.bitArray[Math.abs(i)]=!0},t.prototype.probablyContains=function(n){for(var i,t=0;t<this.hashFunctionCount;t++)if(i=this.computeHash(n,t),i=i%this.bitArray.length,!this.bitArray[Math.abs(i)])return!1;return!0},t.prototype.isEquivalent=function(n){return t.isEquivalent(this.bitArray,n.bitArray)&&this.hashFunctionCount==n.hashFunctionCount},t.isEquivalent=function(n,t){if(n.length!=t.length)return!1;for(var i=0;i<n.length;i++)if(n[i]!=t[i])return!1;return!0},t.falsePositiveProbability=.0001,t}();n.BloomFilter=t}(TypeScript||(TypeScript={})),function(n){var t=function(n){function t(t){n.call(this);this.list=t}return __extends(t,n),t.prototype.visitToken=function(n){this.list[n.text()]=!0},t}(n.SyntaxWalker);n.IdentifierWalker=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){this.map={}}return n.prototype.link=function(n,t){this.map[n]=t},n.prototype.unlink=function(n){this.map[n]=undefined},n.prototype.read=function(n){return this.map[n]},n}();n.DataMap=t}(TypeScript||(TypeScript={})),function(n){var t,i;(function(n){n[n.None=0]="None";n[n.Exported=1]="Exported";n[n.Private=2]="Private";n[n.Public=4]="Public";n[n.Ambient=8]="Ambient";n[n.Static=16]="Static";n[n.GetAccessor=32]="GetAccessor";n[n.SetAccessor=64]="SetAccessor";n[n.Optional=128]="Optional";n[n.Call=256]="Call";n[n.Constructor=512]="Constructor";n[n.Index=1024]="Index";n[n.Signature=2048]="Signature";n[n.Enum=4096]="Enum";n[n.FatArrow=8192]="FatArrow";n[n.ClassConstructorVariable=16384]="ClassConstructorVariable";n[n.InitializedModule=32768]="InitializedModule";n[n.InitializedDynamicModule=65536]="InitializedDynamicModule";n[n.InitializedEnum=131072]="InitializedEnum";n[n.MustCaptureThis=262144]="MustCaptureThis";n[n.Constant=524288]="Constant";n[n.ExpressionElement=1048576]="ExpressionElement";n[n.DeclaredInAWithBlock=2097152]="DeclaredInAWithBlock";n[n.HasReturnStatement=4194304]="HasReturnStatement";n[n.PropertyParameter=8388608]="PropertyParameter";n[n.IsAnnotatedWithAny=16777216]="IsAnnotatedWithAny";n[n.ImplicitVariable=n.ClassConstructorVariable|n.InitializedModule|n.InitializedDynamicModule|n.InitializedEnum]="ImplicitVariable";n[n.SomeInitializedModule=n.InitializedModule|n.InitializedDynamicModule|n.InitializedEnum]="SomeInitializedModule"})(n.PullElementFlags||(n.PullElementFlags={}));t=n.PullElementFlags,function(n){n[n.None=0]="None";n[n.Global=0]="Global";n[n.Script=1]="Script";n[n.Primitive=2]="Primitive";n[n.Container=4]="Container";n[n.Class=8]="Class";n[n.Interface=16]="Interface";n[n.DynamicModule=32]="DynamicModule";n[n.Enum=64]="Enum";n[n.Array=128]="Array";n[n.TypeAlias=256]="TypeAlias";n[n.ObjectLiteral=512]="ObjectLiteral";n[n.Variable=1024]="Variable";n[n.Parameter=2048]="Parameter";n[n.Property=4096]="Property";n[n.TypeParameter=8192]="TypeParameter";n[n.Function=16384]="Function";n[n.ConstructorMethod=32768]="ConstructorMethod";n[n.Method=65536]="Method";n[n.FunctionExpression=131072]="FunctionExpression";n[n.GetAccessor=262144]="GetAccessor";n[n.SetAccessor=524288]="SetAccessor";n[n.CallSignature=1048576]="CallSignature";n[n.ConstructSignature=2097152]="ConstructSignature";n[n.IndexSignature=4194304]="IndexSignature";n[n.ObjectType=8388608]="ObjectType";n[n.FunctionType=16777216]="FunctionType";n[n.ConstructorType=33554432]="ConstructorType";n[n.EnumMember=67108864]="EnumMember";n[n.ErrorType=134217728]="ErrorType";n[n.Expression=268435456]="Expression";n[n.WithBlock=536870912]="WithBlock";n[n.CatchBlock=1073741824]="CatchBlock";n[n.All=n.Script|n.Global|n.Primitive|n.Container|n.Class|n.Interface|n.DynamicModule|n.Enum|n.Array|n.TypeAlias|n.ObjectLiteral|n.Variable|n.Parameter|n.Property|n.TypeParameter|n.Function|n.ConstructorMethod|n.Method|n.FunctionExpression|n.GetAccessor|n.SetAccessor|n.CallSignature|n.ConstructSignature|n.IndexSignature|n.ObjectType|n.FunctionType|n.ConstructorType|n.EnumMember|n.ErrorType|n.Expression|n.WithBlock|n.CatchBlock]="All";n[n.SomeFunction=n.Function|n.ConstructorMethod|n.Method|n.FunctionExpression|n.GetAccessor|n.SetAccessor|n.CallSignature|n.ConstructSignature|n.IndexSignature]="SomeFunction";n[n.SomeValue=n.Variable|n.Parameter|n.Property|n.EnumMember|n.SomeFunction]="SomeValue";n[n.SomeType=n.Script|n.Global|n.Primitive|n.Class|n.Interface|n.Enum|n.Array|n.ObjectType|n.FunctionType|n.ConstructorType|n.TypeParameter|n.ErrorType]="SomeType";n[n.AcceptableAlias=n.Variable|n.SomeFunction|n.Class|n.Interface|n.Enum|n.Container|n.ObjectType|n.FunctionType|n.ConstructorType]="AcceptableAlias";n[n.SomeContainer=n.Container|n.DynamicModule|n.TypeAlias]="SomeContainer";n[n.SomeBlock=n.WithBlock|n.CatchBlock]="SomeBlock";n[n.SomeSignature=n.CallSignature|n.ConstructSignature|n.IndexSignature]="SomeSignature";n[n.SomeAccessor=n.GetAccessor|n.SetAccessor]="SomeAccessor";n[n.SomeTypeReference=n.Interface|n.ObjectType|n.FunctionType|n.ConstructorType]="SomeTypeReference";n[n.SomeLHS=n.Variable|n.Property|n.Parameter|n.SetAccessor|n.Method]="SomeLHS";n[n.InterfaceTypeExtension=n.Interface|n.Class|n.Enum]="InterfaceTypeExtension";n[n.ClassTypeExtension=n.Interface|n.Class]="ClassTypeExtension";n[n.EnumTypeExtension=n.Interface|n.Enum]="EnumTypeExtension"}(n.PullElementKind||(n.PullElementKind={}));i=n.PullElementKind}(TypeScript||(TypeScript={})),function(n){var t,i,u,r;n.pullDeclID=0;n.lastBoundPullDeclId=0;t=[];i=function(){function i(t,i,r,u,f,e){this.symbol=null;this.declGroups=new n.BlockIntrinsics;this.signatureSymbol=null;this.specializingSignatureSymbol=null;this.childDecls=null;this.typeParameters=null;this.childDeclTypeCache=new n.BlockIntrinsics;this.childDeclValueCache=new n.BlockIntrinsics;this.childDeclNamespaceCache=new n.BlockIntrinsics;this.childDeclTypeParameterCache=new n.BlockIntrinsics;this.declID=n.pullDeclID++;this.declIDString=null;this.flags=0;this.diagnostics=null;this.parentDecl=null;this._parentPath=null;this._isBound=!1;this.synthesizedValDecl=null;this.hashCode=-1;this.ast=null;this.name=t;this.kind=r;this.flags=u;this.span=f;this.scriptName=e;i!==this.name&&(this.declDisplayName=i);this.hashCode=this.declID^this.kind;this.declIDString=this.declID.toString()}return i.prototype.getDisplayName=function(){return this.declDisplayName===undefined?this.name:this.declDisplayName},i.prototype.setSymbol=function(n){this.symbol=n},i.prototype.ensureSymbolIsBound=function(t){if(typeof t=="undefined"&&(t=!1),!(t&&this.signatureSymbol||this.symbol)&&!this._isBound&&this.kind!=1){var i=n.globalBinder.semanticInfo;n.globalBinder.setUnit(this.scriptName);n.globalBinder.bindDeclToPullSymbol(this);i&&n.globalBinder.setUnit(i.getPath())}},i.prototype.getSymbol=function(){return this.kind==1?null:(this.ensureSymbolIsBound(),this.symbol)},i.prototype.hasSymbol=function(){return this.symbol!=null},i.prototype.setSignatureSymbol=function(n){this.signatureSymbol=n},i.prototype.getSignatureSymbol=function(){return this.ensureSymbolIsBound(!0),this.signatureSymbol},i.prototype.hasSignature=function(){return this.signatureSymbol!=null},i.prototype.setSpecializingSignatureSymbol=function(n){this.specializingSignatureSymbol=n},i.prototype.getSpecializingSignatureSymbol=function(){return this.specializingSignatureSymbol?this.specializingSignatureSymbol:this.signatureSymbol},i.prototype.setFlags=function(n){this.flags=n},i.prototype.setFlag=function(n){this.flags|=n},i.prototype.getSpan=function(){return this.span},i.prototype.setSpan=function(n){this.span=n},i.prototype.getScriptName=function(){return this.scriptName},i.prototype.setValueDecl=function(n){this.synthesizedValDecl=n},i.prototype.getValueDecl=function(){return this.synthesizedValDecl},i.prototype.isEqual=function(n){return this.name===n.name&&this.kind===n.kind&&this.flags===n.flags&&this.scriptName===n.scriptName&&this.span.start()===n.span.start()&&this.span.end()===n.span.end()},i.prototype.getParentDecl=function(){return this.parentDecl},i.prototype.setParentDecl=function(n){this.parentDecl=n},i.prototype.addDiagnostic=function(n){n&&(this.diagnostics||(this.diagnostics=[]),this.diagnostics[this.diagnostics.length]=n)},i.prototype.getDiagnostics=function(){return this.diagnostics?this.diagnostics:t},i.prototype.resetErrors=function(){this.diagnostics=null},i.prototype.getChildDeclCache=function(t){return t===8192?this.childDeclTypeParameterCache:n.hasFlag(t,n.PullElementKind.SomeContainer)?this.childDeclNamespaceCache:n.hasFlag(t,n.PullElementKind.SomeType)?this.childDeclTypeCache:this.childDeclValueCache},i.prototype.addChildDecl=function(n){n.kind===8192?(this.typeParameters||(this.typeParameters=[]),this.typeParameters[this.typeParameters.length]=n):(this.childDecls||(this.childDecls=[]),this.childDecls[this.childDecls.length]=n);var i=n.name,r=this.getChildDeclCache(n.kind),t=r[i];t||(t=[]);t.push(n);r[i]=t},i.prototype.searchChildDecls=function(i,r){var u=null;return u=r&n.PullElementKind.SomeType?this.childDeclTypeCache[i]:r&n.PullElementKind.SomeContainer?this.childDeclNamespaceCache[i]:this.childDeclValueCache[i],u?u:r&n.PullElementKind.SomeType&&(u=this.childDeclTypeParameterCache[i],u)?u:t},i.prototype.getChildDecls=function(){return this.childDecls?this.childDecls:t},i.prototype.getTypeParameters=function(){return this.typeParameters?this.typeParameters:t},i.prototype.addVariableDeclToGroup=function(n){var t=this.declGroups[n.name];t?t.addDecl(n):(t=new r(n.name),t.addDecl(n),this.declGroups[n.name]=t)},i.prototype.getVariableDeclGroups=function(){var n=null,i;for(i in this.declGroups)this.declGroups[i]&&(n||(n=[]),n[n.length]=this.declGroups[i].getDecls());return n?n:t},i.prototype.getParentPath=function(){return this._parentPath},i.prototype.setParentPath=function(n){this._parentPath=n},i.prototype.setIsBound=function(n){this._isBound=n},i.prototype.isBound=function(){return this._isBound},i}();n.PullDecl=i;u=function(n){function t(t,i,r,u){n.call(this,"","",131072,i,r,u);this.functionExpressionName=t}return __extends(t,n),t.prototype.getFunctionExpressionName=function(){return this.functionExpressionName},t}(i);n.PullFunctionExpressionDecl=u;r=function(){function n(n){this.name=n;this._decls=[]}return n.prototype.addDecl=function(n){n.name===this.name&&(this._decls[this._decls.length]=n)},n.prototype.getDecls=function(){return this._decls},n}();n.PullDeclGroup=r}(TypeScript||(TypeScript={})),function(n){function s(n,t){var i,r;if(n.isTypeParameter())return n==t;if(i=n.getTypeArguments(),i)for(r=0;r<i.length;r++)if(s(i[r],t))return!0;return!1}function k(n){var t=n.getDeclarations()[0];return n.isGeneric()?n.kind&24?t.getSymbol().type:n:n}function a(n,t){if(n==t)return!1;if(!(n.isTypeParameter()&&t.isTypeParameter()))return!0;var i=n.getDeclarations()[0].getParentDecl(),r=t.getDeclarations()[0].getParentDecl();if(i==r)return!0;while(i){if(i.flags&16)return!0;if(i==r)return!1;i=i.getParentDecl()}return!0}function u(f,e,o,c,v,y){var ui,vt,fi,li,ut,hi,wt,ei,g,ti,ii,ri,it,yi,st,tt,p,pt,gi,oi,nr,ir;if(f.isPrimitive()||!f.isGeneric())return f;if(ui=e!=null,(e===null||v.specializingToAny&&e.length)&&(e=[]),f.isTypeParameter())return v.specializingToAny?o.semanticInfoChain.anyTypeSymbol:(vt=v.findSpecializationForType(f),vt!=f&&a(vt,f))?vt:e&&e.length&&a(e[0],f)?e[0]:f;if(f.isArray())return f.currentlyBeingSpecialized()?f:(fi=null,v.specializingToAny?fi=o.semanticInfoChain.anyTypeSymbol:(li=f.getElementType(),fi=u(li,e,o,c,v,y)),u(o.getCachedArrayType(),[fi],o,c,v));ut=f.getTypeParameters();!v.specializingToAny&&ui&&ut.length>e.length&&(ui=!1);var d=null,ft=f.getDeclarations()[0],ot=k(f),si=f===o.getCachedArrayType()||f.isArray();if(ui||v.specializingToAny||f.hasRecursiveSpecializationError){if(!e.length||v.specializingToAny||f.hasRecursiveSpecializationError)for(p=0;p<ut.length;p++)e[p]=o.semanticInfoChain.anyTypeSymbol;for(si?d=e[0].getArrayType():e.length&&(d=ot.getSpecialization(e)),d||ut.length||!v.specializingToAny||(d=ot.getSpecialization([o.semanticInfoChain.anyTypeSymbol])),p=0;p<e.length;p++)if(!e[p].isTypeParameter()&&(e[p]==ot||s(e[p],ut[p])))return g=o.semanticInfoChain.getASTForDecl(ft),g&&e[p]!=o.getCachedArrayType()?(ei=v.postError(c.getScriptName(),g.minChar,g.getLength(),n.DiagnosticCode.A_generic_type_may_not_reference_itself_with_a_wrapped_form_of_its_own_type_parameters,null,c),f.hasRecursiveSpecializationError=!0,o.getNewErrorTypeSymbol(ei)):o.semanticInfoChain.anyTypeSymbol}else{for(hi=f.getTypeArguments(),wt=hi?hi:ut,p=0;p<wt.length;p++){if(!wt[p].isTypeParameter()&&(e[p]==ot||s(wt[p],ut[p])))return g=o.semanticInfoChain.getASTForDecl(ft),g&&e[p]!=o.getCachedArrayType()?(ei=v.postError(c.getScriptName(),g.minChar,g.getLength(),n.DiagnosticCode.A_generic_type_may_not_reference_itself_with_a_wrapped_form_of_its_own_type_parameters,null,c),f.hasRecursiveSpecializationError=!0,o.getNewErrorTypeSymbol(ei)):o.semanticInfoChain.anyTypeSymbol;vt=u(wt[p],null,o,c,v,y);e[p]=vt!=null?vt:wt[p]}d=ot.getSpecialization(e)}if(ti=ot.getTypeParameters(),ti.length&&ti.length==e.length){for(p=0;p<e.length;p++)if(e[p]!=ti[p])break;if(p==ti.length)return ot}if(d&&(d.isResolved||d.currentlyBeingSpecialized())||(ii=v.inSpecialization,v.inSpecialization=!0,d||(n.nSpecializationsCreated++,d=f.isClass()?new r(f.name,8):si?new r("Array",128):f.isTypeParameter()?new l(f.name,f.isFunctionTypeParameter()):new r(f.name,f.kind),d.setRootSymbol(ot)),d.setIsBeingSpecialized(),d.setTypeArguments(e),d.hasRecursiveSpecializationError=f.hasRecursiveSpecializationError,ot.addSpecialization(d,e),si&&(d.setElementType(e[0]),e[0].setArrayType(d)),f.currentlyBeingSpecialized()))return d;for(ri=f.currentlyBeingSpecialized(),f.kind==33554432&&f.setIsBeingSpecialized(),it={},p=0;p<ut.length;p++)ut[p]!=e[p]&&(it[ut[p].pullSymbolIDString]=e[p]),d.addTypeParameter(ut[p]);var tr=f.getExtendedTypes(),lt,at,rt,bt=f.getDeclarations(),ai=null,vi=null;if(tr.length)for(p=0;p<bt.length;p++)if(lt=bt[p],at=o.semanticInfoChain.getASTForDecl(lt),at.extendsList)for(rt=o.getUnitPath(),o.setUnitPath(lt.getScriptName()),st=0;st<at.extendsList.members.length;st++)v.pushTypeSpecializationCache(it),ai=o.resolveTypeReference(new n.TypeReference(at.extendsList.members[st],0),lt,v),o.setUnitPath(rt),v.popTypeSpecializationCache(),d.addExtendedType(ai);if(yi=f.getImplementedTypes(),yi.length)for(p=0;p<bt.length;p++)if(lt=bt[p],at=o.semanticInfoChain.getASTForDecl(lt),at.implementsList)for(rt=o.getUnitPath(),o.setUnitPath(lt.getScriptName()),st=0;st<at.implementsList.members.length;st++)v.pushTypeSpecializationCache(it),vi=o.resolveTypeReference(new n.TypeReference(at.implementsList.members[st],0),lt,v),o.setUnitPath(rt),v.popTypeSpecializationCache(),d.addImplementedType(vi);var pi=f.getCallSignatures(!1),wi=f.getConstructSignatures(!1),bi=f.getIndexSignatures(!1),ki=f.getMembers(),w,kt,b,nt=null,g=null,ht,dt,gt=null,ni=null;for(p=0;p<pi.length;p++){if(b=pi[p],b.currentlyBeingSpecialized())w=b;else{for(v.pushTypeSpecializationCache(it),nt=b.getDeclarations()[0],rt=o.getUnitPath(),o.setUnitPath(nt.getScriptName()),w=new i(b.kind),n.nSpecializedSignaturesCreated++,w.mimicSignature(b,o),g=o.semanticInfoChain.getASTForDecl(nt),n.Debug.assert(g!=null,"Call signature for type '"+f.pullSymbolIDString+"' could not be specialized because of a stale declaration"),ni=nt.getSpecializingSignatureSymbol(),nt.setSpecializingSignatureSymbol(w),b.isResolved||b.inResolution||o.resolveDeclaredSymbol(b,c,new n.PullTypeResolutionContext),o.resolveAST(g,!1,ft,v,!0),nt.setSpecializingSignatureSymbol(ni),ht=b.parameters,dt=w.parameters,tt=0;tt<ht.length;tt++)dt[tt].type=ht[tt].type;if(w.setResolved(),o.setUnitPath(rt),gt=w.returnType,gt||(w.returnType=b.returnType),b.setIsBeingSpecialized(),w.setRootSymbol(b),kt=w,w=h(w,!0,it,null,o,ft,v),b.setIsSpecialized(),w!=kt&&w.setRootSymbol(b),v.popTypeSpecializationCache(),!w)return v.inSpecialization=ii,f.setValueIsBeingSpecialized(ri),n.Debug.assert(!1,"returning from call"),o.semanticInfoChain.anyTypeSymbol}d.addCallSignature(w);w.hasAGenericParameter&&d.setHasGenericSignature()}for(p=0;p<wi.length;p++){if(b=wi[p],b.currentlyBeingSpecialized())w=b;else{for(v.pushTypeSpecializationCache(it),nt=b.getDeclarations()[0],rt=o.getUnitPath(),o.setUnitPath(nt.getScriptName()),w=new i(b.kind),n.nSpecializedSignaturesCreated++,w.mimicSignature(b,o),g=o.semanticInfoChain.getASTForDecl(nt),n.Debug.assert(g!=null,"Construct signature for type '"+f.pullSymbolIDString+"' could not be specialized because of a stale declaration"),ni=nt.getSpecializingSignatureSymbol(),nt.setSpecializingSignatureSymbol(w),b.isResolved||b.inResolution||o.resolveDeclaredSymbol(b,c,new n.PullTypeResolutionContext),o.resolveAST(g,!1,ft,v,!0),nt.setSpecializingSignatureSymbol(ni),ht=b.parameters,dt=w.parameters,tt=0;tt<ht.length;tt++)dt[tt].type=ht[tt].type;if(w.setResolved(),o.setUnitPath(rt),gt=w.returnType,gt||(w.returnType=b.returnType),b.setIsBeingSpecialized(),w.setRootSymbol(b),kt=w,w=h(w,!0,it,null,o,ft,v),b.setIsSpecialized(),w!=kt&&w.setRootSymbol(b),v.popTypeSpecializationCache(),!w)return v.inSpecialization=ii,f.setValueIsBeingSpecialized(ri),n.Debug.assert(!1,"returning from construct"),o.semanticInfoChain.anyTypeSymbol}d.addConstructSignature(w);w.hasAGenericParameter&&d.setHasGenericSignature()}for(p=0;p<bi.length;p++){if(b=bi[p],b.currentlyBeingSpecialized())w=b;else{for(v.pushTypeSpecializationCache(it),nt=b.getDeclarations()[0],rt=o.getUnitPath(),o.setUnitPath(nt.getScriptName()),w=new i(b.kind),n.nSpecializedSignaturesCreated++,w.mimicSignature(b,o),g=o.semanticInfoChain.getASTForDecl(nt),n.Debug.assert(g!=null,"Index signature for type '"+f.pullSymbolIDString+"' could not be specialized because of a stale declaration"),ni=nt.getSpecializingSignatureSymbol(),nt.setSpecializingSignatureSymbol(w),b.isResolved||b.inResolution||o.resolveDeclaredSymbol(b,c,new n.PullTypeResolutionContext),o.resolveAST(g,!1,ft,v,!0),nt.setSpecializingSignatureSymbol(ni),ht=b.parameters,dt=w.parameters,tt=0;tt<ht.length;tt++)dt[tt].type=ht[tt].type;if(w.setResolved(),o.setUnitPath(rt),gt=w.returnType,gt||(w.returnType=b.returnType),b.setIsBeingSpecialized(),w.setRootSymbol(b),kt=w,w=h(w,!0,it,null,o,ft,v),b.setIsSpecialized(),w!=kt&&w.setRootSymbol(b),v.popTypeSpecializationCache(),!w)return v.inSpecialization=ii,f.setValueIsBeingSpecialized(ri),n.Debug.assert(!1,"returning from index"),o.semanticInfoChain.anyTypeSymbol}d.addIndexSignature(w);w.hasAGenericParameter&&d.setHasGenericSignature()}var et=null,yt=null,ct=null,di=null,ci=null;for(p=0;p<ki.length;p++)et=ki[p],et.setIsBeingSpecialized(),bt=et.getDeclarations(),yt=new t(et.name,et.kind),yt.setRootSymbol(et),et.isOptional&&(yt.isOptional=!0),et.isResolved||o.resolveDeclaredSymbol(et,ft,v),ct=et.type,ct||(ct=d),ci=it[ct.pullSymbolIDString],ci?yt.type=ci:ct.isGeneric()&&!ct.isFixed()?(rt=o.getUnitPath(),o.setUnitPath(bt[0].getScriptName()),v.pushTypeSpecializationCache(it),di=u(ct,ct.getIsSpecialized()?null:e,o,ft,v,y),o.setUnitPath(rt),v.popTypeSpecializationCache(),yt.type=di):yt.type=ct,et.setIsSpecialized(),d.addMember(yt);return f.isClass()&&(pt=f.getConstructorMethod(),pt.isResolved||(gi=v.isSpecializingConstructorMethod,v.isSpecializingConstructorMethod=!0,o.resolveDeclaredSymbol(pt,c,v),v.isSpecializingConstructorMethod=gi),oi=new t(pt.name,32768),nr=u(pt.type,e,o,ft,v,y),oi.type=nr,ir=pt.getDeclarations(),oi.setRootSymbol(pt),d.setConstructorMethod(oi)),d.setIsSpecialized(),d.setResolved(),f.setValueIsBeingSpecialized(ri),v.inSpecialization=ii,d}function h(r,f,e,o,s,h,c,l){var a,it,b,tt,d,g,y,v,rt,p;if(r.currentlyBeingSpecialized())return r;if(r.isResolved||r.inResolution||s.resolveDeclaredSymbol(r,h,c),a=r.getSpecialization(o),a)return a;r.setIsBeingSpecialized();it=c.inSpecialization;c.inSpecialization=!0;a=new i(r.kind);n.nSpecializedSignaturesCreated++;a.setRootSymbol(r);r.hasVarArgs&&(a.hasVarArgs=!0);r.hasAGenericParameter&&(a.hasAGenericParameter=!0);r.addSpecialization(a,o);var w=r.parameters,k=r.getTypeParameters(),nt=r.returnType;for(v=0;v<k.length;v++)a.addTypeParameter(k[v]);if(r.hasAGenericParameter&&(a.hasAGenericParameter=!0),g=new n.BlockIntrinsics,y=null,f)for(v=0;v<k.length;v++)g[k[v].getName()]=!0,y||(y={}),y[k[v].pullSymbolIDString]=k[v];for(c.pushTypeSpecializationCache(e),f&&y&&c.pushTypeSpecializationCache(y),rt=g[nt.name]?nt:u(nt,null,s,h,c,l),f&&y&&c.popTypeSpecializationCache(),c.popTypeSpecializationCache(),a.returnType=rt,p=0;p<w.length;p++)b=new t(w[p].name,w[p].kind),b.setRootSymbol(w[p]),d=w[p].type,c.pushTypeSpecializationCache(e),f&&y&&c.pushTypeSpecializationCache(y),tt=g[d.name]?d:u(d,null,s,h,c,l),f&&y&&c.popTypeSpecializationCache(),c.popTypeSpecializationCache(),w[p].isOptional&&(b.isOptional=!0),w[p].isVarArg&&(b.isVarArg=!0,a.hasVarArgs=!0),s.isTypeArgumentOrWrapper(tt)&&(a.hasAGenericParameter=!0),b.type=tt,a.addParameter(b,b.isOptional);return r.setIsSpecialized(),c.inSpecialization=it,a}function f(n){for(var u="",i=null,r,t=0;t<n.length;t++)if(n[t].kind!=8388608)u+=n[t].pullSymbolIDString+"#";else if(i=n[t].getMembers(),n[t].isResolved&&i&&i.length)for(r=0;r<i.length;r++)u+=i[r].name+"@"+f([i[r].type]);else u+=n[t].pullSymbolIDString+"#";return u}var t,i,r,e,v,y,o,p,w,c,l,b;n.pullSymbolID=0;n.globalTyvarID=0;n.sentinelEmptyArray=[];t=function(){function t(t,i){this.pullSymbolID=n.pullSymbolID++;this.pullSymbolIDString=null;this.cachedPathIDs={};this._container=null;this.type=null;this._declarations=null;this.isResolved=!1;this.isOptional=!1;this.inResolution=!1;this.isSynthesized=!1;this.isVarArg=!1;this.isSpecialized=!1;this.isBeingSpecialized=!1;this.rootSymbol=null;this._parentAccessorSymbol=null;this._enclosingSignature=null;this.docComments=null;this.isPrinting=!1;this.ast=null;this.name=t;this.kind=i;this.pullSymbolIDString=this.pullSymbolID.toString()}return t.prototype.isType=function(){return(this.kind&n.PullElementKind.SomeType)!=0},t.prototype.isSignature=function(){return(this.kind&n.PullElementKind.SomeSignature)!=0},t.prototype.isArray=function(){return(this.kind&128)!=0},t.prototype.isPrimitive=function(){return this.kind===2},t.prototype.isAccessor=function(){return!1},t.prototype.isError=function(){return!1},t.prototype.isInterface=function(){return this.kind===16},t.prototype.isMethod=function(){return this.kind===65536},t.prototype.isProperty=function(){return this.kind===4096},t.prototype.isAlias=function(){return!1},t.prototype.isContainer=function(){return!1},t.prototype.setAccessorSymbol=function(n){this._parentAccessorSymbol=n},t.prototype.getAccessorySymbol=function(){return this._parentAccessorSymbol},t.prototype.findAliasedType=function(n){for(var r,t,u,i=0;i<n.length;i++)for(r=n[i].getChildDecls(),t=0;t<r.length;t++)if(r[t].kind===256&&(u=r[t].getSymbol(),o.usedAsSymbol(u,this)))return u;return null},t.prototype.getAliasedSymbol=function(n){var t,i,r;return n?(t=n.pathToRoot(),t.length&&t[t.length-1].kind===32)?(i=t[t.length-1].getDeclarations(),r=this.findAliasedType(i),r):null:null},t.prototype.getScopedDynamicModuleAlias=function(n){var t=this.getAliasedSymbol(n);return t&&(t.assignedValue||t.assignedType&&t.assignedType!=t.assignedContainer||t.assignedContainer.kind!=32)?null:t},t.prototype.getName=function(n){var t=this.getScopedDynamicModuleAlias(n);return t?t.getName():this.name},t.prototype.getDisplayName=function(n){var t=this.getScopedDynamicModuleAlias(n),i;return t?t.getDisplayName():(i=this.getDeclarations(),i.length?this.getDeclarations()[0].getDisplayName():this.name)},t.prototype.setIsSpecialized=function(){this.isSpecialized=!0;this.isBeingSpecialized=!1},t.prototype.getIsSpecialized=function(){return this.isSpecialized},t.prototype.currentlyBeingSpecialized=function(){return this.isBeingSpecialized},t.prototype.setIsBeingSpecialized=function(){this.isBeingSpecialized=!0},t.prototype.setValueIsBeingSpecialized=function(n){this.isBeingSpecialized=n},t.prototype.getRootSymbol=function(){return this.rootSymbol?this.rootSymbol:this},t.prototype.setRootSymbol=function(n){this.rootSymbol=n},t.prototype.setIsSynthesized=function(n){typeof n=="undefined"&&(n=!0);this.isSynthesized=n},t.prototype.getIsSynthesized=function(){return this.isSynthesized},t.prototype.setEnclosingSignature=function(n){this._enclosingSignature=n},t.prototype.getEnclosingSignature=function(){return this._enclosingSignature},t.prototype.addCacheID=function(n){this.cachedPathIDs[n]||(this.cachedPathIDs[n]=!0)},t.prototype.invalidateCachedIDs=function(n){for(var t in this.cachedPathIDs)n[t]&&(n[t]=undefined)},t.prototype.addDeclaration=function(t){(n.Debug.assert(!!t),this.rootSymbol)||(this._declarations?this._declarations[this._declarations.length]=t:this._declarations=[t])},t.prototype.getDeclarations=function(){return this.rootSymbol?this.rootSymbol.getDeclarations():(this._declarations||(this._declarations=[]),this._declarations)},t.prototype.setContainer=function(n){this.rootSymbol||(this._container=n)},t.prototype.getContainer=function(){return this.rootSymbol?this.rootSymbol.getContainer():this._container},t.prototype.setResolved=function(){this.isResolved=!0;this.inResolution=!1},t.prototype.startResolving=function(){this.inResolution=!0},t.prototype.setUnresolved=function(){this.isResolved=!1;this.inResolution=!1},t.prototype.invalidate=function(){this.isResolved=!1;var n=this.getDeclarations()},t.prototype.hasFlag=function(n){for(var i=this.getDeclarations(),t=0,r=i.length;t<r;t++)if((i[t].flags&n)!=0)return!0;return!1},t.prototype.allDeclsHaveFlag=function(n){for(var i=this.getDeclarations(),t=0,r=i.length;t<r;t++)if(!((i[t].flags&n)!=0))return!1;return!0},t.prototype.pathToRoot=function(){for(var t=[],n=this,i,r;n;)if(n.isType()&&(i=n.getAssociatedContainerType(),i&&(n=i)),t[t.length]=n,r=n.kind,r==2048)break;else n=n.getContainer();return t},t.prototype.findCommonAncestorPath=function(n){var t=this.pathToRoot(),e,f,i,h,c,u,l,a,o,s,r;if(t.length===1)return t;if(n)e=n.pathToRoot();else return t;for(f=-1,i=0,h=t.length;i<h;i++){for(c=t[i],u=0,l=e.length;u<l;u++)if(a=e[u],c===a&&(o=null,i>0&&(r=t[i-1].getDeclarations(),r.length&&(o=r[0].getParentDecl())),s=null,u>0&&(r=e[u-1].getDeclarations(),r.length&&(s=r[0].getParentDecl())),!o||!s||o==s)){f=i;break}if(f>=0)break}return f>=0?t.slice(0,f):t},t.prototype.toString=function(n){return this.getNameAndTypeName(n)},t.prototype.getNamePartForFullName=function(){return this.getDisplayName(null,!0)},t.prototype.fullName=function(t){var f=this.pathToRoot(),r="",u=this.getScopedDynamicModuleAlias(t),i,e;if(u)return u.fullName(t);for(i=1;i<f.length;i++)if(u=f[i].getScopedDynamicModuleAlias(t),u){r=u.fullName(t)+"."+r;break}else{if(e=f[i].getNamePartForFullName(),f[i].kind==32&&!n.isQuoted(e))break;if(e==="")break;r=e+"."+r}return r+this.getNamePartForFullName()},t.prototype.getScopedName=function(t,i){var f=this.findCommonAncestorPath(t),r="",e=this.getScopedDynamicModuleAlias(t),u,o,s;if(e)return e.getScopedName(t);for(u=1;u<f.length;u++)if(o=f[u].kind,o===4||o===32)if(e=f[u].getScopedDynamicModuleAlias(t),e){r=e.getScopedName(t)+"."+r;break}else if(o===4)r=f[u].getDisplayName()+"."+r;else{s=f[u].getDisplayName();n.isQuoted(s)&&(r=s+"."+r);break}else break;return r+this.getDisplayName(t,i)},t.prototype.getScopedNameEx=function(t,i){var r=this.getScopedName(t,i);return n.MemberName.create(r)},t.prototype.getTypeName=function(n,t){var i=this.getTypeNameEx(n,t);return i.toString()},t.prototype.getTypeNameEx=function(t,i){var u=this.type,r;return u?(r=i?this.getTypeNameForFunctionSignature("",t,i):null,r||(r=u.getScopedNameEx(t,!0,i)),r):n.MemberName.create("")},t.prototype.getTypeNameForFunctionSignature=function(t,r,u){var e=this.type,f,o,s;return e&&!e.isNamedTypeSymbol()&&this.kind!=4096&&this.kind!=1024&&this.kind!=2048&&(f=e.getCallSignatures(),f.length==1||u&&f.length)?(o=new n.MemberNameArray,s=i.getSignaturesTypeNameEx(f,t,!1,!1,r,u),o.addAll(s),o):null},t.prototype.getNameAndTypeName=function(n){var t=this.getNameAndTypeNameEx(n);return t.toString()},t.prototype.getNameAndTypeNameEx=function(t){var u=this.type,i=this.getDisplayName(t),r,f;return u?(i=i+(this.isOptional?"?":""),r=this.getTypeNameForFunctionSignature(i,t),r||(f=u.getScopedNameEx(t),r=n.MemberName.create(f,i+": ","")),r):n.MemberName.create(i)},t.getTypeParameterString=function(n,i,r){return t.getTypeParameterStringEx(n,i,undefined,r).toString()},t.getTypeParameterStringEx=function(t,i,r,u){var f=new n.MemberNameArray,e;if(f.prefix="",t&&t.length){for(f.add(n.MemberName.create("<")),e=0;e<t.length;e++)e&&f.add(n.MemberName.create(", ")),r&&f.add(new n.MemberName),f.add(t[e].getScopedNameEx(i,u)),r&&f.add(new n.MemberName);f.add(n.MemberName.create(">"))}return f},t.getIsExternallyVisible=function(n,t,i){if(i){for(var r=0;r<i.length;r++)if(i[r]===n)return!0}else i=[];return t===n?!0:(i=i.concat(t),n.isExternallyVisible(i))},t.prototype.isExternallyVisible=function(n){var u=this.kind,f,i,e,r,s,h;return u===2?!0:this.rootSymbol?t.getIsExternallyVisible(this.rootSymbol,this,n):this.isType()&&(f=this.getAssociatedContainerType(),f)?t.getIsExternallyVisible(f,this,n):this.hasFlag(2)?!1:(i=this.getContainer(),i===null)?(e=this.getDeclarations(),e.length&&(r=e[0].getParentDecl(),r))?(s=r.getSymbol(),!s||r.kind==1)?!0:t.getIsExternallyVisible(s,this,n):!0:(i.kind==32||i.getAssociatedContainerType()&&i.getAssociatedContainerType().kind==32)&&(h=i.kind==32?i:i.getAssociatedContainerType(),o.usedAsSymbol(h,this))?!0:!this.hasFlag(1)&&u!=4096&&u!=65536?!1:t.getIsExternallyVisible(i,this,n)},t}();n.PullSymbol=t;i=function(i){function r(t){i.call(this,"",t);this.parameters=n.sentinelEmptyArray;this.typeParameters=null;this.returnType=null;this.functionType=null;this.hasOptionalParam=!1;this.nonOptionalParamCount=0;this.hasVarArgs=!1;this.specializationCache={};this.memberTypeParameterNameCache=null;this.hasAGenericParameter=!1;this.stringConstantOverload=undefined;this.hasBeenChecked=!1}return __extends(r,i),r.prototype.isDefinition=function(){return!1},r.prototype.isGeneric=function(){return this.hasAGenericParameter||this.typeParameters&&this.typeParameters.length!=0},r.prototype.addParameter=function(t,i){typeof i=="undefined"&&(i=!1);this.parameters==n.sentinelEmptyArray&&(this.parameters=[]);this.parameters[this.parameters.length]=t;this.hasOptionalParam=i;t.getEnclosingSignature()||t.setEnclosingSignature(this);i||this.nonOptionalParamCount++},r.prototype.addSpecialization=function(n,t){t&&t.length&&(this.specializationCache[f(t)]=n)},r.prototype.getSpecialization=function(n){if(n){var t=this.specializationCache[f(n)];if(t)return t}return null},r.prototype.addTypeParameter=function(t){this.typeParameters||(this.typeParameters=[]);this.memberTypeParameterNameCache||(this.memberTypeParameterNameCache=new n.BlockIntrinsics);this.typeParameters[this.typeParameters.length]=t;this.memberTypeParameterNameCache[t.getName()]=t},r.prototype.getTypeParameters=function(){return this.typeParameters||(this.typeParameters=[]),this.typeParameters},r.prototype.findTypeParameter=function(t){var i;if(!this.memberTypeParameterNameCache&&(this.memberTypeParameterNameCache=new n.BlockIntrinsics,this.typeParameters))for(i=0;i<this.typeParameters.length;i++)this.memberTypeParameterNameCache[this.typeParameters[i].getName()]=this.typeParameters[i];return this.memberTypeParameterNameCache[t]},r.prototype.mimicSignature=function(n,i){var o=n.getTypeParameters(),e,r,f,u,s;if(o)for(e=0;e<o.length;e++)this.addTypeParameter(o[e]);if(r=n.parameters,r)for(u=0;u<r.length;u++)f=new t(r[u].name,2048),f.setRootSymbol(r[u]),r[u].isOptional&&(f.isOptional=!0),r[u].isVarArg&&(f.isVarArg=!0,this.hasVarArgs=!0),this.addParameter(f);s=n.returnType;i.isTypeArgumentOrWrapper(s)||(this.returnType=s)},r.prototype.isFixed=function(){var t,n;if(!this.isGeneric())return!0;if(this.parameters)for(n=0;n<this.parameters.length;n++)if(t=this.parameters[n].type,t&&!t.isFixed())return!1;return this.returnType&&!this.returnType.isFixed()?!1:!0},r.prototype.invalidate=function(){this.nonOptionalParamCount=0;this.hasOptionalParam=!1;this.hasAGenericParameter=!1;this.stringConstantOverload=undefined;i.prototype.invalidate.call(this)},r.prototype.isStringConstantOverloadSignature=function(){var i,n,t;if(this.stringConstantOverload===undefined)for(i=this.parameters,this.stringConstantOverload=!1,n=0;n<i.length;n++)t=i[n].type,t&&t.isPrimitive()&&t.isStringConstant()&&(this.stringConstantOverload=!0);return this.stringConstantOverload},r.getSignatureTypeMemberName=function(t,i,u){var f=new n.MemberNameArray,e=r.getSignaturesTypeNameEx(i,"",!1,!1,u,!0,t);return f.addAll(e),f},r.getSignaturesTypeNameEx=function(t,i,r,u,f,e,o){var c=[],h,l,a,v,s,y;if(!t)return c;for(h=t.length,!e&&h>1&&(r=!1),l=!1,o&&o.isDefinition()&&h>1&&(o=null),s=0;s<h;s++){if(h>1&&t[s].isDefinition()){l=!0;continue}if(a=t[s],e&&o&&(a=o),c.push(a.getSignatureTypeNameEx(i,r,u,f)),e)break}if(e&&c.length&&h>1){for(v=c[c.length-1],s=s+1;s<h;s++)if(t[s].isDefinition()){l=!0;break}y=n.getLocalizedText(n.DiagnosticCode._0_overload_s,[l?h-2:h-1]);v.add(n.MemberName.create(y))}return c},r.prototype.toString=function(n,t){return this.getSignatureTypeNameEx(this.getScopedNameEx().toString(),!1,!1,n,undefined,t).toString()},r.prototype.getSignatureTypeNameEx=function(i,r,u,f,e,o){var l=new n.MemberNameArray,s,c,a,h;for(l.add(t.getTypeParameterStringEx(this.getTypeParameters(),f,o,!0)),u?l.add(n.MemberName.create("[")):l.add(n.MemberName.create("(")),s=new n.MemberNameArray,s.prefix=i,o?(s.prefix=i,s.addAll(l.entries)):s.prefix=i+l.toString(),c=this.parameters,a=c.length,h=0;h<a;h++){var v=c[h].type,p=v?": ":"",y=c[h].isVarArg,w=y?"...":"",b=!y&&c[h].isOptional?"?":"";e&&s.add(new n.MemberName);s.add(n.MemberName.create(w+c[h].getScopedNameEx(f).toString()+b+p));v&&s.add(v.getScopedNameEx(f));e&&s.add(new n.MemberName);h<a-1&&s.add(n.MemberName.create(", "))}return r?u?s.add(n.MemberName.create("] => ")):s.add(n.MemberName.create(") => ")):u?s.add(n.MemberName.create("]: ")):s.add(n.MemberName.create("): ")),this.returnType?s.add(this.returnType.getScopedNameEx(f)):s.add(n.MemberName.create("any")),s},r}(t);n.PullSignatureSymbol=i;r=function(r){function u(t,i){r.call(this,t,i);this._members=n.sentinelEmptyArray;this._enclosedMemberTypes=null;this._typeParameters=null;this._typeArguments=null;this._containedNonMembers=null;this._containedNonMemberTypes=null;this._specializedVersionsOfThisType=null;this._arrayVersionOfThisType=null;this._implementedTypes=null;this._extendedTypes=null;this._typesThatExplicitlyImplementThisType=null;this._typesThatExtendThisType=null;this._callSignatures=null;this._allCallSignatures=null;this._constructSignatures=null;this._allConstructSignatures=null;this._indexSignatures=null;this._allIndexSignatures=null;this._elementType=null;this._memberNameCache=null;this._enclosedTypeNameCache=null;this._typeParameterNameCache=null;this._containedNonMemberNameCache=null;this._containedNonMemberTypeNameCache=null;this._specializedTypeIDCache=null;this._hasGenericSignature=!1;this._hasGenericMember=!1;this._hasBaseTypeConflict=!1;this._knownBaseTypeCount=0;this._invalidatedSpecializations=!1;this._associatedContainerTypeSymbol=null;this._constructorMethod=null;this._hasDefaultConstructor=!1;this._functionSymbol=null;this.hasRecursiveSpecializationError=!1;this.inMemberTypeNameEx=!1;this.inSymbolPrivacyCheck=!1;this.type=this}return __extends(u,r),u.prototype.isType=function(){return!0},u.prototype.isClass=function(){return this.kind==8||this._constructorMethod!=null},u.prototype.isFunction=function(){return(this.kind&50331648)!=0},u.prototype.isConstructor=function(){return this.kind==33554432},u.prototype.isTypeParameter=function(){return!1},u.prototype.isTypeVariable=function(){return!1},u.prototype.isError=function(){return!1},u.prototype.isEnum=function(){return this.kind==64},u.prototype.getKnownBaseTypeCount=function(){return this._knownBaseTypeCount},u.prototype.resetKnownBaseTypeCount=function(){this._knownBaseTypeCount=0},u.prototype.incrementKnownBaseCount=function(){this._knownBaseTypeCount++},u.prototype.setHasBaseTypeConflict=function(){this._hasBaseTypeConflict=!0},u.prototype.hasBaseTypeConflict=function(){return this._hasBaseTypeConflict},u.prototype.setUnresolved=function(){var t,n;for(r.prototype.setUnresolved.call(this),this._invalidatedSpecializations=!1,t=this.getKnownSpecializations(),n=0;n<t.length;n++)t[n].setUnresolved()},u.prototype.hasMembers=function(){var i,t;if(this._members!=n.sentinelEmptyArray)return!0;for(i=this.getExtendedTypes(),t=0;t<i.length;t++)if(i[t].hasMembers())return!0;return!1},u.prototype.setHasGenericSignature=function(){this._hasGenericSignature=!0},u.prototype.getHasGenericSignature=function(){return this._hasGenericSignature},u.prototype.setHasGenericMember=function(){this._hasGenericMember=!0},u.prototype.getHasGenericMember=function(){return this._hasGenericMember},u.prototype.setAssociatedContainerType=function(n){this._associatedContainerTypeSymbol=n},u.prototype.getAssociatedContainerType=function(){return this._associatedContainerTypeSymbol},u.prototype.getArrayType=function(){return this._arrayVersionOfThisType},u.prototype.getElementType=function(){return this._elementType},u.prototype.setElementType=function(n){this._elementType=n},u.prototype.setArrayType=function(n){this._arrayVersionOfThisType=n},u.prototype.getFunctionSymbol=function(){return this._functionSymbol},u.prototype.setFunctionSymbol=function(n){n&&(this._functionSymbol=n)},u.prototype.addContainedNonMember=function(t){t&&(this._containedNonMembers||(this._containedNonMembers=[]),this._containedNonMembers[this._containedNonMembers.length]=t,this._containedNonMemberNameCache||(this._containedNonMemberNameCache=new n.BlockIntrinsics),this._containedNonMemberNameCache[t.name]=t)},u.prototype.findContainedNonMember=function(n){return this._containedNonMemberNameCache?this._containedNonMemberNameCache[n]:null},u.prototype.findContainedNonMemberType=function(n){return this._containedNonMemberTypeNameCache?this._containedNonMemberTypeNameCache[n]:null},u.prototype.addMember=function(t){t&&(t.setContainer(this),this._memberNameCache||(this._memberNameCache=new n.BlockIntrinsics),this._members==n.sentinelEmptyArray&&(this._members=[]),this._members[this._members.length]=t,this._memberNameCache[t.name]=t)},u.prototype.addEnclosedMemberType=function(t){t&&(t.setContainer(this),this._enclosedTypeNameCache||(this._enclosedTypeNameCache=new n.BlockIntrinsics),this._enclosedMemberTypes||(this._enclosedMemberTypes=[]),this._enclosedMemberTypes[this._enclosedMemberTypes.length]=t,this._enclosedTypeNameCache[t.name]=t)},u.prototype.addEnclosedNonMember=function(t){t&&(t.setContainer(this),this._containedNonMemberNameCache||(this._containedNonMemberNameCache=new n.BlockIntrinsics),this._containedNonMembers||(this._containedNonMembers=[]),this._containedNonMembers[this._containedNonMembers.length]=t,this._containedNonMemberNameCache[t.name]=t)},u.prototype.addEnclosedNonMemberType=function(t){t&&(t.setContainer(this),this._containedNonMemberTypeNameCache||(this._containedNonMemberTypeNameCache=new n.BlockIntrinsics),this._containedNonMemberTypes||(this._containedNonMemberTypes=[]),this._containedNonMemberTypes[this._containedNonMemberTypes.length]=t,this._containedNonMemberTypeNameCache[t.name]=t)},u.prototype.addTypeParameter=function(t){t&&(t.getContainer()||t.setContainer(this),this._typeParameterNameCache||(this._typeParameterNameCache=new n.BlockIntrinsics),this._typeParameters||(this._typeParameters=[]),this._typeParameters[this._typeParameters.length]=t,this._typeParameterNameCache[t.getName()]=t)},u.prototype.addConstructorTypeParameter=function(n){var i,t;for(this.addTypeParameter(n),i=this.getConstructSignatures(),t=0;t<i.length;t++)i[t].addTypeParameter(n)},u.prototype.getMembers=function(){return this._members},u.prototype.setHasDefaultConstructor=function(n){typeof n=="undefined"&&(n=!0);this._hasDefaultConstructor=n},u.prototype.getHasDefaultConstructor=function(){return this._hasDefaultConstructor},u.prototype.getConstructorMethod=function(){return this._constructorMethod},u.prototype.setConstructorMethod=function(n){this._constructorMethod=n},u.prototype.getTypeParameters=function(){return this._typeParameters?this._typeParameters:n.sentinelEmptyArray},u.prototype.isGeneric=function(){return this._typeParameters&&this._typeParameters.length!=0||this._hasGenericSignature||this._hasGenericMember||this._typeArguments&&this._typeArguments.length||this.isArray()},u.prototype.isFixed=function(){var i,t,n;if(!this.isGeneric())return!0;if(this._typeParameters&&this._typeArguments){if(!this._typeArguments.length||this._typeArguments.length<this._typeParameters.length)return!1;for(n=0;n<this._typeArguments.length;n++)if(!this._typeArguments[n].isFixed())return!1;return!0}if(this._hasGenericMember){for(i=this.getMembers(),t=null,n=0;n<i.length;n++)if(t=i[n].type,t&&!t.isFixed())return!1;return!0}return!1},u.prototype.addSpecialization=function(t,i){i&&i.length&&(this._specializedTypeIDCache||(this._specializedTypeIDCache=new n.BlockIntrinsics),this._specializedVersionsOfThisType||(this._specializedVersionsOfThisType=[]),this._specializedVersionsOfThisType[this._specializedVersionsOfThisType.length]=t,this._specializedTypeIDCache[f(i)]=t)},u.prototype.getSpecialization=function(t){if(!t||!t.length)return null;if(!this._specializedTypeIDCache)return this._specializedTypeIDCache=new n.BlockIntrinsics,null;var i=this._specializedTypeIDCache[f(t)];return i?i:null},u.prototype.getKnownSpecializations=function(){return this._specializedVersionsOfThisType?this._specializedVersionsOfThisType:n.sentinelEmptyArray},u.prototype.getTypeArguments=function(){return this._typeArguments},u.prototype.setTypeArguments=function(n){this._typeArguments=n},u.prototype.addCallSignature=function(n){this._callSignatures||(this._callSignatures=[]);this._callSignatures[this._callSignatures.length]=n;n.isGeneric()&&(this._hasGenericSignature=!0);n.functionType=this},u.prototype.addConstructSignature=function(n){this._constructSignatures||(this._constructSignatures=[]);this._constructSignatures[this._constructSignatures.length]=n;n.isGeneric()&&(this._hasGenericSignature=!0);n.functionType=this},u.prototype.addIndexSignature=function(n){this._indexSignatures||(this._indexSignatures=[]);this._indexSignatures[this._indexSignatures.length]=n;n.isGeneric()&&(this._hasGenericSignature=!0);n.functionType=this},u.prototype.hasOwnCallSignatures=function(){return!!this._callSignatures},u.prototype.getCallSignatures=function(n){var t,i;if(typeof n=="undefined"&&(n=!0),!n)return this._callSignatures||[];if(this._allCallSignatures)return this._allCallSignatures;if(t=[],this._callSignatures&&(t=t.concat(this._callSignatures)),n&&this._extendedTypes)for(i=0;i<this._extendedTypes.length;i++)this._extendedTypes[i].hasBase(this)||(t=t.concat(this._extendedTypes[i].getCallSignatures()));return this._allCallSignatures=t,t},u.prototype.hasOwnConstructSignatures=function(){return!!this._constructSignatures},u.prototype.getConstructSignatures=function(n){var t,i;if(typeof n=="undefined"&&(n=!0),!n)return this._constructSignatures||[];if(t=[],this._constructSignatures&&(t=t.concat(this._constructSignatures)),n&&this._extendedTypes&&!(this.kind==33554432))for(i=0;i<this._extendedTypes.length;i++)this._extendedTypes[i].hasBase(this)||(t=t.concat(this._extendedTypes[i].getConstructSignatures()));return t},u.prototype.hasOwnIndexSignatures=function(){return!!this._indexSignatures},u.prototype.getIndexSignatures=function(n){var t,i;if(typeof n=="undefined"&&(n=!0),!n)return this._indexSignatures||[];if(this._allIndexSignatures)return this._allIndexSignatures;if(t=[],this._indexSignatures&&(t=t.concat(this._indexSignatures)),n&&this._extendedTypes)for(i=0;i<this._extendedTypes.length;i++)this._extendedTypes[i].hasBase(this)||(t=t.concat(this._extendedTypes[i].getIndexSignatures()));return this._allIndexSignatures=t,t},u.prototype.addImplementedType=function(n){n&&(this._implementedTypes||(this._implementedTypes=[]),this._implementedTypes[this._implementedTypes.length]=n,n.addTypeThatExplicitlyImplementsThisType(this))},u.prototype.getImplementedTypes=function(){return this._implementedTypes?this._implementedTypes:n.sentinelEmptyArray},u.prototype.addExtendedType=function(n){n&&(this._extendedTypes||(this._extendedTypes=[]),this._extendedTypes[this._extendedTypes.length]=n,n.addTypeThatExtendsThisType(this))},u.prototype.getExtendedTypes=function(){return this._extendedTypes?this._extendedTypes:n.sentinelEmptyArray},u.prototype.addTypeThatExtendsThisType=function(n){n&&(this._typesThatExtendThisType||(this._typesThatExtendThisType=[]),this._typesThatExtendThisType[this._typesThatExtendThisType.length]=n)},u.prototype.getTypesThatExtendThisType=function(){return this._typesThatExplicitlyImplementThisType||(this._typesThatExplicitlyImplementThisType=[]),this._typesThatExtendThisType},u.prototype.addTypeThatExplicitlyImplementsThisType=function(n){n&&(this._typesThatExplicitlyImplementThisType||(this._typesThatExplicitlyImplementThisType=[]),this._typesThatExplicitlyImplementThisType[this._typesThatExplicitlyImplementThisType.length]=n)},u.prototype.getTypesThatExplicitlyImplementThisType=function(){return this._typesThatExplicitlyImplementThisType||(this._typesThatExplicitlyImplementThisType=[]),this._typesThatExplicitlyImplementThisType},u.prototype.hasBase=function(n,t){var r,u,i;if((typeof t=="undefined"&&(t=null),this===n)||t&&(this===t||this.getRootSymbol()===t))return!0;for(t||(t=this),r=this.getExtendedTypes(),i=0;i<r.length;i++)if(r[i].hasBase(n,t))return!0;for(u=this.getImplementedTypes(),i=0;i<u.length;i++)if(u[i].hasBase(n,t))return!0;return!1},u.prototype.isValidBaseKind=function(n,t){if(n.isError())return!1;var i=this.isClass();if(t){if(i)return n.kind===8}else if(!i)return!1;return!!(n.kind&152)},u.prototype.findMember=function(n,t){var i,r;if(typeof t=="undefined"&&(t=!0),i=null,this._memberNameCache&&(i=this._memberNameCache[n]),t){if(i)return i}else return i;if(!i&&this._extendedTypes)for(r=0;r<this._extendedTypes.length;r++)if(i=this._extendedTypes[r].findMember(n),i)return i;return null},u.prototype.findNestedType=function(n,t){typeof t=="undefined"&&(t=0);var i;return this._enclosedTypeNameCache?(i=this._enclosedTypeNameCache[n],i&&t!=0&&(i=(i.kind&t)!=0?i:null),i):null},u.prototype.getAllMembers=function(t,i){var u=[],r=0,e=0,s=0,f=0,o,h,c;if(this._members!=n.sentinelEmptyArray)for(r=0,f=this._members.length;r<f;r++)o=this._members[r],o.kind&t&&(i||!o.hasFlag(2))&&(u[u.length]=o);if(this._extendedTypes)for(r=0,f=this._extendedTypes.length;r<f;r++)for(h=this._extendedTypes[r].getAllMembers(t,i),e=0,s=h.length;e<s;e++)c=h[e],this._memberNameCache&&this._memberNameCache[c.name]||(u[u.length]=c);if(this.isContainer()&&this._enclosedMemberTypes)for(r=0;r<this._enclosedMemberTypes.length;r++)u[u.length]=this._enclosedMemberTypes[r];return u},u.prototype.findTypeParameter=function(n){return this._typeParameterNameCache?this._typeParameterNameCache[n]:null},u.prototype.setResolved=function(){r.prototype.setResolved.call(this)},u.prototype.invalidate=function(){this._constructorMethod&&this._constructorMethod.invalidate();this._knownBaseTypeCount=0;r.prototype.invalidate.call(this)},u.prototype.getNamePartForFullName=function(){var u=r.prototype.getNamePartForFullName.call(this),n=this.getTypeArguments(),i;return n&&n.length||(n=this.getTypeParameters()),i=t.getTypeParameterString(n,this,!0),u+i},u.prototype.getScopedName=function(n,t){return this.getScopedNameEx(n,t).toString()},u.prototype.isNamedTypeSymbol=function(){if(this.isArray())return!1;var n=this.kind;return n===2||n===8||n===4||n===32||n===256||n===64||n===8192||(n===16||n===8388608)&&this.name!=""?!0:!1},u.prototype.toString=function(n,t){return this.getScopedNameEx(n,t).toString()},u.prototype.getScopedNameEx=function(i,u,f,e){var h,s,o;return this.isArray()?(h=this._elementType?this._elementType.isArray()||this._elementType.isNamedTypeSymbol()?this._elementType.getScopedNameEx(i,!1,f,e):this._elementType.getMemberTypeNameEx(!1,i,f):n.MemberName.create("any"),n.MemberName.create(h,"","[]")):this.isNamedTypeSymbol()?(s=new n.MemberNameArray,s.prefix=r.prototype.getScopedName.call(this,i,u),o=this.getTypeArguments(),o&&o.length||(o=this.getTypeParameters()),s.add(t.getTypeParameterStringEx(o,i,e,u)),s):this.getMemberTypeNameEx(!0,i,f)},u.prototype.hasOnlyOverloadCallSignatures=function(){var n=this.getMembers(),t=this.getCallSignatures(),i=this.getConstructSignatures();return n.length===0&&i.length===0&&t.length>1},u.prototype.getMemberTypeNameEx=function(t,r,u){var o=this.getMembers(),l=this.getCallSignatures(),a=this.getConstructSignatures(),h=this.getIndexSignatures(),v,b,e,c;if(o.length>0||l.length>0||a.length>0||h.length>0){if(this.inMemberTypeNameEx)return v=this.getAssociatedContainerType(),v&&v.isNamedTypeSymbol()?(b=v.getScopedNameEx(r),n.MemberName.create(b,"typeof ","")):n.MemberName.create("any");this.inMemberTypeNameEx=!0;var f=new n.MemberNameArray,y=!t||h.length!=0,p="; ";for(e=0;e<o.length;e++){if(o[e].kind==65536&&o[e].type.hasOnlyOverloadCallSignatures()){var g=o[e].type.getCallSignatures(),nt=o[e].getDisplayName(r)+(o[e].isOptional?"?":""),tt=i.getSignaturesTypeNameEx(g,nt,!1,!1,r);f.addAll(tt)}else c=o[e].getNameAndTypeNameEx(r),c.isArray()&&c.delim===p?f.addAll(c.entries):f.add(c);y=!0}var k=u&&!y&&this.hasOnlyOverloadCallSignatures(),d=l.length+a.length+h.length,w=!y&&d===1,s;return l.length>0&&(s=i.getSignaturesTypeNameEx(l,"",w,!1,r,k),f.addAll(s)),a.length>0&&(s=i.getSignaturesTypeNameEx(a,"new",w,!1,r),f.addAll(s)),h.length>0&&(s=i.getSignaturesTypeNameEx(h,"",w,!0,r),f.addAll(s)),y||!k&&d>1&&t?(f.prefix="{ ",f.suffix="}",f.delim=p):f.entries.length>1&&(f.delim=p),this.inMemberTypeNameEx=!1,f}return n.MemberName.create("{}")},u.prototype.isExternallyVisible=function(n){var u=r.prototype.isExternallyVisible.call(this,n),i,f;if(u&&(i=this.getTypeArguments(),i&&i.length||(i=this.getTypeParameters()),i))for(f=0;f<i.length;f++)if(u=t.getIsExternallyVisible(i[f],this,n),!u)break;return u},u}(t);n.PullTypeSymbol=r;e=function(n){function t(t){n.call(this,t,2);this.isResolved=!0}return __extends(t,n),t.prototype.isStringConstant=function(){return!1},t.prototype.isFixed=function(){return!0},t.prototype.invalidate=function(){},t}(r);n.PullPrimitiveTypeSymbol=e;v=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.isStringConstant=function(){return!0},t}(e);n.PullStringConstantTypeSymbol=v;y=function(n){function t(t,i,r){typeof r=="undefined"&&(r=null);n.call(this,"error");this.diagnostic=t;this.delegateType=i;this._data=r;this.isResolved=!0}return __extends(t,n),t.prototype.isError=function(){return!0},t.prototype.getDiagnostic=function(){return this.diagnostic},t.prototype.getName=function(n,t){return this.delegateType.getName(n,t)},t.prototype.getDisplayName=function(n,t){return this.delegateType.getDisplayName(n,t)},t.prototype.toString=function(n,t){return this.delegateType.toString(n,t)},t.prototype.setData=function(n){this._data=n},t.prototype.getData=function(){return this._data},t}(e);n.PullErrorTypeSymbol=y;o=function(n){function t(t,i){typeof i=="undefined"&&(i=4);n.call(this,t,i);this.instanceSymbol=null;this.assignedValue=null;this.assignedType=null;this.assignedContainer=null}return __extends(t,n),t.prototype.isContainer=function(){return!0},t.prototype.setInstanceSymbol=function(n){this.instanceSymbol=n},t.prototype.getInstanceSymbol=function(){return this.instanceSymbol},t.prototype.invalidate=function(){this.instanceSymbol&&this.instanceSymbol.invalidate();n.prototype.invalidate.call(this)},t.prototype.setExportAssignedValueSymbol=function(n){this.assignedValue=n},t.prototype.getExportAssignedValueSymbol=function(){return this.assignedValue},t.prototype.setExportAssignedTypeSymbol=function(n){this.assignedType=n},t.prototype.getExportAssignedTypeSymbol=function(){return this.assignedType},t.prototype.setExportAssignedContainerSymbol=function(n){this.assignedContainer=n},t.prototype.getExportAssignedContainerSymbol=function(){return this.assignedContainer},t.prototype.resetExportAssignedSymbols=function(){this.assignedValue=null;this.assignedType=null;this.assignedContainer=null},t.usedAsSymbol=function(n,i){if(!n||!n.isContainer())return!1;if(!n.isAlias()&&n.type==i)return!0;var r=n,f=r.getExportAssignedValueSymbol(),e=r.getExportAssignedTypeSymbol(),u=r.getExportAssignedContainerSymbol();return f||e||u?f==i||e==i||u==i||t.usedAsSymbol(u,i):!1},t.prototype.getInstanceType=function(){return this.instanceSymbol?this.instanceSymbol.type:null},t}(r);n.PullContainerTypeSymbol=o;p=function(t){function i(n){t.call(this,n,256);this.assignedValue=null;this.assignedType=null;this.assignedContainer=null;this.isUsedAsValue=!1;this.typeUsedExternally=!1;this.retrievingExportAssignment=!1}return __extends(i,t),i.prototype.isAlias=function(){return!0},i.prototype.isContainer=function(){return!0},i.prototype.setAssignedValueSymbol=function(n){this.assignedValue=n},i.prototype.getExportAssignedValueSymbol=function(){if(this.assignedValue)return this.assignedValue;if(this.retrievingExportAssignment)return null;if(this.assignedContainer){this.retrievingExportAssignment=!0;var n=this.assignedContainer.getExportAssignedValueSymbol();return this.retrievingExportAssignment=!1,n}return null},i.prototype.setAssignedTypeSymbol=function(n){this.assignedType=n},i.prototype.getExportAssignedTypeSymbol=function(){var n;if(this.retrievingExportAssignment)return null;if(this.assignedType)if(this.assignedType.isAlias())this.retrievingExportAssignment=!0,n=this.assignedType.getExportAssignedTypeSymbol(),this.retrievingExportAssignment=!1;else if(this.assignedType!=this.assignedContainer)return this.assignedType;return this.assignedContainer&&(this.retrievingExportAssignment=!0,n=this.assignedContainer.getExportAssignedTypeSymbol(),this.retrievingExportAssignment=!1,n)?n:this.assignedContainer},i.prototype.setAssignedContainerSymbol=function(n){this.assignedContainer=n},i.prototype.getExportAssignedContainerSymbol=function(){if(this.retrievingExportAssignment)return null;if(this.assignedContainer){this.retrievingExportAssignment=!0;var n=this.assignedContainer.getExportAssignedContainerSymbol();if(this.retrievingExportAssignment=!1,n)return n}return this.assignedContainer},i.prototype.getMembers=function(){return this.assignedType?this.assignedType.getMembers():n.sentinelEmptyArray},i.prototype.getCallSignatures=function(){return this.assignedType?this.assignedType.getCallSignatures():n.sentinelEmptyArray},i.prototype.getConstructSignatures=function(){return this.assignedType?this.assignedType.getConstructSignatures():n.sentinelEmptyArray},i.prototype.getIndexSignatures=function(){return this.assignedType?this.assignedType.getIndexSignatures():n.sentinelEmptyArray},i.prototype.findMember=function(n){return this.assignedType?this.assignedType.findMember(n):null},i.prototype.findNestedType=function(n){return this.assignedType?this.assignedType.findNestedType(n):null},i.prototype.getAllMembers=function(t,i){return this.assignedType?this.assignedType.getAllMembers(t,i):n.sentinelEmptyArray},i.prototype.invalidate=function(){this.isUsedAsValue=!1;t.prototype.invalidate.call(this)},i}(r);n.PullTypeAliasSymbol=p;w=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.isDefinition=function(){return!0},t}(i);n.PullDefinitionSignatureSymbol=w;c=function(n){function i(t,i){n.call(this,t,8192);this._isFunctionTypeParameter=i;this._constraint=null}return __extends(i,n),i.prototype.isTypeParameter=function(){return!0},i.prototype.isFunctionTypeParameter=function(){return this._isFunctionTypeParameter},i.prototype.isFixed=function(){return!1},i.prototype.setConstraint=function(n){this._constraint=n},i.prototype.getConstraint=function(){return this._constraint},i.prototype.isGeneric=function(){return!0},i.prototype.fullName=function(n){var t=this.getDisplayName(n),i=this.getContainer(),r;return i&&(r=i.fullName(n),t=t+" in "+r),t},i.prototype.getName=function(t,i){var r=n.prototype.getName.call(this,t);return this.isPrinting?r:(this.isPrinting=!0,i&&this._constraint&&(r+=" extends "+this._constraint.toString(t)),this.isPrinting=!1,r)},i.prototype.getDisplayName=function(t,i){var r=n.prototype.getDisplayName.call(this,t,i);return this.isPrinting?r:(this.isPrinting=!0,i&&this._constraint&&(r+=" extends "+this._constraint.toString(t)),this.isPrinting=!1,r)},i.prototype.isExternallyVisible=function(n){var i=this.getConstraint();return i?t.getIsExternallyVisible(i,this,n):!0},i}(r);n.PullTypeParameterSymbol=c;l=function(t){function i(i,r){t.call(this,i,r);this.tyvarID=n.globalTyvarID++}return __extends(i,t),i.prototype.isTypeParameter=function(){return!0},i.prototype.isTypeVariable=function(){return!0},i}(c);n.PullTypeVariableSymbol=l;b=function(n){function t(t){n.call(this,t,4096);this._getterSymbol=null;this._setterSymbol=null}return __extends(t,n),t.prototype.isAccessor=function(){return!0},t.prototype.setSetter=function(n){n&&(this._setterSymbol=n,n.setAccessorSymbol(this))},t.prototype.getSetter=function(){return this._setterSymbol},t.prototype.setGetter=function(n){n&&(this._getterSymbol=n,n.setAccessorSymbol(this))},t.prototype.getGetter=function(){return this._getterSymbol},t.prototype.invalidate=function(){this._getterSymbol&&this._getterSymbol.invalidate();this._setterSymbol&&this._setterSymbol.invalidate();n.prototype.invalidate.call(this)},t}(t);n.PullAccessorSymbol=b;n.typeWrapsTypeParameter=s;n.getRootType=k;n.nSpecializationsCreated=0;n.nSpecializedSignaturesCreated=0;n.shouldSpecializeTypeParameterForTypeParameter=a;n.specializeType=u;n.specializeSignature=h;n.getIDForTypeSubstitutions=f}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(t,i){this.semanticInfoChain=t;this.scriptName=i;this.parentChain=[];this.declPath=[];this.reBindingAfterChange=!1;this.startingDeclForRebind=n.pullDeclID;this.semanticInfo=this.semanticInfoChain.getUnit(this.scriptName)}return t.prototype.getParent=function(n){return typeof n=="undefined"&&(n=0),this.parentChain?this.parentChain[this.parentChain.length-1-n]:null},t.prototype.getDeclPath=function(){return this.declPath},t.prototype.pushParent=function(n){n&&(this.parentChain[this.parentChain.length]=n,this.declPath[this.declPath.length]=n.name)},t.prototype.popParent=function(){this.parentChain.length&&(this.parentChain.length--,this.declPath.length--)},t}();n.PullSymbolBindingContext=t;n.time_in_findSymbol=0}(TypeScript||(TypeScript={})),function(n){var i=function(){function n(){this.typeParameter=null;this.isFixed=!1;this.inferenceCandidates=[]}return n.prototype.addCandidate=function(n){this.isFixed||(this.inferenceCandidates[this.inferenceCandidates.length]=n)},n}(),r,t,u;n.CandidateInferenceInfo=i;r=function(){function t(){this.inferenceCache={};this.candidateCache={}}return t.prototype.alreadyRelatingTypes=function(n,t){var i=n.pullSymbolIDString+"#"+t.pullSymbolIDString;return this.inferenceCache[i]?!0:(this.inferenceCache[i]=!0,!1)},t.prototype.resetRelationshipCache=function(){this.inferenceCache={}},t.prototype.addInferenceRoot=function(n){var t=this.candidateCache[n.pullSymbolIDString];t||(t=new i,t.typeParameter=n,this.candidateCache[n.pullSymbolIDString]=t)},t.prototype.getInferenceInfo=function(n){return this.candidateCache[n.pullSymbolIDString]},t.prototype.addCandidateForInference=function(n,t,i){var r=this.getInferenceInfo(n);r&&(t&&r.addCandidate(t),r.isFixed||(r.isFixed=i))},t.prototype.getInferenceCandidates=function(){var i=[],n,r,u,t;for(u in this.candidateCache)for(n=this.candidateCache[u],t=0;t<n.inferenceCandidates.length;t++)r={},r[n.typeParameter.pullSymbolIDString]=n.inferenceCandidates[t],i[i.length]=r;return i},t.prototype.inferArgumentTypes=function(t,i){var r=null,o,e,u=[],s=!1,h,f;for(h in this.candidateCache){if(r=this.candidateCache[h],!r.inferenceCandidates.length){u[u.length]={param:r.typeParameter,type:t.semanticInfoChain.anyTypeSymbol};continue}if(o={getLength:function(){return r.inferenceCandidates.length},setTypeAtIndex:function(){},getTypeAtIndex:function(n){return r.inferenceCandidates[n].type}},e=t.widenType(t.findBestCommonType(r.inferenceCandidates[0],null,o,i,new n.TypeComparisonInfo)),e)for(f=0;f<u.length;f++)u[f].type==r.typeParameter&&(u[f].type=e);else s=!0;u[u.length]={param:r.typeParameter,type:e}}return{results:u,unfit:s}},t}();n.ArgumentInferenceContext=r;t=function(){function n(n,t,i){this.contextualType=n;this.provisional=t;this.substitutions=i;this.provisionallyTypedSymbols=[];this.provisionalDiagnostic=[]}return n.prototype.recordProvisionallyTypedSymbol=function(n){this.provisionallyTypedSymbols[this.provisionallyTypedSymbols.length]=n},n.prototype.invalidateProvisionallyTypedSymbols=function(){for(var n=0;n<this.provisionallyTypedSymbols.length;n++)this.provisionallyTypedSymbols[n].invalidate()},n.prototype.postDiagnostic=function(n){this.provisionalDiagnostic[this.provisionalDiagnostic.length]=n},n.prototype.hadProvisionalErrors=function(){return this.provisionalDiagnostic.length>0},n}();n.PullContextualTypeContext=t;u=function(){function i(n){typeof n=="undefined"&&(n=!1);this.inTypeCheck=n;this.contextStack=[];this.typeSpecializationStack=[];this.genericASTResolutionStack=[];this.resolvingTypeReference=!1;this.resolvingNamespaceMemberAccess=!1;this.resolvingTypeQueryExpression=!1;this.resolveAggressively=!1;this.canUseTypeSymbol=!1;this.specializingToAny=!1;this.specializingToObject=!1;this.isResolvingClassExtendedType=!1;this.isSpecializingSignatureAtCallSite=!1;this.isSpecializingConstructorMethod=!1;this.isComparingSpecializedSignatures=!1;this.isResolvingSuperConstructorTarget=!1;this.inConstructorArguments=!1;this.inImportDeclaration=!1;this.isInStaticInitializer=!1;this.isInInvocationExpression=!1;this.resolvingTypeNameAsNameExpression=!1;this.inSpecialization=!1;this.suppressErrors=!1;this.inBaseTypeResolution=!1}return i.prototype.pushContextualType=function(n,i,r){this.contextStack.push(new t(n,i,r))},i.prototype.popContextualType=function(){var n=this.contextStack.pop();return n.invalidateProvisionallyTypedSymbols(),n},i.prototype.findSubstitution=function(n){var i=null,t;if(this.contextStack.length)for(t=this.contextStack.length-1;t>=0;t--)if(this.contextStack[t].substitutions&&(i=this.contextStack[t].substitutions[n.pullSymbolIDString],i))break;return i},i.prototype.getContextualType=function(){var i=this.contextStack.length?this.contextStack[this.contextStack.length-1]:null,n,t;return i?(n=i.contextualType,!n)?null:(n.isTypeParameter()&&n.getConstraint()&&(n=n.getConstraint()),t=this.findSubstitution(n),t?t:n):null},i.prototype.inProvisionalResolution=function(){return this.contextStack.length?this.contextStack[this.contextStack.length-1].provisional:!1},i.prototype.isInBaseTypeResolution=function(){return this.inBaseTypeResolution},i.prototype.startBaseTypeResolution=function(){var n=this.inBaseTypeResolution;return this.inBaseTypeResolution=!0,n},i.prototype.doneBaseTypeResolution=function(n){this.inBaseTypeResolution=n},i.prototype.setTypeInContext=function(n,t){var i=this.findSubstitution(t);n.type=i?i:t;this.contextStack.length&&this.inProvisionalResolution()&&this.contextStack[this.contextStack.length-1].recordProvisionallyTypedSymbol(n)},i.prototype.pushTypeSpecializationCache=function(n){this.typeSpecializationStack[this.typeSpecializationStack.length]=n},i.prototype.popTypeSpecializationCache=function(){this.typeSpecializationStack.length&&this.typeSpecializationStack.length--},i.prototype.findSpecializationForType=function(n){for(var i=null,t=this.typeSpecializationStack.length-1;t>=0;t--)if(i=this.typeSpecializationStack[t][n.pullSymbolIDString],i)return i;return n},i.prototype.postError=function(t,i,r,u,f,e,o){typeof o=="undefined"&&(o=!0);var s=new n.Diagnostic(t,i,r,u,f);return o&&this.postDiagnostic(s,e),s},i.prototype.postDiagnostic=function(n,t){this.inProvisionalResolution()?this.contextStack[this.contextStack.length-1].postDiagnostic(n):this.inTypeCheck&&!this.suppressErrors&&t&&t.addDiagnostic(n)},i.prototype.typeCheck=function(){return this.inTypeCheck&&!this.inSpecialization},i.prototype.startResolvingTypeArguments=function(n){this.genericASTResolutionStack[this.genericASTResolutionStack.length]=n},i.prototype.isResolvingTypeArguments=function(n){for(var t=0;t<this.genericASTResolutionStack.length;t++)if(this.genericASTResolutionStack[t].astID===n.astID)return!0;return!1},i.prototype.doneResolvingTypeArguments=function(){this.genericASTResolutionStack.length--},i}();n.PullTypeResolutionContext=u}(TypeScript||(TypeScript={})),function(n){var i=function(){function n(){this.cacheSize=16;this.rdCache=[];this.nextUp=0;for(var n=0;n<this.cacheSize;n++)this.rdCache[n]={actuals:[],exactCandidates:[],conversionCandidates:[],id:n}}return n.prototype.getResolutionData=function(){var n=null;return this.nextUp<this.cacheSize&&(n=this.rdCache[this.nextUp]),n===null&&(this.cacheSize++,n={actuals:[],exactCandidates:[],conversionCandidates:[],id:this.cacheSize},this.rdCache[this.cacheSize]=n),this.nextUp++,n},n.prototype.returnResolutionData=function(n){n.actuals.length=0;n.exactCandidates.length=0;n.conversionCandidates.length=0;this.nextUp=n.id},n}(),r,u,f,t;n.PullResolutionDataCache=i;r=function(){function n(){this.targetSymbol=null;this.targetTypeSymbol=null;this.resolvedSignatures=null;this.candidateSignature=null;this.actualParametersContextTypeSymbols=null}return n}();n.PullAdditionalCallResolutionData=r;u=function(){function n(){this.membersContextTypeSymbols=null}return n}();n.PullAdditionalObjectLiteralResolutionData=u;f=function(){function r(t,r,u){this.compilationSettings=t;this.semanticInfoChain=r;this.unitPath=u;this._cachedArrayInterfaceType=null;this._cachedNumberInterfaceType=null;this._cachedStringInterfaceType=null;this._cachedBooleanInterfaceType=null;this._cachedObjectInterfaceType=null;this._cachedFunctionInterfaceType=null;this._cachedIArgumentsInterfaceType=null;this._cachedRegExpInterfaceType=null;this.cachedFunctionArgumentsSymbol=null;this.seenSuperConstructorCall=!1;this.assignableCache={};this.subtypeCache={};this.identicalCache={};this.resolutionDataCache=new i;this.currentUnit=null;this.lastExternalModulePath="";this.cachedFunctionArgumentsSymbol=new n.PullSymbol("arguments",1024);this.cachedFunctionArgumentsSymbol.type=this.cachedIArgumentsInterfaceType()?this.cachedIArgumentsInterfaceType():this.semanticInfoChain.anyTypeSymbol;this.cachedFunctionArgumentsSymbol.setResolved();var f=new n.PullDecl("arguments","arguments",2048,0,new n.TextSpan(0,0),u);f.setSymbol(this.cachedFunctionArgumentsSymbol);this.cachedFunctionArgumentsSymbol.addDeclaration(f);this.currentUnit=this.semanticInfoChain.getUnit(u)}return r.prototype.cleanCachedGlobals=function(){this._cachedArrayInterfaceType=null;this._cachedNumberInterfaceType=null;this._cachedStringInterfaceType=null;this._cachedBooleanInterfaceType=null;this._cachedObjectInterfaceType=null;this._cachedFunctionInterfaceType=null;this._cachedIArgumentsInterfaceType=null;this._cachedRegExpInterfaceType=null;this.cachedFunctionArgumentsSymbol=null;this.identicalCache={};this.subtypeCache={};this.assignableCache={}},r.prototype.cachedArrayInterfaceType=function(){return this._cachedArrayInterfaceType||(this._cachedArrayInterfaceType=this.getSymbolFromDeclPath("Array",[],16)),this._cachedArrayInterfaceType||(this._cachedArrayInterfaceType=this.semanticInfoChain.anyTypeSymbol),this._cachedArrayInterfaceType.isResolved||this.resolveDeclaredSymbol(this._cachedArrayInterfaceType,null,new n.PullTypeResolutionContext),this._cachedArrayInterfaceType},r.prototype.getCachedArrayType=function(){return this.cachedArrayInterfaceType()},r.prototype.cachedNumberInterfaceType=function(){return this._cachedNumberInterfaceType||(this._cachedNumberInterfaceType=this.getSymbolFromDeclPath("Number",[],16)),this._cachedNumberInterfaceType&&!this._cachedNumberInterfaceType.isResolved&&this.resolveDeclaredSymbol(this._cachedNumberInterfaceType,null,new n.PullTypeResolutionContext),this._cachedNumberInterfaceType},r.prototype.cachedStringInterfaceType=function(){return this._cachedStringInterfaceType||(this._cachedStringInterfaceType=this.getSymbolFromDeclPath("String",[],16)),this._cachedStringInterfaceType&&!this._cachedStringInterfaceType.isResolved&&this.resolveDeclaredSymbol(this._cachedStringInterfaceType,null,new n.PullTypeResolutionContext),this._cachedStringInterfaceType},r.prototype.cachedBooleanInterfaceType=function(){return this._cachedBooleanInterfaceType||(this._cachedBooleanInterfaceType=this.getSymbolFromDeclPath("Boolean",[],16)),this._cachedBooleanInterfaceType&&!this._cachedBooleanInterfaceType.isResolved&&this.resolveDeclaredSymbol(this._cachedBooleanInterfaceType,null,new n.PullTypeResolutionContext),this._cachedBooleanInterfaceType},r.prototype.cachedObjectInterfaceType=function(){return this._cachedObjectInterfaceType||(this._cachedObjectInterfaceType=this.getSymbolFromDeclPath("Object",[],16)),this._cachedObjectInterfaceType||(this._cachedObjectInterfaceType=this.semanticInfoChain.anyTypeSymbol),this._cachedObjectInterfaceType.isResolved||this.resolveDeclaredSymbol(this._cachedObjectInterfaceType,null,new n.PullTypeResolutionContext),this._cachedObjectInterfaceType},r.prototype.cachedFunctionInterfaceType=function(){return this._cachedFunctionInterfaceType||(this._cachedFunctionInterfaceType=this.getSymbolFromDeclPath("Function",[],16)),this._cachedFunctionInterfaceType&&!this._cachedFunctionInterfaceType.isResolved&&this.resolveDeclaredSymbol(this._cachedFunctionInterfaceType,null,new n.PullTypeResolutionContext),this._cachedFunctionInterfaceType},r.prototype.cachedIArgumentsInterfaceType=function(){return this._cachedIArgumentsInterfaceType||(this._cachedIArgumentsInterfaceType=this.getSymbolFromDeclPath("IArguments",[],16)),this._cachedIArgumentsInterfaceType&&!this._cachedIArgumentsInterfaceType.isResolved&&this.resolveDeclaredSymbol(this._cachedIArgumentsInterfaceType,null,new n.PullTypeResolutionContext),this._cachedIArgumentsInterfaceType},r.prototype.cachedRegExpInterfaceType=function(){return this._cachedRegExpInterfaceType||(this._cachedRegExpInterfaceType=this.getSymbolFromDeclPath("RegExp",[],16)),this._cachedRegExpInterfaceType&&!this._cachedRegExpInterfaceType.isResolved&&this.resolveDeclaredSymbol(this._cachedRegExpInterfaceType,null,new n.PullTypeResolutionContext),this._cachedRegExpInterfaceType},r.prototype.getUnitPath=function(){return this.unitPath},r.prototype.setUnitPath=function(n){this.unitPath=n;this.currentUnit=this.semanticInfoChain.getUnit(n)},r.prototype.getDeclForAST=function(n){return this.semanticInfoChain.getDeclForAST(n,this.unitPath)},r.prototype.getSymbolForAST=function(n){return this.semanticInfoChain.getSymbolForAST(n,this.unitPath)},r.prototype.setSymbolForAST=function(n,t,i){i&&(i.inProvisionalResolution()||i.inSpecialization)||this.semanticInfoChain.setSymbolForAST(n,t,this.unitPath)},r.prototype.getASTForSymbol=function(n){return this.semanticInfoChain.getASTForSymbol(n,this.unitPath)},r.prototype.getASTForDecl=function(n){return this.semanticInfoChain.getASTForDecl(n)},r.prototype.getNewErrorTypeSymbol=function(t,i){return new n.PullErrorTypeSymbol(t,this.semanticInfoChain.anyTypeSymbol,i)},r.prototype.getEnclosingDecl=function(t){var i=n.getPathToDecl(t);return i.length?i.length>1&&i[i.length-1]===t?i[i.length-2]:i[i.length-1]:null},r.prototype.getExportedMemberSymbol=function(n,t){if(!(n.kind&69632)){var i=(t.kind&36)!=0,r=i?t:t.getAssociatedContainerType();if(i&&r)return n.hasFlag(1)?n:null}return n},r.prototype.getMemberSymbol=function(t,i,r){var u=null,o,s,f,e,h,c,l;if(u=i&n.PullElementKind.SomeValue?r.findMember(t):r.findNestedType(t),u)return this.getExportedMemberSymbol(u,r);if(o=r.getAssociatedContainerType(),o){if(o.isClass())return null;r=o}if(u=i&n.PullElementKind.SomeValue?r.findMember(t):r.findNestedType(t),u)return this.getExportedMemberSymbol(u,r);for(s=r.getDeclarations(),f=null,e=0;e<s.length;e++){if(f=s[e].searchChildDecls(t,i),f.length)return u=f[0].getSymbol(),u||(u=f[0].getSignatureSymbol()),this.getExportedMemberSymbol(u,r);if(((i&n.PullElementKind.SomeType)!=0||(i&n.PullElementKind.SomeValue)!=0)&&(f=s[e].searchChildDecls(t,256),f.length&&f[0].kind==256&&(h=this.getExportedMemberSymbol(f[0].getSymbol(),r),h)))if((i&n.PullElementKind.SomeType)!=0){if(c=h.getExportAssignedTypeSymbol(),c)return c}else if(l=h.getExportAssignedValueSymbol(),l)return l}},r.prototype.getSymbolFromDeclPath=function(t,i,r){for(var u=null,f,v=null,s,l=null,a=null,y=null,e=null,c,o,h=i.length-1;h>=0;h--){if(u=i[h],s=u.kind,u.flags&2097152)return this.semanticInfoChain.anyTypeSymbol;if(s&36){if(f=u.searchChildDecls(t,r),f.length)return f[0].getSymbol();if(r&n.PullElementKind.SomeValue){if(a=u.getSymbol().getInstanceSymbol(),f=u.searchChildDecls(t,256),f.length&&(o=f[0].getSymbol(),o.isAlias()))return o;if(a&&(y=a.type,e=this.getMemberSymbol(t,r,y),e&&e.kind&r))return e;l=u.getValueDecl();l&&(u=l)}if(v=u.getSymbol().type,e=this.getMemberSymbol(t,r,v),e)return e}else if(r&(n.PullElementKind.SomeType|n.PullElementKind.SomeContainer)||!(s&8)){if(c=null,s===131072&&t===u.getFunctionExpressionName()&&(c=u.getSymbol()),f=u.searchChildDecls(t,r),f.length)return u.kind&n.PullElementKind.SomeFunction&&u.ensureSymbolIsBound(),f[0].getSymbol();if(c)return c;if(r&n.PullElementKind.SomeValue&&(f=u.searchChildDecls(t,256),f.length&&(o=f[0].getSymbol(),o.isAlias())))return o}}return this.semanticInfoChain.findSymbol([t],r)},r.prototype.getVisibleDeclsFromDeclPath=function(t,i){for(var o=[],u=null,tt,h,y,p,w,c,d,l,g,e,b,nt,k,a,f,s,v,r=t.length-1;r>=0;r--){u=t[r];tt=u.kind;h=u.kind;h!==8&&h!==16&&this.addFilteredDecls(u.getChildDecls(),i,o);switch(h){case 4:case 32:for(y=this.semanticInfoChain.findDeclsFromPath(t.slice(0,r+1),n.PullElementKind.SomeContainer),f=0,s=y.length;f<s;f++)if(p=y[f],p!==u)for(w=p.getChildDecls(),c=0,d=w.length;c<d;c++)l=w[c],l.flags&1&&l.kind&i&&o.push(l);break;case 8:case 16:e=u.getTypeParameters();e&&e.length&&this.addFilteredDecls(e,i,o);break;case 131072:g=u.getFunctionExpressionName();g&&o.push(u);case 16384:case 32768:case 65536:e=u.getTypeParameters();e&&e.length&&this.addFilteredDecls(e,i,o)}}for(b=this.semanticInfoChain.units,r=0,nt=b.length;r<nt;r++)if((k=b[r],k!==this.currentUnit||t.length==0)&&(a=k.getTopLevelDecls(),a.length))for(f=0,s=a.length;f<s;f++)v=a[f],(v.kind===1||v.kind===0)&&this.addFilteredDecls(v.getChildDecls(),i,o);return o},r.prototype.addFilteredDecls=function(n,t,i){var r,f,u;if(n.length)for(r=0,f=n.length;r<f;r++)u=n[r],u.kind&t&&i.push(u)},r.prototype.getVisibleDecls=function(t){var i=t!==null?n.getPathToDecl(t):[],r;return t&&!i.length&&(i=[t]),r=n.PullElementKind.SomeType|n.PullElementKind.SomeContainer|n.PullElementKind.SomeValue,this.getVisibleDeclsFromDeclPath(i,r)},r.prototype.getVisibleContextSymbols=function(t,i){var f=i.getContextualType(),e,r,u;if(!f||this.isAnyOrEquivalent(f))return null;for(e=n.PullElementKind.SomeType|n.PullElementKind.SomeContainer|n.PullElementKind.SomeValue,r=f.getAllMembers(e,!1),u=0;u<r.length;u++)r[u].setUnresolved();return r},r.prototype.getVisibleMembersFromExpression=function(t,i,r){var ht=r.canUseTypeSymbol,ct=r.resolvingNamespaceMemberAccess,e,u,h,o,l,b,a,ut,ft,s,f,k,d,v,g,y,et,nt,ot,rt,w,st;if((r.canUseTypeSymbol=!0,r.resolvingNamespaceMemberAccess=!0,e=this.resolveAST(t,!1,i,r),r.canUseTypeSymbol=ht,r.resolvingNamespaceMemberAccess=ct,r.resolvingTypeReference&&(e.kind===8||e.kind===16))||(u=e.type,!u)||this.isAnyOrEquivalent(u))return null;if(u.isResolved||this.resolveDeclaredSymbol(u,i,r),h=!1,o=u,o.kind===33554432&&(o=o.getConstructSignatures()[0].returnType),o&&o.isClass()&&(l=n.getPathToDecl(i),l&&l.length))for(b=o.getDeclarations(),a=0,ut=b.length;a<ut;a++)if(ft=b[a],l.indexOf(ft)>=0){h=!0;break}if(s=n.PullElementKind.SomeType|n.PullElementKind.SomeContainer|n.PullElementKind.SomeValue,f=[],u.isContainer()&&(k=u.getExportAssignedContainerSymbol(),k&&(u=k)),u.isTypeParameter())d=u.getConstraint(),d&&(u=d,f=u.getAllMembers(s,!1));else if(e.kind==67108864&&(u=this.semanticInfoChain.numberTypeSymbol),u===this.semanticInfoChain.numberTypeSymbol&&this.cachedNumberInterfaceType()?u=this.cachedNumberInterfaceType():u===this.semanticInfoChain.stringTypeSymbol&&this.cachedStringInterfaceType()?u=this.cachedStringInterfaceType():u===this.semanticInfoChain.booleanTypeSymbol&&this.cachedBooleanInterfaceType()&&(u=this.cachedBooleanInterfaceType()),u.isResolved||(v=this.resolveDeclaredSymbol(u,i,r),v!=u&&(e.isType()||r.setTypeInContext(e,v),u=v)),f=u.getAllMembers(s,h),u.isContainer())u.isAlias()&&(u=u.getExportAssignedTypeSymbol()),g=u.getInstanceSymbol(),g&&(y=g.type,y.isResolved||this.resolveDeclaredSymbol(y,i,r),et=y.getAllMembers(s,h),f=f.concat(et)),nt=u.getExportAssignedContainerSymbol(),nt&&(ot=nt.getAllMembers(s,h),f=f.concat(ot));else if(u.isConstructor()){var tt="prototype",p=new n.PullSymbol(tt,4096),c=u.getDeclarations()[0],it=new n.PullDecl(tt,tt,c.kind,c.flags,c.getSpan(),c.getScriptName());this.currentUnit.addSynthesizedDecl(it);it.setParentDecl(c);p.addDeclaration(it);p.type=u.getAssociatedContainerType();p.isResolved=!0;f.push(p)}else rt=u.getAssociatedContainerType(),rt&&(w=rt.type,w.isResolved||this.resolveDeclaredSymbol(w,i,r),st=w.getAllMembers(s,h),f=f.concat(st));return u.getCallSignatures().length&&this.cachedFunctionInterfaceType()&&(f=f.concat(this.cachedFunctionInterfaceType().getAllMembers(s,!1))),f},r.prototype.isAnyOrEquivalent=function(n){return n===this.semanticInfoChain.anyTypeSymbol||n.isError()},r.prototype.isNumberOrEquivalent=function(n){return n===this.semanticInfoChain.numberTypeSymbol||this.cachedNumberInterfaceType()&&n===this.cachedNumberInterfaceType()},r.prototype.isTypeArgumentOrWrapper=function(n){var t,i;if(!n||!n.isGeneric())return!1;if(n.isTypeParameter())return!0;if(n.isArray())return this.isTypeArgumentOrWrapper(n.getElementType());if(t=n.getTypeArguments(),t){for(i=0;i<t.length;i++)if(this.isTypeArgumentOrWrapper(t[i]))return!0}else return!0;return!1},r.prototype.isArrayOrEquivalent=function(n){return n.isArray()&&n.getElementType()||n==this.cachedArrayInterfaceType()},r.prototype.findTypeSymbolForDynamicModule=function(t,i,r){var e=t,u=null,o,f;if(!n.isRelative(e)){if(t=e,o=n.stripQuotes(t),this.lastExternalModulePath!=""&&((t=n.normalizePath(this.lastExternalModulePath+o+".ts"),u=r(t),u)||(u===null&&(t=n.normalizePath(this.lastExternalModulePath+o+".d.ts"),u=r(t)),u)))return u;for(f=n.getRootFilePath(n.switchToForwardSlashes(i));u===null&&f!="";)t=n.normalizePath(f+o+".d.ts"),u=r(t),u===null&&(t=n.normalizePath(f+o+".ts"),u=r(t)),u===null&&(f==="/"?f="":(f=n.normalizePath(f+".."),f=f&&f!="/"?f+"/":f)),u&&(this.lastExternalModulePath=f)}return u=r(e),u===null&&(u||(t=n.swapQuotes(e),u=r(t)),u||(t=n.stripQuotes(e)+".d.ts",u=r(t)),u||(t=n.stripQuotes(e)+".ts",u=r(t))),u},r.prototype.resolveDeclaredSymbol=function(n,t,i){var u=i.resolvingTypeReference,r;return i.resolvingTypeReference=!1,r=this.resolveDeclaredSymbolWorker(n,t,i),i.resolvingTypeReference=u,r},r.prototype.resolveDeclaredSymbolWorker=function(t,i,r){var o,s,e,h,c,u,v,y;if(!t||t.isResolved)return t;if(t.inResolution&&!t.currentlyBeingSpecialized())return t.isType()||(t.type=this.semanticInfoChain.anyTypeSymbol),t;var l=this.unitPath,a=t.getDeclarations(),f=null;for(u=0;u<a.length;u++){if(o=a[u],f=this.semanticInfoChain.getASTForDecl(o),!f||f.nodeType()===81)return this.setUnitPath(l),t;this.setUnitPath(o.getScriptName());s=this.resolveAST(f,!1,i,r);o.kind==2048&&!t.isResolved&&!t.type&&s&&t.hasFlag(8388608)&&(t.type=s.type,t.setResolved())}if(e=t.isType()?t.getTypeArguments():null,e&&e.length){for(h=t.getTypeParameters(),c={},u=0;u<h.length;u++)c[h[u].pullSymbolIDString]=e[u];r.pushTypeSpecializationCache(c);v=n.getRootType(t.type);y=n.specializeType(v,e,this,i,r,f);r.popTypeSpecializationCache();t=y}return this.setUnitPath(l),t},r.prototype.resolveModuleDeclaration=function(n,t){var f=this.getDeclForAST(n),r=f.getSymbol(),u,h,e,o,c,s,l,i;if(r.isResolved||r.inResolution)return r;for(r.inResolution=!0,u=r.getDeclarations(),i=0;i<u.length;i++)for(h=u[i].getChildDecls(),e=0;e<h.length;e++)h[e].ensureSymbolIsBound();if(o=n.members.members,f.kind!=64)for(c=r.getInstanceSymbol(),c&&this.resolveDeclaredSymbol(c,f.getParentDecl(),t),i=0;i<o.length;i++)if(o[i].nodeType()==88){this.resolveExportAssignmentStatement(o[i],f,t);break}if(t.typeCheck()){for(s=null,l=this.unitPath,i=0;i<u.length;i++)s=this.getASTForDecl(u[i]),s&&(this.setUnitPath(u[i].getScriptName()),this.resolveAST(s.members,!1,u[i],t));this.setUnitPath(l);this.validateVariableDeclarationGroups(f,t)}return r.setResolved(),r},r.prototype.isTypeRefWithoutTypeArgs=function(n){if(n.nodeType()!=11)return!1;if(n.term.nodeType()==21)return!0;if(n.term.nodeType()==33){var t=n.term;if(t.operand2.nodeType()==21)return!0}return!1},r.prototype.resolveReferenceTypeDeclaration=function(t,i){var ot=this,e=this.getDeclForAST(t),l=this.getEnclosingDecl(e),f=e.getSymbol(),a=t.nodeType()===14,tt=this.getSymbolForAST(t)!=null,it=[],rt=[],st,v,y,p,w,ut,s,ft,b,h,c,o,et,k,d,g,nt,u;if(f.isResolved&&tt||f.inResolution&&!i.isInBaseTypeResolution())return f;if(st=f.inResolution,f.startResolving(),!f.isResolved)for(v=f.getTypeParameters(),u=0;u<v.length;u++)this.resolveDeclaredSymbol(v[u],e,i);for(y=f.getDeclarations(),u=0;u<y.length;u++)for(p=y[u].getChildDecls(),h=0;h<p.length;h++)p[h].ensureSymbolIsBound();if(w=i.startBaseTypeResolution(),a||tt||f.resetKnownBaseTypeCount(),t.extendsList){for(ut=i.isResolvingClassExtendedType,a&&(i.isResolvingClassExtendedType=!0),u=f.getKnownBaseTypeCount();u<t.extendsList.members.length;u=f.getKnownBaseTypeCount())if(f.incrementKnownBaseCount(),s=this.resolveTypeReference(new n.TypeReference(t.extendsList.members[u],0),e,i),f.isValidBaseKind(s,!0)&&(ft=s,it[it.length]=s,s.isGeneric()&&s.isResolved&&!s.getIsSpecialized()&&(s=this.specializeTypeToAny(s,l,i),e.addDiagnostic(new n.Diagnostic(e.getScriptName(),t.minChar,t.getLength(),n.DiagnosticCode.Generic_type_references_must_include_all_type_arguments))),!f.hasBase(s)))for(this.setSymbolForAST(t.extendsList.members[u],ft,i),f.addExtendedType(s),b=f.getKnownSpecializations(),h=0;h<b.length;h++)b[h].addExtendedType(s);i.isResolvingClassExtendedType=ut}if(t.implementsList&&a)for(c=t.extendsList?t.extendsList.members.length:0,u=f.getKnownBaseTypeCount();u-c>=0&&u-c<t.implementsList.members.length;u=f.getKnownBaseTypeCount())f.incrementKnownBaseCount(),o=this.resolveTypeReference(new n.TypeReference(t.implementsList.members[u-c],0),e,i),f.isValidBaseKind(o,!1)&&(et=o,rt[rt.length]=o,o.isGeneric()&&o.isResolved&&!o.getIsSpecialized()?(o=this.specializeTypeToAny(o,l,i),e.addDiagnostic(new n.Diagnostic(e.getScriptName(),t.minChar,t.getLength(),n.DiagnosticCode.Generic_type_references_must_include_all_type_arguments)),this.setSymbolForAST(t.implementsList.members[u-c],o,i),f.addImplementedType(o)):f.hasBase(o)||(this.setSymbolForAST(t.implementsList.members[u-c],et,i),f.addImplementedType(o)));if(i.doneBaseTypeResolution(w),w)return f.inResolution=!1,r.typeCheckCallBacks.push(function(){ot.resolveDeclaredSymbol(f,l,i)}),f;if(!f.isResolved){if(k=f.getMembers(),n.globalBinder&&n.globalBinder.resetTypeParameterCache(),i.typeCheck())for(u=0;u<k.length;u++)this.resolveDeclaredSymbol(k[u],e,i);if(!a){for(d=f.getCallSignatures(),u=0;u<d.length;u++)this.resolveDeclaredSymbol(d[u],e,i);for(g=f.getConstructSignatures(),u=0;u<g.length;u++)this.resolveDeclaredSymbol(g[u],e,i);for(nt=f.getIndexSignatures(),u=0;u<nt.length;u++)this.resolveDeclaredSymbol(nt[u],e,i);i.typeCheck()&&this.typeCheckBases(t,f,l,i)}}return this.setSymbolForAST(t.name,f,i),this.setSymbolForAST(t,f,i),f.setResolved(),f},r.prototype.resolveClassDeclaration=function(t,i){var s=this.getDeclForAST(t),u=s.getSymbol(),o,b,f,e,h,y,r,d,p;if(u.isResolved)return u;this.resolveReferenceTypeDeclaration(t,i);var a=u.getConstructorMethod(),w=u.getExtendedTypes(),c=w.length?w[0]:null;if(a){if(o=a.type,b=o.getConstructSignatures(),!b.length)if(c){var g=c,nt=g.getConstructorMethod(),tt=nt.type,k=tt.getConstructSignatures(),v,l;for(r=0;r<k.length;r++){for(v=k[r],l=v.parameters,f=v.isDefinition()?new n.PullDefinitionSignatureSymbol(2097152):new n.PullSignatureSymbol(2097152),f.returnType=u,e=0;e<l.length;e++)f.addParameter(l[e],l[e].isOptional);for(h=o.getTypeParameters(),e=0;e<h.length;e++)f.addTypeParameter(h[e]);o.addConstructSignature(f);f.addDeclaration(s)}}else for(f=new n.PullSignatureSymbol(2097152),f.returnType=u,o.addConstructSignature(f),f.addDeclaration(s),h=o.getTypeParameters(),r=0;r<h.length;r++)f.addTypeParameter(h[r]);if(!u.isResolved)return u;if(i.typeCheck())for(y=o.getMembers(),this.resolveDeclaredSymbol(a,s,i),r=0;r<y.length;r++)this.resolveDeclaredSymbol(y[r],s,i)}return c&&(d=c.getConstructorMethod(),p=d.type,o.hasBase(p)||o.addExtendedType(p)),i.typeCheck()&&(this.typeCheckBases(t,u,this.getEnclosingDecl(s),i),u.isResolved&&!u.hasBaseTypeConflict()&&this.typeCheckMembersAgainstIndexer(u,s,i)),u},r.prototype.resolveInterfaceDeclaration=function(n,t){var r=this.getDeclForAST(n),i=r.getSymbol();return this.resolveReferenceTypeDeclaration(n,t),t.typeCheck()&&(i.hasBaseTypeConflict()||this.typeCheckMembersAgainstIndexer(i,r,t)),i},r.prototype.filterSymbol=function(t,i){if(t){if(t.kind&i)return t;if(t.isAlias()){var r=t;if(i&n.PullElementKind.SomeContainer)return r.getExportAssignedContainerSymbol();if(i&n.PullElementKind.SomeType)return r.getExportAssignedTypeSymbol();if(i&n.PullElementKind.SomeValue)return r.getExportAssignedValueSymbol()}}return null},r.prototype.getMemberSymbolOfKind=function(n,t,i){var r=this.getMemberSymbol(n,t,i);return this.filterSymbol(r,t)},r.prototype.resolveIdentifierOfInternalModuleReference=function(t,i,r,u,f){if(i.isMissing())return null;var h=r.type,c=i.text(),e=this.getMemberSymbolOfKind(c,n.PullElementKind.SomeContainer,h),s=null,o=null,l=!0;if(e&&(l=(e.kind&n.PullElementKind.AcceptableAlias)!=0),!l&&e&&e.kind==256){e.isResolved||this.resolveDeclaredSymbol(e,u,f);var a=e.getExportAssignedValueSymbol(),v=e.getExportAssignedTypeSymbol(),y=e.getExportAssignedContainerSymbol();(a||v||y)&&(s=a,o=v,e=y,l=!0)}return l?(s||h.getInstanceSymbol()&&(s=this.getMemberSymbolOfKind(c,n.PullElementKind.SomeValue,h.getInstanceSymbol().type)),o||(o=this.getMemberSymbolOfKind(c,n.PullElementKind.SomeType,h)),!s&&!o&&!e)?(t.addDiagnostic(new n.Diagnostic(t.getScriptName(),i.minChar,i.getLength(),n.DiagnosticCode.Could_not_find_symbol_0_in_module_1,[c,r.toString()])),null):(s&&(s.isResolved||this.resolveDeclaredSymbol(s,u,f)),o&&(o.isResolved||this.resolveDeclaredSymbol(o,u,f)),e&&(e.isResolved||this.resolveDeclaredSymbol(e,u,f)),!o&&e&&(o=e),{valueSymbol:s,typeSymbol:o,containerSymbol:e}):(t.addDiagnostic(new n.Diagnostic(t.getScriptName(),i.minChar,i.getLength(),n.DiagnosticCode.Import_declaration_referencing_identifier_from_internal_module_can_only_be_made_with_variables_functions_classes_interfaces_enums_and_internal_modules)),null)},r.prototype.resolveModuleReference=function(t,i,r,u){var f,e,o,s;return n.CompilerDiagnostics.assert(i.nodeType()==33||i.nodeType()==21,"resolving module reference should always be either name or member reference"),f=null,i.nodeType()==33?(o=i,s=this.resolveModuleReference(t,o.operand1,r,u),s&&(e=o.operand2.text(),f=this.getMemberSymbolOfKind(e,4,s.type),f||t.addDiagnostic(new n.Diagnostic(t.getScriptName(),o.operand2.minChar,o.operand2.getLength(),n.DiagnosticCode.Could_not_find_module_0_in_module_1,[e,s.toString()])))):i.isMissing()||(e=i.text(),f=this.filterSymbol(this.getSymbolFromDeclPath(e,u,4),4),f||t.addDiagnostic(new n.Diagnostic(t.getScriptName(),i.minChar,i.getLength(),n.DiagnosticCode.Unable_to_resolve_module_reference_0,[e]))),f},r.prototype.resolveInternalModuleReference=function(t,i){var h=this.getDeclForAST(t),f=this.getEnclosingDecl(h),r=t.alias.nodeType()==11?t.alias.term:t.alias,c=f!==null?n.getPathToDecl(f):[],e=null,u,s;if(r.nodeType()==21)if(u=this.resolveModuleReference(h,r,i,c),u){if(e=u.type,i.typeCheck()&&e.hasFlag(32768)){var v=r.text(),l=this.getSymbolFromDeclPath(v,c,n.PullElementKind.SomeValue),y=e.getInstanceSymbol();l&&(y!=l||l.type==e)&&i.postError(this.unitPath,r.minChar,r.getLength(),n.DiagnosticCode.Internal_module_reference_0_in_import_declaration_doesn_t_reference_module_instance_for_1,[r.actualText,u.type.toString(f?f.getSymbol():null)],f)}}else e=this.semanticInfoChain.anyTypeSymbol;else if(r.nodeType()==33){var o=h.getSymbol(),a=r,u=this.resolveModuleReference(h,a.operand1,i,c);if(u&&(s=this.resolveIdentifierOfInternalModuleReference(h,a.operand2,u,f,i),s))return o.setAssignedValueSymbol(s.valueSymbol),o.setAssignedTypeSymbol(s.typeSymbol),o.setAssignedContainerSymbol(s.containerSymbol),s.valueSymbol&&(o.isUsedAsValue=!0),this.semanticInfoChain.setSymbolForAST(t.alias,o,this.unitPath),null;o.setAssignedTypeSymbol(this.semanticInfoChain.anyTypeSymbol)}return e},r.prototype.resolveImportDeclaration=function(t,i){var s=this,e=this.getDeclForAST(t),u=this.getEnclosingDecl(e),r=e.getSymbol(),f=null,c,h,v,l,o,a;if(r.isResolved)return r;if(r.startResolving(),c=t.isExternalImportDeclaration(),c?(h=t.alias.actualText,v=n.getPathToDecl(u),f=this.findTypeSymbolForDynamicModule(h,e.getScriptName(),function(n){return s.semanticInfoChain.findSymbol([n],32)}),f||(f=this.findTypeSymbolForDynamicModule(h,e.getScriptName(),function(n){return s.getSymbolFromDeclPath(n,v,32)})),f||(e.addDiagnostic(new n.Diagnostic(this.currentUnit.getPath(),t.minChar,t.getLength(),n.DiagnosticCode.Unable_to_resolve_external_module_0,[h])),f=this.semanticInfoChain.anyTypeSymbol)):f=this.resolveInternalModuleReference(t,i),f&&(f.isContainer()?f.getExportAssignedValueSymbol()&&(r.isUsedAsValue=!0):(e.addDiagnostic(new n.Diagnostic(this.currentUnit.getPath(),t.minChar,t.getLength(),n.DiagnosticCode.Module_cannot_be_aliased_to_a_non_module_type)),f=this.semanticInfoChain.anyTypeSymbol),f.isContainer()&&r.setAssignedContainerSymbol(f),r.setAssignedTypeSymbol(f),this.semanticInfoChain.setSymbolForAST(t.alias,f,this.unitPath)),r.setResolved(),i.typeCheck()&&(c?(o=r.getExportAssignedContainerSymbol(),a=o?o.getContainer():null,a&&a.kind==32&&(l=!0)):l=!0,l)){var y=r.getExportAssignedTypeSymbol(),o=r.getExportAssignedContainerSymbol(),p=r.getExportAssignedValueSymbol();this.checkSymbolPrivacy(r,o,i,function(f){var e=n.DiagnosticCode.Exported_import_declaration_0_is_assigned_container_that_is_or_is_using_inaccessible_module_1,o=[r.getScopedName(u?u.getSymbol():null),f.getScopedName(u?u.getSymbol():null)];i.postError(s.unitPath,t.minChar,t.getLength(),e,o,u)});y!=o&&this.checkSymbolPrivacy(r,y,i,function(f){var e=f.isContainer()&&!f.isEnum()?n.DiagnosticCode.Exported_import_declaration_0_is_assigned_type_that_is_using_inaccessible_module_1:n.DiagnosticCode.Exported_import_declaration_0_is_assigned_type_that_has_or_is_using_private_type_1,o=[r.getScopedName(u?u.getSymbol():null),f.getScopedName(u?u.getSymbol():null)];i.postError(s.unitPath,t.minChar,t.getLength(),e,o,u)});p&&this.checkSymbolPrivacy(r,p.type,i,function(f){var e=f.isContainer()&&!f.isEnum()?n.DiagnosticCode.Exported_import_declaration_0_is_assigned_value_with_type_that_is_using_inaccessible_module_1:n.DiagnosticCode.Exported_import_declaration_0_is_assigned_value_with_type_that_has_or_is_using_private_type_1,o=[r.getScopedName(u?u.getSymbol():null),f.getScopedName(u?u.getSymbol():null)];i.postError(s.unitPath,t.minChar,t.getLength(),e,o,u)})}return r},r.prototype.resolveExportAssignmentStatement=function(t,i,r){var h=t.id.text(),f=null,e=null,u=null,o=i.getSymbol(),c,s;if(!o.isType()&&o.isContainer())return i.addDiagnostic(new n.Diagnostic(i.getScriptName(),t.minChar,t.getLength(),n.DiagnosticCode.Export_assignments_may_only_be_used_at_the_top_level_of_external_modules)),this.semanticInfoChain.anyTypeSymbol;if(c=i!==null?[i]:[],u=this.getSymbolFromDeclPath(h,c,n.PullElementKind.SomeContainer),s=!0,u&&(s=(u.kind&n.PullElementKind.AcceptableAlias)!=0),!s&&u&&u.kind==256){u.isResolved||this.resolveDeclaredSymbol(u,i,r);var l=u.getExportAssignedValueSymbol(),a=u.getExportAssignedTypeSymbol(),v=u.getExportAssignedContainerSymbol();(l||a||v)&&(f=l,e=a,u=v,s=!0)}return s?(f||(f=this.getSymbolFromDeclPath(h,c,n.PullElementKind.SomeValue)),e||(e=this.getSymbolFromDeclPath(h,c,n.PullElementKind.SomeType)),!f&&!e&&!u)?(r.postError(i.getScriptName(),t.minChar,t.getLength(),n.DiagnosticCode.Could_not_find_symbol_0,[h],i),this.semanticInfoChain.voidTypeSymbol):(f&&o.setExportAssignedValueSymbol(f),e&&o.setExportAssignedTypeSymbol(e),u&&o.setExportAssignedContainerSymbol(u),f&&!f.isResolved&&this.resolveDeclaredSymbol(f,i,r),e&&!e.isResolved&&this.resolveDeclaredSymbol(e,i,r),u&&!u.isResolved&&this.resolveDeclaredSymbol(u,i,r),this.semanticInfoChain.voidTypeSymbol):(i.addDiagnostic(new n.Diagnostic(i.getScriptName(),t.minChar,t.getLength(),n.DiagnosticCode.Export_assignments_may_only_be_made_with_variables_functions_classes_interfaces_enums_and_internal_modules)),this.semanticInfoChain.voidTypeSymbol)},r.prototype.resolveFunctionTypeSignature=function(t,i,r){var u=null,f=this.getDeclForAST(t),l,c,s,e,o,h;if(f||(l=this.semanticInfoChain.getUnit(this.unitPath),c=new n.DeclCollectionContext(l,this.unitPath),i&&c.pushParent(i),n.getAstWalkerFactory().walk(t,n.preCollectDecls,n.postCollectDecls,null,c),f=this.getDeclForAST(t),this.currentUnit.addSynthesizedDecl(f)),f.hasSymbol()||(s=new n.PullSymbolBinder(this.semanticInfoChain),s.setUnit(this.unitPath),f.kind===33554432?s.bindConstructorTypeDeclarationToPullSymbol(f):s.bindFunctionTypeDeclarationToPullSymbol(f)),u=f.getSymbol(),e=u.kind===33554432?u.getConstructSignatures()[0]:u.getCallSignatures()[0],t.returnTypeAnnotation&&(o=this.resolveTypeReference(t.returnTypeAnnotation,f,r),this.genericTypeIsUsedWithoutRequiredTypeArguments(o,t.returnTypeAnnotation,r)&&(r.postError(this.unitPath,t.returnTypeAnnotation.minChar,t.returnTypeAnnotation.getLength(),n.DiagnosticCode.Generic_type_references_must_include_all_type_arguments,null,f),o=this.specializeTypeToAny(o,f,r)),e.returnType=o,this.isTypeArgumentOrWrapper(o)&&(e.hasAGenericParameter=!0,u&&u.type.setHasGenericSignature())),t.arguments)for(h=0;h<t.arguments.members.length;h++)this.resolveFunctionTypeSignatureParameter(t.arguments.members[h],e,f,r);return u&&e.hasAGenericParameter&&u.type.setHasGenericSignature(),e.hasAGenericParameter&&u&&u.type.setHasGenericSignature(),u.setResolved(),r.typeCheck()&&this.typeCheckFunctionOverloads(t,r),u},r.prototype.resolveFunctionTypeSignatureParameter=function(t,i,r,u){var s=this.getDeclForAST(t),f=s.getSymbol(),e,o;t.typeExpr?(e=this.resolveTypeReference(t.typeExpr,r,u),!f.isVarArg||e.isArray()||e==this.cachedArrayInterfaceType()||(o=u.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Rest_parameters_must_be_array_types,null,r),e=this.getNewErrorTypeSymbol(o)),u.setTypeInContext(f,e),this.isTypeArgumentOrWrapper(e)&&(i.hasAGenericParameter=!0)):f.isVarArg&&f.type?this.cachedArrayInterfaceType()?u.setTypeInContext(f,n.specializeType(this.cachedArrayInterfaceType(),[f.type],this,this.cachedArrayInterfaceType().getDeclarations()[0],u)):u.setTypeInContext(f,f.type):(u.setTypeInContext(f,this.semanticInfoChain.anyTypeSymbol),this.compilationSettings.noImplicitAny&&!u.isInInvocationExpression&&u.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Parameter_0_of_function_type_implicitly_has_an_any_type,[t.id.actualText],r));f.setResolved()},r.prototype.resolveFunctionExpressionParameter=function(t,i,r,u){var s=this.getDeclForAST(t),f=s.getSymbol(),e,h,o;t.typeExpr?(e=this.resolveTypeReference(t.typeExpr,r,u),!f.isVarArg||e.isArray()||e==this.cachedArrayInterfaceType()||(h=u.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Rest_parameters_must_be_array_types,null,r),e=this.getNewErrorTypeSymbol(h)),u.setTypeInContext(f,e)):i?u.setTypeInContext(f,i.type):(f.isVarArg&&this.cachedArrayInterfaceType()?u.setTypeInContext(f,n.specializeType(this.cachedArrayInterfaceType(),[this.semanticInfoChain.anyTypeSymbol],this,this.cachedArrayInterfaceType().getDeclarations()[0],u)):u.setTypeInContext(f,this.semanticInfoChain.anyTypeSymbol),this.compilationSettings.noImplicitAny&&!u.isInInvocationExpression&&(o=s.getParentDecl().getFunctionExpressionName(),o!=""?u.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Parameter_0_of_1_implicitly_has_an_any_type,[t.id.actualText,o],r,!0):u.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Parameter_0_of_lambda_function_implicitly_has_an_any_type,[t.id.actualText],r,!0)));f.setResolved()},r.prototype.resolveInterfaceTypeReference=function(t,i,r){var f=null,u=this.getDeclForAST(t),a,h,c,s;if(u||(a=this.semanticInfoChain.getUnit(this.unitPath),h=new n.DeclCollectionContext(a,this.unitPath),i&&h.pushParent(i),n.getAstWalkerFactory().walk(t,n.preCollectDecls,n.postCollectDecls,null,h),u=this.getDeclForAST(t),this.currentUnit.addSynthesizedDecl(u),c=new n.PullSymbolBinder(this.semanticInfoChain),c.setUnit(this.unitPath),c.bindObjectTypeDeclarationToPullSymbol(u)),f=u.getSymbol(),t.members){var o=null,e=null,l=null,v=t.members;for(s=0;s<v.members.length;s++)o=this.getDeclForAST(v.members[s]),e=o.kind&n.PullElementKind.SomeSignature?o.getSignatureSymbol():o.getSymbol(),this.resolveDeclaredSymbol(e,i,r),l=e.type,(l&&l.isGeneric()||e.isSignature()&&e.isGeneric())&&f.setHasGenericMember()}return f.setResolved(),r.typeCheck()&&(f.hasBaseTypeConflict()||this.typeCheckMembersAgainstIndexer(f,u,r)),f},r.prototype.resolveTypeReference=function(t,i,r){var u,f,o,e;return t===null?null:(u=this.getSymbolForAST(t),f=null,u||(u=this.computeTypeReferenceSymbol(t,i,r),u.kind==4&&(o=u,e=o.getInstanceSymbol(),e&&(e.hasFlag(16384)||e.kind==32768)&&(u=e.type.getAssociatedContainerType())),u&&u.isAlias()&&(f=u,u=f.getExportAssignedTypeSymbol()),u&&!u.isGeneric()&&(this.setSymbolForAST(t,u,r),f&&this.currentUnit.setAliasSymbolForAST(t,f))),u&&!u.isError()&&(u.kind&n.PullElementKind.SomeType)==0&&(u.kind&n.PullElementKind.SomeContainer?r.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Type_reference_cannot_refer_to_container_0,[f?f.toString():u.toString()],i):r.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Type_reference_must_refer_to_type,null,i)),u)},r.prototype.computeTypeReferenceSymbol=function(t,i,r){var u=null,o=null,l,p,s,a,w,h,b,k,f,c,e,v,y;if(t.term.nodeType()===21?(l=r.resolvingTypeReference,r.resolvingTypeReference=!0,o=this.resolveTypeNameExpression(t.term,i,r),u=o,r.resolvingTypeReference=l):t.term.nodeType()===13?u=this.resolveFunctionTypeSignature(t.term,i,r):t.term.nodeType()===15?u=this.resolveInterfaceTypeReference(t.term,i,r):t.term.nodeType()===10?(o=this.resolveGenericTypeReference(t.term,i,r),u=o):t.term.nodeType()===33?(p=t.term,l=r.resolvingTypeReference,o=this.resolveDottedTypeNameExpression(p,i,r),u=o,r.resolvingTypeReference=l):t.term.nodeType()===5?(s=t.term,u=new n.PullStringConstantTypeSymbol(s.actualText),a=new n.PullDecl(s.actualText,s.actualText,u.kind,null,new n.TextSpan(s.minChar,s.getLength()),i.getScriptName()),this.currentUnit.addSynthesizedDecl(a),u.addDeclaration(a)):t.term.nodeType()===12&&(w=t.term,h=w.name,h.nodeType()===11&&(h=h.term),b=r.resolvingTypeReference,r.resolvingTypeReference=!1,k=r.resolvingTypeQueryExpression,r.resolvingTypeQueryExpression=!0,f=this.resolveAST(h,!1,i,r),r.resolvingTypeQueryExpression=k,r.resolvingTypeReference=b,f&&f.isAlias()&&(f.assignedValue?f=f.assignedValue:(c=f.getExportAssignedContainerSymbol(),f=c&&c.isContainer()&&!c.isEnum()?c.getInstanceSymbol():null)),u=f?f.type:this.getNewErrorTypeSymbol(null)),!u)return r.postError(this.unitPath,t.term.minChar,t.term.getLength(),n.DiagnosticCode.Unable_to_resolve_type,null,i),this.getNewErrorTypeSymbol(null);if(u.isError())return u;if(t.arrayCount){if(e=u.getArrayType(),e||(this.cachedArrayInterfaceType().isResolved||this.resolveDeclaredSymbol(this.cachedArrayInterfaceType(),i,r),this.genericTypeIsUsedWithoutRequiredTypeArguments(u,t,r)&&(r.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Generic_type_references_must_include_all_type_arguments,null,i),u=this.specializeTypeToAny(u,i,r)),e=n.specializeType(this.cachedArrayInterfaceType(),[u],this,this.cachedArrayInterfaceType().getDeclarations()[0],r,t),e||(e=this.semanticInfoChain.anyTypeSymbol)),t.arrayCount>1)for(v=t.arrayCount-1;v>0;v--)y=e.getArrayType(),e=y?y:n.specializeType(this.cachedArrayInterfaceType(),[e],this,this.cachedArrayInterfaceType().getDeclarations()[0],r,t);u=e}return u},r.prototype.genericTypeIsUsedWithoutRequiredTypeArguments=function(n,t,i){return n.isNamedTypeSymbol()&&n.isGeneric()&&!n.isTypeParameter()&&(n.isResolved||n.inResolution&&!i.inSpecialization)&&!n.getIsSpecialized()&&n.getTypeParameters().length&&n.getTypeArguments()==null&&!this.isArrayOrEquivalent(n)&&this.isTypeRefWithoutTypeArgs(t)},r.prototype.resolveVariableDeclaration=function(i,r,u){var ft=this,h=this.getDeclForAST(i),e,s,rt,k,v,o,p,a,nt,y,tt,l,w,b,ut,it;if(u&&h.kind==2048&&u.ensureSymbolIsBound(),e=h.getSymbol(),s=h.getValueDecl()?h.getValueDecl().getSymbol():null,e.isResolved)return rt=e.type,k=h.getValueDecl(),k&&(v=k.getSymbol(),v&&!v.isResolved&&(v.type=rt,v.setResolved())),e;if(e.inResolution&&!r.inSpecialization)return e.type=this.semanticInfoChain.anyTypeSymbol,e.setResolved(),e;e.startResolving();o=this.getEnclosingDecl(h);o=o?o:u;var f=null,d=null,c=null,g=r.inConstructorArguments;return r.inConstructorArguments=!1,i.typeExpr&&(f=this.resolveTypeReference(i.typeExpr,o,r),f?f.isError()?(r.setTypeInContext(e,f),s&&r.setTypeInContext(s,f)):(f==this.semanticInfoChain.anyTypeSymbol&&h.setFlag(16777216),this.genericTypeIsUsedWithoutRequiredTypeArguments(f,i.typeExpr,r)&&(r.postError(this.unitPath,i.typeExpr.minChar,i.typeExpr.getLength(),n.DiagnosticCode.Generic_type_references_must_include_all_type_arguments,null,u),f=this.specializeTypeToAny(f,u,r)),f.isContainer()?(l=f.getExportAssignedTypeSymbol(),l?f=l:(f=f.type,f.isAlias()&&(f=f.getExportAssignedTypeSymbol()),f&&f.isContainer()&&!f.isEnum()&&(p=f.getInstanceSymbol(),f=p&&n.PullHelpers.symbolIsEnum(p)?p.type:this.getNewErrorTypeSymbol(a)))):!e.isVarArg||f.isArray()||f==this.cachedArrayInterfaceType()||(a=r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Rest_parameters_must_be_array_types,null,u),f=this.getNewErrorTypeSymbol(a)),r.setTypeInContext(e,f),s&&(s.type=f),f.kind==16777216&&f.setFunctionSymbol(e),i.nodeType()===20&&u&&(f.isGeneric()&&!f.isArray()||this.isTypeArgumentOrWrapper(f))&&(nt=u.getSpecializingSignatureSymbol(),nt&&(nt.hasAGenericParameter=!0))):(a=r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Unable_to_resolve_type_of_0,[i.id.actualText],h),e.type=this.getNewErrorTypeSymbol(a),s&&r.setTypeInContext(s,this.semanticInfoChain.anyTypeSymbol))),i.init&&(r.typeCheck()||!i.typeExpr)&&(f&&r.pushContextualType(f,r.inProvisionalResolution(),null),g&&(r.inConstructorArguments=g),r.isInStaticInitializer=(h.flags&16)!=0,d=this.resolveAST(i.init,f!=null,o,r),r.isInStaticInitializer=!1,r.inConstructorArguments=!1,f&&r.popContextualType(),d?(c=d.type,i.typeExpr||(r.setTypeInContext(e,this.widenType(c)),s&&r.setTypeInContext(s,c),this.compilationSettings.noImplicitAny&&e.type!=c&&e.type==this.semanticInfoChain.anyTypeSymbol&&r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Variable_0_implicitly_has_an_any_type,[i.id.actualText],u))):(a=r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Unable_to_resolve_type_of_0,[i.id.actualText],h),i.typeExpr||(r.setTypeInContext(e,this.getNewErrorTypeSymbol(a)),s&&r.setTypeInContext(s,this.semanticInfoChain.anyTypeSymbol)))),i.typeExpr||i.init?r.typeCheck()&&(f&&f.isAlias()&&(f=f.getExportAssignedTypeSymbol()),f&&f.isContainer()&&(l=f.getExportAssignedTypeSymbol(),l?f=l:(w=f.getInstanceType(),w&&n.PullHelpers.symbolIsEnum(w)?f=w:(r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Tried_to_set_variable_type_to_uninitialized_module_type_0,[f.toString()],u),f=null))),c=this.getInstanceTypeForAssignment(i,c,u,r),c&&f&&(b=new t,ut=this.sourceIsAssignableToTarget(c,f,r,b),ut||(b.message?r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Cannot_convert_0_to_1_NL_2,[c.toString(),f.toString(),b.message],u):r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Cannot_convert_0_to_1,[c.toString(),f.toString()],u)))):(y=this.semanticInfoChain.anyTypeSymbol,this.compilationSettings.noImplicitAny&&!n.hasFlag(i.getVarFlags(),16384)&&(o.kind===16384||o.kind===32768||o.kind===2097152?r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Parameter_0_of_1_implicitly_has_an_any_type,[i.id.actualText,u.name],u):o.kind===65536?(tt=o.getParentDecl(),n.hasFlag(tt.flags,8)?n.hasFlag(tt.flags,8)&&!n.hasFlag(o.flags,2)&&r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Parameter_0_of_1_implicitly_has_an_any_type,[i.id.actualText,u.name],u):r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Parameter_0_of_1_implicitly_has_an_any_type,[i.id.actualText,u.name],u)):o.kind===8388608?r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Member_0_of_object_type_implicitly_has_an_any_type,[i.id.actualText],u):o.kind!==1073741824&&(n.hasFlag(o.flags,8)?n.hasFlag(o.flags,8)&&!n.hasFlag(i.getVarFlags(),2)&&r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Variable_0_implicitly_has_an_any_type,[i.id.actualText],u):r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Variable_0_implicitly_has_an_any_type,[i.id.actualText],u))),e.isVarArg&&(y=n.specializeType(this.cachedArrayInterfaceType(),[y],this,this.cachedArrayInterfaceType().getDeclarations()[0],r)),r.setTypeInContext(e,y),s&&(s.type=y)),e.setResolved(),s&&s.setResolved(),r.typeCheck()&&(i.init&&i.nodeType()===20&&(it=u.getSignatureSymbol(),it&&!it.isDefinition()&&r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Default_arguments_are_not_allowed_in_an_overload_parameter,[],u)),e.kind!=2048&&(e.kind!=4096||e.getContainer().isNamedTypeSymbol())&&this.checkSymbolPrivacy(e,e.type,r,function(n){return ft.variablePrivacyErrorReporter(e,n,r)})),r.inConstructorArguments=g,e},r.prototype.resolveTypeParameterDeclaration=function(t,i){var e=this.getDeclForAST(t),u=e.getSymbol(),f,r;return u.isResolved||u.inResolution?u:(u.startResolving(),t.constraint&&(f=this.getEnclosingDecl(e),r=this.resolveTypeReference(t.constraint,f,i),r&&r.isPrimitive()&&!r.isError()?(i.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Type_parameter_constraint_cannot_be_a_primitive_type,null,f),r=this.specializeTypeToAny(r,f,i)):this.genericTypeIsUsedWithoutRequiredTypeArguments(r,t.constraint,i)&&(i.postError(this.unitPath,t.constraint.minChar,t.constraint.getLength(),n.DiagnosticCode.Generic_type_references_must_include_all_type_arguments,null,f),r=this.specializeTypeToAny(r,f,i)),r&&u.setConstraint(r)),u.setResolved(),u)},r.prototype.resolveFunctionBodyReturnTypes=function(i,r,u,f,e){var d=this,s=[],a=[f],g=function(n,t,i){var r=!0,u;switch(n.nodeType()){case 13:r=!1;break;case 94:u=n;f.setFlag(4194304);s[s.length]={returnStatement:u,enclosingDecl:a[a.length-1]};r=!1;break;case 102:case 100:a[a.length]=d.getDeclForAST(n)}return i.options.goChildren=r,n},nt=function(n,t,i){switch(n.nodeType()){case 102:case 100:a.length--}return i.options.goChildren=!0,n},h,o,c,w,p,b,l,k,y,v;if(n.getAstWalkerFactory().walk(i.block,g,nt),s.length){for(h=[],c=0;c<s.length;c++)if(s[c].returnStatement.returnExpression){if(o=this.resolveAST(s[c].returnStatement.returnExpression,u,s[c].enclosingDecl,e).type,o.isError()){r.returnType=o;return}this.setSymbolForAST(s[c].returnStatement,o,e);h[h.length]=o}h.length?(w={getLength:function(){return h.length},setTypeAtIndex:function(){},getTypeAtIndex:function(n){return h[n].type}},o=this.findBestCommonType(h[0],null,w,e,new t),u&&o==this.semanticInfoChain.anyTypeSymbol&&(p=e.getContextualType(),p&&(o=p)),b=this.getDeclForAST(i),l=b.getSymbol(),o&&(k=o,y=this.widenType(o),r.returnType=y,this.compilationSettings.noImplicitAny&&k!==y&&y===this.semanticInfoChain.anyTypeSymbol&&(v=f.name,v==""&&(v=f.getFunctionExpressionName()),v!=""?e.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode._0_which_lacks_return_type_annotation_implicitly_has_an_any_return_type,[v],f):e.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Function_expression_which_lacks_return_type_annotation_implicitly_has_an_any_return_type,[],f))),!l.type&&l.isAccessor()&&(l.type=r.returnType),this.isTypeArgumentOrWrapper(o)&&l&&l.type.setHasGenericSignature()):r.returnType=this.semanticInfoChain.voidTypeSymbol}else r.returnType=this.semanticInfoChain.voidTypeSymbol},r.prototype.typeCheckFunctionDeclaration=function(i,u,f,e){var o=this;!e.inTypeCheck||e.inSpecialization&&f.isGeneric()||r.typeCheckCallBacks.push(function(){var d,g,p,h,y,tt,c,r,k,it,rt,v;if(!f.hasBeenChecked&&f.getRootSymbol()==f){d=o.unitPath;o.setUnitPath(u.getScriptName());g=o.seenSuperConstructorCall;o.seenSuperConstructorCall=!1;o.resolveAST(i.block,!1,u,e);o.validateVariableDeclarationGroups(u,e);var s=o.getEnclosingDecl(u),ut=(u.flags&4196352)!=0,nt=f.parameters;if(i.isConstructor||n.hasFlag(i.getFunctionFlags(),1024))u.getSignatureSymbol()&&u.getSignatureSymbol().isDefinition()&&o.enclosingClassIsDerived(u)&&(o.seenSuperConstructorCall?o.superCallMustBeFirstStatementInConstructor(u,s)&&(p=o.getFirstStatementFromFunctionDeclAST(i),p&&o.isSuperCallNode(p)||e.postError(o.unitPath,i.minChar,11,n.DiagnosticCode.A_super_call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_initialized_properties_or_has_parameter_properties,null,s)):e.postError(o.unitPath,i.minChar,11,n.DiagnosticCode.Constructors_for_derived_classes_must_contain_a_super_call,null,s)),o.typeCheckFunctionOverloads(i,e);else if(n.hasFlag(i.getFunctionFlags(),4096)){for(h=s.getSymbol().type.getIndexSignatures(),r=0;r<h.length;r++)if(h[r].isResolved||o.resolveDeclaredSymbol(h[r],h[r].getDeclarations()[0].getParentDecl(),e),h[r].parameters[0].type!==nt[0].type){var a=null,l=null,w=f,b=nt[0].type===o.semanticInfoChain.numberTypeSymbol;if(b)l=w,a=h[r];else if(l=h[r],a=w,s.getSymbol()===l.getDeclarations()[0].getParentDecl().getSymbol())break;y=new t;tt=new n.PullTypeResolutionContext;o.sourceIsSubtypeOfTarget(l.returnType,a.returnType,tt,y)||(y.message?e.postError(o.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Numeric_indexer_type_0_must_be_a_subtype_of_string_indexer_type_1_NL_2,[l.returnType.toString(),a.returnType.toString(),y.message],s):e.postError(o.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Numeric_indexer_type_0_must_be_a_subtype_of_string_indexer_type_1,[l.returnType.toString(),a.returnType.toString()],s));break}for(c=s.getSymbol().type.getAllMembers(n.PullElementKind.All,!0),r=0;r<c.length;r++)k=c[r].name,k&&(c[r].isResolved||o.resolveDeclaredSymbol(c[r],c[r].getDeclarations()[0].getParentDecl(),e),s.getSymbol()!==c[r].getContainer()&&(it=isFinite(+k),b===it&&o.checkThatMemberIsSubtypeOfIndexer(c[r],w,i,e,s,b)))}else i.block&&i.returnTypeAnnotation!=null&&!ut&&(rt=o.isAnyOrEquivalent(f.returnType)||f.returnType===o.semanticInfoChain.voidTypeSymbol,rt||i.block.statements.members.length>0&&i.block.statements.members[0].nodeType()===96||(v=u.getDisplayName(),v=v?v:"expression",e.postError(o.unitPath,i.returnTypeAnnotation.minChar,i.returnTypeAnnotation.getLength(),n.DiagnosticCode.Function_0_declared_a_non_void_return_type_but_has_no_return_expression,[v],s))),o.typeCheckFunctionOverloads(i,e);o.checkFunctionTypePrivacy(i,!1,e);o.seenSuperConstructorCall=g;f.hasBeenChecked=!0;o.setUnitPath(d)}})},r.prototype.resolveFunctionDeclaration=function(t,i){var r=this.getDeclForAST(t),u=r.getSymbol(),f=r.getSpecializingSignatureSymbol(),a=!1,s=t.isConstructor||n.hasFlag(t.getFunctionFlags(),1024),v,y,h,c,p,e,k,o,w,l,d,b;if(f){if(f.isResolved)return this.typeCheckFunctionDeclaration(t,r,f,i),u;if(s&&!f.inResolution&&(v=t.classDecl,v&&(y=this.getDeclForAST(v),h=y.getSymbol(),h.isResolved||h.inResolution||this.resolveDeclaredSymbol(h,this.getEnclosingDecl(y),i))),p=u&&u.type,f.inResolution)return t.returnTypeAnnotation?(e=this.resolveTypeReference(t.returnTypeAnnotation,r,i),e?(this.isTypeArgumentOrWrapper(e)&&(f.hasAGenericParameter=!0,u&&u.type.setHasGenericSignature()),f.returnType=e,s&&e===this.semanticInfoChain.voidTypeSymbol&&i.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Constructors_cannot_have_a_return_type_of_void,null,r)):(c=i.postError(this.unitPath,t.returnTypeAnnotation.minChar,t.returnTypeAnnotation.getLength(),n.DiagnosticCode.Cannot_resolve_return_type_reference,null,r),f.returnType=this.getNewErrorTypeSymbol(c),a=!0)):f.returnType=this.semanticInfoChain.anyTypeSymbol,u&&(u.setUnresolved(),u.type===this.semanticInfoChain.anyTypeSymbol&&(u.type=p)),f.setResolved(),u;if(u&&u.startResolving(),f.startResolving(),t.typeArguments)for(o=0;o<t.typeArguments.members.length;o++)this.resolveTypeParameterDeclaration(t.typeArguments.members[o],i);if(t.arguments){for(k=i.inConstructorArguments,i.inConstructorArguments=s,o=0;o<t.arguments.members.length;o++)this.resolveVariableDeclaration(t.arguments.members[o],i,r);i.inConstructorArguments=k}f.isGeneric()&&u&&u.type.setHasGenericSignature();t.returnTypeAnnotation?(w=f.returnType,e=this.resolveTypeReference(t.returnTypeAnnotation,r,i),e?this.isTypeArgumentOrWrapper(e)&&w&&!this.isTypeArgumentOrWrapper(w)||(this.isTypeArgumentOrWrapper(e)&&(f.hasAGenericParameter=!0,u&&u.type.setHasGenericSignature()),this.genericTypeIsUsedWithoutRequiredTypeArguments(e,t.returnTypeAnnotation,i)&&(i.postError(this.unitPath,t.returnTypeAnnotation.minChar,t.returnTypeAnnotation.getLength(),n.DiagnosticCode.Generic_type_references_must_include_all_type_arguments,null,r),e=this.specializeTypeToAny(e,r,i)),f.returnType=e,s&&e===this.semanticInfoChain.voidTypeSymbol&&i.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Constructors_cannot_have_a_return_type_of_void,null,r)):(c=i.postError(this.unitPath,t.returnTypeAnnotation.minChar,t.returnTypeAnnotation.getLength(),n.DiagnosticCode.Cannot_resolve_return_type_reference,null,r),f.returnType=this.getNewErrorTypeSymbol(c),a=!0)):t.isConstructor||t.isConstructMember()?t.isConstructMember()&&t.isSignature()&&(f.returnType=this.semanticInfoChain.anyTypeSymbol,this.compilationSettings.noImplicitAny&&i.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Constructor_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type,[],r)):t.isSignature()?(f.returnType=this.semanticInfoChain.anyTypeSymbol,l=0,(n.hasFlag(r.kind,65536)||n.hasFlag(r.kind,32768))&&(d=r.getParentDecl(),l=d.flags),this.compilationSettings.noImplicitAny&&(!n.hasFlag(l,8)||n.hasFlag(l,8)&&!n.hasFlag(r.flags,2))&&(b=t.name,b?i.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode._0_which_lacks_return_type_annotation_implicitly_has_an_any_return_type,[b.actualText],r):i.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Lambda_Function_which_lacks_return_type_annotation_implicitly_has_an_any_return_type,[],r))):this.resolveFunctionBodyReturnTypes(t,f,!1,r,i);a||(u&&(u.setUnresolved(),u.type===this.semanticInfoChain.anyTypeSymbol&&(u.type=p)),f.setResolved())}return this.typeCheckFunctionDeclaration(t,r,f,i),u},r.prototype.resolveGetAccessorDeclaration=function(t,i){var f=this.getDeclForAST(t),u=f.getSymbol(),a=u.getGetter(),v=a.type,r=v.getCallSignatures()[0],w=!1,s,h,e,c,o,b,y,p,k,d,tt;if(r){if(r.isResolved)return u.type||(u.type=r.returnType),u;if(r.inResolution)return r.returnType=this.semanticInfoChain.anyTypeSymbol,r.setResolved(),u.type||(u.type=r.returnType),u;if(r.startResolving(),t.arguments)for(h=0;h<t.arguments.members.length;h++)this.resolveVariableDeclaration(t.arguments.members[h],i,f);r.hasAGenericParameter&&a&&v.setHasGenericSignature();t.returnTypeAnnotation?(e=this.resolveTypeReference(t.returnTypeAnnotation,f,i),e?(this.isTypeArgumentOrWrapper(e)&&(r.hasAGenericParameter=!0,a&&v.setHasGenericSignature()),this.genericTypeIsUsedWithoutRequiredTypeArguments(e,t.returnTypeAnnotation,i)&&(i.postError(this.unitPath,t.returnTypeAnnotation.minChar,t.returnTypeAnnotation.getLength(),n.DiagnosticCode.Generic_type_references_must_include_all_type_arguments,null,f),e=this.specializeTypeToAny(e,f,i)),r.returnType=e):(s=i.postError(this.unitPath,t.returnTypeAnnotation.minChar,t.returnTypeAnnotation.getLength(),n.DiagnosticCode.Cannot_resolve_return_type_reference,null,f),r.returnType=this.getNewErrorTypeSymbol(s),w=!0)):t.isSignature()?r.returnType=this.semanticInfoChain.anyTypeSymbol:this.resolveFunctionBodyReturnTypes(t,r,!1,f,i);w||r.setResolved()}if(c=r.returnType,o=u.getSetter(),o?(b=o.type,y=b.getCallSignatures()[0],y.isResolved?(p=y.parameters,p.length&&(k=p[0],d=k.type,this.typesAreIdentical(c,d)||(s=i.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.get_and_set_accessor_must_have_the_same_type,null,this.getEnclosingDecl(f)),u.type=this.getNewErrorTypeSymbol(s)))):u.type=c):u.type=c,i.typeCheck()){tt=this.seenSuperConstructorCall;this.seenSuperConstructorCall=!1;this.resolveAST(t.block,!1,f,i);this.validateVariableDeclarationGroups(f,i);var g=this.getEnclosingDecl(f),it=(f.flags&4196352)!=0,rt=n.hasFlag(t.getFunctionFlags(),32),st=!rt,nt=u.getGetter(),o=u.getSetter(),l=t.name;if(it||t.block.statements.members.length>0&&t.block.statements.members[0].nodeType()===96||i.postError(this.unitPath,l.minChar,l.getLength(),n.DiagnosticCode.Getters_must_return_a_value,null,g),nt&&o){var ut=nt.getDeclarations()[0],ft=o.getDeclarations()[0],et=ut.flags&2,ot=ft.flags&2;et!=ot&&i.postError(this.unitPath,l.minChar,l.getLength(),n.DiagnosticCode.Getter_and_setter_accessors_do_not_agree_in_visibility,null,g)}this.checkFunctionTypePrivacy(t,!1,i)}return u},r.prototype.resolveSetAccessorDeclaration=function(t,i){var f=this.getDeclForAST(t),r=f.getSymbol(),v=r.getSetter(),y=v.type,u=y.getCallSignatures()[0],s,l,a,h,p,k;if(u){if(u.isResolved)return r;if(u.inResolution)return u.returnType=this.semanticInfoChain.anyTypeSymbol,u.setResolved(),r;if(u.startResolving(),t.arguments)for(s=0;s<t.arguments.members.length;s++)this.resolveVariableDeclaration(t.arguments.members[s],i,f);u.hasAGenericParameter&&v&&y.setHasGenericSignature();!1||u.setResolved()}var c=u.parameters,e=r.getGetter(),o=c.length?c[0].type:e?e.type:this.semanticInfoChain.undefinedTypeSymbol;if(e?(l=e.type,a=l.getCallSignatures()[0],o==this.semanticInfoChain.undefinedTypeSymbol&&(o=l),a.isResolved?(h=a.returnType,this.typesAreIdentical(o,h)||(this.isAnyOrEquivalent(o)?(r.type=h,o.isError()||(c[0].type=h)):(p=i.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.get_and_set_accessor_must_have_the_same_type,null,this.getEnclosingDecl(f)),r.type=this.getNewErrorTypeSymbol(p)))):r.type=o):(r.type=o,this.compilationSettings.noImplicitAny&&r.type==this.semanticInfoChain.anyTypeSymbol&&i.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode._0_which_lacks_return_type_annotation_implicitly_has_an_any_return_type,[t.name.actualText],this.getEnclosingDecl(f))),i.typeCheck()){k=this.seenSuperConstructorCall;this.seenSuperConstructorCall=!1;this.resolveAST(t.block,!1,f,i);this.validateVariableDeclarationGroups(f,i);var d=this.getEnclosingDecl(f),ut=(f.flags&4196352)!=0,g=n.hasFlag(t.getFunctionFlags(),32),ft=!g,e=r.getGetter(),w=r.getSetter(),b=t.name;if(e&&w){var nt=e.getDeclarations()[0],tt=w.getDeclarations()[0],it=nt.flags&2,rt=tt.flags&2;it!=rt&&i.postError(this.unitPath,b.minChar,b.getLength(),n.DiagnosticCode.Getter_and_setter_accessors_do_not_agree_in_visibility,null,d)}this.checkFunctionTypePrivacy(t,!1,i)}return r},r.prototype.resolveList=function(n,t,i){if(i.typeCheck())for(var r=0;r<n.members.length;r++)this.resolveAST(n.members[r],!1,t,i);return this.semanticInfoChain.voidTypeSymbol},r.prototype.resolveVoidExpression=function(n,t,i){return i.typeCheck()&&this.resolveAST(n.operand,!1,t,i),this.setSymbolForAST(n,this.semanticInfoChain.voidTypeSymbol,i),this.semanticInfoChain.voidTypeSymbol},r.prototype.resolveLogicalOperation=function(i,r,u){if(u.typeCheck()){var f=i,e=this.resolveAST(f.operand1,!1,r,u).type,o=this.resolveAST(f.operand2,!1,r,u).type,s=new t;this.sourceIsAssignableToTarget(e,o,u,s)||this.sourceIsAssignableToTarget(o,e,u,s)||u.postError(this.unitPath,f.minChar,f.getLength(),n.DiagnosticCode.Operator_0_cannot_be_applied_to_types_1_and_2,[n.BinaryExpression.getTextForBinaryToken(f.nodeType()),e.toString(),o.toString()],r)}return this.setSymbolForAST(i,this.semanticInfoChain.booleanTypeSymbol,u),this.semanticInfoChain.booleanTypeSymbol},r.prototype.resolveUnaryLogicalOperation=function(n,t,i){return i.typeCheck()&&this.resolveAST(n.operand,!1,t,i),this.setSymbolForAST(n,this.semanticInfoChain.booleanTypeSymbol,i),this.semanticInfoChain.booleanTypeSymbol},r.prototype.resolveUnaryArithmeticOperation=function(t,i,r){var e=t.nodeType(),u,o,f,s;if(r.typeCheck()){if(u=t,o=this.resolveAST(u.operand,!1,i,r),e==27||e==28||e==73)return this.semanticInfoChain.numberTypeSymbol;f=o.type;s=this.isAnyOrEquivalent(f)||f===this.semanticInfoChain.numberTypeSymbol||n.PullHelpers.symbolIsEnum(f);s||r.postError(this.unitPath,u.operand.minChar,u.operand.getLength(),n.DiagnosticCode.The_type_of_a_unary_arithmetic_operation_operand_must_be_of_type_any_number_or_an_enum_type,null,i);switch(u.nodeType()){case 77:case 75:case 78:case 76:this.isValidLHS(u.operand,o)||r.postError(this.unitPath,u.operand.minChar,u.operand.getLength(),n.DiagnosticCode.The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_property_or_indexer,null,i)}}return this.setSymbolForAST(t,this.semanticInfoChain.numberTypeSymbol,r),this.semanticInfoChain.numberTypeSymbol},r.prototype.resolveBinaryArithmeticExpression=function(t,i,r){if(r.typeCheck()){var u=t,o=this.resolveAST(u.operand1,!1,i,r),f=o.type,e=this.resolveAST(u.operand2,!1,i,r).type,s=this.isAnyOrEquivalent(f)||f===this.semanticInfoChain.numberTypeSymbol||n.PullHelpers.symbolIsEnum(f),h=this.isAnyOrEquivalent(e)||e===this.semanticInfoChain.numberTypeSymbol||n.PullHelpers.symbolIsEnum(e);if(h||r.postError(this.unitPath,u.operand1.minChar,u.operand1.getLength(),n.DiagnosticCode.The_right_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type,null,i),s||r.postError(this.unitPath,u.operand2.minChar,u.operand2.getLength(),n.DiagnosticCode.The_left_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type,null,i),h&&s)switch(u.nodeType()){case 48:case 49:case 50:case 41:case 43:case 42:case 44:case 47:case 45:case 46:this.isValidLHS(u.operand1,o)||r.postError(this.unitPath,u.operand1.minChar,u.operand1.getLength(),n.DiagnosticCode.Invalid_left_hand_side_of_assignment_expression,null,i);this.checkAssignability(u.operand1,e,f,i,r)}}return this.setSymbolForAST(t,this.semanticInfoChain.numberTypeSymbol,r),this.semanticInfoChain.numberTypeSymbol},r.prototype.resolveTypeOfExpression=function(n,t,i){return i.typeCheck()&&this.resolveAST(n.operand,!1,t,i),this.setSymbolForAST(n,this.semanticInfoChain.stringTypeSymbol,i),this.semanticInfoChain.stringTypeSymbol},r.prototype.resolveThrowStatement=function(n,t,i){return i.typeCheck()&&this.resolveAST(n.expression,!1,t,i),this.setSymbolForAST(n,this.semanticInfoChain.voidTypeSymbol,i),this.semanticInfoChain.voidTypeSymbol},r.prototype.resolveDeleteStatement=function(n,t,i){return i.typeCheck()&&this.resolveAST(n.operand,!1,t,i),this.setSymbolForAST(n,this.semanticInfoChain.booleanTypeSymbol,i),this.semanticInfoChain.booleanTypeSymbol},r.prototype.resolveInstanceOfExpression=function(t,i,r){if(r.typeCheck()){var u=t,e=this.widenType(this.resolveAST(u.operand1,!1,i,r).type),f=this.widenType(this.resolveAST(u.operand2,!1,i,r).type),o=e&&(this.isAnyOrEquivalent(e)||!e.isPrimitive()),s=f&&(this.isAnyOrEquivalent(f)||f.isClass()||this.typeIsSubtypeOfFunction(f,r));o||r.postError(this.unitPath,u.operand1.minChar,u.operand1.getLength(),n.DiagnosticCode.The_left_hand_side_of_an_instanceof_expression_must_be_of_type_any_an_object_type_or_a_type_parameter,null,i);s||r.postError(this.unitPath,u.operand1.minChar,u.operand1.getLength(),n.DiagnosticCode.The_right_hand_side_of_an_instanceof_expression_must_be_of_type_any_or_a_subtype_of_the_Function_interface_type,null,i)}return this.setSymbolForAST(t,this.semanticInfoChain.booleanTypeSymbol,r),this.semanticInfoChain.booleanTypeSymbol},r.prototype.resolveCommaExpression=function(n,t,i){return i.typeCheck()?(this.resolveAST(n.operand1,!1,t,i),this.resolveAST(n.operand2,!1,t,i)):this.semanticInfoChain.voidTypeSymbol},r.prototype.resolveInExpression=function(t,i,r){if(r.typeCheck()){var u=t,f=this.widenType(this.resolveAST(u.operand1,!1,i,r).type),e=this.widenType(this.resolveAST(u.operand2,!1,i,r).type),o=f.type===this.semanticInfoChain.stringTypeSymbol||this.isAnyOrEquivalent(f.type)||this.isNumberOrEquivalent(f.type),s=e&&(this.isAnyOrEquivalent(e)||!e.isPrimitive());o||r.postError(this.unitPath,u.operand1.minChar,u.operand1.getLength(),n.DiagnosticCode.The_left_hand_side_of_an_in_expression_must_be_of_types_string_or_any,null,i);s||r.postError(this.unitPath,u.operand1.minChar,u.operand1.getLength(),n.DiagnosticCode.The_right_hand_side_of_an_in_expression_must_be_of_type_any_an_object_type_or_a_type_parameter,null,i)}return this.setSymbolForAST(t,this.semanticInfoChain.booleanTypeSymbol,r),this.semanticInfoChain.booleanTypeSymbol},r.prototype.resolveForStatement=function(n,t,i){return i.typeCheck()&&(this.resolveAST(n.init,!1,t,i),this.resolveAST(n.cond,!1,t,i),this.resolveAST(n.incr,!1,t,i),this.resolveAST(n.body,!1,t,i)),this.setSymbolForAST(n,this.semanticInfoChain.voidTypeSymbol,i),this.semanticInfoChain.voidTypeSymbol},r.prototype.resolveForInStatement=function(t,i,r){var s,h,e,c,l;if(r.typeCheck()){var u=t,o=this.widenType(this.resolveAST(u.obj,!1,i,r).type),f=u.lval;f.nodeType()===19&&(s=u.lval,h=s.declarators.members[0],h.typeExpr&&r.postError(this.unitPath,f.minChar,f.getLength(),n.DiagnosticCode.Variable_declarations_of_a_for_statement_cannot_use_a_type_annotation,null,i));e=this.resolveAST(u.lval,!1,i,r);f.nodeType()===19&&(e=this.getSymbolForAST(u.lval.declarators.members[0]));c=e.type===this.semanticInfoChain.stringTypeSymbol||this.isAnyOrEquivalent(e.type);l=o&&(this.isAnyOrEquivalent(o)||!o.isPrimitive());c||r.postError(this.unitPath,f.minChar,f.getLength(),n.DiagnosticCode.Variable_declarations_of_a_for_statement_must_be_of_types_string_or_any,null,i);l||r.postError(this.unitPath,u.obj.minChar,u.obj.getLength(),n.DiagnosticCode.The_right_hand_side_of_a_for_in_statement_must_be_of_type_any_an_object_type_or_a_type_parameter,null,i);this.resolveAST(u.body,!1,i,r)}return this.setSymbolForAST(t,this.semanticInfoChain.voidTypeSymbol,r),this.semanticInfoChain.voidTypeSymbol},r.prototype.resolveWhileStatement=function(n,t,i){return i.typeCheck()&&(this.resolveAST(n.cond,!1,t,i),this.resolveAST(n.body,!1,t,i)),this.setSymbolForAST(n,this.semanticInfoChain.voidTypeSymbol,i),this.semanticInfoChain.voidTypeSymbol},r.prototype.resolveDoStatement=function(n,t,i){return i.typeCheck()&&(this.resolveAST(n.cond,!1,t,i),this.resolveAST(n.body,!1,t,i)),this.setSymbolForAST(n,this.semanticInfoChain.voidTypeSymbol,i),this.semanticInfoChain.voidTypeSymbol},r.prototype.resolveIfStatement=function(n,t,i){return i.typeCheck()&&(this.resolveAST(n.cond,!1,t,i),this.resolveAST(n.thenBod,!1,t,i),this.resolveAST(n.elseBod,!1,t,i)),this.setSymbolForAST(n,this.semanticInfoChain.voidTypeSymbol,i),this.semanticInfoChain.voidTypeSymbol},r.prototype.resolveBlock=function(n,t,i){return i.typeCheck()&&this.resolveAST(n.statements,!1,t,i),this.semanticInfoChain.voidTypeSymbol},r.prototype.resolveVariableStatement=function(n,t,i){return i.typeCheck()&&this.resolveAST(n.declaration,!1,t,i),this.semanticInfoChain.voidTypeSymbol},r.prototype.resolveVariableDeclarationList=function(n,t,i){return i.typeCheck()&&this.resolveAST(n.declarators,!1,t,i),this.semanticInfoChain.voidTypeSymbol},r.prototype.resolveWithStatement=function(t,i,r){if(r.typeCheck()){var u=t;r.postError(this.unitPath,u.expr.minChar,u.expr.getLength(),n.DiagnosticCode.All_symbols_within_a_with_block_will_be_resolved_to_any,null,i)}return this.setSymbolForAST(t,this.semanticInfoChain.voidTypeSymbol,r),this.semanticInfoChain.voidTypeSymbol},r.prototype.resolveTryStatement=function(n,t,i){if(i.typeCheck()){var r=n;this.resolveAST(r.tryBody,!1,t,i);this.resolveAST(r.catchClause,!1,t,i);this.resolveAST(r.finallyBody,!1,t,i)}return this.setSymbolForAST(n,this.semanticInfoChain.voidTypeSymbol,i),this.semanticInfoChain.voidTypeSymbol},r.prototype.resolveCatchClause=function(n,t,i){return i.typeCheck()&&this.resolveAST(n.body,!1,this.getDeclForAST(n),i),this.setSymbolForAST(n,this.semanticInfoChain.voidTypeSymbol,i),this.semanticInfoChain.voidTypeSymbol},r.prototype.resolveReturnStatement=function(i,r,u,f){for(var c=u,d=i,o=d.returnExpression,r,l,y,a,w,p,e,b,s,v,h,k;c;){if(c.kind&n.PullElementKind.SomeFunction){c.setFlag(4194304);break}c=c.getParentDecl()}return r=!1,u.kind&n.PullElementKind.SomeFunction&&(l=this.getASTForDecl(u),l.returnTypeAnnotation?(y=this.resolveTypeReference(l.returnTypeAnnotation,u,f),y&&(r=!0,f.pushContextualType(y,f.inProvisionalResolution(),null))):(a=f.getContextualType(),a&&a.isFunction()&&(w=a.getDeclarations()[0].getSignatureSymbol(),p=w.returnType,p&&(r=!0,f.pushContextualType(p,f.inProvisionalResolution(),null))))),e=o?this.resolveAST(o,r,u,f).type:this.semanticInfoChain.voidTypeSymbol,r&&f.popContextualType(),f.typeCheck()&&o&&(u.kind===524288&&o&&f.postError(this.unitPath,o.minChar,o.getLength(),n.DiagnosticCode.Setters_cannot_return_a_value,null,u),u.kind&n.PullElementKind.SomeFunction&&(l=this.getASTForDecl(u),l.returnTypeAnnotation&&(b=u.getSignatureSymbol(),s=b.returnType,e&&s&&(v=new t,h=null,e.isTypeParameter()&&(h=e.getConstraint(),h&&(e=h)),s.isTypeParameter()&&(h=s.getConstraint(),h&&(s=h)),e.isResolved||this.resolveDeclaredSymbol(e,u,f),s.isResolved||this.resolveDeclaredSymbol(s,u,f),k=this.sourceIsAssignableToTarget(e,s,f,v),k||(v.message?f.postError(this.unitPath,o.minChar,o.getLength(),n.DiagnosticCode.Cannot_convert_0_to_1_NL_2,[e.toString(),s.toString(),v.message],u):f.postError(this.unitPath,o.minChar,o.getLength(),n.DiagnosticCode.Cannot_convert_0_to_1,[e.toString(),s.toString()],u)))))),this.setSymbolForAST(i,e,f),e},r.prototype.resolveSwitchStatement=function(i,r,u){var f,o,c,l,e,s,h;if(u.typeCheck()&&(f=i,o=this.resolveAST(f.val,!1,r,u).type,this.resolveAST(f.caseList,!1,r,u),this.resolveAST(f.defaultCase,!1,r,u),f.caseList&&f.caseList.members))for(c=0,l=f.caseList.members.length;c<l;c++)e=f.caseList.members[c],e!==f.defaultCase&&(s=this.resolveAST(e.expr,!1,r,u).type,h=new t,this.sourceIsAssignableToTarget(o,s,u,h)||this.sourceIsAssignableToTarget(s,o,u,h)||(h.message?u.postError(this.unitPath,e.expr.minChar,e.expr.getLength(),n.DiagnosticCode.Cannot_convert_0_to_1_NL_2,[s.toString(),o.toString(),h.message],r):u.postError(this.unitPath,e.expr.minChar,e.expr.getLength(),n.DiagnosticCode.Cannot_convert_0_to_1,[s.toString(),o.toString()],r)));return this.setSymbolForAST(i,this.semanticInfoChain.voidTypeSymbol,u),this.semanticInfoChain.voidTypeSymbol},r.prototype.resolveCaseClause=function(n,t,i){return i.typeCheck()&&(this.resolveAST(n.expr,!1,t,i),this.resolveAST(n.body,!1,t,i)),this.setSymbolForAST(n,this.semanticInfoChain.voidTypeSymbol,i),this.semanticInfoChain.voidTypeSymbol},r.prototype.resolveLabeledStatement=function(n,t,i){return this.resolveAST(n.statement,!1,t,i)},r.prototype.resolveAST=function(t,i,r,u,f){var o,s,e;if(typeof f=="undefined"&&(f=!1),n.globalSemanticInfoChain=this.semanticInfoChain,n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain),t){if(o=f?null:this.semanticInfoChain.getSymbolForAST(t,this.unitPath),o&&o.type&&o.isResolved)return o;s=t.nodeType();switch(s){case 1:return this.resolveList(t,r,u);case 2:return null;case 16:return this.resolveModuleDeclaration(t,u);case 15:return this.resolveInterfaceDeclaration(t,u);case 14:return this.resolveClassDeclaration(t,u);case 19:return this.resolveVariableDeclarationList(t,r,u);case 18:case 20:return this.resolveVariableDeclaration(t,u,r);case 9:return this.resolveTypeParameterDeclaration(t,u);case 17:return this.resolveImportDeclaration(t,u);case 23:return this.resolveObjectLiteralExpression(t,i,r,u);case 10:return this.resolveGenericTypeReference(t,r,u);case 21:return u.resolvingTypeReference?this.resolveTypeNameExpression(t,r,u):this.resolveNameExpression(t,r,u);case 33:return u.resolvingTypeReference?this.resolveDottedTypeNameExpression(t,r,u):this.resolveDottedNameExpression(t,r,u);case 10:return this.resolveGenericTypeReference(t,r,u);case 13:return e=t,e.isGetAccessor()?this.resolveGetAccessorDeclaration(e,u):e.isSetAccessor()?this.resolveSetAccessorDeclaration(e,u):i||e.getFunctionFlags()&8192||e.getFunctionFlags()&2048||e.getFunctionFlags()&16384?this.resolveFunctionExpression(e,i,r,u):this.resolveFunctionDeclaration(e,u);case 18:case 20:return this.resolveVariableDeclaration(t,u,r);case 9:return this.resolveTypeParameterDeclaration(t,u);case 17:return this.resolveImportDeclaration(t,u);case 23:return this.resolveObjectLiteralExpression(t,i,r,u);case 10:return this.resolveGenericTypeReference(t,r,u);case 21:return u.resolvingTypeReference?this.resolveTypeNameExpression(t,r,u):this.resolveNameExpression(t,r,u);case 33:return u.resolvingTypeReference?this.resolveDottedTypeNameExpression(t,r,u):this.resolveDottedNameExpression(t,r,u);case 10:return this.resolveGenericTypeReference(t,r,u);case 13:return e=t,e.isGetAccessor()?this.resolveGetAccessorDeclaration(e,u):e.isSetAccessor()?this.resolveSetAccessorDeclaration(e,u):i||e.getFunctionFlags()&8192||e.getFunctionFlags()&2048||e.getFunctionFlags()&16384?this.resolveFunctionExpression(e,i,r,u):this.resolveFunctionDeclaration(e,u);case 22:return this.resolveArrayLiteralExpression(t,i,r,u);case 30:return this.resolveThisExpression(t,r,u);case 31:return this.resolveSuperExpression(t,r,u);case 37:return this.resolveInvocationExpression(t,i,r,u);case 38:return this.resolveObjectCreationExpression(t,i,r,u);case 79:return this.resolveTypeAssertionExpression(t,i,r,u);case 11:return this.resolveTypeReference(t,r,u);case 88:return this.resolveExportAssignmentStatement(t,r,u);case 7:return this.semanticInfoChain.numberTypeSymbol;case 5:return this.semanticInfoChain.stringTypeSymbol;case 8:return this.semanticInfoChain.nullTypeSymbol;case 3:case 4:return this.semanticInfoChain.booleanTypeSymbol;case 25:return this.resolveVoidExpression(t,r,u);case 39:return this.resolveAssignmentStatement(t,i,r,u);case 74:return this.resolveUnaryLogicalOperation(t,r,u);case 58:case 57:case 59:case 60:case 61:case 62:case 64:case 63:return this.resolveLogicalOperation(t,r,u);case 65:case 40:return this.resolveBinaryAdditionOperation(t,i,r,u);case 27:case 28:case 73:case 77:case 75:case 78:case 76:return this.resolveUnaryArithmeticOperation(t,r,u);case 66:case 67:case 68:case 69:case 54:case 56:case 70:case 71:case 72:case 55:case 46:case 48:case 49:case 50:case 41:case 43:case 42:case 44:case 47:case 45:return this.resolveBinaryArithmeticExpression(t,r,u);case 36:return this.resolveIndexExpression(t,i,r,u);case 52:return this.resolveLogicalOrExpression(t,i,r,u);case 53:return this.resolveLogicalAndExpression(t,i,r,u);case 35:return this.resolveTypeOfExpression(t,r,u);case 96:return this.resolveThrowStatement(t,r,u);case 29:return this.resolveDeleteStatement(t,r,u);case 51:return this.resolveConditionalExpression(t,r,u);case 6:return this.resolveRegularExpressionLiteral();case 80:return this.resolveParenthesizedExpression(t,r,u);case 89:return this.resolveExpressionStatement(t,i,r,u);case 34:return this.resolveInstanceOfExpression(t,r,u);case 26:return this.resolveCommaExpression(t,r,u);case 32:return this.resolveInExpression(t,r,u);case 91:return this.resolveForStatement(t,r,u);case 90:return this.resolveForInStatement(t,r,u);case 99:return this.resolveWhileStatement(t,r,u);case 86:return this.resolveDoStatement(t,r,u);case 92:return this.resolveIfStatement(t,r,u);case 82:return this.resolveBlock(t,r,u);case 98:return this.resolveVariableStatement(t,r,u);case 100:return this.resolveWithStatement(t,r,u);case 97:return this.resolveTryStatement(t,r,u);case 102:return this.resolveCatchClause(t,r,u);case 94:return this.resolveReturnStatement(t,i,r,u);case 95:return this.resolveSwitchStatement(t,r,u);case 101:return this.resolveCaseClause(t,r,u);case 93:return this.resolveLabeledStatement(t,r,u)}return this.semanticInfoChain.anyTypeSymbol}},r.prototype.resolveRegularExpressionLiteral=function(){return this.cachedRegExpInterfaceType()?this.cachedRegExpInterfaceType():this.semanticInfoChain.anyTypeSymbol},r.prototype.isNameOrMemberAccessExpression=function(n){for(var t=n;t;)if(t.nodeType()===89)t=t.expression;else if(t.nodeType()===80)t=t.expression;else return t.nodeType()===21?!0:t.nodeType()===33?!0:!1},r.prototype.resolveNameSymbol=function(t,i){if(t&&!i.canUseTypeSymbol&&t!=this.semanticInfoChain.undefinedTypeSymbol&&t!=this.semanticInfoChain.nullTypeSymbol&&(t.isPrimitive()||!(t.kind&n.PullElementKind.SomeValue))){var r=t.isAlias()?t.getExportAssignedValueSymbol():null;t=r?r:null}return t},r.prototype.resolveNameExpression=function(n,t,i){var r=this.getSymbolForAST(n),u=r!=null;return u||(r=this.computeNameExpression(n,t,i)),r.isResolved||this.resolveDeclaredSymbol(r,t,i),r&&(r.type!=this.semanticInfoChain.anyTypeSymbol||r.hasFlag(16777217))&&this.setSymbolForAST(n,r,i),r},r.prototype.computeNameExpression=function(t,i,r){var e,o,f,u,s;return t.isMissing()?this.semanticInfoChain.anyTypeSymbol:(e=t.text(),o=i!==null?n.getPathToDecl(i):[],i&&!o.length&&(o=[i]),f=null,u=this.getSymbolFromDeclPath(e,o,n.PullElementKind.SomeValue),!u&&e==="arguments"&&i&&i.kind&n.PullElementKind.SomeFunction&&(u=this.cachedFunctionArgumentsSymbol,this.cachedIArgumentsInterfaceType()&&!this.cachedIArgumentsInterfaceType().isResolved&&this.resolveDeclaredSymbol(this.cachedIArgumentsInterfaceType(),i,r)),u||(u=this.getSymbolFromDeclPath(e,o,256),u&&!u.isAlias()&&(u=null)),!u)?r.resolvingTypeNameAsNameExpression?null:(r.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Could_not_find_symbol_0,[t.actualText],i),this.getNewErrorTypeSymbol(null,e)):(u.isType()&&u.isAlias()&&(f=u,r.resolvingTypeQueryExpression||(f.isUsedAsValue=!0),u.isResolved||this.resolveDeclaredSymbol(u,i,r),f.assignedValue?f.assignedValue.isResolved||this.resolveDeclaredSymbol(f.assignedValue,i,r):f.assignedContainer&&!f.assignedContainer.isResolved&&this.resolveDeclaredSymbol(f.assignedContainer,i,r),s=u.getExportAssignedValueSymbol(),s?u=s:f=null),f&&this.currentUnit.setAliasSymbolForAST(t,f),u)},r.prototype.resolveDottedNameExpression=function(n,t,i){var r=this.getSymbolForAST(n),u=r!=null;return u||(r=this.computeDottedNameExpressionSymbol(n,t,i)),r&&!r.isResolved&&this.resolveDeclaredSymbol(r,t,i),r&&(r.type!=this.semanticInfoChain.anyTypeSymbol||r.hasFlag(16777216))&&(this.setSymbolForAST(n,r,i),this.setSymbolForAST(n.operand2,r,i)),r},r.prototype.isPrototypeMember=function(n,t,i){var e=n.operand2.text(),f,r,u;return e==="prototype"&&(f=i.canUseTypeSymbol,i.canUseTypeSymbol=!0,r=this.resolveAST(n.operand1,!1,t,i).type,i.canUseTypeSymbol=f,r&&(r.isClass()||r.isConstructor()||(u=r.getAssociatedContainerType(),u&&u.isClass())))?!0:!1},r.prototype.computeDottedNameExpressionSymbol=function(t,i,r){var o,v,e,u,h,l,s,f,y,p,a,w,c;if(t.operand2.isMissing())return this.semanticInfoChain.anyTypeSymbol;if(o=t.operand2.text(),v=r.canUseTypeSymbol,r.canUseTypeSymbol=!0,e=this.resolveAST(t.operand1,!1,i,r),r.canUseTypeSymbol=v,u=e.type,e.isAlias()&&(r.resolvingTypeQueryExpression||(e.isUsedAsValue=!0),u=e.getExportAssignedTypeSymbol()),this.isAnyOrEquivalent(u))return u;if(u.isAlias()&&(u=u.getExportAssignedTypeSymbol()),!u)return r.postError(this.unitPath,t.operand2.minChar,t.operand2.getLength(),n.DiagnosticCode.Could_not_find_enclosing_symbol_for_dotted_name_0,[t.operand2.actualText],i),this.getNewErrorTypeSymbol(null);if((u===this.semanticInfoChain.numberTypeSymbol||e.kind==67108864)&&this.cachedNumberInterfaceType()?u=this.cachedNumberInterfaceType():u===this.semanticInfoChain.stringTypeSymbol&&this.cachedStringInterfaceType()?u=this.cachedStringInterfaceType():u===this.semanticInfoChain.booleanTypeSymbol&&this.cachedBooleanInterfaceType()&&(u=this.cachedBooleanInterfaceType()),u.isResolved||(h=this.resolveDeclaredSymbol(u,i,r),h!=u&&(e.isType()||r.setTypeInContext(e,h),u=h)),u.isContainer()&&!u.isAlias()&&(l=u.getInstanceSymbol(),l&&(u=l.type)),this.isPrototypeMember(t,i,r)){if(u.isClass())return this.checkForStaticMemberAccess(t,u,u,i,r),u;if(s=u.getAssociatedContainerType(),s&&s.isClass())return this.checkForStaticMemberAccess(t,u,s,i,r),s}return(u.isTypeParameter()&&(u=this.substituteUpperBoundForType(u)),f=null,e.isType()&&e.isClass()&&this.isNameOrMemberAccessExpression(t.operand1)||f||(f=this.getMemberSymbol(o,n.PullElementKind.SomeValue,u),f=this.resolveNameSymbol(f,r)),!f&&(u.isClass()?(y=u.getConstructorMethod().type,f=this.getMemberSymbol(o,n.PullElementKind.SomeValue,y),f||(f=this.getMemberSymbol(o,n.PullElementKind.SomeValue,u))):(u.getCallSignatures().length||u.getConstructSignatures().length)&&this.cachedFunctionInterfaceType()?f=this.getMemberSymbol(o,n.PullElementKind.SomeValue,this.cachedFunctionInterfaceType()):u.isContainer()?(p=u,a=p.getInstanceSymbol(),a&&(w=a.type,f=this.getMemberSymbol(o,n.PullElementKind.SomeValue,w))):(c=u.getAssociatedContainerType(),c&&!c.isClass()&&(f=this.getMemberSymbol(o,n.PullElementKind.SomeValue,c))),f=this.resolveNameSymbol(f,r),f||u.isPrimitive()||!this.cachedObjectInterfaceType()||(f=this.getMemberSymbol(o,n.PullElementKind.SomeValue,this.cachedObjectInterfaceType())),!f))?(r.postError(this.unitPath,t.operand2.minChar,t.operand2.getLength(),n.DiagnosticCode.The_property_0_does_not_exist_on_value_of_type_1,[t.operand2.actualText,u.toString(i?i.getSymbol():null)],i),this.getNewErrorTypeSymbol(null,o)):(r.typeCheck()&&(this.checkForSuperMemberAccess(t,f,i,r)||this.checkForPrivateMemberAccess(t,u,f,i,r)||this.checkForStaticMemberAccess(t,u,f,i,r)),f)},r.prototype.resolveTypeNameExpression=function(t,i,r){var u=this.getSymbolForAST(t),e,f;return u&&u.isType()||(u=this.computeTypeNameExpression(t,i,r),this.setSymbolForAST(t,u,r)),u.isResolved||(e=r.resolvingNamespaceMemberAccess,r.resolvingNamespaceMemberAccess=!1,this.resolveDeclaredSymbol(u,i,r),r.resolvingNamespaceMemberAccess=e),!u||u.isTypeParameter()&&u.isFunctionTypeParameter()&&r.isSpecializingSignatureAtCallSite&&!r.isSpecializingConstructorMethod||(f=r.findSpecializationForType(u),u.isTypeParameter()&&f!=u&&n.shouldSpecializeTypeParameterForTypeParameter(f,u)&&(u=f)),u},r.prototype.computeTypeNameExpression=function(t,i,r){var u,e,s,h,o,c;if(t.isMissing()||(u=t.text(),u==="any"))return this.semanticInfoChain.anyTypeSymbol;if(u==="string")return this.semanticInfoChain.stringTypeSymbol;if(u==="number")return this.semanticInfoChain.numberTypeSymbol;if(u==="bool")return this.compilationSettings.allowBool||this.currentUnit.getProperties().unitContainsBool?this.semanticInfoChain.booleanTypeSymbol:(this.currentUnit.getProperties().unitContainsBool=!0,r.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Use_of_deprecated_type_bool_Use_boolean_instead,null,i),this.semanticInfoChain.booleanTypeSymbol);if(u==="boolean")return this.semanticInfoChain.booleanTypeSymbol;if(u==="void")return this.semanticInfoChain.voidTypeSymbol;e=i!==null?n.getPathToDecl(i):[];i&&!e.length&&(e=[i]);var l=r.resolvingNamespaceMemberAccess?n.PullElementKind.SomeContainer:n.PullElementKind.SomeType,a=r.resolvingNamespaceMemberAccess?n.PullElementKind.SomeType:n.PullElementKind.SomeContainer,f=this.getSymbolFromDeclPath(u,e,l);return(f||(f=this.getSymbolFromDeclPath(u,e,a)),!f)?(r.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Could_not_find_symbol_0,[t.actualText],i),this.getNewErrorTypeSymbol(null,u)):(s=null,f.isAlias()&&(s=f,f.isResolved||(h=r.resolvingNamespaceMemberAccess,r.resolvingNamespaceMemberAccess=!1,this.resolveDeclaredSymbol(f,i,r),r.resolvingNamespaceMemberAccess=h),o=s.getExportAssignedTypeSymbol(),o&&!o.isResolved&&this.resolveDeclaredSymbol(o,i,r)),f.isTypeParameter()&&i&&i.kind&n.PullElementKind.SomeFunction&&i.flags&16&&(c=f.getDeclarations()[0].getParentDecl(),c.kind==8))?(r.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Static_methods_cannot_reference_class_type_parameters,null,i),this.getNewErrorTypeSymbol(null)):f},r.prototype.resolveGenericTypeReference=function(t,i,r){var p=r.resolvingTypeReference,f,e,v,o,u,s,c,l;if(r.resolvingTypeReference=!0,f=this.resolveAST(t.name,!1,i,r).type,r.resolvingTypeReference=p,f.isError())return f;if(f.inResolution||f.isResolved||this.resolveDeclaredSymbol(f,i,r),f.isAlias()&&(f=f.getExportAssignedTypeSymbol()),e=[],!r.isResolvingTypeArguments(t)){if(r.startResolvingTypeArguments(t),v=r.isResolvingClassExtendedType,r.isResolvingClassExtendedType=!1,t.typeArguments&&t.typeArguments.members.length)for(o=0;o<t.typeArguments.members.length;o++)u=this.resolveTypeReference(t.typeArguments.members[o],i,r),this.genericTypeIsUsedWithoutRequiredTypeArguments(u,t.typeArguments.members[o],r)&&(r.postError(this.unitPath,t.typeArguments.members[o].minChar,t.typeArguments.members[o].getLength(),n.DiagnosticCode.Generic_type_references_must_include_all_type_arguments,null,i),u=this.specializeTypeToAny(u,i,r)),e[o]=u.isTypeParameter()&&u.isFunctionTypeParameter()&&r.isSpecializingSignatureAtCallSite&&!r.isSpecializingConstructorMethod?u:r.findSpecializationForType(u),e[o].isError()&&(e[o]=this.semanticInfoChain.anyTypeSymbol);r.isResolvingClassExtendedType=v;r.doneResolvingTypeArguments()}if(s=f.getTypeParameters(),e.length&&e.length!=s.length)return r.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Generic_type_0_requires_1_type_argument_s,[f.toString(),f.getTypeParameters().length],i),this.getNewErrorTypeSymbol(null);var y=n.specializeType(f,e,this,i,r,t),h=null,a=null;for(c=0;c<e.length&&c<s.length;c++)if(u=e[c],h=s[c].getConstraint(),h){if(h.isTypeParameter())for(l=0;l<s.length&&l<e.length;l++)s[l]==h&&(h=e[l]);if(u.isTypeParameter()&&(a=u.getConstraint(),a&&(u=a)),u.inResolution)return y;this.sourceIsAssignableToTarget(u,h,r)||r.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Type_0_does_not_satisfy_the_constraint_1_for_type_parameter_2,[u.toString(null,!0),h.toString(null,!0),s[c].toString(null,!0)],i)}return y},r.prototype.resolveDottedTypeNameExpression=function(n,t,i){var r=this.getSymbolForAST(n);return r||(r=this.computeDottedTypeNameExpression(n,t,i),this.setSymbolForAST(n,r,i)),r.isResolved||this.resolveDeclaredSymbol(r,t,i),r},r.prototype.computeDottedTypeNameExpression=function(t,i,r){var o,u,h,f,c,e,l;if(t.operand2.isMissing())return this.semanticInfoChain.anyTypeSymbol;var s=t.operand2.text(),a=r.resolvingTypeReference,v=r.resolvingNamespaceMemberAccess;if(r.resolvingNamespaceMemberAccess=!0,r.resolvingTypeReference=!0,o=this.resolveAST(t.operand1,!1,i,r),r.resolvingTypeReference=a,r.resolvingNamespaceMemberAccess=v,u=o.isAlias()?o.getExportAssignedTypeSymbol():o.type,r.isResolvingClassExtendedType&&o.isAlias()&&(o.isUsedAsValue=!0),this.isAnyOrEquivalent(u))return u;if(!u)return r.postError(this.unitPath,t.operand2.minChar,t.operand2.getLength(),n.DiagnosticCode.Could_not_find_enclosing_symbol_for_dotted_name_0,[t.operand2.actualText],i),this.getNewErrorTypeSymbol(null);if(h=r.resolvingNamespaceMemberAccess?n.PullElementKind.SomeContainer:n.PullElementKind.SomeType,f=this.getMemberSymbol(s,h,u),!f&&u.isContainer()&&(c=u.getExportAssignedContainerSymbol(),c&&(f=this.getMemberSymbol(s,h,c))),!f&&i){for(e=i;e;){if(e.kind&n.PullElementKind.SomeContainer)break;e=e.getParentDecl()}e&&(l=e.getSymbol().type,l===u&&(f=this.getMemberSymbol(s,h,u)))}return f?f:(r.postError(this.unitPath,t.operand2.minChar,t.operand2.getLength(),n.DiagnosticCode.The_property_0_does_not_exist_on_value_of_type_1,[t.operand2.actualText,u.toString(i?i.getSymbol():null)],i),this.getNewErrorTypeSymbol(null,s))},r.prototype.resolveFunctionExpression=function(t,i,u,f){var s=this,h=null,e=this.getDeclForAST(t),ut,ft,k,d,g,p,a,w,o,nt,l,it,rt;if(e&&e.hasSymbol()&&(h=e.getSymbol(),h.isResolved))return h;var b=i,v=null,y=null;if(t.returnTypeAnnotation&&(b=!1),b&&t.arguments)for(o=0;o<t.arguments.members.length;o++)if(ut=t.arguments.members[o],ut.typeExpr){b=!1;break}if(b&&(v=f.getContextualType(),v&&(this.resolveDeclaredSymbol(v,u,f),v&&(y=v.getCallSignatures()[0]))),e||(ft=this.semanticInfoChain.getUnit(this.unitPath),k=new n.DeclCollectionContext(ft,this.unitPath),u&&k.pushParent(u),n.getAstWalkerFactory().walk(t,n.preCollectDecls,n.postCollectDecls,null,k),e=this.getDeclForAST(t),this.currentUnit.addSynthesizedDecl(e),d=new n.PullSymbolBinder(this.semanticInfoChain),d.setUnit(this.unitPath),d.bindFunctionExpressionToPullSymbol(e)),h=e.getSymbol(),g=h.type,p=g.getCallSignatures()[0],h.startResolving(),t.arguments)for(a=[],y&&(a=y.parameters),w=a.length,o=0,nt=t.arguments.members.length;o<nt;o++){var et=t.arguments.members[o],ot=t.variableArgList&&o===nt-1,c=null,tt=null;o<w?c=a[o]:w&&a[w-1].isVarArg&&(c=a[w-1]);c&&(c.isVarArg===ot?tt=c.type:c.isVarArg&&(tt=c.type.getElementType()));this.resolveFunctionExpressionParameter(et,tt,e,f)}return t.returnTypeAnnotation?(l=this.resolveTypeReference(t.returnTypeAnnotation,e,f),this.genericTypeIsUsedWithoutRequiredTypeArguments(l,t.returnTypeAnnotation,f)&&(f.postError(this.unitPath,t.returnTypeAnnotation.minChar,t.returnTypeAnnotation.getLength(),n.DiagnosticCode.Generic_type_references_must_include_all_type_arguments,null,e),l=this.specializeTypeToAny(l,e,f)),p.returnType=l):y?(it=y.returnType,it?(f.pushContextualType(it,f.inProvisionalResolution(),null),this.resolveFunctionBodyReturnTypes(t,p,!0,e,f),f.popContextualType()):(p.returnType=this.semanticInfoChain.anyTypeSymbol,this.compilationSettings.noImplicitAny&&!f.isInInvocationExpression&&(rt=e.getFunctionExpressionName(),rt!=""?f.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode._0_which_lacks_return_type_annotation_implicitly_has_an_any_return_type,[rt],e):f.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Function_expression_which_lacks_return_type_annotation_implicitly_has_an_any_return_type,[],e)))):this.resolveFunctionBodyReturnTypes(t,p,!1,e,f),h.type=g,h.setResolved(),f.typeCheck()&&r.typeCheckCallBacks.push(function(){var h=s.unitPath,r,o,i;s.setUnitPath(e.getScriptName());s.seenSuperConstructorCall=!1;s.resolveAST(t.block,!1,e,f);s.validateVariableDeclarationGroups(e,f);r=(e.flags&4196352)!=0;t.block&&t.returnTypeAnnotation!=null&&!r&&(o=s.isAnyOrEquivalent(l)||l===s.semanticInfoChain.voidTypeSymbol,o||t.block.statements.members.length>0&&t.block.statements.members[0].nodeType()===96||(i=e.getDisplayName(),i=i?"'"+i+"'":"expression",f.postError(s.unitPath,t.returnTypeAnnotation.minChar,t.returnTypeAnnotation.getLength(),n.DiagnosticCode.Function_0_declared_a_non_void_return_type_but_has_no_return_expression,[i],u)));s.typeCheckFunctionOverloads(t,f);s.setUnitPath(h)}),h},r.prototype.resolveThisExpression=function(n,t,i){var r=this.getSymbolForAST(n);return r||(r=this.computeThisExpressionSymbol(n,t,i),this.setSymbolForAST(n,r,i)),this.checkForThisOrSuperCaptureInArrowFunction(n,t),r},r.prototype.computeThisExpressionSymbol=function(t,i,r){var o,c,s,a,p,u,e;if(i){var w=i.kind,f=this.semanticInfoChain.anyTypeSymbol,v=null;if(w&(n.PullElementKind.SomeFunction|1|n.PullElementKind.SomeBlock|8)){if(o=n.getPathToDecl(i),o.length)for(c=!1,s=o.length-1;s>=0;s--){var h=o[s],l=h.kind,y=h.flags;if(y&16)c=!0;else if(l!==131072||n.hasFlag(y,8192)){if(l===16384)break;else if(l===8){r.isInStaticInitializer?f=this.getNewErrorTypeSymbol(null):(a=h.getSymbol(),v=h,c?(p=a.getConstructorMethod(),f=p.type):f=a);break}}else break}}else f=this.getNewErrorTypeSymbol(null)}return r.typeCheck()&&(u=t,e=this.getEnclosingNonLambdaDecl(i),r.isResolvingSuperConstructorTarget&&this.superCallMustBeFirstStatementInConstructor(i,v)?r.postError(this.unitPath,u.minChar,u.getLength(),n.DiagnosticCode.this_cannot_be_referenced_in_current_location,null,i):e&&(e.kind===8&&r.isInStaticInitializer?r.postError(this.unitPath,u.minChar,u.getLength(),n.DiagnosticCode.this_cannot_be_referenced_in_static_initializers_in_a_class_body,null,i):e.kind===4||e.kind===32?r.postError(this.unitPath,u.minChar,u.getLength(),n.DiagnosticCode.this_cannot_be_referenced_within_module_bodies,null,i):r.inConstructorArguments&&r.postError(this.unitPath,u.minChar,u.getLength(),n.DiagnosticCode.this_cannot_be_referenced_in_constructor_arguments,null,i))),f},r.prototype.getEnclosingNonLambdaDecl=function(t){var u=t!==null?n.getPathToDecl(t):[],i,r;if(u.length)for(i=u.length-1;i>=0;i--)if(r=u[i],!(r.kind===131072&&r.flags&8192))return r;return null},r.prototype.resolveSuperExpression=function(t,i,r){var o,f,c,l,s,e,v;if(!i)return this.semanticInfoChain.anyTypeSymbol;var h=i!==null?n.getPathToDecl(i):[],u=null,a=this.semanticInfoChain.anyTypeSymbol;if(h.length)for(o=h.length-1;o>=0;o--)if(f=h[o],c=f.flags,f.kind!==131072||c&8192){if(c&16)break;else if(f.kind===8){u=f.getSymbol();break}}else break;return u&&(u.isResolved||this.resolveDeclaredSymbol(u,i,r),l=u.getExtendedTypes(),l.length&&(a=l[0])),r.typeCheck()&&(s=this.getEnclosingNonLambdaDecl(i),s&&(e=s.kind,v=r.isResolvingSuperConstructorTarget,v&&i.kind!==32768?r.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Super_calls_are_not_permitted_outside_constructors_or_in_local_functions_inside_constructors,null,i):e!==65536&&e!==262144&&e!==524288&&e!==32768||(s.flags&16)!=0?r.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.super_property_access_is_permitted_only_in_a_constructor_instance_member_function_or_instance_member_accessor_of_a_derived_class,null,i):this.enclosingClassIsDerived(i)||r.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.super_cannot_be_referenced_in_non_derived_classes,null,i))),this.checkForThisOrSuperCaptureInArrowFunction(t,i),a},r.prototype.resolveObjectLiteralExpression=function(n,t,i,r,u){var f=this.getSymbolForAST(n);return(!f||u)&&(f=this.computeObjectLiteralExpression(n,t,i,r,u),this.setSymbolForAST(n,f,r)),f},r.prototype.computeObjectLiteralExpression=function(t,i,r,u,f){var y=t,it=n.TextSpan.fromBounds(y.minChar,y.limChar),o=new n.PullDecl("","",512,0,it,this.unitPath),a,b,p,e,c,l,k,w,ft,s,v,d,g,h,nt,tt,ut;if(this.currentUnit.addSynthesizedDecl(o),r&&o.setParentDecl(r),this.currentUnit.setDeclForAST(y,o),this.currentUnit.setASTForDecl(o,y),a=new n.PullTypeSymbol("",16),a.addDeclaration(o),o.setSymbol(a),b=y.operand,p=null,i&&(p=u.getContextualType(),this.resolveDeclaredSymbol(p,r,u)),b)for(l=null,k=!1,f&&(f.membersContextTypeSymbols=[]),w=0,ft=b.members.length;w<ft;w++){if(e=b.members[w],s=e.operand1,s.nodeType()===21)d=s.actualText,v=s.text();else if(s.nodeType()===5)d=s.actualText,v=s.text();else if(s.nodeType()===7)d=v=s.text();else return this.semanticInfoChain.anyTypeSymbol;if(it=n.TextSpan.fromBounds(e.minChar,e.limChar),g=e.operand2.nodeType()===13&&e.operand2.isAccessor(),g||(h=new n.PullDecl(v,d,4096,4,it,this.unitPath),this.currentUnit.addSynthesizedDecl(h),o.addChildDecl(h),h.setParentDecl(o),this.semanticInfoChain.getUnit(this.unitPath).setDeclForAST(e,h),this.semanticInfoChain.getUnit(this.unitPath).setASTForDecl(h,e),c=new n.PullSymbol(v,4096),c.addDeclaration(h),h.setSymbol(c)),p&&(l=this.getMemberSymbol(v,n.PullElementKind.SomeValue,p),l&&(this.resolveDeclaredSymbol(l,r,u),u.pushContextualType(l.type,u.inProvisionalResolution(),null),k=!0,f&&(f.membersContextTypeSymbols[w]=l.type))),g){var rt=e.operand2,ot=this.semanticInfoChain.getUnit(this.unitPath),et=new n.DeclCollectionContext(ot,this.unitPath);et.pushParent(o);n.getAstWalkerFactory().walk(rt,n.preCollectDecls,n.postCollectDecls,null,et);nt=this.getDeclForAST(rt);this.currentUnit.addSynthesizedDecl(nt);tt=new n.PullSymbolBinder(this.semanticInfoChain);tt.setUnit(this.unitPath);rt.isGetAccessor()?tt.bindGetAccessorDeclarationToPullSymbol(nt):tt.bindSetAccessorDeclarationToPullSymbol(nt)}ut=this.resolveAST(e.operand2,l!=null,r,u);k&&(u.popContextualType(),k=!1);g?this.setSymbolForAST(e.operand1,ut,u):(u.setTypeInContext(c,ut.type),c.setResolved(),this.setSymbolForAST(e.operand1,c,u),a.addMember(c))}return a.setResolved(),a},r.prototype.resolveArrayLiteralExpression=function(n,t,i,r){var u=this.getSymbolForAST(n);return u||(u=this.computeArrayLiteralExpressionSymbol(n,t,i,r),this.setSymbolForAST(n,u,r)),u},r.prototype.computeArrayLiteralExpressionSymbol=function(i,r,u,f){var l=i.operand,o=this.semanticInfoChain.anyTypeSymbol,h=[],a=new t,s=null,c,p,w,e,d,k,v;if(a.onlyCaptureFirstError=!0,r&&(c=f.getContextualType(),this.resolveDeclaredSymbol(c,u,f),c))if(c.isArray())s=c.getElementType();else for(p=c.getIndexSignatures(),e=0;e<p.length;e++)if(w=p[e],w.parameters[0].type===this.semanticInfoChain.numberTypeSymbol){s=w.returnType;break}if(l){for(r&&f.pushContextualType(s,f.inProvisionalResolution(),null),e=0;e<l.members.length;e++)h[h.length]=this.resolveAST(l.members[e],r,u,f).type;r&&f.popContextualType()}if(this.compilationSettings.noImplicitAny&&!f.isInInvocationExpression&&(r||l.members.length!=0||f.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Array_Literal_implicitly_has_an_any_type_from_widening,[],u)),s&&!s.isTypeParameter())for(o=s,e=0;e<h.length;e++){var a=new t,b=h[e],y=l.members[e];if(!this.sourceIsAssignableToTarget(b,s,f,a))return d=a.message?f.postError(this.getUnitPath(),y.minChar,y.getLength(),n.DiagnosticCode.Cannot_convert_0_to_1_NL_2,[b.toString(),s.toString(),a.message],u):f.postError(this.getUnitPath(),y.minChar,y.getLength(),n.DiagnosticCode.Cannot_convert_0_to_1,[b.toString(),s.toString()],u),this.getNewErrorTypeSymbol(null)}else h.length?o=h[0]:s&&(o=s),k={getLength:function(){return l.members.length},setTypeAtIndex:function(n,t){h[n]=t},getTypeAtIndex:function(n){return h[n]}},o=this.findBestCommonType(o,null,k,f,a),(o===this.semanticInfoChain.undefinedTypeSymbol||o===this.semanticInfoChain.nullTypeSymbol)&&(o=this.semanticInfoChain.anyTypeSymbol,!this.compilationSettings.noImplicitAny||r||f.isInInvocationExpression||f.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Array_Literal_implicitly_has_an_any_type_from_widening,[],u)),o?s&&!s.isTypeParameter()&&this.sourceIsAssignableToTarget(o,s,f)&&(o=c):(o=this.semanticInfoChain.anyTypeSymbol,!this.compilationSettings.noImplicitAny||r||f.isInInvocationExpression||f.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Array_Literal_implicitly_has_an_any_type_from_widening,[],u));return v=o.getArrayType(),v||(this.cachedArrayInterfaceType().isResolved||this.resolveDeclaredSymbol(this.cachedArrayInterfaceType(),u,f),v=n.specializeType(this.cachedArrayInterfaceType(),[o],this,this.cachedArrayInterfaceType().getDeclarations()[0],f,i),v||(v=this.semanticInfoChain.anyTypeSymbol)),v},r.prototype.resolveIndexExpression=function(n,t,i,r){var u=this.getSymbolForAST(n);return u||(u=this.computeIndexExpressionSymbol(n,t,i,r),this.setSymbolForAST(n,u,r)),u},r.prototype.computeIndexExpressionSymbol=function(t,i,r,u){var d=this.resolveAST(t.operand1,i,r,u),e=this.resolveAST(t.operand2,i,r,u).type,o=d.type,p,h,b,c,s,f;if(this.isAnyOrEquivalent(o))return o;if(p=o.getElementType(),h=e===this.semanticInfoChain.numberTypeSymbol||n.PullHelpers.symbolIsEnum(e),p&&h)return p;if((t.operand2.nodeType()===5||t.operand2.nodeType()===7)&&(b=t.operand2.nodeType()===5?n.stripQuotes(t.operand2.actualText):t.operand2.value.toString(),c=this.getMemberSymbol(b,n.PullElementKind.SomeValue,o),c))return c.isResolved||this.resolveDeclaredSymbol(c,r,u),c.type;var v=o.getIndexSignatures(),l=null,a=null,k=null,w,y;for(s=0;s<v.length;s++){if(l&&a)break;if(k=v[s],w=k.parameters,w.length)if(y=w[0].type,l||y!==this.semanticInfoChain.stringTypeSymbol){if(!a&&(y===this.semanticInfoChain.numberTypeSymbol||y.kind===64)){a=v[s];continue}}else{l=v[s];continue}}return a&&(h||e===this.semanticInfoChain.anyTypeSymbol)?(f=a.returnType,f||(f=this.semanticInfoChain.anyTypeSymbol),f):l&&(h||e===this.semanticInfoChain.anyTypeSymbol||e===this.semanticInfoChain.stringTypeSymbol)?(f=l.returnType,f||(f=this.semanticInfoChain.anyTypeSymbol),f):h||e===this.semanticInfoChain.anyTypeSymbol||e===this.semanticInfoChain.stringTypeSymbol?this.semanticInfoChain.anyTypeSymbol:(u.postError(this.getUnitPath(),t.minChar,t.getLength(),n.DiagnosticCode.Value_of_type_0_is_not_indexable_by_type_1,[o.toString(),e.toString()],r),this.getNewErrorTypeSymbol(null))},r.prototype.resolveBitwiseOperator=function(n,t,i,r){var e=n,f=this.resolveAST(e.operand1,t,i,r).type,u=this.resolveAST(e.operand2,t,i,r).type;if(this.sourceIsSubtypeOfTarget(f,this.semanticInfoChain.numberTypeSymbol,r)&&this.sourceIsSubtypeOfTarget(u,this.semanticInfoChain.numberTypeSymbol,r))return this.semanticInfoChain.numberTypeSymbol;if(f===this.semanticInfoChain.booleanTypeSymbol&&u===this.semanticInfoChain.booleanTypeSymbol)return this.semanticInfoChain.booleanTypeSymbol;if(this.isAnyOrEquivalent(f)){if(this.isAnyOrEquivalent(u)||u===this.semanticInfoChain.numberTypeSymbol||u===this.semanticInfoChain.booleanTypeSymbol)return this.semanticInfoChain.anyTypeSymbol}else if(this.isAnyOrEquivalent(u)&&(f===this.semanticInfoChain.numberTypeSymbol||f===this.semanticInfoChain.booleanTypeSymbol))return this.semanticInfoChain.anyTypeSymbol;return this.semanticInfoChain.anyTypeSymbol},r.prototype.resolveBinaryAdditionOperation=function(t,i,r,u){var f=this.resolveAST(t.operand1,!1,r,u).type,e=this.resolveAST(t.operand2,!1,r,u).type,o,s;return n.PullHelpers.symbolIsEnum(f)?f=this.semanticInfoChain.numberTypeSymbol:(f===this.semanticInfoChain.nullTypeSymbol||f===this.semanticInfoChain.undefinedTypeSymbol)&&(f=e!=this.semanticInfoChain.nullTypeSymbol&&e!=this.semanticInfoChain.undefinedTypeSymbol?e:this.semanticInfoChain.anyTypeSymbol),n.PullHelpers.symbolIsEnum(e)?e=this.semanticInfoChain.numberTypeSymbol:(e===this.semanticInfoChain.nullTypeSymbol||e===this.semanticInfoChain.undefinedTypeSymbol)&&(e=f!=this.semanticInfoChain.nullTypeSymbol&&f!=this.semanticInfoChain.undefinedTypeSymbol?f:this.semanticInfoChain.anyTypeSymbol),o=null,f===this.semanticInfoChain.stringTypeSymbol||e===this.semanticInfoChain.stringTypeSymbol?o=this.semanticInfoChain.stringTypeSymbol:this.isAnyOrEquivalent(f)||this.isAnyOrEquivalent(e)?o=this.semanticInfoChain.anyTypeSymbol:e===this.semanticInfoChain.numberTypeSymbol&&f===this.semanticInfoChain.numberTypeSymbol&&(o=this.semanticInfoChain.numberTypeSymbol),o?t.nodeType()===40&&(s=this.resolveAST(t.operand1,!1,r,u),this.isValidLHS(t.operand1,s)||u.postError(this.unitPath,t.operand1.minChar,t.operand1.getLength(),n.DiagnosticCode.Invalid_left_hand_side_of_assignment_expression,null,r),this.checkAssignability(t.operand1,o,f,r,u)):(u.postError(this.unitPath,t.operand1.minChar,t.operand1.getLength(),n.DiagnosticCode.Invalid_expression_types_not_known_to_support_the_addition_operator,null,r),o=this.semanticInfoChain.anyTypeSymbol),o},r.prototype.resolveLogicalOrExpression=function(n,t,i,r){var u=this.getSymbolForAST(n);return u||(u=this.computeLogicalOrExpressionSymbol(n,t,i,r),this.setSymbolForAST(n,u,r)),u},r.prototype.computeLogicalOrExpressionSymbol=function(n,t,i,r){var u=this.resolveAST(n.operand1,t,i,r).type,f=this.resolveAST(n.operand2,t,i,r).type;return this.isAnyOrEquivalent(u)||this.isAnyOrEquivalent(f)?this.semanticInfoChain.anyTypeSymbol:u===this.semanticInfoChain.booleanTypeSymbol?f===this.semanticInfoChain.booleanTypeSymbol?this.semanticInfoChain.booleanTypeSymbol:this.semanticInfoChain.anyTypeSymbol:u===this.semanticInfoChain.numberTypeSymbol?f===this.semanticInfoChain.numberTypeSymbol?this.semanticInfoChain.numberTypeSymbol:this.semanticInfoChain.anyTypeSymbol:u===this.semanticInfoChain.stringTypeSymbol?f===this.semanticInfoChain.stringTypeSymbol?this.semanticInfoChain.stringTypeSymbol:this.semanticInfoChain.anyTypeSymbol:this.sourceIsSubtypeOfTarget(u,f,r)?f:this.sourceIsSubtypeOfTarget(f,u,r)?u:this.semanticInfoChain.anyTypeSymbol},r.prototype.resolveLogicalAndExpression=function(n,t,i,r){return r.typeCheck()&&this.resolveAST(n.operand1,t,i,r),this.resolveAST(n.operand2,t,i,r).type},r.prototype.resolveConditionalExpression=function(n,t,i){var r=this.getSymbolForAST(n);return r||(r=this.computeConditionalExpressionSymbol(n,t,i),this.setSymbolForAST(n,r,i)),r},r.prototype.computeConditionalExpressionSymbol=function(t,i,r){var s,o;r.typeCheck()&&this.resolveAST(t.operand1,!1,i,r);var u=this.resolveAST(t.operand2,!1,i,r).type,f=this.resolveAST(t.operand3,!1,i,r).type,e=null;return(this.typesAreIdentical(u,f)?e=u:(this.sourceIsSubtypeOfTarget(u,f,r)||this.sourceIsSubtypeOfTarget(f,u,r))&&(s={getLength:function(){return 2},setTypeAtIndex:function(){},getTypeAtIndex:function(){return f}},o=this.findBestCommonType(u,null,s,r),o&&(e=o)),!e)?(r.postError(this.getUnitPath(),t.minChar,t.getLength(),n.DiagnosticCode.Type_of_conditional_expression_cannot_be_determined_Best_common_type_could_not_be_found_between_0_and_1,[u.toString(),f.toString()],i),this.getNewErrorTypeSymbol(null)):e},r.prototype.resolveParenthesizedExpression=function(n,t,i){return this.resolveAST(n.expression,!1,t,i)},r.prototype.resolveExpressionStatement=function(n,t,i,r){return this.resolveAST(n.expression,t,i,r)},r.prototype.resolveInvocationExpression=function(n,t,i,r,u){var e=this.getSymbolForAST(n),f=this.currentUnit.getCallResolutionDataForAST(n);return e&&e.isResolved&&(!u||f)?u&&f&&f!=u&&(u.actualParametersContextTypeSymbols=f.actualParametersContextTypeSymbols,u.candidateSignature=f.candidateSignature,u.resolvedSignatures=f.resolvedSignatures,u.targetSymbol=f.targetSymbol,u.targetTypeSymbol=f.targetTypeSymbol):(e=this.computeInvocationExpressionSymbol(n,t,i,r,u),e!=this.semanticInfoChain.anyTypeSymbol&&this.setSymbolForAST(n,e,r),this.currentUnit.setCallResolutionDataForAST(n,u)),e},r.prototype.computeInvocationExpressionSymbol=function(i,r,u,f,e){var rt=this.resolveAST(i.target,r,u,f),l=this.getLastIdentifierInTarget(i),h=rt.type,k,s,wt,c,g,ft,y,bt,v,kt,ot,st,dt,ht,ct,o;if(this.isAnyOrEquivalent(h))return(this.resolveAST(i.arguments,r,u,f),rt!=this.semanticInfoChain.anyTypeSymbol&&i.typeArguments)?(f.postError(this.unitPath,l.minChar,l.getLength(),n.DiagnosticCode.Untyped_function_calls_may_not_accept_type_arguments,null,u),this.getNewErrorTypeSymbol(null)):this.semanticInfoChain.anyTypeSymbol;if(k=!1,i.target.nodeType()===31)if(k=!0,h.isClass())this.seenSuperConstructorCall=!0,rt=h.getConstructorMethod(),h=rt.type;else return f.postError(this.unitPath,l.minChar,l.getLength(),n.DiagnosticCode.Calls_to_super_are_only_valid_inside_a_class,null,u),this.resolveAST(i.arguments,r,u,f),this.getNewErrorTypeSymbol(null);s=k?h.getConstructSignatures():h.getCallSignatures();s.length||h.kind!=33554432||f.postError(this.unitPath,l.minChar,l.getLength(),n.DiagnosticCode.Value_of_type_0_is_not_callable_Did_you_mean_to_include_new,[h.toString()],u);var ut=null,nt=null,pt=!1,et,lt=null,at=[];if(i.typeArguments){if(ut=[],i.typeArguments&&i.typeArguments.members.length)for(o=0;o<i.typeArguments.members.length;o++)wt=this.resolveTypeReference(i.typeArguments.members[o],u,f),ut[o]=f.findSpecializationForType(wt)}else k&&h.isGeneric()&&(ut=h.getTypeArguments());if(h.isGeneric()){var d=[],a,vt,w,b=null,gt=f.specializingToAny,ni=f.isSpecializingSignatureAtCallSite,tt=s,yt;for(o=0;o<s.length;o++)if(w=s[o].getTypeParameters(),et=!1,yt=!1,s[o].isGeneric()&&w.length&&!s[o].isFixed()){if(ut?a=ut:i.arguments&&(a=this.inferArgumentTypesForSignature(s[o],i.arguments,new t,u,f),yt=!0),a){if(nt={},a.length){if(a.length!=w.length)continue;for(c=0;c<w.length;c++)nt[w[c].pullSymbolIDString]=a[c];for(c=0;c<w.length;c++)if(b=w[c].getConstraint(),b){if(b.isTypeParameter())for(v=0;v<w.length&&v<a.length;v++)w[v]==b&&(b=a[v]);if(b.isTypeParameter()&&(f.pushTypeSpecializationCache(nt),b=n.specializeType(b,null,this,u,f),f.popTypeSpecializationCache()),f.isComparingSpecializedSignatures=!0,this.sourceIsAssignableToTarget(a[c],b,f)||(lt=f.postError(this.unitPath,l.minChar,l.getLength(),n.DiagnosticCode.Type_0_does_not_satisfy_the_constraint_1_for_type_parameter_2,[a[c].toString(null,!0),b.toString(null,!0),w[c].toString(null,!0)],u,!1),et=!0),f.isComparingSpecializedSignatures=!1,et)break}}else{if(yt)if(s[o].isFixed())s[o].hasAGenericParameter?f.specializingToAny=!0:d[d.length]=s[o];else continue;f.specializingToAny=!0}if(et)continue;f.isSpecializingSignatureAtCallSite=!0;vt=n.specializeSignature(s[o],!1,nt,a,this,u,f);f.isSpecializingSignatureAtCallSite=ni;f.specializingToAny=gt;vt&&(d[d.length]=vt)}}else i.typeArguments&&i.typeArguments.members.length||(d[d.length]=s[o]);s.length&&!d.length&&(pt=!0);s=d}if(g=null,!s.length){if(e&&(e.targetSymbol=rt,e.targetTypeSymbol=h,e.resolvedSignatures=tt,e.candidateSignature=tt&&tt.length?tt[0]:null,e.actualParametersContextTypeSymbols=ct),ft=f.isResolvingSuperConstructorTarget,k&&(f.isResolvingSuperConstructorTarget=!0),this.resolveAST(i.arguments,r,u,f),k&&(f.isResolvingSuperConstructorTarget=ft),pt)f.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Could_not_select_overload_for_call_expression,null,u),g=this.getNewErrorTypeSymbol(null);else{if(this.cachedFunctionInterfaceType()&&this.sourceIsSubtypeOfTarget(h,this.cachedFunctionInterfaceType(),f))return this.semanticInfoChain.anyTypeSymbol;f.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Cannot_invoke_an_expression_whose_type_lacks_a_call_signature,null,u);g=this.getNewErrorTypeSymbol(null)}return lt&&f.postDiagnostic(lt,u),g}if(ft=f.isResolvingSuperConstructorTarget,k&&(f.isResolvingSuperConstructorTarget=!0),y=this.resolveOverloads(i,s,u,i.typeArguments!=null,f,at),bt=y==null,k&&(f.isResolvingSuperConstructorTarget=ft),!y){for(o=0;o<at.length;o++)f.postDiagnostic(at[o],u);if(f.postError(this.unitPath,l.minChar,l.getLength(),n.DiagnosticCode.Could_not_select_overload_for_call_expression,null,u),g=this.getNewErrorTypeSymbol(null),!s.length)return g;if(y=s[0],i.arguments)for(v=0,kt=i.arguments.members.length;v<kt;v++)if(ot=i.arguments.members[v],st=this.getSymbolForAST(ot),st){if(dt=st.type,ot.nodeType()===13&&!this.canApplyContextualTypeToFunction(dt,ot,!0))continue;st.invalidate()}}if(!y.isGeneric()&&i.typeArguments&&f.postError(this.unitPath,l.minChar,l.getLength(),n.DiagnosticCode.Non_generic_functions_may_not_accept_type_arguments,null,u),ht=k?this.semanticInfoChain.voidTypeSymbol:y.returnType,ct=[],i.arguments){var ti=i.arguments.members.length,it=y.parameters,p=null,ii=y.getDeclarations()[0];for(o=0;o<ti;o++)it.length&&(o<it.length-1||o<it.length&&!y.hasVarArgs?(nt&&f.pushTypeSpecializationCache(nt),this.resolveDeclaredSymbol(it[o],ii,f),nt&&f.popTypeSpecializationCache(),p=it[o].type):y.hasVarArgs&&(p=it[it.length-1].type,p.isArray()&&(p=p.getElementType()))),p&&(f.pushContextualType(p,f.inProvisionalResolution(),null),ct[o]=p),this.resolveAST(i.arguments.members[o],p!=null,u,f),p&&(f.popContextualType(),p=null)}return(e&&(e.targetSymbol=rt,e.targetTypeSymbol=h,bt&&tt?(e.resolvedSignatures=tt,e.candidateSignature=tt[0]):(e.resolvedSignatures=s,e.candidateSignature=y),e.actualParametersContextTypeSymbols=ct),g)?g:(ht||(ht=this.semanticInfoChain.anyTypeSymbol),ht)},r.prototype.resolveObjectCreationExpression=function(n,t,i,r,u){var e=this.getSymbolForAST(n),f=this.currentUnit.getCallResolutionDataForAST(n);return e&&e.isResolved&&(!u||f)?u&&f&&f!=u&&(u.actualParametersContextTypeSymbols=f.actualParametersContextTypeSymbols,u.candidateSignature=f.candidateSignature,u.resolvedSignatures=f.resolvedSignatures,u.targetSymbol=f.targetSymbol,u.targetTypeSymbol=f.targetTypeSymbol):(e=this.computeObjectCreationExpressionSymbol(n,t,i,r,u),this.setSymbolForAST(n,e,r),this.currentUnit.setCallResolutionDataForAST(n,u)),e},r.prototype.computeObjectCreationExpressionSymbol=function(i,r,u,f,e){var h=null,it=this.resolveAST(i.target,r,u,f),l=it.isType()?it:it.type,k=this.getLastIdentifierInTarget(i),at,c,a,rt,y,yt,ft,et,pt,ct,o;l.isClass()&&(l=l.getConstructorMethod().type);var s=l.getConstructSignatures(),d=null,g=null,lt=!1,ut,ot=null,st=[];if(this.isAnyOrEquivalent(l))return this.resolveAST(i.arguments,r,u,f),l;if(s.length||(s=l.getCallSignatures(),lt=!0,this.compilationSettings.noImplicitAny&&f.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.New_expression_which_lacks_a_constructor_signature_implicitly_has_an_any_type,[],u)),s.length){if(i.typeArguments&&(d=[],i.typeArguments&&i.typeArguments.members.length))for(o=0;o<i.typeArguments.members.length;o++)at=this.resolveTypeReference(i.typeArguments.members[o],u,f),d[o]=f.findSpecializationForType(at);if(l.isGeneric()){var nt=[],v,ht,b,w=null,wt=f.specializingToAny,bt=f.isSpecializingSignatureAtCallSite=!0,vt;for(o=0;o<s.length;o++)if(ut=!1,s[o].isGeneric()&&!s[o].isFixed()){if(d?v=d:i.arguments&&(v=this.inferArgumentTypesForSignature(s[o],i.arguments,new t,u,f),vt=!0),v){if(b=s[o].getTypeParameters(),g={},v.length){if(v.length<b.length)continue;for(c=0;c<b.length;c++)g[b[c].pullSymbolIDString]=v[c];for(c=0;c<b.length;c++)if(w=b[c].getConstraint(),w){if(w.isTypeParameter())for(y=0;y<b.length&&y<v.length;y++)b[y]==w&&(w=v[y]);if(w.isTypeParameter()&&(f.pushTypeSpecializationCache(g),w=n.specializeType(w,null,this,u,f),f.popTypeSpecializationCache()),f.isComparingSpecializedSignatures=!0,this.sourceIsAssignableToTarget(v[c],w,f)||(ot=f.postError(this.unitPath,k.minChar,k.getLength(),n.DiagnosticCode.Type_0_does_not_satisfy_the_constraint_1_for_type_parameter_2,[v[c].toString(null,!0),w.toString(null,!0),b[c].toString(null,!0)],u,!1),ut=!0),f.isComparingSpecializedSignatures=!1,ut)break}}else if(vt)if(s[o].isFixed())s[o].hasAGenericParameter||(nt[nt.length]=s[o]);else continue;else f.specializingToAny=!0;if(ut)continue;f.isSpecializingSignatureAtCallSite=!0;ht=n.specializeSignature(s[o],!1,g,v,this,u,f);f.specializingToAny=wt;f.isSpecializingSignatureAtCallSite=bt;ht&&(nt[nt.length]=ht)}}else i.typeArguments&&i.typeArguments.members.length||(nt[nt.length]=s[o]);s=nt}if(a=this.resolveOverloads(i,s,u,i.typeArguments!=null,f,st),e&&(e.targetSymbol=it,e.targetTypeSymbol=l,e.resolvedSignatures=s,e.candidateSignature=a,e.actualParametersContextTypeSymbols=[]),!s.length)return ot&&f.postDiagnostic(ot,u),this.getNewErrorTypeSymbol(null);if(rt=null,!a){for(o=0;o<st.length;o++)f.postDiagnostic(st[o],u);if(f.postError(this.unitPath,k.minChar,k.getLength(),n.DiagnosticCode.Could_not_select_overload_for_new_expression,null,u),rt=this.getNewErrorTypeSymbol(null),!s.length)return rt;if(a=s[0],i.arguments)for(y=0,yt=i.arguments.members.length;y<yt;y++)if(ft=i.arguments.members[y],et=this.getSymbolForAST(ft),et){if(pt=et.type,ft.nodeType()===13&&!this.canApplyContextualTypeToFunction(pt,ft,!0))continue;et.invalidate()}}if(h=a.returnType,h&&!a.isGeneric()&&h.isGeneric()&&!h.getIsSpecialized()&&(h=d&&d.length?n.specializeType(h,d,this,u,f,i):this.specializeTypeToAny(h,u,f)),lt){if(h!=this.semanticInfoChain.voidTypeSymbol)return f.postError(this.unitPath,k.minChar,k.getLength(),n.DiagnosticCode.Call_signatures_used_in_a_new_expression_must_have_a_void_return_type,null,u),this.getNewErrorTypeSymbol(null);h=this.semanticInfoChain.anyTypeSymbol}if(h||(h=a.returnType,h||(h=l)),ct=[],i.arguments){var kt=i.arguments.members.length,tt=a.parameters,p=null,dt=a.getDeclarations()[0];for(o=0;o<kt;o++)tt.length&&(o<tt.length-1||o<tt.length&&!a.hasVarArgs?(g&&f.pushTypeSpecializationCache(g),this.resolveDeclaredSymbol(tt[o],dt,f),g&&f.popTypeSpecializationCache(),p=tt[o].type):a.hasVarArgs&&(p=tt[tt.length-1].type,p.isArray()&&(p=p.getElementType()))),p&&(f.pushContextualType(p,f.inProvisionalResolution(),null),ct[o]=p),this.resolveAST(i.arguments.members[o],p!=null,u,f),p&&(f.popContextualType(),p=null)}return(e&&(e.targetSymbol=it,e.targetTypeSymbol=l,e.resolvedSignatures=s,e.candidateSignature=a,e.actualParametersContextTypeSymbols=ct),rt)?rt:(h||(h=this.semanticInfoChain.anyTypeSymbol),h)}return(this.resolveAST(i.arguments,r,u,f),l.isClass())?h:(f.postError(this.unitPath,k.minChar,k.getLength(),n.DiagnosticCode.Invalid_new_expression,null,u),this.getNewErrorTypeSymbol(null))},r.prototype.resolveTypeAssertionExpression=function(i,r,u,f){var e=this.resolveAST(i.castTerm,!1,u,f).type,h,o,s,c;return this.setSymbolForAST(i,e,f),f.typeCheck()&&(e.isError()&&(h=e.getData(),f.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Could_not_find_symbol_0,[h],u)),f.pushContextualType(e,f.inProvisionalResolution(),null),o=this.resolveAST(i.operand,!0,u,f).type,f.popContextualType(),o.isResolved||this.resolveDeclaredSymbol(o,u,f),s=new t,c=this.sourceIsAssignableToTarget(e,o,f,s)||this.sourceIsAssignableToTarget(o,e,f,s),c||(s.message?f.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Cannot_convert_0_to_1_NL_2,[o.toString(),e.toString(),s.message],u):f.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Cannot_convert_0_to_1,[o.toString(),e.toString()],u))),e},r.prototype.resolveAssignmentStatement=function(t,i,r,u){var e=this.resolveAST(t.operand1,!1,r,u),o=e.type,f;return o=this.widenType(e.type),u.pushContextualType(o,u.inProvisionalResolution(),null),f=this.widenType(this.resolveAST(t.operand2,!0,r,u).type),u.popContextualType(),f=this.getInstanceTypeForAssignment(t.operand1,f,r,u),u.typeCheck()&&(this.isValidLHS(t.operand1,e)||u.postError(this.unitPath,t.operand1.minChar,t.operand1.getLength(),n.DiagnosticCode.Invalid_left_hand_side_of_assignment_expression,null,r),this.checkAssignability(t.operand1,f,o,r,u)),f},r.prototype.computeAssignmentStatementSymbol=function(n,t,i,r){var u=this.resolveAST(n.operand1,t,i,r).type;return r.pushContextualType(u,r.inProvisionalResolution(),null),this.resolveAST(n.operand2,!0,i,r),r.popContextualType(),u},r.prototype.getInstanceTypeForAssignment=function(t,i,r,u){var f=i,e;return f&&f.isAlias()&&(f=f.getExportAssignedTypeSymbol()),f&&f.isContainer()&&(e=f.getInstanceType(),e?f=e:(u.postError(this.unitPath,t.minChar,t.getLength(),n.DiagnosticCode.Tried_to_set_variable_type_to_uninitialized_module_type_0,[i.toString()],r),f=null)),f},r.prototype.resolveBoundDecls=function(n,t){var u,r,e,o,s,i,f;if(n)switch(n.kind){case 1:for(u=n.getChildDecls(),r=0;r<u.length;r++)this.resolveBoundDecls(u[r],t);break;case 32:case 4:case 64:e=this.semanticInfoChain.getASTForDecl(n);this.resolveModuleDeclaration(e,t);break;case 16:o=this.semanticInfoChain.getASTForDecl(n);this.resolveInterfaceDeclaration(o,t);break;case 8:s=this.semanticInfoChain.getASTForDecl(n);this.resolveClassDeclaration(s,t);break;case 65536:case 16384:i=this.semanticInfoChain.getASTForDecl(n);this.resolveFunctionDeclaration(i,t);break;case 262144:i=this.semanticInfoChain.getASTForDecl(n);this.resolveGetAccessorDeclaration(i,t);break;case 524288:i=this.semanticInfoChain.getASTForDecl(n);this.resolveSetAccessorDeclaration(i,t);break;case 4096:case 1024:case 2048:f=this.semanticInfoChain.getASTForDecl(n);f&&this.resolveVariableDeclaration(f,t)}},r.prototype.mergeOrdered=function(t,i,r,u){var f,e;if(this.isAnyOrEquivalent(t)||this.isAnyOrEquivalent(i))return this.semanticInfoChain.anyTypeSymbol;if(t===i||i===this.semanticInfoChain.nullTypeSymbol&&t!=this.semanticInfoChain.nullTypeSymbol)return t;if(t===this.semanticInfoChain.nullTypeSymbol&&i!=this.semanticInfoChain.nullTypeSymbol)return i;if(t===this.semanticInfoChain.voidTypeSymbol&&(i===this.semanticInfoChain.voidTypeSymbol||i===this.semanticInfoChain.undefinedTypeSymbol||i===this.semanticInfoChain.nullTypeSymbol))return t;if(t===this.semanticInfoChain.voidTypeSymbol&&i===this.semanticInfoChain.anyTypeSymbol)return i;if(i===this.semanticInfoChain.undefinedTypeSymbol&&t!=this.semanticInfoChain.voidTypeSymbol)return t;if(t===this.semanticInfoChain.undefinedTypeSymbol&&i!=this.semanticInfoChain.undefinedTypeSymbol||t.isTypeParameter()&&!i.isTypeParameter())return i;if(!t.isTypeParameter()&&i.isTypeParameter())return t;if(t.isArray()&&i.isArray()){if(t.getElementType()===i.getElementType())return t;if(f=this.mergeOrdered(t.getElementType(),i.getElementType(),r,u),f)return e=f.getArrayType(),e||(e=n.specializeType(this.cachedArrayInterfaceType(),[f],this,this.cachedArrayInterfaceType().getDeclarations()[0],r)),e}else{if(this.sourceIsSubtypeOfTarget(t,i,r,u))return i;if(this.sourceIsSubtypeOfTarget(i,t,r,u))return t}return null},r.prototype.widenType=function(n){return n===this.semanticInfoChain.undefinedTypeSymbol||n===this.semanticInfoChain.nullTypeSymbol||n.isError()?this.semanticInfoChain.anyTypeSymbol:n},r.prototype.isNullOrUndefinedType=function(n){return n===this.semanticInfoChain.nullTypeSymbol||n===this.semanticInfoChain.undefinedTypeSymbol},r.prototype.canApplyContextualType=function(t){if(!t)return!0;var i=t.kind;return(i&8388608)!=0?!0:(i&16)!=0?!0:(i&n.PullElementKind.SomeFunction)!=0?this.canApplyContextualTypeToFunction(t,this.semanticInfoChain.getASTForDecl(t.getDeclarations[0]),!0):(i&128)!=0||t==this.semanticInfoChain.anyTypeSymbol||i!=2?!0:!1},r.prototype.findBestCommonType=function(t,i,r,u,f){var l=r.getLength(),h=0,e=t,o,s,a,c;for(i&&this.canApplyContextualType(e)&&(e=e?this.mergeOrdered(e,i,u):i),o=e;h<l;){for(s=0;s<l;s++)if(s!==h)if(o&&(e=this.mergeOrdered(o,r.getTypeAtIndex(s),u,f))&&(o=e),e===null||this.isAnyOrEquivalent(e))break;else!i||e.isTypeParameter()||i.isTypeParameter()||r.setTypeAtIndex(s,i);if(o&&e)break;h++;h<l&&(o=r.getTypeAtIndex(h))}return e||(a=new n.PullDecl("{}","{}",8388608,0,new n.TextSpan(0,0),this.currentUnit.getPath()),c=new n.PullTypeSymbol("{}",8388608),a.setSymbol(c),c.addDeclaration(a),e=c),e},r.prototype.typesAreIdentical=function(t,i,r){var a,v,u,l,f,y,c;if(t===i)return!0;if(!t||!i)return!1;if(r&&t.isPrimitive()&&t.isStringConstant()&&i===this.semanticInfoChain.stringTypeSymbol)return r.nodeType()===5&&n.stripQuotes(r.actualText)===n.stripQuotes(t.name);if(r&&i.isPrimitive()&&i.isStringConstant()&&i===this.semanticInfoChain.stringTypeSymbol)return r.nodeType()===5&&n.stripQuotes(r.actualText)===n.stripQuotes(i.name);if(t.isPrimitive()&&t.isStringConstant()&&i.isPrimitive()&&i.isStringConstant())return n.stripQuotes(t.name)===n.stripQuotes(i.name);if(t.isPrimitive()||i.isPrimitive()||t.isClass())return!1;if(t.isError()&&i.isError())return!0;if(t.isTypeParameter())return i.isTypeParameter()?(a=t.getDeclarations()[0].getParentDecl(),v=i.getDeclarations()[0].getParentDecl(),a===v?this.symbolsShareDeclaration(t,i):!0):!1;if(u=i.pullSymbolIDString+"#"+t.pullSymbolIDString,this.identicalCache[u]!=undefined)return!0;if(t.kind&64||i.kind&64)return t.getAssociatedContainerType()===i||i.getAssociatedContainerType()===t;if(t.isArray()||i.isArray())return(t.isArray()&&i.isArray())?(this.identicalCache[u]=!1,l=this.typesAreIdentical(t.getElementType(),i.getElementType()),this.identicalCache[u]=l?!0:undefined,l):!1;if(t.isPrimitive()!=i.isPrimitive())return!1;if(this.identicalCache[u]=!1,t.hasMembers()&&i.hasMembers()){if(f=t.getMembers(),y=i.getMembers(),f.length!=y.length)return this.identicalCache[u]=undefined,!1;var e=null,o=null,s=null,h=null;for(c=0;c<f.length;c++){if(e=f[c],o=this.getMemberSymbol(e.name,n.PullElementKind.SomeValue,i),!o||e.isOptional!=o.isOptional)return this.identicalCache[u]=undefined,!1;if((s=e.type,h=o.type,!s||!h||this.identicalCache[h.pullSymbolIDString+"#"+s.pullSymbolIDString]==undefined)&&!this.typesAreIdentical(s,h))return this.identicalCache[u]=undefined,!1}}else if(t.hasMembers()||i.hasMembers())return this.identicalCache[u]=undefined,!1;var p=t.getCallSignatures(),w=i.getCallSignatures(),b=t.getConstructSignatures(),k=i.getConstructSignatures(),d=t.getIndexSignatures(),g=i.getIndexSignatures();return this.signatureGroupsAreIdentical(p,w)?this.signatureGroupsAreIdentical(b,k)?this.signatureGroupsAreIdentical(d,g)?(this.identicalCache[u]=!0,!0):(this.identicalCache[u]=undefined,!1):(this.identicalCache[u]=undefined,!1):(this.identicalCache[u]=undefined,!1)},r.prototype.signatureGroupsAreIdentical=function(n,t){var i,r;if(n===t)return!0;if(!n||!t||n.length!=t.length)return!1;var f=null,e=null,u=!1;for(i=0;i<n.length;i++){for(f=n[i],r=0;r<t.length;r++)if(e=t[r],this.signaturesAreIdentical(f,e)){u=!0;break}if(u){u=!1;continue}return!1}return!0},r.prototype.signaturesAreIdentical=function(n,t,i){var u,f,r;if((typeof i=="undefined"&&(i=!0),n.hasVarArgs!=t.hasVarArgs)||n.nonOptionalParamCount!=t.nonOptionalParamCount||!!(n.typeParameters&&n.typeParameters.length)!=!!(t.typeParameters&&t.typeParameters.length)||n.typeParameters&&t.typeParameters&&n.typeParameters.length!=t.typeParameters.length||(u=n.parameters,f=t.parameters,u.length!=f.length)||i&&!this.typesAreIdentical(n.returnType,t.returnType))return!1;for(r=0;r<u.length;r++)if(!this.typesAreIdentical(u[r].type,f[r].type))return!1;return!0},r.prototype.substituteUpperBoundForType=function(n){if(!n||!n.isTypeParameter())return n;var t=n.getConstraint();return t?this.substituteUpperBoundForType(t):this.cachedObjectInterfaceType()?this.cachedObjectInterfaceType():n},r.prototype.symbolsShareDeclaration=function(n,t){var i=n.getDeclarations(),r=t.getDeclarations();return i.length&&r.length?i[0].isEqual(r[0]):!1},r.prototype.sourceExtendsTarget=function(n,t,i){var u,e;if(n.isGeneric()!=t.isGeneric())return!1;if(n.hasBase(t))return!0;if(i.isInBaseTypeResolution()&&n.kind&24&&t.kind&24){var o=n.getDeclarations(),s=null,f=null,r=null;for(u=0;u<o.length;u++)if(s=this.semanticInfoChain.getASTForDecl(o[u]),r=s.extendsList,r&&r.members&&r.members.length)for(e=0;e<r.members.length;e++)if(f=this.semanticInfoChain.getSymbolForAST(r.members[e],o[u].getScriptName()),f&&(f==t||this.sourceExtendsTarget(f,t,i)))return!0;return!1}},r.prototype.sourceIsSubtypeOfTarget=function(n,t,i,r){return this.sourceIsRelatableToTarget(n,t,!1,this.subtypeCache,i,r)},r.prototype.sourceMembersAreSubtypeOfTargetMembers=function(n,t,i,r){return this.sourceMembersAreRelatableToTargetMembers(n,t,!1,this.subtypeCache,i,r)},r.prototype.sourcePropertyIsSubtypeOfTargetProperty=function(n,t,i,r,u,f){return this.sourcePropertyIsRelatableToTargetProperty(n,t,i,r,!1,this.subtypeCache,u,f)},r.prototype.sourceCallSignaturesAreSubtypeOfTargetCallSignatures=function(n,t,i,r){return this.sourceCallSignaturesAreRelatableToTargetCallSignatures(n,t,!1,this.subtypeCache,i,r)},r.prototype.sourceConstructSignaturesAreSubtypeOfTargetConstructSignatures=function(n,t,i,r){return this.sourceConstructSignaturesAreRelatableToTargetConstructSignatures(n,t,!1,this.subtypeCache,i,r)},r.prototype.sourceIndexSignaturesAreSubtypeOfTargetIndexSignatures=function(n,t,i,r){return this.sourceIndexSignaturesAreRelatableToTargetIndexSignatures(n,t,!1,this.subtypeCache,i,r)},r.prototype.typeIsSubtypeOfFunction=function(n,t){var r=n.getCallSignatures(),i;return r.length?!0:(i=n.getConstructSignatures(),i.length)?!0:this.cachedFunctionInterfaceType()?this.sourceIsSubtypeOfTarget(n,this.cachedFunctionInterfaceType(),t):!1},r.prototype.signatureGroupIsSubtypeOfTarget=function(n,t,i,r){return this.signatureGroupIsRelatableToTarget(n,t,!1,this.subtypeCache,i,r)},r.prototype.signatureIsSubtypeOfTarget=function(n,t,i,r){return this.signatureIsRelatableToTarget(n,t,!1,this.subtypeCache,i,r)},r.prototype.sourceIsAssignableToTarget=function(n,t,i,r,u){typeof u=="undefined"&&(u=!1);var f=u?{}:this.assignableCache;return this.sourceIsRelatableToTarget(n,t,!0,f,i,r)},r.prototype.signatureGroupIsAssignableToTarget=function(n,t,i,r){return this.signatureGroupIsRelatableToTarget(n,t,!0,this.assignableCache,i,r)},r.prototype.signatureIsAssignableToTarget=function(n,t,i,r){return this.signatureIsRelatableToTarget(n,t,!0,this.assignableCache,i,r)},r.prototype.sourceIsRelatableToTarget=function(t,i,r,u,f,e){var o,s,h,c,l;if(t===i||!(t&&i)||f.specializingToAny&&(i.isTypeParameter()||t.isTypeParameter())||(f.specializingToObject&&(i.isTypeParameter()&&(i=this.cachedObjectInterfaceType()),t.isTypeParameter()&&(i=this.cachedObjectInterfaceType())),o=t,t==this.semanticInfoChain.stringTypeSymbol&&this.cachedStringInterfaceType()?(this.cachedStringInterfaceType().isResolved||this.resolveDeclaredSymbol(this.cachedStringInterfaceType(),null,f),o=this.cachedStringInterfaceType()):t==this.semanticInfoChain.numberTypeSymbol&&this.cachedNumberInterfaceType()?(this.cachedNumberInterfaceType().isResolved||this.resolveDeclaredSymbol(this.cachedNumberInterfaceType(),null,f),o=this.cachedNumberInterfaceType()):t==this.semanticInfoChain.booleanTypeSymbol&&this.cachedBooleanInterfaceType()?(this.cachedBooleanInterfaceType().isResolved||this.resolveDeclaredSymbol(this.cachedBooleanInterfaceType(),null,f),o=this.cachedBooleanInterfaceType()):n.PullHelpers.symbolIsEnum(t)&&this.cachedNumberInterfaceType()?o=this.cachedNumberInterfaceType():t.isTypeParameter()&&(o=this.substituteUpperBoundForType(t)),s=t.pullSymbolIDString+"#"+i.pullSymbolIDString,u[s]!=undefined))return!0;if(r){if(this.isAnyOrEquivalent(t)||this.isAnyOrEquivalent(i))return!0;if(t===this.semanticInfoChain.stringTypeSymbol&&i.isPrimitive()&&i.isStringConstant())return e&&e.stringConstantVal&&e.stringConstantVal.nodeType()===5&&n.stripQuotes(e.stringConstantVal.actualText)===n.stripQuotes(i.name)}else if(this.isAnyOrEquivalent(i)||i===this.semanticInfoChain.stringTypeSymbol&&t.isPrimitive()&&t.isStringConstant())return!0;if(t.isPrimitive()&&t.isStringConstant()&&i.isPrimitive()&&i.isStringConstant())return n.stripQuotes(t.name)===n.stripQuotes(i.name);if(t===this.semanticInfoChain.undefinedTypeSymbol||t===this.semanticInfoChain.nullTypeSymbol&&i!=this.semanticInfoChain.undefinedTypeSymbol&&i!=this.semanticInfoChain.voidTypeSymbol)return!0;if(i==this.semanticInfoChain.voidTypeSymbol)return t==this.semanticInfoChain.anyTypeSymbol||t==this.semanticInfoChain.undefinedTypeSymbol||t==this.semanticInfoChain.nullTypeSymbol?!0:!1;if(t==this.semanticInfoChain.voidTypeSymbol)return i==this.semanticInfoChain.anyTypeSymbol?!0:!1;if(i===this.semanticInfoChain.numberTypeSymbol&&n.PullHelpers.symbolIsEnum(t)||t===this.semanticInfoChain.numberTypeSymbol&&n.PullHelpers.symbolIsEnum(i))return!0;if(n.PullHelpers.symbolIsEnum(i)&&n.PullHelpers.symbolIsEnum(t))return this.symbolsShareDeclaration(i,t);if(t.kind&64||i.kind&64)return!1;if(t.isArray()&&i.isArray())return u[s]=!1,h=this.sourceIsRelatableToTarget(t.getElementType(),i.getElementType(),r,u,f,e),u[s]=h?!0:undefined,h;if(t.isArray()&&i==this.cachedArrayInterfaceType()||i.isArray()&&t==this.cachedArrayInterfaceType())return!0;if(t.isPrimitive()&&i.isPrimitive()||t.isPrimitive()!=i.isPrimitive()&&i.isPrimitive())return!1;if(i.isTypeParameter()){if(t.isTypeParameter()&&t==o)return c=i.getDeclarations()[0].getParentDecl(),l=t.getDeclarations()[0].getParentDecl(),c!==l?this.symbolsShareDeclaration(i,t):!0;if(f.isComparingSpecializedSignatures)i=this.substituteUpperBoundForType(i);else return!1}return(u[s]=!1,this.sourceExtendsTarget(t,i,f))?!0:this.cachedObjectInterfaceType()&&i===this.cachedObjectInterfaceType()?!0:this.cachedFunctionInterfaceType()&&(o.getCallSignatures().length||o.getConstructSignatures().length)&&i===this.cachedFunctionInterfaceType()?!0:i.hasMembers()&&!this.sourceMembersAreRelatableToTargetMembers(o,i,r,u,f,e)?(u[s]=undefined,!1):this.sourceCallSignaturesAreRelatableToTargetCallSignatures(o,i,r,u,f,e)?this.sourceConstructSignaturesAreRelatableToTargetConstructSignatures(o,i,r,u,f,e)?this.sourceIndexSignaturesAreRelatableToTargetIndexSignatures(o,i,r,u,f,e)?(u[s]=!0,!0):(u[s]=undefined,!1):(u[s]=undefined,!1):(u[s]=undefined,!1)},r.prototype.sourceMembersAreRelatableToTargetMembers=function(t,i,r,u,f,e){for(var l=i.getAllMembers(n.PullElementKind.SomeValue,!0),o,s,c,h=0;h<l.length;h++){if(o=l[h],s=this.getMemberSymbol(o.name,n.PullElementKind.SomeValue,t),o.isResolved||this.resolveDeclaredSymbol(o,null,f),c=o.type,!s&&(this.cachedObjectInterfaceType()&&(s=this.getMemberSymbol(o.name,n.PullElementKind.SomeValue,this.cachedObjectInterfaceType())),!s&&(this.cachedFunctionInterfaceType()&&(c.getCallSignatures().length||c.getConstructSignatures().length)&&(s=this.getMemberSymbol(o.name,n.PullElementKind.SomeValue,this.cachedFunctionInterfaceType())),!s))){if(!o.isOptional)return e&&(e.flags|=2,e.addMessage(n.getDiagnosticMessage(n.DiagnosticCode.Type_0_is_missing_property_1_from_type_2,[t.toString(),o.getScopedNameEx().toString(),i.toString()]))),!1;continue}if(!this.sourcePropertyIsRelatableToTargetProperty(t,i,s,o,r,u,f,e))return!1}return!0},r.prototype.sourcePropertyIsRelatableToTargetProperty=function(i,r,u,f,e,o,s,h){var v=f.hasFlag(2),y=u.hasFlag(2),p,w,l,a,c,b;return v!=y?(h&&(v?h.addMessage(n.getDiagnosticMessage(n.DiagnosticCode.Property_0_defined_as_public_in_type_1_is_defined_as_private_in_type_2,[f.getScopedNameEx().toString(),u.getContainer().toString(),f.getContainer().toString()])):h.addMessage(n.getDiagnosticMessage(n.DiagnosticCode.Property_0_defined_as_private_in_type_1_is_defined_as_public_in_type_2,[f.getScopedNameEx().toString(),u.getContainer().toString(),f.getContainer().toString()])),h.flags|=128),!1):y&&v&&(p=f.getDeclarations()[0],w=u.getDeclarations()[0],!p.isEqual(w))?(h&&(h.flags|=128,h.addMessage(n.getDiagnosticMessage(n.DiagnosticCode.Types_0_and_1_define_property_2_as_private,[u.getContainer().toString(),f.getContainer().toString(),f.getScopedNameEx().toString()]))),!1):(u.isResolved||this.resolveDeclaredSymbol(u,null,s),l=u.type,a=f.type,a&&l&&o[l.pullSymbolIDString+"#"+a.pullSymbolIDString]!=undefined)?!0:(c=null,h&&!h.onlyCaptureFirstError&&(c=new t(h)),!this.sourceIsRelatableToTarget(l,a,e,o,s,c))?(h&&(h.flags|=32,b=c&&c.message?n.getDiagnosticMessage(n.DiagnosticCode.Types_of_property_0_of_types_1_and_2_are_incompatible_NL_3,[f.getScopedNameEx().toString(),i.toString(),r.toString(),c.message]):n.getDiagnosticMessage(n.DiagnosticCode.Types_of_property_0_of_types_1_and_2_are_incompatible,[f.getScopedNameEx().toString(),i.toString(),r.toString()]),h.addMessage(b)),!1):!0},r.prototype.sourceCallSignaturesAreRelatableToTargetCallSignatures=function(i,r,u,f,e,o){var h=r.getCallSignatures(),s,c,l,a,v;return h.length&&(s=null,o&&!o.onlyCaptureFirstError&&(s=new t(o)),c=i.getCallSignatures(),!this.signatureGroupIsRelatableToTarget(c,h,u,f,e,s))?(o&&(c.length&&h.length?l=s&&s.message?n.getDiagnosticMessage(n.DiagnosticCode.Call_signatures_of_types_0_and_1_are_incompatible_NL_2,[i.toString(),r.toString(),s.message]):n.getDiagnosticMessage(n.DiagnosticCode.Call_signatures_of_types_0_and_1_are_incompatible,[i.toString(),r.toString()]):(a=h.length?r.toString():i.toString(),v=h.length?i.toString():r.toString(),l=n.getDiagnosticMessage(n.DiagnosticCode.Type_0_requires_a_call_signature_but_type_1_lacks_one,[a,v])),o.flags|=4,o.addMessage(l)),!1):!0},r.prototype.sourceConstructSignaturesAreRelatableToTargetConstructSignatures=function(i,r,u,f,e,o){var h=r.getConstructSignatures(),s,c,l,a,v;return h.length&&(s=null,o&&!o.onlyCaptureFirstError&&(s=new t(o)),c=i.getConstructSignatures(),!this.signatureGroupIsRelatableToTarget(c,h,u,f,e,s))?(o&&(c.length&&h.length?l=s&&s.message?n.getDiagnosticMessage(n.DiagnosticCode.Construct_signatures_of_types_0_and_1_are_incompatible_NL_2,[i.toString(),r.toString(),s.message]):n.getDiagnosticMessage(n.DiagnosticCode.Construct_signatures_of_types_0_and_1_are_incompatible,[i.toString(),r.toString()]):(a=h.length?r.toString():i.toString(),v=h.length?i.toString():r.toString(),l=n.getDiagnosticMessage(n.DiagnosticCode.Type_0_requires_a_construct_signature_but_type_1_lacks_one,[a,v])),o.flags|=4,o.addMessage(l)),!1):!0},r.prototype.sourceIndexSignaturesAreRelatableToTargetIndexSignatures=function(i,r,u,f,e,o){var k=r.getIndexSignatures(),p,c,nt,tt,d,s;if(k.length){var g=i.getIndexSignatures(),w=!k.length&&this.cachedObjectInterfaceType()?this.cachedObjectInterfaceType().getIndexSignatures():k,b=!g.length&&this.cachedObjectInterfaceType()?this.cachedObjectInterfaceType().getIndexSignatures():g,l=null,y=null,a=null,v=null,h;for(s=0;s<w.length;s++){if(a&&v)break;if(h=w[s].parameters,h.length)if(a||h[0].type!==this.semanticInfoChain.stringTypeSymbol){if(!v&&h[0].type===this.semanticInfoChain.numberTypeSymbol){v=w[s];continue}}else{a=w[s];continue}}for(s=0;s<b.length;s++){if(l&&y)break;if(h=b[s].parameters,h.length)if(l||h[0].type!==this.semanticInfoChain.stringTypeSymbol){if(!y&&h[0].type===this.semanticInfoChain.numberTypeSymbol){y=b[s];continue}}else{l=b[s];continue}}if(p=!0,c=null,o&&!o.onlyCaptureFirstError&&(c=new t(o)),a&&(p=l?this.signatureIsAssignableToTarget(l,a,e,c):!1),p&&v&&(p=y?this.signatureIsAssignableToTarget(y,v,e,c):l?this.sourceIsAssignableToTarget(l.returnType,v.returnType,e,c):!1),!p)return o&&(nt=c&&c.message?n.getDiagnosticMessage(n.DiagnosticCode.Index_signatures_of_types_0_and_1_are_incompatible_NL_2,[i.toString(),r.toString(),c.message]):n.getDiagnosticMessage(n.DiagnosticCode.Index_signatures_of_types_0_and_1_are_incompatible,[i.toString(),r.toString()]),o.flags|=4,o.addMessage(nt)),!1}if(a&&!i.isNamedTypeSymbol()&&i.hasMembers())for(tt=a.returnType,d=i.getMembers(),s=0;s<d.length;s++)if(!this.sourceIsRelatableToTarget(d[s].type,tt,u,f,e,o))return!1;return!0},r.prototype.signatureGroupIsRelatableToTarget=function(n,t,i,r,u,f){var s,h;if(n===t)return!0;if(!(n.length&&t.length))return!1;var e=null,o=null,c=!1,l=t.length>1,a=n.length>1;for(s=0;s<t.length;s++)if(e=t[s],!e.isStringConstantOverloadSignature()&&(!l||!e.isDefinition())){for(h=0;h<n.length;h++)if((o=n[h],!o.isStringConstantOverloadSignature()&&(!a||!o.isDefinition()))&&this.signatureIsRelatableToTarget(o,e,i,r,u,f)){c=!0;break}if(c){c=!1;continue}return!1}return!0},r.prototype.signatureIsRelatableToTarget=function(t,i,r,u,f,e){var l=t.parameters,y=i.parameters,a,v,h,c;if(!l||!y)return!1;if(a=i.nonOptionalParamCount,v=t.nonOptionalParamCount,v>a&&!i.hasVarArgs)return e&&(e.flags|=3,e.addMessage(n.getDiagnosticMessage(n.DiagnosticCode.Call_signature_expects_0_or_fewer_parameters,[a]))),!1;var d=t.returnType,w=i.returnType,p=f.specializingToObject;if(f.specializingToObject=!0,w!=this.semanticInfoChain.voidTypeSymbol&&!this.sourceIsRelatableToTarget(d,w,r,u,f,e))return e&&(e.flags|=16),f.specializingToObject=p,!1;var g=v<a&&(t.hasVarArgs||l.length>v)?a:v,o=null,s=null,b="",k="";for(h=0,c=0;h<g;h++,c++)if(h<l.length&&(!t.hasVarArgs||h<v)?(o=l[h].type,b=l[h].name):h===v&&(o=l[h].type,o.isArray()&&(o=o.getElementType()),b=l[h].name),c<y.length&&c<a?(s=y[c].type,k=y[c].name):i.hasVarArgs&&c===a&&(s=y[c].type,s.isArray()&&(s=s.getElementType()),k=y[c].name),o&&o.isTypeParameter()&&this.cachedObjectInterfaceType()&&(o=this.cachedObjectInterfaceType()),s&&s.isTypeParameter()&&this.cachedObjectInterfaceType()&&(s=this.cachedObjectInterfaceType()),!(this.sourceIsRelatableToTarget(o,s,r,u,f,e)||this.sourceIsRelatableToTarget(s,o,r,u,f,e)))return e&&(e.flags|=64),f.specializingToObject=p,!1;return f.specializingToObject=p,!0},r.prototype.resolveOverloads=function(i,r,u,f,e,o){var p=this.resolutionDataCache.getResolutionData(),g=p.actuals,c=p.exactCandidates,rt=p.conversionCandidates,w=null,ot=r.length>1,b=new t,h=null,l=null,a,ut,ft,nt,v,y,st,k,d,et,tt,it,s;if(i.nodeType()===37||i.nodeType()===38){if(a=i,h=a.arguments,l=this.getLastIdentifierInTarget(a),a.arguments){for(ut=a.arguments.members.length,ft=e.isInInvocationExpression,e.isInInvocationExpression=!0,s=0;s<ut;s++)v=this.resolveAST(a.arguments.members[s],!1,u,e),g[s]=v.type;e.isInInvocationExpression=ft}}else i.nodeType()===36&&(nt=i,l=nt.operand1,h=new n.ASTList([nt.operand2]),v=this.resolveAST(h.members[0],!1,u,e),g[0]=v.type);for(d=0,et=r.length;d<et;d++)(y=r[d],ot&&y.isDefinition()||f&&!y.isGeneric())||(st=y.returnType,this.getCandidateSignatures(y,g,h,c,rt,u,e,b));if(c.length===0)tt=this.getApplicableSignaturesFromCandidates(rt,h,b,u,e),tt.length>0?(k=this.findMostApplicableSignature(tt,h,u,e),w=k.sig):b.message?o.push(e.postError(this.unitPath,l.minChar,l.getLength(),n.DiagnosticCode.Supplied_parameters_do_not_match_any_signature_of_call_target_NL_0,[b.message],u,!1)):o.push(e.postError(this.unitPath,l.minChar,l.getLength(),n.DiagnosticCode.Supplied_parameters_do_not_match_any_signature_of_call_target,null,u,!1));else if(c.length>1){for(it=[],s=0;s<c.length;s++)it[s]={signature:c[s],hadProvisionalErrors:!1};k=this.findMostApplicableSignature(it,h,u,e);w=k.sig}else w=c[0];return this.resolutionDataCache.returnResolutionData(p),w},r.prototype.getLastIdentifierInTarget=function(n){return n.target.nodeType()===33?n.target.operand2:n.target},r.prototype.getCandidateSignatures=function(n,t,i,r,u,f,e,o){var y=n.parameters,p=n.nonOptionalParamCount,d=y.length,l=p,a=!1,w=i&&t.length==i.separatorCount&&t.length?i.separatorCount+1:t.length,v,h;if(w>=p&&(n.hasVarArgs||w<=d)&&(l=n.hasVarArgs?y.length:t.length,a=!0),v=null,a){n.hasVarArgs&&(l-=1,v=y[l].type,v=v.getElementType(),a=w>=(l<p?l:p));var g=t.length,b=a,k=a,c,s;for(h=0;h<g;h++)if(c=h<l?y[h].type:v,s=t[h],s.isAlias()&&(s.isUsedAsValue=!0,s=s.getExportAssignedTypeSymbol()),c&&!c.isResolved&&this.resolveDeclaredSymbol(c,f,e),s&&!s.isResolved&&this.resolveDeclaredSymbol(s,f,e),c&&s&&this.typesAreIdentical(c,s,i.members[h])||(b=!1),o.stringConstantVal=i.members[h],this.sourceIsAssignableToTarget(s,c,e,o)||(k=!1),o.stringConstantVal=null,!(b||k))break;b?r[r.length]=n:k&&r.length===0&&(u[u.length]=n)}},r.prototype.getApplicableSignaturesFromCandidates=function(t,i,r,u,f){for(var p=[],o=null,h=!1,c=null,l=!1,a,y,e,s,v=0;v<t.length;v++){for(h=!1,y=t[v],a=y.parameters,e=0;e<i.members.length;e++)if(!(e>=a.length))if(a[e].isResolved||this.resolveDeclaredSymbol(a[e],u,f),o=a[e].type,y.hasVarArgs&&e>=y.nonOptionalParamCount&&o.isArray()&&(o=o.getElementType()),this.isAnyOrEquivalent(o))continue;else if(i.members[e].nodeType()===13){if(this.cachedFunctionInterfaceType()&&o===this.cachedFunctionInterfaceType())continue;if(s=this.resolveFunctionExpression(i.members[e],!1,u,f),this.canApplyContextualTypeToFunction(o,i.members[e],!0)){if(s.invalidate(),f.pushContextualType(o,!0,null),s=this.resolveFunctionExpression(i.members[e],!0,u,f),this.sourceIsAssignableToTarget(s.type,o,f,r,!0)||(r&&r.setMessage(n.getDiagnosticMessage(n.DiagnosticCode.Could_not_apply_type_0_to_argument_1_which_is_of_type_2,[o.toString(),e+1,s.getTypeName()])),h=!0),s.invalidate(),c=f.popContextualType(),l=c.hadProvisionalErrors(),h)break}else if(this.canApplyContextualTypeToFunction(o,i.members[e],!1)){if(!this.sourceIsAssignableToTarget(s.type,o,f,r,!0))break}else break}else if(i.members[e].nodeType()===23){if(this.cachedObjectInterfaceType()&&o===this.cachedObjectInterfaceType())continue;if(f.pushContextualType(o,!0,null),s=this.resolveObjectLiteralExpression(i.members[e],!0,u,f),this.sourceIsAssignableToTarget(s.type,o,f,r,!0)||(r&&r.setMessage(n.getDiagnosticMessage(n.DiagnosticCode.Could_not_apply_type_0_to_argument_1_which_is_of_type_2,[o.toString(),e+1,s.getTypeName()])),h=!0),s.invalidate(),c=f.popContextualType(),l=c.hadProvisionalErrors(),h)break}else if(i.members[e].nodeType()===22){if(o===this.cachedArrayInterfaceType())continue;if(f.pushContextualType(o,!0,null),s=this.resolveArrayLiteralExpression(i.members[e],!0,u,f),!this.sourceIsAssignableToTarget(s.type,o,f,r,!0)){r&&r.setMessage(n.getDiagnosticMessage(n.DiagnosticCode.Could_not_apply_type_0_to_argument_1_which_is_of_type_2,[o.toString(),e+1,s.getTypeName()]));break}if(s.invalidate(),c=f.popContextualType(),l=c.hadProvisionalErrors(),h)break}e===i.members.length&&(p[p.length]={signature:t[v],hadProvisionalErrors:l});l=!1}return p},r.prototype.findMostApplicableSignature=function(t,i,r,u){var a,f,p,w,b;if(t.length===1)return{sig:t[0].signature,ambiguous:!1};var o=t[0],s=null,v=null,h=null,e=null,y=!1,c,l;for(a=1;a<t.length;a++){for(s=t[a],f=0;i&&f<i.members.length;f++)if(p=this.resolveAST(i.members[f],!1,r,u),v=p.type,p.invalidate(),c=o.signature.parameters,l=s.signature.parameters,h=f<c.length?c[f].type:c[c.length-1].type.getElementType(),e=f<l.length?l[f].type:l[l.length-1].type.getElementType(),!this.typesAreIdentical(h,e)||e.isPrimitive()&&e.isStringConstant()){if(h.isPrimitive()&&h.isStringConstant()&&i.members[f].nodeType()===5&&n.stripQuotes(i.members[f].actualText)===n.stripQuotes(h.name))break;else if(e.isPrimitive()&&e.isStringConstant()&&i.members[f].nodeType()===5&&n.stripQuotes(i.members[f].actualText)===n.stripQuotes(e.name))o=s;else if(this.typesAreIdentical(v,h))break;else if(this.typesAreIdentical(v,e)){o=s;break}else if(this.sourceIsSubtypeOfTarget(h,e,u))break;else if(this.sourceIsSubtypeOfTarget(e,h,u)){o=s;break}else if(s.hadProvisionalErrors)break;else if(o.hadProvisionalErrors){o=s;break}}else continue;i&&f!==i.members.length?y=!1:(w={getLength:function(){return 2},setTypeAtIndex:function(){},getTypeAtIndex:function(n){return n?s.signature.returnType:o.signature.returnType}},b=this.findBestCommonType(o.signature.returnType,null,w,u),y=!b)}return{sig:o.signature,ambiguous:y}},r.prototype.canApplyContextualTypeToFunction=function(n,t,i){var r,e,o,u;if(t.isMethod()||i&&t.returnTypeAnnotation)return!1;if(i=i||this.cachedFunctionInterfaceType()===n,!i)return!0;var s=this.getDeclForAST(t).getSymbol(),h=s.type.getCallSignatures()[0],f=h.parameters,c=f.length;for(r=0;r<c;r++)if(e=f[r],o=this.getASTForDecl(e.getDeclarations()[0]),i&&o.typeExpr)return!1;return n.getConstructSignatures().length&&n.getCallSignatures().length?!1:(u=n.getConstructSignatures().length?n.getConstructSignatures():n.getCallSignatures(),!u||u.length>1)?!1:!0},r.prototype.inferArgumentTypesForSignature=function(t,i,r,u,f){for(var p=null,w=!1,k=t.parameters,h=t.getTypeParameters(),a=new n.ArgumentInferenceContext,c=null,b,v,d,l,y,s,o,e=0;e<h.length;e++)a.addInferenceRoot(h[e]);for(e=0;e<i.members.length;e++){if(e>=k.length)break;if(c=k[e].type,t.hasVarArgs&&e>=t.nonOptionalParamCount-1&&c.isArray()&&(c=c.getElementType()),v=a.getInferenceCandidates(),b={},v.length)for(o=0;o<v.length;o++)a.resetRelationshipCache(),d=v[o],b=v[o],f.pushContextualType(c,!0,b),l=this.resolveAST(i.members[e],!0,u,f),this.relateTypeToTypeParameters(l.type,c,!1,a,u,f),p=f.popContextualType(),l.invalidate(),w=p.hadProvisionalErrors();else f.pushContextualType(c,!0,{}),l=this.resolveAST(i.members[e],!0,u,f),this.relateTypeToTypeParameters(l.type,c,!1,a,u,f),p=f.popContextualType(),l.invalidate(),w=p.hadProvisionalErrors()}if(w=!1,y=a.inferArgumentTypes(this,f),y.unfit)return null;for(s=[],e=0;e<h.length;e++)for(o=0;o<y.results.length;o++)if(y.results[o].param==h[e]){s[s.length]=y.results[o].type;break}if(i.members.length||s.length||!h.length){if(s.length&&s.length<h.length)for(e=s.length;e<h.length;e++)s[e]=this.semanticInfoChain.anyTypeSymbol}else for(e=0;e<h.length;e++)s[s.length]=this.semanticInfoChain.anyTypeSymbol;return s},r.prototype.relateTypeToTypeParameters=function(n,t,i,r,u,f){var h,c,e,o,s,l;if(n&&t&&(n.isError()&&(n=this.semanticInfoChain.anyTypeSymbol),t!==n)){if(t.isTypeParameter()){n.isGeneric()&&!n.isFixed()&&(n=this.specializeTypeToAny(n,u,f));r.addCandidateForInference(t,n,i);return}if(h=t.getDeclarations(),c=n.getDeclarations(),!t.isArray()&&h.length&&c.length&&(h[0].isEqual(c[0])||n.isGeneric()&&t.isGeneric()&&this.sourceIsSubtypeOfTarget(n,t,f,null))&&n.isGeneric()&&(e=t.getIsSpecialized()?t.getTypeArguments():t.getTypeParameters(),o=n.getTypeArguments(),o||(e=t.getTypeArguments(),o=n.getIsSpecialized()?n.getTypeArguments():n.getTypeParameters()),e&&o&&e.length===o.length))for(s=0;s<e.length;s++)o[s]!=e[s]&&this.relateTypeToTypeParameters(o[s],e[s],!0,r,u,f);if(l=f.specializingToAny,f.specializingToAny=!0,!this.sourceIsAssignableToTarget(n,t,f)){f.specializingToAny=l;return}if(f.specializingToAny=l,n.isArray()&&t.isArray()){this.relateArrayTypeToTypeParameters(n,t,i,r,u,f);return}this.relateObjectTypeToTypeParameters(n,t,i,r,u,f)}},r.prototype.relateFunctionSignatureToTypeParameters=function(n,t,i,r,u){for(var e=n.parameters,s=n.returnType,o=t.parameters,h=t.returnType,c=o.length<e.length?o.length:e.length,f=0;f<c;f++)this.relateTypeToTypeParameters(e[f].type,o[f].type,!0,i,r,u);this.relateTypeToTypeParameters(s,h,!1,i,r,u)},r.prototype.relateObjectTypeToTypeParameters=function(t,i,r,u,f,e){var v=i.getMembers(),h,l,y,c,a,p,o,s;if(!u.alreadyRelatingTypes(t,i)){if(a=t.getTypeArguments(),p=i.getTypeParameters(),a&&a.length===p.length)for(o=0;o<a.length;o++)u.addCandidateForInference(p[o],a[o],r);for(o=0;o<v.length;o++)y=this.getMemberSymbol(v[o].name,n.PullElementKind.SomeValue,t),y&&this.relateTypeToTypeParameters(y.type,v[o].type,r,u,f,e);for(h=i.getCallSignatures(),c=t.getCallSignatures(),o=0;o<h.length;o++)for(l=h[o],s=0;s<c.length;s++)this.relateFunctionSignatureToTypeParameters(c[s],l,u,f,e);for(h=i.getConstructSignatures(),c=t.getConstructSignatures(),o=0;o<h.length;o++)for(l=h[o],s=0;s<c.length;s++)this.relateFunctionSignatureToTypeParameters(c[s],l,u,f,e);for(h=i.getIndexSignatures(),c=t.getIndexSignatures(),o=0;o<h.length;o++)for(l=h[o],s=0;s<c.length;s++)this.relateFunctionSignatureToTypeParameters(c[s],l,u,f,e)}},r.prototype.relateArrayTypeToTypeParameters=function(n,t,i,r,u,f){var e=n.getElementType(),o=t.getElementType();this.relateTypeToTypeParameters(e,o,i,r,u,f)},r.prototype.specializeTypeToAny=function(t,i,r){var e=r.specializingToAny,u,f;return r.specializingToAny=!0,u=n.getRootType(t),f=n.specializeType(u,[],this,i,r),r.specializingToAny=e,f},r.prototype.specializeSignatureToAny=function(t,i,r){for(var e=t.getTypeParameters(),o={},f=[],s,h,u=0;u<e.length;u++)f[u]=this.semanticInfoChain.anyTypeSymbol,o[e[u].pullSymbolIDString]=f[u];return f.length||(f[0]=this.semanticInfoChain.anyTypeSymbol),s=r.specializingToAny,r.specializingToAny=!0,h=n.specializeSignature(t,!1,o,f,this,i,r),r.specializingToAny=s,h},r.typeCheck=function(t,i,u,f){var e=i.getUnit(u),o;if(!e.getTypeChecked()){var s=e.getTopLevelDecls()[0],h=new r(t,i,u),c=new n.PullTypeResolutionContext(!0);for(h.resolveAST(f.moduleElements,!1,s,c),h.validateVariableDeclarationGroups(s,c),r.globalTypeCheckPhase++,o=null;r.typeCheckCallBacks.length;)o=r.typeCheckCallBacks[r.typeCheckCallBacks.length-1],r.typeCheckCallBacks.pop(),o();e.setTypeChecked()}},r.prototype.validateVariableDeclarationGroups=function(t,i){for(var s=t.getVariableDeclGroups(),h,l,e,c,r,o,f,u=0;u<s.length;u++)for(f=0;f<s[u].length;f++){if(h=s[u][f],c=h.getSymbol(),o=this.semanticInfoChain.getASTForDecl(h),r=this.resolveAST(o,!1,t,i).type,!f){l=c;e=r;continue}r&&e&&!this.typesAreIdentical(r,e)&&i.postError(this.currentUnit.getPath(),o.minChar,o.getLength(),n.DiagnosticCode.Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_type_2,[c.getScopedName(),e.toString(),r.toString()],t)}},r.prototype.typeCheckFunctionOverloads=function(i,r,u,f){var a,y,v,e,l,h,c;u||(a=n.PullHelpers.getSignatureForFuncDecl(i,this.currentUnit),u=a.signature,f=a.allSignatures);var o=this.currentUnit.getDeclForAST(i),p=o.getSymbol(),s=null;for(e=f.length-1;e>=0;e--)if(f[e].isDefinition()){s=f[e];break}if(!u.isDefinition())for(e=0;e<f.length;e++){if(f[e]===u)break;if(this.signaturesAreIdentical(f[e],u,!1)){this.typesAreIdentical(f[e].returnType,u.returnType)?i.isConstructor?r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Duplicate_constructor_overload_signature,null,o):i.isConstructMember()?r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Duplicate_overload_construct_signature,null,o):i.isCallMember()?r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Duplicate_overload_call_signature,null,o):r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Duplicate_overload_signature_for_0,[p.getScopedNameEx().toString()],o):r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Overloads_cannot_differ_only_by_return_type,null,o);break}}if(y=u.isStringConstantOverloadSignature(),y)if(u.isDefinition())r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Overload_signature_implementation_cannot_use_specialized_type,null,o);else{for(v=!1,e=0;e<f.length;e++)if(!f[e].isDefinition()&&f[e]!==u&&(f[e].isResolved||this.resolveDeclaredSymbol(f[e],this.getEnclosingDecl(o),r),!f[e].isStringConstantOverloadSignature())&&this.signatureIsSubtypeOfTarget(u,f[e],r)){v=!0;break}v||r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Specialized_overload_signature_is_not_subtype_of_any_non_specialized_signature,null,o)}else s&&s!=u&&(l=new t,s.isResolved||this.resolveDeclaredSymbol(s,this.getEnclosingDecl(o),r),this.signatureIsAssignableToTarget(s,u,r,l)||(l.message?r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Overload_signature_is_not_compatible_with_function_definition_NL_0,[l.message],o):r.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Overload_signature_is_not_compatible_with_function_definition,null,o)));if(h=s,!s){if(f[0]===u)return;h=f[0]}i.isConstructor||i.isConstructMember()||!h||u==h||(h.hasFlag(2)!=u.hasFlag(2)?c=n.DiagnosticCode.Overload_signatures_must_all_be_public_or_private:h.hasFlag(1)!=u.hasFlag(1)?c=n.DiagnosticCode.Overload_signatures_must_all_be_exported_or_local:h.hasFlag(8)!=u.hasFlag(8)?c=n.DiagnosticCode.Overload_signatures_must_all_be_ambient_or_non_ambient:h.hasFlag(128)!=u.hasFlag(128)&&(c=n.DiagnosticCode.Overload_signatures_must_all_be_optional_or_required),c&&r.postError(this.unitPath,i.minChar,i.getLength(),c,null,o))},r.prototype.checkSymbolPrivacy=function(n,t,i,r){var f,c,a,s,u,o,l,e,h;if(t&&t.kind!==2){if(t.isType()){if(f=t,f.isArray()){this.checkSymbolPrivacy(n,f.getElementType(),i,r);return}if(!f.isNamedTypeSymbol()){if(f.inSymbolPrivacyCheck){c=f.getAssociatedContainerType();c&&c.isNamedTypeSymbol()&&this.checkSymbolPrivacy(n,c,i,r);return}for(f.inSymbolPrivacyCheck=!0,a=f.getMembers(),e=0;e<a.length;e++)this.checkSymbolPrivacy(n,a[e].type,i,r);this.checkTypePrivacyOfSignatures(n,f.getCallSignatures(),i,r);this.checkTypePrivacyOfSignatures(n,f.getConstructSignatures(),i,r);this.checkTypePrivacyOfSignatures(n,f.getIndexSignatures(),i,r);f.inSymbolPrivacyCheck=!1;return}}if(n.isExternallyVisible()){if(s=t.isExternallyVisible(),s&&t.kind!=2&&t.kind!=8192){if(u=t.pathToRoot(),o=n.pathToRoot(),u[u.length-1].kind===32&&o[o.length-1].kind==32&&(l=!1,o[o.length-1]!=u[u.length-1]?l=!0:u.length>1&&u[u.length-2].kind==32&&(o.length<2||o[o.length-2]!=u[u.length-2])&&(l=!0),l)){for(s=!1,e=u.length-1;e>=0;e--)if(h=u[e].getAliasedSymbol(n),h){s=!0;h.typeUsedExternally=!0;break}t=u[u.length-1]}}else t.kind==256&&(h=t,s=!0,h.typeUsedExternally=!0);s||r(t)}}},r.prototype.checkTypePrivacyOfSignatures=function(n,t,i,r){for(var f,o,s,u,h,c,e=0;e<t.length;e++)if(f=t[e],!(t.length>1)||!f.isDefinition()){for(o=f.getTypeParameters(),u=0;u<o.length;u++)this.checkSymbolPrivacy(n,o[u],i,r);for(s=f.parameters,u=0;u<s.length;u++)h=s[u].type,this.checkSymbolPrivacy(n,h,i,r);c=f.returnType;this.checkSymbolPrivacy(n,c,i,r)}},r.prototype.baseListPrivacyErrorReporter=function(t,i,r,u,f,e){var v=this.getDeclForAST(t),s=this.getEnclosingDecl(v),l=s?s.getSymbol():null,h,c=f,o=c.getScopedName(l),a;c.isContainer()&&!c.isEnum()?(n.isQuoted(o)||(o="'"+o+"'"),h=t.nodeType()===14?u?n.DiagnosticCode.Exported_class_0_extends_class_from_inaccessible_module_1:n.DiagnosticCode.Exported_class_0_implements_interface_from_inaccessible_module_1:n.DiagnosticCode.Exported_interface_0_extends_interface_from_inaccessible_module_1):h=t.nodeType()===14?u?n.DiagnosticCode.Exported_class_0_extends_private_class_1:n.DiagnosticCode.Exported_class_0_implements_private_interface_1:n.DiagnosticCode.Exported_interface_0_extends_private_interface_1;a=[i.getScopedName(l),o];e.postError(this.unitPath,r.minChar,r.getLength(),h,a,s)},r.prototype.variablePrivacyErrorReporter=function(t,i,r){var f=i,c=this.getASTForSymbol(t),e=this.getEnclosingDecl(t.getDeclarations()[0]),l=e?e.getSymbol():null,a=t.kind===4096,o=!1,s=t.getContainer(),h,u,v;s&&(s.kind===8||s.kind===32768)&&(o=!0);u=f.getScopedName(l);f.isContainer()&&!f.isEnum()?(n.isQuoted(u)||(u="'"+u+"'"),h=t.hasFlag(16)?n.DiagnosticCode.Public_static_property_0_of_exported_class_is_using_inaccessible_module_1:a?o?n.DiagnosticCode.Public_property_0_of_exported_class_is_using_inaccessible_module_1:n.DiagnosticCode.Property_0_of_exported_interface_is_using_inaccessible_module_1:n.DiagnosticCode.Exported_variable_0_is_using_inaccessible_module_1):h=t.hasFlag(16)?n.DiagnosticCode.Public_static_property_0_of_exported_class_has_or_is_using_private_type_1:a?o?n.DiagnosticCode.Public_property_0_of_exported_class_has_or_is_using_private_type_1:n.DiagnosticCode.Property_0_of_exported_interface_has_or_is_using_private_type_1:n.DiagnosticCode.Exported_variable_0_has_or_is_using_private_type_1;v=[t.getScopedName(l),u];r.postError(this.unitPath,c.minChar,c.getLength(),h,v,e)},r.prototype.checkFunctionTypePrivacy=function(n,t,i){var c=this,h,a,e,u;if(!t&&!(n.getFunctionFlags()&8192)&&!(n.getFunctionFlags()&16384)){var o=this.currentUnit.getDeclForAST(n),r=o.getSymbol(),f,s=n.isGetAccessor(),l=n.isSetAccessor();if(s||l)h=r,f=(s?h.getGetter():h.getSetter()).type.getCallSignatures()[0];else{if(r){if(r.kind==65536&&!r.getContainer().isNamedTypeSymbol())return}else if(a=o.getParentDecl(),r=a.getSymbol(),r&&r.isType()&&!r.isNamedTypeSymbol())return;f=o.getSignatureSymbol()}if(!s)for(e=f.parameters,u=0;u<e.length;u++)this.checkSymbolPrivacy(r,e[u].type,i,function(t){return c.functionArgumentTypePrivacyErrorReporter(n,u,e[u],t,i)});l||this.checkSymbolPrivacy(r,f.returnType,i,function(t){return c.functionReturnTypePrivacyErrorReporter(n,f.returnType,t,i)})}},r.prototype.functionArgumentTypePrivacyErrorReporter=function(t,i,r,u,f){var o=this.getDeclForAST(t),c=this.getEnclosingDecl(o),y=c?c.getSymbol():null,p=t.isAccessor()&&n.hasFlag(t.getFunctionFlags(),32),w=t.isAccessor()&&n.hasFlag(t.getFunctionFlags(),64),s=(o.flags&16)==16,b=o.kind===65536,l=!1,a=o.getParentDecl(),k;a&&(a.kind===8||a.kind===32768)&&(l=!0);var d=t.arguments.members[i].minChar,g=t.arguments.members[i].getLength(),v=u,h=v.getScopedName(y),e;v.isContainer()&&!v.isEnum()?(n.isQuoted(h)||(h="'"+h+"'"),t.isConstructor?e=n.DiagnosticCode.Parameter_0_of_constructor_from_exported_class_is_using_inaccessible_module_1:w?e=s?n.DiagnosticCode.Parameter_0_of_public_static_property_setter_from_exported_class_is_using_inaccessible_module_1:n.DiagnosticCode.Parameter_0_of_public_property_setter_from_exported_class_is_using_inaccessible_module_1:t.isConstructMember()?e=n.DiagnosticCode.Parameter_0_of_constructor_signature_from_exported_interface_is_using_inaccessible_module_1:t.isCallMember()?e=n.DiagnosticCode.Parameter_0_of_call_signature_from_exported_interface_is_using_inaccessible_module_1:b?e=s?n.DiagnosticCode.Parameter_0_of_public_static_method_from_exported_class_is_using_inaccessible_module_1:l?n.DiagnosticCode.Parameter_0_of_public_method_from_exported_class_is_using_inaccessible_module_1:n.DiagnosticCode.Parameter_0_of_method_from_exported_interface_is_using_inaccessible_module_1:p||(e=n.DiagnosticCode.Parameter_0_of_exported_function_is_using_inaccessible_module_1)):t.isConstructor?e=n.DiagnosticCode.Parameter_0_of_constructor_from_exported_class_has_or_is_using_private_type_1:w?e=s?n.DiagnosticCode.Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_private_type_1:n.DiagnosticCode.Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_private_type_1:t.isConstructMember()?e=n.DiagnosticCode.Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_type_1:t.isCallMember()?e=n.DiagnosticCode.Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_type_1:b?e=s?n.DiagnosticCode.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_type_1:l?n.DiagnosticCode.Parameter_0_of_public_method_from_exported_class_has_or_is_using_private_type_1:n.DiagnosticCode.Parameter_0_of_method_from_exported_interface_has_or_is_using_private_type_1:p||t.isIndexerMember()||(e=n.DiagnosticCode.Parameter_0_of_exported_function_has_or_is_using_private_type_1);e&&(k=[r.getScopedName(y),h],f.postError(this.unitPath,d,g,e,k,c))},r.prototype.functionReturnTypePrivacyErrorReporter=function(t,i,r,u){var p=this,e=this.getDeclForAST(t),o=this.getEnclosingDecl(e),w=t.isAccessor()&&n.hasFlag(t.getFunctionFlags(),32),b=t.isAccessor()&&n.hasFlag(t.getFunctionFlags(),64),s=(e.flags&16)==16,k=e.kind===65536,l=!1,a=e.getParentDecl(),c,y,d,g;a&&(a.kind===8||a.kind===32768)&&(l=!0);var f=null,v=r,h=v.getScopedName(o?o.getSymbol():null);v.isContainer()&&!v.isEnum()?(n.isQuoted(h)||(h="'"+h+"'"),w?f=s?n.DiagnosticCode.Return_type_of_public_static_property_getter_from_exported_class_is_using_inaccessible_module_0:n.DiagnosticCode.Return_type_of_public_property_getter_from_exported_class_is_using_inaccessible_module_0:t.isConstructMember()?f=n.DiagnosticCode.Return_type_of_constructor_signature_from_exported_interface_is_using_inaccessible_module_0:t.isCallMember()?f=n.DiagnosticCode.Return_type_of_call_signature_from_exported_interface_is_using_inaccessible_module_0:t.isIndexerMember()?f=n.DiagnosticCode.Return_type_of_index_signature_from_exported_interface_is_using_inaccessible_module_0:k?f=s?n.DiagnosticCode.Return_type_of_public_static_method_from_exported_class_is_using_inaccessible_module_0:l?n.DiagnosticCode.Return_type_of_public_method_from_exported_class_is_using_inaccessible_module_0:n.DiagnosticCode.Return_type_of_method_from_exported_interface_is_using_inaccessible_module_0:b||t.isConstructor||(f=n.DiagnosticCode.Return_type_of_exported_function_is_using_inaccessible_module_0)):w?f=s?n.DiagnosticCode.Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_type_0:n.DiagnosticCode.Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_type_0:t.isConstructMember()?f=n.DiagnosticCode.Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_type_0:t.isCallMember()?f=n.DiagnosticCode.Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_type_0:t.isIndexerMember()?f=n.DiagnosticCode.Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_type_0:k?f=s?n.DiagnosticCode.Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_type_0:l?n.DiagnosticCode.Return_type_of_public_method_from_exported_class_has_or_is_using_private_type_0:n.DiagnosticCode.Return_type_of_method_from_exported_interface_has_or_is_using_private_type_0:b||t.isConstructor||(f=n.DiagnosticCode.Return_type_of_exported_function_has_or_is_using_private_type_0);f&&(c=[h],y=!1,t.returnTypeAnnotation&&(d=this.resolveTypeReference(t.returnTypeAnnotation,e,u),d===i&&u.postError(this.unitPath,t.returnTypeAnnotation.minChar,t.returnTypeAnnotation.getLength(),f,c,o)),t.block&&(g=function(n,t,r){var h=!0,s,l;switch(n.nodeType()){case 13:h=!1;break;case 94:s=n;l=p.resolveAST(s.returnExpression,!1,e,u).type;l===i?u.postError(p.unitPath,s.minChar,s.getLength(),f,c,o):y=!0;h=!1}return r.options.goChildren=h,n},n.getAstWalkerFactory().walk(t.block,g)),y&&u.postError(this.unitPath,t.minChar,t.getLength(),f,c,o))},r.prototype.enclosingClassIsDerived=function(n){if(n)for(var t=n.getParentDecl(),i=null;t;){if(t.kind==8){if(i=t.getSymbol(),i.getExtendedTypes().length>0)return!0;break}t=t.getParentDecl()}return!1},r.prototype.isSuperCallNode=function(n){var t,i;return n&&n.nodeType()===89&&(t=n,t.expression&&t.expression.nodeType()===37&&(i=t.expression,i.target&&i.target.nodeType()===31))?!0:!1},r.prototype.getFirstStatementFromFunctionDeclAST=function(n){return n.block&&n.block.statements&&n.block.statements.members?n.block.statements.members[0]:null},r.prototype.superCallMustBeFirstStatementInConstructor=function(n,t){var f,e,i,h,o,s,r,c,l,u,a;if(n&&t){if(f=t.getSymbol(),f.getExtendedTypes().length===0)return!1;for(e=f.getMembers(),i=0,h=e.length;i<h;i++)if(o=e[i],o.kind===4096)for(s=o.getDeclarations(),r=0,c=s.length;r<c;r++)if((l=s[r],u=this.semanticInfoChain.getASTForDecl(l),u.nodeType()===20)||u.nodeType()===18&&(a=u,a.init))return!0}return!1},r.prototype.checkForThisOrSuperCaptureInArrowFunction=function(t,i){var o=n.getPathToDecl(i),s,h,e,u;if(o.length)for(s=!1,u=o.length-1;u>=0;u--){var f=o[u],r=f.kind,c=f.flags;if(r===131072&&n.hasFlag(c,8192)){s=!0;continue}if(s){if(r===16384||r===65536||r===32768||r===262144||r===524288||r===131072||r===8||r===4||r===32||r===1){if(f.setFlags(f.flags|262144),r===8)for(h=f.getSymbol().getConstructorMethod(),e=h.getDeclarations(),u=0;u<e.length;u++)e[u].flags=e[u].flags|262144;break}}else if(r===16384||r===131072)break}},r.prototype.typeCheckMembersAgainstIndexer=function(t,i,r){var f=t.getIndexSignatures(),s,o,e,h,u;if(f.length>0)for(s=i.getChildDecls(),o=0;o<s.length;o++)if(e=s[o],e.name&&!(e.kind&n.PullElementKind.SomeSignature))for(h=isFinite(+e.name),u=0;u<f.length;u++)if(f[u].isResolved||this.resolveDeclaredSymbol(f[u],f[u].getDeclarations()[0].getParentDecl(),r),f[u].parameters[0].type===this.semanticInfoChain.numberTypeSymbol===h){this.checkThatMemberIsSubtypeOfIndexer(e.getSymbol(),f[u],this.semanticInfoChain.getASTForDecl(e),r,i,h);break}},r.prototype.checkThatMemberIsSubtypeOfIndexer=function(i,r,u,f,e,o){var s=new t,h=new n.PullTypeResolutionContext;this.sourceIsSubtypeOfTarget(i.type,r.returnType,h,s)||(o?s.message?f.postError(this.unitPath,u.minChar,u.getLength(),n.DiagnosticCode.All_numerically_named_properties_must_be_subtypes_of_numeric_indexer_type_0_NL_1,[r.returnType.toString(),s.message],e):f.postError(this.unitPath,u.minChar,u.getLength(),n.DiagnosticCode.All_numerically_named_properties_must_be_subtypes_of_numeric_indexer_type_0,[r.returnType.toString()],e):s.message?f.postError(this.unitPath,u.minChar,u.getLength(),n.DiagnosticCode.All_named_properties_must_be_subtypes_of_string_indexer_type_0_NL_1,[r.returnType.toString(),s.message],e):f.postError(this.unitPath,u.minChar,u.getLength(),n.DiagnosticCode.All_named_properties_must_be_subtypes_of_string_indexer_type_0,[r.returnType.toString()],e))},r.prototype.typeCheckIfTypeMemberPropertyOkToOverride=function(t,i,r,u,f,e){var o,h,s,c;return t.isClass()?(o=r.kind,h=u.kind,o===h)?!0:(o===4096?s=r.isAccessor()?n.DiagnosticCode.Class_0_defines_instance_member_accessor_1_but_extended_class_2_defines_it_as_instance_member_function:n.DiagnosticCode.Class_0_defines_instance_member_property_1_but_extended_class_2_defines_it_as_instance_member_function:o===65536&&(s=u.isAccessor()?n.DiagnosticCode.Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_accessor:n.DiagnosticCode.Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_property),c=n.getDiagnosticMessage(s,[t.toString(),r.getScopedNameEx().toString(),i.toString()]),e.addMessage(c),!1):!0},r.prototype.typeCheckIfTypeExtendsType=function(i,r,u,f,e){for(var y=r.getMembers(),l=new n.PullTypeResolutionContext,h=new t,o=!1,p,b,v,k,w,a,c,d,g,nt,tt,it,rt,s=0;s<y.length;s++)if(a=y[s].name,p=u.findMember(a),p&&(o=!this.typeCheckIfTypeMemberPropertyOkToOverride(r,u,y[s],p,f,h),o||(o=!this.sourcePropertyIsSubtypeOfTargetProperty(r,u,y[s],p,l,h)),o))break;if(!o&&r.hasOwnCallSignatures()&&(o=!this.sourceCallSignaturesAreSubtypeOfTargetCallSignatures(r,u,l,h)),!o&&r.hasOwnConstructSignatures()&&(o=!this.sourceConstructSignaturesAreSubtypeOfTargetConstructSignatures(r,u,l,h)),!o&&r.hasOwnIndexSignatures()&&(o=!this.sourceIndexSignaturesAreSubtypeOfTargetIndexSignatures(r,u,l,h)),!o&&r.isClass()&&(b=r.getConstructorMethod().type,v=b.getMembers(),v.length))for(k=u.getConstructorMethod().type,w=new t(h),s=0;s<v.length;s++)if(a=v[s].name,c=k.findMember(a),c&&(c.isResolved||(d=this.currentUnit.getASTForDecl(u.getDeclarations()[0]),g=this.currentUnit.getDeclForAST(d),this.resolveDeclaredSymbol(c,g,l)),nt=v[s].type,tt=c.type,!this.sourceIsSubtypeOfTarget(nt,tt,l,w))){it=w.message?n.getDiagnosticMessage(n.DiagnosticCode.Types_of_static_property_0_of_class_1_and_class_2_are_incompatible_NL_3,[c.getScopedNameEx().toString(),r.toString(),u.toString(),w.message]):n.getDiagnosticMessage(n.DiagnosticCode.Types_of_static_property_0_of_class_1_and_class_2_are_incompatible,[c.getScopedNameEx().toString(),r.toString(),u.toString()]);h.addMessage(it);o=!0;break}o&&(rt=r.isClass()?n.DiagnosticCode.Class_0_cannot_extend_class_1_NL_2:u.isClass()?n.DiagnosticCode.Interface_0_cannot_extend_class_1_NL_2:n.DiagnosticCode.Interface_0_cannot_extend_interface_1_NL_2,e.postError(this.unitPath,i.name.minChar,i.name.getLength(),rt,[r.getScopedName(),u.getScopedName(),h.message],f))},r.prototype.typeCheckIfClassImplementsType=function(i,r,u,f,e){var h=new n.PullTypeResolutionContext,s=new t,o=!this.sourceMembersAreSubtypeOfTargetMembers(r,u,h,s);o||(o=!this.sourceCallSignaturesAreSubtypeOfTargetCallSignatures(r,u,h,s),o||(o=!this.sourceConstructSignaturesAreSubtypeOfTargetConstructSignatures(r,u,h,s),o||(o=!this.sourceIndexSignaturesAreSubtypeOfTargetIndexSignatures(r,u,h,s))));o&&e.postError(this.unitPath,i.name.minChar,i.name.getLength(),n.DiagnosticCode.Class_0_declares_interface_1_but_does_not_implement_it_NL_2,[r.getScopedName(),u.getScopedName(),s.message],f)},r.prototype.hasClassTypeSymbolConflictAsValue=function(n,t,i,r){var f=this.currentUnit.getAliasSymbolForAST(n),s=r.resolvingTypeNameAsNameExpression,u,e,o;return(r.resolvingTypeNameAsNameExpression=!0,u=this.computeNameExpression(n,i,r),r.resolvingTypeNameAsNameExpression=s,e=this.currentUnit.getAliasSymbolForAST(n),this.currentUnit.setAliasSymbolForAST(n,f),f&&e)?f!=e:u.hasFlag(16384)?(o=u.type?u.type.getAssociatedContainerType():null,o)?o!=t:!0:!0},r.prototype.typeCheckBase=function(t,i,r,u,f,e){var a=this,v=this.getDeclForAST(t),c=new n.PullTypeResolutionContext,l,o,s,h;if(c.isResolvingClassExtendedType=!0,l=e.resolvingTypeReference,e.resolvingTypeReference=!0,o=this.resolveAST(r,!1,f,e),e.resolvingTypeReference=l,c.isResolvingClassExtendedType=!1,s=i.isClass(),i.isValidBaseKind(o,u))s&&u&&r.nodeType()==21&&this.hasClassTypeSymbolConflictAsValue(r,o,f,e)&&e.postError(this.unitPath,r.minChar,r.getLength(),n.DiagnosticCode.Type_reference_0_in_extends_clause_doesn_t_reference_constructor_function_for_1,[r.actualText,o.toString(f?f.getSymbol():null)],f);else{o.isError()?(h=o.getDiagnostic(),h&&e.postError(this.unitPath,r.minChar,r.getLength(),h.diagnosticKey(),h.arguments(),f)):u?s?e.postError(this.unitPath,r.minChar,r.getLength(),n.DiagnosticCode.A_class_may_only_extend_another_class,null,f):e.postError(this.unitPath,r.minChar,r.getLength(),n.DiagnosticCode.An_interface_may_only_extend_another_class_or_interface,null,f):e.postError(this.unitPath,r.minChar,r.getLength(),n.DiagnosticCode.A_class_may_only_implement_another_class_or_interface,null,f);return}if(o.getRootSymbol().hasBase(i.getRootSymbol())){i.setHasBaseTypeConflict();o.setHasBaseTypeConflict();e.postError(this.unitPath,t.name.minChar,t.name.getLength(),s?n.DiagnosticCode.Class_0_is_recursively_referenced_as_a_base_type_of_itself:n.DiagnosticCode.Interface_0_is_recursively_referenced_as_a_base_type_of_itself,[i.getScopedName()],f);return}u?this.typeCheckIfTypeExtendsType(t,i,o,f,e):this.typeCheckIfClassImplementsType(t,i,o,f,e);this.checkSymbolPrivacy(i,o,e,function(n){return a.baseListPrivacyErrorReporter(t,i,r,u,n,e)})},r.prototype.typeCheckBases=function(t,i,r,u){var f;if(u.typeCheck()&&(t.extendsList||t.implementsList)){if(t.extendsList)for(f=0;f<t.extendsList.members.length;f++)this.typeCheckBase(t,i,t.extendsList.members[f],!0,r,u);if(i.isClass()){if(t.implementsList)for(f=0;f<t.implementsList.members.length;f++)this.typeCheckBase(t,i,t.implementsList.members[f],!1,r,u)}else t.implementsList&&u.postError(this.unitPath,t.implementsList.minChar,t.implementsList.getLength(),n.DiagnosticCode.An_interface_cannot_implement_another_type,null,r)}},r.prototype.checkAssignability=function(i,r,u,f,e){var o=new t,s=this.sourceIsAssignableToTarget(r,u,e,o);s||(o.message?e.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Cannot_convert_0_to_1_NL_2,[r.toString(),u.toString(),o.message],f):e.postError(this.unitPath,i.minChar,i.getLength(),n.DiagnosticCode.Cannot_convert_0_to_1,[r.toString(),u.toString()],f))},r.prototype.isValidLHS=function(t,i){var r=i.type;return t.nodeType()===36||this.isAnyOrEquivalent(r)?!0:!i.isType()||r.isArray()?(i.kind&n.PullElementKind.SomeLHS)!=0&&!i.hasFlag(4096):!1},r.prototype.checkForSuperMemberAccess=function(t,i,r,u){return i&&t.operand1.nodeType()===31&&!i.isError()&&i.kind!==65536?(u.postError(this.unitPath,t.operand2.minChar,t.operand2.getLength(),n.DiagnosticCode.Only_public_instance_methods_of_the_base_class_are_accessible_via_the_super_keyword,[],r),!0):!1},r.prototype.checkForPrivateMemberAccess=function(t,i,r,u,f){var e,o,s;if(r&&r.hasFlag(2)&&(e=r.getContainer(),e&&e.kind===33554432&&(e=e.getAssociatedContainerType()),e&&e.isClass())){for(o=u;o&&o.kind!=8;)o=o.getParentDecl();if(!o||o.getSymbol()!==e)return s=t.operand2,f.postError(this.unitPath,s.minChar,s.getLength(),n.DiagnosticCode._0_1_is_inaccessible,[e.toString(null,!1),s.actualText],u),!0}return!1},r.prototype.checkForStaticMemberAccess=function(t,i,r,u,f){if(i&&r&&!r.isError()&&(i.isClass()||i.kind===33554432)){var e=t.operand2;if((r.hasFlag(16)||this.isPrototypeMember(t,u,f))&&i.kind!==33554432)return f.postError(this.unitPath,e.minChar,e.getLength(),n.DiagnosticCode.Static_member_cannot_be_accessed_off_an_instance_variable,null,u),!0}return!1},r.typeCheckCallBacks=[],r.globalTypeCheckPhase=0,r}();n.PullTypeResolver=f;t=function(){function t(n){this.onlyCaptureFirstError=!1;this.flags=0;this.message="";this.stringConstantVal=null;this.indent=1;n&&(this.flags=n.flags,this.onlyCaptureFirstError=n.onlyCaptureFirstError,this.stringConstantVal=n.stringConstantVal,this.indent=n.indent+1)}return t.prototype.indentString=function(){for(var t="",n=0;n<this.indent;n++)t+="\t";return t},t.prototype.addMessage=function(t){this.message=!this.onlyCaptureFirstError&&this.message?this.message+n.newLine()+this.indentString()+t:this.indentString()+t},t.prototype.setMessage=function(n){this.message=this.indentString()+n},t}();n.TypeComparisonInfo=t}(TypeScript||(TypeScript={})),function(n){var u,t,i,r;n.declCacheHit=0;n.declCacheMiss=0;n.symbolCacheHit=0;n.symbolCacheMiss=0;u=[];t=function(){function t(t){this.topLevelDecls=[];this.topLevelSynthesizedDecls=[];this.declASTMap=new n.DataMap;this.astDeclMap=new n.DataMap;this.astSymbolMap=new n.DataMap;this.astAliasSymbolMap=new n.DataMap;this.symbolASTMap=new n.DataMap;this.astCallResolutionDataMap=n.Collections.createHashTable(n.Collections.DefaultHashTableCapacity,function(n){return n});this.syntaxElementSymbolMap=new n.DataMap;this.symbolSyntaxElementMap=new n.DataMap;this.properties=new i;this.hasBeenTypeChecked=!1;this.compilationUnitPath=t}return t.prototype.addTopLevelDecl=function(n){this.topLevelDecls[this.topLevelDecls.length]=n},t.prototype.setTypeChecked=function(n){typeof n=="undefined"&&(n=!0);this.hasBeenTypeChecked=n},t.prototype.getTypeChecked=function(){return this.hasBeenTypeChecked},t.prototype.invalidate=function(){this.astSymbolMap=new n.DataMap;this.symbolASTMap=new n.DataMap},t.prototype.getTopLevelDecls=function(){return this.topLevelDecls},t.prototype.getPath=function(){return this.compilationUnitPath},t.prototype.addSynthesizedDecl=function(n){this.topLevelSynthesizedDecls[this.topLevelSynthesizedDecls.length]=n},t.prototype.getSynthesizedDecls=function(){return this.topLevelSynthesizedDecls},t.prototype.cleanSynthesizedDecls=function(){this.topLevelSynthesizedDecls=[]},t.prototype.getDeclForAST=function(t){return n.useDirectTypeStorage?t.decl:this.astDeclMap.read(t.astIDString)},t.prototype.setDeclForAST=function(t,i){if(n.useDirectTypeStorage){t.decl=i;return}this.astDeclMap.link(t.astIDString,i)},t.prototype.getASTForDecl=function(t){return n.useDirectTypeStorage?t.ast:this.declASTMap.read(t.declIDString)},t.prototype.setASTForDecl=function(t,i){if(n.useDirectTypeStorage){t.ast=i;return}this.declASTMap.link(t.declIDString,i)},t.prototype.setSymbolForAST=function(t,i){if(n.useDirectTypeStorage){t.symbol=i;i.ast=t;return}this.astSymbolMap.link(t.astIDString,i);this.symbolASTMap.link(i.pullSymbolIDString,t)},t.prototype.getSymbolForAST=function(t){return n.useDirectTypeStorage?t.symbol:this.astSymbolMap.read(t.astIDString)},t.prototype.getASTForSymbol=function(t){return n.useDirectTypeStorage?t.ast:this.symbolASTMap.read(t.pullSymbolIDString)},t.prototype.setAliasSymbolForAST=function(t,i){if(n.useDirectTypeStorage){t.aliasSymbol=i;return}this.astAliasSymbolMap.link(t.astIDString,i)},t.prototype.getAliasSymbolForAST=function(t){return n.useDirectTypeStorage?t.aliasSymbol:this.astAliasSymbolMap.read(t.astIDString)},t.prototype.getCallResolutionDataForAST=function(t){return n.useDirectTypeStorage?t.callResolutionData:this.astCallResolutionDataMap.get(t.astID)},t.prototype.setCallResolutionDataForAST=function(t,i){if(i){if(n.useDirectTypeStorage){t.callResolutionData=i;return}this.astCallResolutionDataMap.set(t.astID,i)}},t.prototype.getDiagnostics=function(t){for(var i=0;i<this.topLevelDecls.length;i++)n.getDiagnosticsFromEnclosingDecl(this.topLevelDecls[i],t)},t.prototype.getProperties=function(){return this.properties},t}();n.SemanticInfo=t;i=function(){function n(){this.unitContainsBool=!1}return n}();n.SemanticInfoProperties=i;r=function(){function i(){this.units=[new t("")];this.declCache=new n.BlockIntrinsics;this.symbolCache=new n.BlockIntrinsics;this.unitCache=new n.BlockIntrinsics;this.topLevelDecls=[];this.anyTypeSymbol=null;this.booleanTypeSymbol=null;this.numberTypeSymbol=null;this.stringTypeSymbol=null;this.nullTypeSymbol=null;this.undefinedTypeSymbol=null;this.voidTypeSymbol=null;n.globalBinder&&(n.globalBinder.semanticInfoChain=this);var i=this.getGlobalDecl(),r=this.units[0];r.addTopLevelDecl(i)}return i.prototype.addPrimitiveType=function(t,i){var f=new n.TextSpan(0,0),u=new n.PullDecl(t,t,2,0,f,""),r=new n.PullPrimitiveTypeSymbol(t);return r.addDeclaration(u),u.setSymbol(r),r.setResolved(),i&&i.addChildDecl(u),r},i.prototype.addPrimitiveValue=function(t,i,r){var e=new n.TextSpan(0,0),f=new n.PullDecl(t,t,1024,8,e,""),u=new n.PullSymbol(t,1024);u.addDeclaration(f);f.setSymbol(u);u.type=i;u.setResolved();r.addChildDecl(f)},i.prototype.getGlobalDecl=function(){var i=new n.TextSpan(0,0),t=new n.PullDecl("","",0,0,i,"");return this.anyTypeSymbol=this.addPrimitiveType("any",t),this.booleanTypeSymbol=this.addPrimitiveType("boolean",t),this.numberTypeSymbol=this.addPrimitiveType("number",t),this.stringTypeSymbol=this.addPrimitiveType("string",t),this.voidTypeSymbol=this.addPrimitiveType("void",t),this.nullTypeSymbol=this.addPrimitiveType("null",null),this.undefinedTypeSymbol=this.addPrimitiveType("undefined",null),this.addPrimitiveValue("undefined",this.undefinedTypeSymbol,t),this.addPrimitiveValue("null",this.nullTypeSymbol,t),t},i.prototype.addUnit=function(n){this.units[this.units.length]=n;this.unitCache[n.getPath()]=n},i.prototype.getUnit=function(n){return this.unitCache[n]},i.prototype.updateUnit=function(n,t){for(var i=0;i<this.units.length;i++)if(this.units[i].getPath()===n.getPath()){this.units[i]=t;this.unitCache[n.getPath()]=t;return}},i.prototype.collectAllTopLevelDecls=function(){var i,n,t;if(this.topLevelDecls.length)return this.topLevelDecls;for(n=0;n<this.units.length;n++)for(i=this.units[n].getTopLevelDecls(),t=0;t<i.length;t++)this.topLevelDecls[this.topLevelDecls.length]=i[t];return this.topLevelDecls},i.prototype.collectAllSynthesizedDecls=function(){for(var i=[],r,t,n=0;n<this.units.length;n++)for(r=this.units[n].getSynthesizedDecls(),t=0;t<r.length;t++)i[i.length]=r[t];return i},i.prototype.getDeclPathCacheID=function(n,t){for(var r="",i=0;i<n.length;i++)r+="#"+n[i];return r+"#"+t.toString()},i.prototype.findTopLevelSymbol=function(n,t,i){var o=this.getDeclPathCacheID([n],t),r=this.symbolCache[n],f,e,u;if(!r){for(f=this.collectAllTopLevelDecls(),e=null,u=0;u<f.length;u++){if(e=f[u].searchChildDecls(n,t),e.length){r=e[0].getSymbol();break}if(f[u].name==i)break}r&&(this.symbolCache[o]=r,r.addCacheID(o))}return r},i.prototype.findDecls=function(t,i){var v=this.getDeclPathCacheID(t,i),f,u,l,a,s,h,c;if(t.length&&(f=this.declCache[v],f&&f.length))return n.declCacheHit++,f;if(n.declCacheMiss++,i==32&&t.length==1&&(u=t[0],n.isRooted(u)))return(l=this.unitCache[u],l&&(a=l.getTopLevelDecls()[0].getChildDecls()[0],a.kind==32))?[a]:n.sentinelEmptyArray;var e=this.collectAllTopLevelDecls(),r=n.sentinelEmptyArray,u,o=n.sentinelEmptyArray,y=i&n.PullElementKind.SomeContainer||i&16;for(s=0;s<t.length;s++){for(u=t[s],r=n.sentinelEmptyArray,h=0;h<e.length;h++){for(o=e[h].searchChildDecls(u,i),c=0;c<o.length;c++)r==n.sentinelEmptyArray&&(r=[]),r[r.length]=o[c];if(o.length&&!y)break}if(e=r,!e)break}return r.length&&(this.declCache[v]=r),r},i.prototype.findDeclsFromPath=function(n,t){for(var r=[],i=0,u=n.length;i<u;i++)n[i].kind&1||r.push(n[i].name);return this.findDecls(r,t)},i.prototype.findSymbol=function(t,i){var u=this.getDeclPathCacheID(t,i),f,e,r;return t.length&&(f=this.symbolCache[u],f)?(n.symbolCacheHit++,f):(n.symbolCacheMiss++,e=this.findDecls(t,i),r=null,e.length&&(r=e[0].getSymbol(),r&&(this.symbolCache[u]=r,r.addCacheID(u))),r)},i.prototype.cacheGlobalSymbol=function(n,t){var i=this.getDeclPathCacheID([n.name],t),r=this.getDeclPathCacheID([n.name],n.kind);this.symbolCache[i]||(this.symbolCache[i]=n,n.addCacheID(i));this.symbolCache[r]||(this.symbolCache[r]=n,n.addCacheID(r))},i.prototype.cleanDecl=function(n){var i,r,t,u;for(n.setSymbol(null),n.setSignatureSymbol(null),n.setSpecializingSignatureSymbol(null),n.setIsBound(!1),i=n.getChildDecls(),t=0;t<i.length;t++)this.cleanDecl(i[t]);for(r=n.getTypeParameters(),t=0;t<r.length;t++)this.cleanDecl(r[t]);u=n.getValueDecl();u&&this.cleanDecl(u)},i.prototype.cleanAllDecls=function(){for(var i=this.collectAllTopLevelDecls(),t,n=1;n<i.length;n++)this.cleanDecl(i[n]);for(t=this.collectAllSynthesizedDecls(),n=0;n<t.length;n++)this.cleanDecl(t[n]);this.cleanAllSynthesizedDecls();this.topLevelDecls=[]},i.prototype.cleanAllSynthesizedDecls=function(){for(var n=0;n<this.units.length;n++)this.units[n].cleanSynthesizedDecls()},i.prototype.update=function(){this.declCache=new n.BlockIntrinsics;this.symbolCache=new n.BlockIntrinsics;this.units[0]=new t("");this.units[0].addTopLevelDecl(this.getGlobalDecl());this.cleanAllDecls();for(var i in this.unitCache)this.unitCache[i]&&this.unitCache[i].invalidate()},i.prototype.invalidateUnit=function(n){var t=this.unitCache[n];t&&t.invalidate()},i.prototype.forceTypeCheck=function(n){var t=this.unitCache[n];t&&t.setTypeChecked(!1)},i.prototype.getDeclForAST=function(n,t){var i=this.unitCache[t];return i?i.getDeclForAST(n):null},i.prototype.getASTForDecl=function(n){var t=this.unitCache[n.getScriptName()];return t?t.getASTForDecl(n):null},i.prototype.getSymbolForAST=function(t,i){if(n.useDirectTypeStorage)return t.symbol;var r=this.unitCache[i];return r?r.getSymbolForAST(t):null},i.prototype.getASTForSymbol=function(t,i){if(n.useDirectTypeStorage)return t.ast;var r=this.unitCache[i];return r?r.getASTForSymbol(t):null},i.prototype.setSymbolForAST=function(t,i,r){if(n.useDirectTypeStorage){t.symbol=i;return}var u=this.unitCache[r];u&&u.setSymbolForAST(t,i)},i.prototype.getAliasSymbolForAST=function(t,i){if(n.useDirectTypeStorage)return t.aliasSymbol;var r=this.unitCache[i];return r?r.getAliasSymbolForAST(t):null},i.prototype.removeSymbolFromCache=function(t){var i=[t.name],r=(t.kind&n.PullElementKind.SomeType)!=0?n.PullElementKind.SomeType:n.PullElementKind.SomeValue,u=this.getDeclPathCacheID(i,r),f=this.getDeclPathCacheID(i,t.kind);t.addCacheID(u);t.addCacheID(f);t.invalidateCachedIDs(this.symbolCache)},i.prototype.postDiagnostics=function(){for(var t=[],n=1;n<this.units.length;n++)this.units[n].getDiagnostics(t);return t},i}();n.SemanticInfoChain=r}(TypeScript||(TypeScript={})),function(n){function e(t,i,r){var u=t,o=0,s=n.TextSpan.fromBounds(u.minChar,u.limChar),f=r.getParent(),e;return!r.containingModuleHasExportAssignment()&&n.hasFlag(u.getVarFlags(),1)&&(o|=1),f&&(f.kind===536870912||f.flags&2097152)&&(o|=2097152),e=new n.PullDecl(u.id.text(),u.id.actualText,256,o,s,r.scriptName),r.semanticInfo.setDeclForAST(t,e),r.semanticInfo.setASTForDecl(e,t),f.addChildDecl(e),e.setParentDecl(f),!1}function o(t,i,r){var u=t,e=0,h=u.name.text(),l=n.isQuoted(h)||n.hasFlag(u.getModuleFlags(),512),o=4,c,f,s;return!r.containingModuleHasExportAssignment()&&(n.hasFlag(u.getModuleFlags(),1)||r.isParsingAmbientModule())&&(e|=1),(n.hasFlag(u.getModuleFlags(),8)||r.isParsingAmbientModule()||r.isDeclareFile)&&(e|=8),n.hasFlag(u.getModuleFlags(),128)?(e|=135168,o=64):o=l?32:4,c=n.TextSpan.fromBounds(u.minChar,u.limChar),f=new n.PullDecl(h,u.name.actualText,o,e,c,r.scriptName),r.semanticInfo.setDeclForAST(t,f),r.semanticInfo.setASTForDecl(f,t),s=r.getParent(),s.addChildDecl(f),f.setParentDecl(s),r.pushParent(f),r.containingModuleHasExportAssignmentArray.push(n.ArrayUtilities.any(u.members.members,function(n){return n.nodeType()===88})),r.isParsingAmbientModuleArray.push(r.isDeclareFile||n.ArrayUtilities.last(r.isParsingAmbientModuleArray)||n.hasFlag(u.getModuleFlags(),8)),!0}function s(t,i,r){var e=0,f;!r.containingModuleHasExportAssignment()&&(n.hasFlag(t.getVarFlags(),1)||r.isParsingAmbientModule())&&(e|=1);(n.hasFlag(t.getVarFlags(),8)||r.isParsingAmbientModule()||r.isDeclareFile)&&(e|=8);var s=n.TextSpan.fromBounds(t.minChar,t.limChar),u=new n.PullDecl(t.name.text(),t.name.actualText,8,e,s,r.scriptName),o=new n.PullDecl(t.name.text(),t.name.actualText,1024,e|16384,s,r.scriptName);return u.setValueDecl(o),f=r.getParent(),f.addChildDecl(u),f.addChildDecl(o),u.setParentDecl(f),o.setParentDecl(f),r.pushParent(u),r.semanticInfo.setDeclForAST(t,u),r.semanticInfo.setASTForDecl(u,t),r.semanticInfo.setASTForDecl(o,t),!0}function h(t,i){var f=0,e=n.TextSpan.fromBounds(t.minChar,t.limChar),r=i.getParent(),u;return r&&(r.kind===536870912||r.flags&2097152)&&(f|=2097152),u=new n.PullDecl("","",8388608,f,e,i.scriptName),i.semanticInfo.setDeclForAST(t,u),i.semanticInfo.setASTForDecl(u,t),r&&(r.addChildDecl(u),u.setParentDecl(r)),i.pushParent(u),!0}function c(t,i,r){var e=0,o,u,f;return t.getFlags()&8?h(t,r):(!r.containingModuleHasExportAssignment()&&(n.hasFlag(t.getVarFlags(),1)||r.isParsingAmbientModule())&&(e|=1),o=n.TextSpan.fromBounds(t.minChar,t.limChar),u=new n.PullDecl(t.name.text(),t.name.actualText,16,e,o,r.scriptName),r.semanticInfo.setDeclForAST(t,u),r.semanticInfo.setASTForDecl(u,t),f=r.getParent(),f&&(f.addChildDecl(u),u.setParentDecl(f)),r.pushParent(u),!0)}function l(u,f,e){var c=0,o,l,s,h,a;return c|=n.hasFlag(u.getVarFlags(),2)?2:4,(n.hasFlag(u.getFlags(),4)||n.hasFlag(u.id.getFlags(),4))&&(c|=128),o=e.getParent(),o&&(o.kind===536870912||o.flags&2097152)&&(c|=2097152),l=n.TextSpan.fromBounds(u.minChar,u.limChar),s=new n.PullDecl(u.id.text(),u.id.actualText,2048,c,l,e.scriptName),o.addChildDecl(s),s.setParentDecl(o),n.hasFlag(u.getVarFlags(),256)?(h=new n.PullDecl(u.id.text(),u.id.actualText,4096,c,l,e.scriptName),h.setValueDecl(s),s.setFlag(8388608),e.parentChain[e.parentChain.length-2].addChildDecl(h),h.setParentDecl(e.parentChain[e.parentChain.length-2]),e.semanticInfo.setASTForDecl(s,u),e.semanticInfo.setASTForDecl(h,u),e.semanticInfo.setDeclForAST(u,h)):(e.semanticInfo.setASTForDecl(s,u),e.semanticInfo.setDeclForAST(u,s)),u.typeExpr&&(u.typeExpr.term.nodeType()===15||u.typeExpr.term.nodeType()===13)&&(a=new t(e.semanticInfo,e.scriptName),o&&a.pushParent(o),n.getAstWalkerFactory().walk(u.typeExpr.term,i,r,null,a)),!1}function a(u,f,e){var c=0,l=n.TextSpan.fromBounds(u.minChar,u.limChar),o=e.getParent(),s,h;return o&&(o.kind===536870912||o.flags&2097152)&&(c|=2097152),s=new n.PullDecl(u.name.text(),u.name.actualText,8192,c,l,e.scriptName),e.semanticInfo.setASTForDecl(s,u),e.semanticInfo.setDeclForAST(u,s),o.addChildDecl(s),s.setParentDecl(o),u.constraint&&(u.constraint.term.nodeType()===15||u.constraint.term.nodeType()===13)&&(h=new t(e.semanticInfo,e.scriptName),o&&h.pushParent(o),n.getAstWalkerFactory().walk(u.constraint.term,i,r,null,h)),!0}function v(u,f){var s=4,e=f.getParent(),l=e.kind===64?67108864:4096,c,o,h;return n.hasFlag(u.id.getFlags(),4)&&(s|=128),u.constantValue!==null&&(s|=524288),c=n.TextSpan.fromBounds(u.minChar,u.limChar),o=new n.PullDecl(u.id.text(),u.id.actualText,l,s,c,f.scriptName),f.semanticInfo.setDeclForAST(u,o),f.semanticInfo.setASTForDecl(o,u),e.addChildDecl(o),o.setParentDecl(e),u.typeExpr&&(u.typeExpr.term.nodeType()===15||u.typeExpr.term.nodeType()===13)&&(h=new t(f.semanticInfo,f.scriptName),e&&h.pushParent(e),n.getAstWalkerFactory().walk(u.typeExpr.term,i,r,null,h)),!1}function y(u,f){var s=0,c,e,o,h;return s|=n.hasFlag(u.getVarFlags(),2)?2:4,n.hasFlag(u.getVarFlags(),16)&&(s|=16),c=n.TextSpan.fromBounds(u.minChar,u.limChar),e=new n.PullDecl(u.id.text(),u.id.actualText,4096,s,c,f.scriptName),f.semanticInfo.setDeclForAST(u,e),f.semanticInfo.setASTForDecl(e,u),o=f.getParent(),o.addChildDecl(e),e.setParentDecl(o),u.typeExpr&&(u.typeExpr.term.nodeType()===15||u.typeExpr.term.nodeType()===13)&&(h=new t(f.semanticInfo,f.scriptName),o&&h.pushParent(o),n.getAstWalkerFactory().walk(u.typeExpr.term,i,r,null,h)),!1}function p(u,f){var s=0,c,e,o,h;return!f.containingModuleHasExportAssignment()&&(n.hasFlag(u.getVarFlags(),1)||f.isParsingAmbientModule())&&(s|=1),(n.hasFlag(u.getVarFlags(),8)||f.isParsingAmbientModule()||f.isDeclareFile)&&(s|=8),c=n.TextSpan.fromBounds(u.minChar,u.limChar),e=f.getParent(),e&&(e.kind===536870912||e.flags&2097152)&&(s|=2097152),o=new n.PullDecl(u.id.text(),u.id.actualText,1024,s,c,f.scriptName),f.semanticInfo.setDeclForAST(u,o),f.semanticInfo.setASTForDecl(o,u),e.addChildDecl(o),o.setParentDecl(e),u.typeExpr&&(u.typeExpr.term.nodeType()===15||u.typeExpr.term.nodeType()===13)&&(h=new t(f.semanticInfo,f.scriptName),e&&h.pushParent(e),n.getAstWalkerFactory().walk(u.typeExpr.term,i,r,null,h)),!1}function w(t,i,r){var u=t;return n.hasFlag(u.getVarFlags(),2048)?y(u,r):n.hasFlag(u.getVarFlags(),256)?v(u,r):p(u,r)}function b(u,f){var h=2048,c=n.TextSpan.fromBounds(u.minChar,u.limChar),o=f.getParent(),e,s;return o&&(o.kind===536870912||o.flags&2097152)&&(h|=2097152),e=new n.PullDecl("","",16777216,h,c,f.semanticInfo.getPath()),f.semanticInfo.setDeclForAST(u,e),f.semanticInfo.setASTForDecl(e,u),o&&(o.addChildDecl(e),e.setParentDecl(o)),f.pushParent(e),u.returnTypeAnnotation&&(u.returnTypeAnnotation.term.nodeType()===15||u.returnTypeAnnotation.term.nodeType()===13)&&(s=new t(f.semanticInfo,f.scriptName),s.pushParent(e),n.getAstWalkerFactory().walk(u.returnTypeAnnotation.term,i,r,null,s)),!0}function k(u,f){var h=0,c=n.TextSpan.fromBounds(u.minChar,u.limChar),o=f.getParent(),e,s;return o&&(o.kind===536870912||o.flags&2097152)&&(h|=2097152),e=new n.PullDecl("","",33554432,h,c,f.semanticInfo.getPath()),f.semanticInfo.setDeclForAST(u,e),f.semanticInfo.setASTForDecl(e,u),o&&(o.addChildDecl(e),e.setParentDecl(o)),f.pushParent(e),u.returnTypeAnnotation&&(u.returnTypeAnnotation.term.nodeType()===15||u.returnTypeAnnotation.term.nodeType()===13)&&(s=new t(f.semanticInfo,f.scriptName),s.pushParent(e),n.getAstWalkerFactory().walk(u.returnTypeAnnotation.term,i,r,null,s)),!0}function d(u,f){var s=0,c,e,o,h;return!f.containingModuleHasExportAssignment()&&(n.hasFlag(u.getFunctionFlags(),1)||f.isParsingAmbientModule())&&(s|=1),(n.hasFlag(u.getFunctionFlags(),8)||f.isParsingAmbientModule()||f.isDeclareFile)&&(s|=8),u.block||(s|=2048),c=n.TextSpan.fromBounds(u.minChar,u.limChar),e=f.getParent(),e&&(e.kind===536870912||e.flags&2097152)&&(s|=2097152),o=new n.PullDecl(u.name.text(),u.name.actualText,16384,s,c,f.scriptName),f.semanticInfo.setDeclForAST(u,o),f.semanticInfo.setASTForDecl(o,u),e&&(e.addChildDecl(o),o.setParentDecl(e)),f.pushParent(o),u.returnTypeAnnotation&&(u.returnTypeAnnotation.term.nodeType()===15||u.returnTypeAnnotation.term.nodeType()===13)&&(h=new t(f.semanticInfo,f.scriptName),h.pushParent(o),n.getAstWalkerFactory().walk(u.returnTypeAnnotation.term,i,r,null,h)),!0}function g(u,f){var s=0,c,e,l,o,h;return n.hasFlag(u.getFunctionFlags(),2048)&&(s|=8192),c=n.TextSpan.fromBounds(u.minChar,u.limChar),e=f.getParent(),e&&(e.kind===536870912||e.flags&2097152)&&(s|=2097152),l=u.name?u.name.actualText:"",o=new n.PullFunctionExpressionDecl(l,s,c,f.scriptName),f.semanticInfo.setDeclForAST(u,o),f.semanticInfo.setASTForDecl(o,u),e&&(e.addChildDecl(o),o.setParentDecl(e)),f.pushParent(o),u.returnTypeAnnotation&&(u.returnTypeAnnotation.term.nodeType()===15||u.returnTypeAnnotation.term.nodeType()===13)&&(h=new t(f.semanticInfo,f.scriptName),h.pushParent(o),n.getAstWalkerFactory().walk(u.returnTypeAnnotation.term,i,r,null,h)),!0}function nt(u,f){var o=0,c,e,s,h;return n.hasFlag(u.getFunctionFlags(),16)&&(o|=16),o|=n.hasFlag(u.getFunctionFlags(),2)?2:4,u.block||(o|=2048),n.hasFlag(u.name.getFlags(),4)&&(o|=128),c=n.TextSpan.fromBounds(u.minChar,u.limChar),e=new n.PullDecl(u.name.text(),u.name.actualText,65536,o,c,f.scriptName),f.semanticInfo.setDeclForAST(u,e),f.semanticInfo.setASTForDecl(e,u),s=f.getParent(),s&&(s.addChildDecl(e),e.setParentDecl(s)),f.pushParent(e),u.returnTypeAnnotation&&(u.returnTypeAnnotation.term.nodeType()===15||u.returnTypeAnnotation.term.nodeType()===13)&&(h=new t(f.semanticInfo,f.scriptName),h.pushParent(e),n.getAstWalkerFactory().walk(u.returnTypeAnnotation.term,i,r,null,h)),!0}function tt(u,f){var h=3072,c=n.TextSpan.fromBounds(u.minChar,u.limChar),e=f.getParent(),o,s;return e&&(e.kind===536870912||e.flags&2097152)&&(h|=2097152),o=new n.PullDecl("","",4194304,h,c,f.scriptName),f.semanticInfo.setDeclForAST(u,o),f.semanticInfo.setASTForDecl(o,u),e&&(e.addChildDecl(o),o.setParentDecl(e)),f.pushParent(o),u.returnTypeAnnotation&&(u.returnTypeAnnotation.term.nodeType()===15||u.returnTypeAnnotation.term.nodeType()===13)&&(s=new t(f.semanticInfo,f.scriptName),e&&s.pushParent(e),n.getAstWalkerFactory().walk(u.returnTypeAnnotation.term,i,r,null,s)),!0}function it(u,f){var h=2304,c=n.TextSpan.fromBounds(u.minChar,u.limChar),o=f.getParent(),e,s;return o&&(o.kind===536870912||o.flags&2097152)&&(h|=2097152),e=new n.PullDecl("","",1048576,h,c,f.scriptName),f.semanticInfo.setDeclForAST(u,e),f.semanticInfo.setASTForDecl(e,u),o&&(o.addChildDecl(e),e.setParentDecl(o)),f.pushParent(e),u.returnTypeAnnotation&&(u.returnTypeAnnotation.term.nodeType()===15||u.returnTypeAnnotation.term.nodeType()===13)&&(s=new t(f.semanticInfo,f.scriptName),s.pushParent(e),n.getAstWalkerFactory().walk(u.returnTypeAnnotation.term,i,r,null,s)),!0}function rt(u,f){var h=2304,c=n.TextSpan.fromBounds(u.minChar,u.limChar),o=f.getParent(),e,s;return o&&(o.kind===536870912||o.flags&2097152)&&(h|=2097152),e=new n.PullDecl("","",2097152,h,c,f.scriptName),f.semanticInfo.setDeclForAST(u,e),f.semanticInfo.setASTForDecl(e,u),o&&(o.addChildDecl(e),e.setParentDecl(o)),f.pushParent(e),u.returnTypeAnnotation&&(u.returnTypeAnnotation.term.nodeType()===15||u.returnTypeAnnotation.term.nodeType()===13)&&(s=new t(f.semanticInfo,f.scriptName),s.pushParent(e),n.getAstWalkerFactory().walk(u.returnTypeAnnotation.term,i,r,null,s)),!0}function ut(u,f){var s=512,c,e,l,o,h;return u.block||(s|=2048),c=n.TextSpan.fromBounds(u.minChar,u.limChar),e=f.getParent(),e&&(l=e.flags,l&1&&(s|=1)),o=new n.PullDecl(e.name,e.getDisplayName(),32768,s,c,f.scriptName),f.semanticInfo.setDeclForAST(u,o),f.semanticInfo.setASTForDecl(o,u),e&&(e.addChildDecl(o),o.setParentDecl(e)),f.pushParent(o),u.returnTypeAnnotation&&(u.returnTypeAnnotation.term.nodeType()===15||u.returnTypeAnnotation.term.nodeType()===13)&&(h=new t(f.semanticInfo,f.scriptName),h.pushParent(o),n.getAstWalkerFactory().walk(u.returnTypeAnnotation.term,i,r,null,h)),!0}function ft(u,f){var s=4,c,e,o,h;return n.hasFlag(u.getFunctionFlags(),16)&&(s|=16),n.hasFlag(u.name.getFlags(),4)&&(s|=128),s|=n.hasFlag(u.getFunctionFlags(),2)?2:4,c=n.TextSpan.fromBounds(u.minChar,u.limChar),e=f.getParent(),e&&(e.kind===536870912||e.flags&2097152)&&(s|=2097152),o=new n.PullDecl(u.name.text(),u.name.actualText,262144,s,c,f.scriptName),f.semanticInfo.setDeclForAST(u,o),f.semanticInfo.setASTForDecl(o,u),e&&(e.addChildDecl(o),o.setParentDecl(e)),f.pushParent(o),u.returnTypeAnnotation&&(u.returnTypeAnnotation.term.nodeType()===15||u.returnTypeAnnotation.term.nodeType()===13)&&(h=new t(f.semanticInfo,f.scriptName),h.pushParent(o),n.getAstWalkerFactory().walk(u.returnTypeAnnotation.term,i,r,null,h)),!0}function et(t,i){var f=4,e,r,u;return n.hasFlag(t.getFunctionFlags(),16)&&(f|=16),n.hasFlag(t.name.getFlags(),4)&&(f|=128),f|=n.hasFlag(t.getFunctionFlags(),2)?2:4,e=n.TextSpan.fromBounds(t.minChar,t.limChar),r=i.getParent(),r&&(r.kind===536870912||r.flags&2097152)&&(f|=2097152),u=new n.PullDecl(t.name.actualText,t.name.actualText,524288,f,e,i.scriptName),i.semanticInfo.setDeclForAST(t,u),i.semanticInfo.setASTForDecl(u,t),r&&(r.addChildDecl(u),u.setParentDecl(r)),i.pushParent(u),!0}function ot(t,i,r){var e=0,o=n.TextSpan.fromBounds(t.minChar,t.limChar),u=r.getParent(),f;return u&&(u.kind===536870912||u.flags&2097152)&&(e|=2097152),f=new n.PullDecl("","",1073741824,e,o,r.scriptName),r.semanticInfo.setDeclForAST(t,f),r.semanticInfo.setASTForDecl(f,t),u&&(u.addChildDecl(f),f.setParentDecl(u)),r.pushParent(f),!0}function st(t,i,r){var e=n.TextSpan.fromBounds(t.minChar,t.limChar),f=r.getParent(),u=new n.PullDecl("","",536870912,0,e,r.scriptName);return r.semanticInfo.setDeclForAST(t,u),r.semanticInfo.setASTForDecl(u,t),f&&(f.addChildDecl(u),u.setParentDecl(f)),r.pushParent(u),!0}function ht(t,i,r){var u=t;return u.isConstructor?ut(u,r):u.isGetAccessor()?ft(u,r):u.isSetAccessor()?et(u,r):n.hasFlag(u.getFunctionFlags(),1024)?n.hasFlag(u.getFlags(),8)?k(u,r):rt(u,r):n.hasFlag(u.getFunctionFlags(),512)?it(u,r):n.hasFlag(u.getFunctionFlags(),4096)?tt(u,r):n.hasFlag(u.getFlags(),8)?b(u,r):n.hasFlag(u.getFunctionFlags(),256)?nt(u,r):n.hasFlag(u.getFunctionFlags(),26624)?g(u,r):d(u,r)}function i(t,i,r){var f=r.state,u=!1;if(t.nodeType()===2){var h=t,y=n.TextSpan.fromBounds(h.minChar,h.limChar),v=new n.PullDecl(f.scriptName,f.scriptName,1,0,y,f.scriptName);f.semanticInfo.setDeclForAST(t,v);f.semanticInfo.setASTForDecl(v,t);f.pushParent(v);f.isDeclareFile=h.isDeclareFile;u=!0}else t.nodeType()===1?u=!0:t.nodeType()===82?u=!0:t.nodeType()===19?u=!0:t.nodeType()===98?u=!0:t.nodeType()===16?u=o(t,i,f):t.nodeType()===14?u=s(t,i,f):t.nodeType()===15?u=c(t,i,f):t.nodeType()===20?u=l(t,i,f):t.nodeType()===18?u=w(t,i,f):t.nodeType()===13?u=ht(t,i,f):t.nodeType()===17?u=e(t,i,f):t.nodeType()===9?u=a(t,i,f):t.nodeType()===92?u=!0:t.nodeType()===91?u=!0:t.nodeType()===90?u=!0:t.nodeType()===99?u=!0:t.nodeType()===86?u=!0:t.nodeType()===26?u=!0:t.nodeType()===94?u=!0:t.nodeType()===95||t.nodeType()===101?u=!0:t.nodeType()===37?u=!0:t.nodeType()===38?u=!0:t.nodeType()===97?u=!0:t.nodeType()===93?u=!0:t.nodeType()===102?u=ot(t,i,f):t.nodeType()===100&&(u=st(t,i,f));return r.options.goChildren=u,t}function u(n){return n.kind===4||n.kind===32||n.kind===64}function f(n){return n.kind&4?32768:n.kind&64?131072:n.kind&32?65536:0}function ct(n){var t=n.kind;return t&4?(n.flags&32768)!=0:t&64?(n.flags&131072)!=0:t&32?(n.flags&65536)!=0:!1}function r(t,i,r){var o=r.state,e,s=0,h,c;return t.nodeType()===16?(h=o.getParent(),o.popParent(),o.containingModuleHasExportAssignmentArray.pop(),o.isParsingAmbientModuleArray.pop(),e=o.getParent(),ct(h)&&(e&&u(e)&&(s=f(e),e.setFlags(e.flags|s)),c=new n.PullDecl(h.name,h.getDisplayName(),1024,h.flags,h.getSpan(),o.scriptName),h.setValueDecl(c),o.semanticInfo.setASTForDecl(c,t),e&&(e.addChildDecl(c),c.setParentDecl(e)))):t.nodeType()===14?(o.popParent(),e=o.getParent(),e&&u(e)&&(s=f(e),e.setFlags(e.flags|s))):t.nodeType()===15?o.popParent():t.nodeType()===13?(o.popParent(),e=o.getParent(),e&&u(e)&&(s=f(e),e.setFlags(e.flags|s))):t.nodeType()===18?(e=o.getParent(),e&&u(e)&&(s=f(e),e.setFlags(e.flags|s))):t.nodeType()===102?(e=o.getParent(),e&&u(e)&&(s=f(e),e.setFlags(e.flags|s)),o.popParent()):t.nodeType()===100&&(e=o.getParent(),e&&u(e)&&(s=f(e),e.setFlags(e.flags|s)),o.popParent()),t}var t=function(){function t(n,t){this.semanticInfo=n;this.scriptName=t;this.isDeclareFile=!1;this.parentChain=[];this.containingModuleHasExportAssignmentArray=[!1];this.isParsingAmbientModuleArray=[!1];this.foundValueDecl=!1}return t.prototype.getParent=function(){return this.parentChain?this.parentChain[this.parentChain.length-1]:null},t.prototype.pushParent=function(n){n&&(this.parentChain[this.parentChain.length]=n)},t.prototype.popParent=function(){this.parentChain.length--},t.prototype.containingModuleHasExportAssignment=function(){return n.Debug.assert(this.containingModuleHasExportAssignmentArray.length>0),n.ArrayUtilities.last(this.containingModuleHasExportAssignmentArray)},t.prototype.isParsingAmbientModule=function(){return n.Debug.assert(this.isParsingAmbientModuleArray.length>0),n.ArrayUtilities.last(this.isParsingAmbientModuleArray)},t}();n.DeclCollectionContext=t;n.preCollectDecls=i;n.postCollectDecls=r}(TypeScript||(TypeScript={})),function(n){function t(n){var t,i;if(!n)return[];if(t=n.getParentPath(),t)return t;for(t=[n],i=n.getParentDecl();i;)!i||t[t.length-1]==i||i.kind&512||(t[t.length]=i),i=i.getParentDecl();return t=t.reverse(),n.setParentPath(t),t}n.getPathToDecl=t;var i=function(){function i(t){this.semanticInfoChain=t;this.functionTypeParameterCache=new n.BlockIntrinsics;this.semanticInfo=null}return i.prototype.findTypeParameterInCache=function(n){return this.functionTypeParameterCache[n]},i.prototype.addTypeParameterToCache=function(n){this.functionTypeParameterCache[n.getName()]=n},i.prototype.resetTypeParameterCache=function(){this.functionTypeParameterCache=new n.BlockIntrinsics},i.prototype.setUnit=function(n){this.semanticInfo=this.semanticInfoChain.getUnit(n)},i.prototype.getParent=function(n,t){var r,i,u,f;return(typeof t=="undefined"&&(t=!1),r=n.getParentDecl(),r.kind==1)?null:(i=r.getSymbol(),i||!r||r.isBound()||this.bindDeclToPullSymbol(r),i=r.getSymbol(),i&&(u=r.kind,u==262144?i=i.getGetter():u==524288&&(i=i.getSetter())),i)?t&&i.isType()&&i.isContainer()&&(f=i.getInstanceSymbol(),f)?f.type:i.type:null},i.prototype.findDeclsInContext=function(n,i,r){var o,u,e,f;if(!r)return o=n.getParentDecl(),o.searchChildDecls(n.name,i);if(u=t(n),u.length){for(e=[],f=0;f<u.length;f++)u[f].kind&1||(e[e.length]=u[f].name);return this.semanticInfoChain.findDecls(e,i)}return this.semanticInfoChain.findDecls([name],i)},i.prototype.bindModuleDeclarationToPullSymbol=function(t){var f=t.name,i=null,s=null,e=null,lt=t.getValueDecl(),k=t.kind,o=this.getParent(t),l=this.getParent(t,!0),ut=t.getParentDecl(),h=this.semanticInfo.getASTForDecl(t),d=t.flags&1,v=(k&64)!=0,y=v?64:n.PullElementKind.SomeContainer,ft=(t.flags&n.PullElementFlags.SomeInitializedModule)!=0,et=!1,r,g,ot,c,p,nt,st,tt,ht,ct,w,b,it,rt,a,u;if(o?d?i=o.findNestedType(f,y):(i=o.findContainedNonMemberType(f),!i||i.kind&y||(i=null)):d&&t.kind!==32||(i=this.semanticInfoChain.findTopLevelSymbol(f,y,this.semanticInfo.getPath())),i&&i.kind!==k&&(ft&&t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),h.minChar,h.getLength(),n.DiagnosticCode.Duplicate_identifier_0,[t.getDisplayName()])),i=null),i?s=i.getInstanceSymbol():(i=new n.PullContainerTypeSymbol(f,k),et=!0,o||this.semanticInfoChain.cacheGlobalSymbol(i,y)),!s&&ft){if(r=null,!v)if(l)d?(r=l.findMember(f,!1),r||(r=l.findContainedNonMember(f))):(r=l.findContainedNonMember(f),r||(r=l.findMember(f,!1))),r&&(g=r.getDeclarations(),g.length&&(ot=g[0].getParentDecl(),ut!==ot&&(r=null)));else if(!(t.flags&1)){for(c=ut.getChildDecls(),p=null,u=0;u<c.length;u++){if(c[u]==t)break;if(c[u].name==f&&c[u].kind&(8|n.PullElementKind.SomeFunction)){p=c[u];break}}p&&(r=p.getSymbol(),r&&r.isType()&&(r=r.getConstructorMethod()))}r&&(nt=r.kind,st=nt==16384||nt==32768||r.hasFlag(n.PullElementFlags.ImplicitVariable),st?e=r.type:r=null);e||(e=new n.PullTypeSymbol("",8388608));e.addDeclaration(t);e.getAssociatedContainerType()||e.setAssociatedContainerType(i);r?s=r:(s=new n.PullSymbol(f,1024),s.type=e);i.setInstanceSymbol(s)}if(i.addDeclaration(t),t.setSymbol(i),this.semanticInfo.setSymbolForAST(h.name,i),this.semanticInfo.setSymbolForAST(h,i),tt=i.getDeclarations(),v&&tt.length>1&&h.members.members.length>0&&(ht=n.ArrayUtilities.where(tt,function(n){return n.kind===64}).length>1,ht&&(ct=h.members.members[0],w=ct.declaration.declarators.members[0],w.init||t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),w.minChar,w.getLength(),n.DiagnosticCode.Enums_with_multiple_declarations_must_provide_an_initializer_for_the_first_enum_element,null)))),et&&o&&(t.flags&1?o.addEnclosedMemberType(i):o.addEnclosedNonMemberType(i)),v&&(e=i.getInstanceSymbol().type,b=new n.PullSignatureSymbol(4194304),it=new n.PullSymbol("x",2048),it.type=this.semanticInfoChain.numberTypeSymbol,b.addParameter(it),b.returnType=this.semanticInfoChain.stringTypeSymbol,e.addIndexSignature(b)),rt=t.getValueDecl(),rt&&rt.ensureSymbolIsBound(),a=this.findDeclsInContext(t,t.kind,!0),a&&a.length)for(u=0;u<a.length;u++)a[u].ensureSymbolIsBound()},i.prototype.bindImportDeclaration=function(t){var h=t.flags,c=t.kind,f=this.semanticInfo.getASTForDecl(t),i=null,u=t.name,o=!1,r=this.getParent(t),e,s;r?(i=r.findMember(u,!1),i||(i=r.findContainedNonMemberType(u),i&&(e=i.getDeclarations(),e.length&&(s=e[0].getParentDecl(),s!==t.getParentDecl()&&(i=null))))):t.flags&1||(i=this.semanticInfoChain.findTopLevelSymbol(u,n.PullElementKind.SomeContainer,this.semanticInfo.getPath()));i&&(o=!0);i&&(t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),f.minChar,f.getLength(),n.DiagnosticCode.Duplicate_identifier_0,[t.getDisplayName()])),i=null);i||(i=new n.PullTypeAliasSymbol(u),r||this.semanticInfoChain.cacheGlobalSymbol(i,n.PullElementKind.SomeContainer));i.addDeclaration(t);t.setSymbol(i);this.semanticInfo.setSymbolForAST(f,i);r&&!o&&(h&1?r.addEnclosedMemberType(i):r.addEnclosedNonMemberType(i))},i.prototype.bindClassDeclarationToPullSymbol=function(t){var o=t.name,i=null,r=null,s=null,c=this.semanticInfo.getASTForDecl(t),f=this.getParent(t),w=t.getParentDecl(),b=t.flags&1,l,p,h,u,a,e,v,y;for(f?b?(i=f.findNestedType(o),i||(i=f.findMember(o,!1))):(i=f.findContainedNonMemberType(o),i&&i.kind&8?(l=i.getDeclarations(),l.length&&(p=l[0].getParentDecl(),p!==w&&(i=null))):i=null):i=this.semanticInfoChain.findTopLevelSymbol(o,8,this.semanticInfo.getPath()),i&&(t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),c.minChar,c.getLength(),n.DiagnosticCode.Duplicate_identifier_0,[t.getDisplayName()])),i=null),i=new n.PullTypeSymbol(o,8),f||this.semanticInfoChain.cacheGlobalSymbol(i,8),i.addDeclaration(t),t.setSymbol(i),this.semanticInfo.setSymbolForAST(c.name,i),this.semanticInfo.setSymbolForAST(c,i),f&&(t.flags&1?f.addEnclosedMemberType(i):f.addEnclosedNonMemberType(i)),this.resetTypeParameterCache(),r=i.getConstructorMethod(),s=r?r.type:null,r||(r=new n.PullSymbol(o,32768),s=new n.PullTypeSymbol("",33554432),r.setIsSynthesized(),r.type=s,i.setConstructorMethod(r),i.setHasDefaultConstructor()),r.getIsSynthesized()?(r.addDeclaration(t.getValueDecl()),s.addDeclaration(t)):i.setHasDefaultConstructor(!1),s.setAssociatedContainerType(i),h=t.getTypeParameters(),a=null,e=0;e<h.length;e++)u=i.findTypeParameter(h[e].name),u?(a=u.getDeclarations(),v=this.semanticInfoChain.getASTForDecl(a[0]),t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),v.minChar,v.getLength(),n.DiagnosticCode.Duplicate_identifier_0,[u.getName()]))):(u=new n.PullTypeParameterSymbol(h[e].name,!1),i.addTypeParameter(u),s.addConstructorTypeParameter(u)),u.addDeclaration(h[e]),h[e].setSymbol(u);y=t.getValueDecl();y&&y.ensureSymbolIsBound()},i.prototype.bindInterfaceDeclarationToPullSymbol=function(t){var c=t.name,i=null,v=this.semanticInfo.getASTForDecl(t),y=!1,f=this.getParent(t),p=16,e,u,o,h,l,a,s,r;for(f?i=f.findNestedType(c,n.PullElementKind.SomeType):t.flags&1||(i=this.semanticInfoChain.findTopLevelSymbol(c,16,this.semanticInfo.getPath())),!i||i.kind&p||(t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),v.minChar,v.getLength(),n.DiagnosticCode.Duplicate_identifier_0,[t.getDisplayName()])),i=null),i||(i=new n.PullTypeSymbol(c,16),y=!0,f||this.semanticInfoChain.cacheGlobalSymbol(i,p)),i.addDeclaration(t),t.setSymbol(i),y&&f&&(t.flags&1?f.addEnclosedMemberType(i):f.addEnclosedNonMemberType(i)),this.resetTypeParameterCache(),e=t.getTypeParameters(),o=null,r=0;r<e.length;r++){if(u=i.findTypeParameter(e[r].name),u){for(o=u.getDeclarations(),h=0;h<o.length;h++)if(l=o[h].getParentDecl(),l&&l===t){a=this.semanticInfoChain.getASTForDecl(o[0]);t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),a.minChar,a.getLength(),n.DiagnosticCode.Duplicate_identifier_0,[u.getName()]));break}}else u=new n.PullTypeParameterSymbol(e[r].name,!1),i.addTypeParameter(u);u.addDeclaration(e[r]);e[r].setSymbol(u)}if(s=this.findDeclsInContext(t,t.kind,!0),s&&s.length)for(r=0;r<s.length;r++)s[r].ensureSymbolIsBound()},i.prototype.bindObjectTypeDeclarationToPullSymbol=function(t){var h=this.semanticInfo.getASTForDecl(t),f=new n.PullTypeSymbol("",8388608),e,u,r,o,i,s;for(f.addDeclaration(t),t.setSymbol(f),this.semanticInfo.setSymbolForAST(h,f),e=t.getChildDecls(),i=0;i<e.length;i++)this.bindDeclToPullSymbol(e[i]);for(u=t.getTypeParameters(),o=null,i=0;i<u.length;i++)r=f.findTypeParameter(u[i].name),r?(o=r.getDeclarations(),s=this.semanticInfoChain.getASTForDecl(o[0]),t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),s.minChar,s.getLength(),n.DiagnosticCode.Duplicate_identifier_0,[r.name]))):(r=new n.PullTypeParameterSymbol(u[i].name,!1),f.addTypeParameter(r)),r.addDeclaration(u[i]),u[i].setSymbol(r)},i.prototype.bindConstructorTypeDeclarationToPullSymbol=function(t){var c=t.kind,l=t.flags,h=this.semanticInfo.getASTForDecl(t),r=new n.PullTypeSymbol("",33554432),f,e,i,o,u,s;for(t.setSymbol(r),r.addDeclaration(t),this.semanticInfo.setSymbolForAST(h,r),f=new n.PullSignatureSymbol(2097152),h.variableArgList&&(f.hasVarArgs=!0),f.addDeclaration(t),t.setSignatureSymbol(f),this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),r,f),r.addConstructSignature(f),e=t.getTypeParameters(),o=null,u=0;u<e.length;u++)i=r.findTypeParameter(e[u].name),i?(o=i.getDeclarations(),s=this.semanticInfoChain.getASTForDecl(o[0]),t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),s.minChar,s.getLength(),n.DiagnosticCode.Duplicate_identifier_0,[i.name]))):(i=new n.PullTypeParameterSymbol(e[u].name,!1),r.addConstructorTypeParameter(i)),i.addDeclaration(e[u]),e[u].setSymbol(i)},i.prototype.bindVariableDeclarationToPullSymbol=function(t){var c=t.flags,p=t.kind,ft=this.semanticInfo.getASTForDecl(t),pt=(c&1)!=0,i=null,o=t.name,w=!1,l=this.getParent(t,!0),f=t.getParentDecl(),b=(c&n.PullElementFlags.ImplicitVariable)!=0,et=(c&n.PullElementFlags.SomeInitializedModule)!=0,g=(c&131072)!=0,nt=(c&16384)!=0,tt,ot,v,k,a,y,h,vt,e,u,ut,yt,s,r;if(f&&!b&&f.addVariableDeclToGroup(t),l?(i=pt?l.findMember(o,!1):l.findContainedNonMember(o),i&&(tt=i.getDeclarations(),tt.length&&(ot=tt[0].getParentDecl(),f!==ot&&(i=null)))):t.flags&1||(i=this.semanticInfoChain.findTopLevelSymbol(o,n.PullElementKind.SomeValue,this.semanticInfo.getPath())),i&&!i.isType()&&(w=!0),i){var d=i.kind,wt=i.hasFlag(8),st=i.hasFlag(131072),ht=i.hasFlag(16384),ct=i.hasFlag(n.PullElementFlags.SomeInitializedModule),bt=i.hasFlag(n.PullElementFlags.ImplicitVariable),kt=(g||st)&&!(g&&st),dt=(t.flags&8)!=0,lt=i.getDeclarations()[0],gt=f&&f.kind==1&&p==d,it=gt||lt.getParentDecl()==t.getParentDecl(),at=it&&d==2048&&p==1024,rt=!it||at||b&&(!g&&!nt&&d==16384||et&&ct||nt&&ct&&dt||et&&ht);rt&&ht&&!wt&&lt.getScriptName()!=t.getScriptName()&&(rt=!1);it&&!at&&(!rt||kt)&&((b||bt||(d&n.PullElementKind.SomeFunction)!=0)&&(v=t.getSpan(),vt=b?i.getDeclarations()[0]:t,vt.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),v.start(),v.length(),n.DiagnosticCode.Duplicate_identifier_0,[t.getDisplayName()]))),i=null,w=!1)}else i&&i.kind!==1024&&!b&&(v=t.getSpan(),t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),v.start(),v.length(),n.DiagnosticCode.Duplicate_identifier_0,[t.getDisplayName()])),i=null,w=!1);if((c&n.PullElementFlags.ImplicitVariable)==0)i||(i=new n.PullSymbol(o,p),this.semanticInfoChain.cacheGlobalSymbol(i,p)),i.addDeclaration(t),t.setSymbol(i),this.semanticInfo.setSymbolForAST(ft.id,i),this.semanticInfo.setSymbolForAST(ft,i);else if(w)i.addDeclaration(t),t.setSymbol(i);else if(nt){if(e=i,l)for(h=l.getMembers(),r=0;r<h.length;r++)if(h[r].name===o&&h[r].kind===8){e=h[r];break}if(!e){if(f=t.getParentDecl(),f&&(s=f.searchChildDecls(o,n.PullElementKind.SomeType),s.length))for(r=0;r<s.length;r++)s[r].getValueDecl()===t&&(e=s[r].getSymbol());e||(e=this.semanticInfoChain.findTopLevelSymbol(o,n.PullElementKind.SomeType,this.semanticInfo.getPath()))}e&&e.kind!==8&&(e=null);e&&e.isClass()?(i=e.getConstructorMethod(),t.setSymbol(i),a=e.getDeclarations(),a.length&&(k=a[a.length-1],y=this.semanticInfo.getASTForDecl(k),y&&this.semanticInfo.setASTForDecl(t,y))):(i||(i=new n.PullSymbol(o,p)),i.addDeclaration(t),t.setSymbol(i),i.type=this.semanticInfoChain.anyTypeSymbol)}else if(c&n.PullElementFlags.SomeInitializedModule){if(u=null,ut=this.getParent(t),ut)for(h=ut.getMembers(),r=0;r<h.length;r++)if(h[r].name===o&&h[r].isContainer()){u=h[r];break}if(!u){if(f=t.getParentDecl(),f&&(yt=c&98304?n.PullElementKind.SomeContainer:64,s=f.searchChildDecls(o,yt),s.length))for(r=0;r<s.length;r++)s[r].getValueDecl()===t&&(u=s[r].getSymbol());u||(u=this.semanticInfoChain.findTopLevelSymbol(o,n.PullElementKind.SomeContainer,this.semanticInfo.getPath()),u||(u=this.semanticInfoChain.findTopLevelSymbol(o,64,this.semanticInfo.getPath())))}u&&!u.isContainer()&&(u=null);u?(i=u.getInstanceSymbol(),i.addDeclaration(t),t.setSymbol(i),a=u.getDeclarations(),a.length&&(k=a[a.length-1],y=this.semanticInfo.getASTForDecl(k),y&&this.semanticInfo.setASTForDecl(t,y))):n.Debug.assert(!1,"Attempted to bind invalid implicit variable symbol")}l&&!w&&(c&1?l.addMember(i):l.addEnclosedNonMember(i))},i.prototype.bindPropertyDeclarationToPullSymbol=function(t){var e=t.flags,l=t.kind,o=this.semanticInfo.getASTForDecl(t),s=!1,h=!1,i=null,f;n.hasFlag(e,16)&&(s=!0);n.hasFlag(e,128)&&(h=!0);var c=t.name,u=!1,r=this.getParent(t,!0);r.isClass()&&s&&(r=r.getConstructorMethod().type);i=r.findMember(c,!1);i&&(f=t.getSpan(),t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),f.start(),f.length(),n.DiagnosticCode.Duplicate_identifier_0,[t.getDisplayName()])),i=null);i&&(u=!0);u||(i=new n.PullSymbol(c,l));i.addDeclaration(t);t.setSymbol(i);this.semanticInfo.setSymbolForAST(o.id,i);this.semanticInfo.setSymbolForAST(o,i);h&&(i.isOptional=!0);r&&!u&&r.addMember(i)},i.prototype.bindParameterSymbols=function(t,i,r){var e=null,f=null,u=null,h=!1,c=new n.BlockIntrinsics,o,s;if(t.arguments)for(o=0;o<t.arguments.members.length;o++)f=t.arguments.members[o],e=this.semanticInfo.getDeclForAST(f),h=n.hasFlag(f.getVarFlags(),256),u=new n.PullSymbol(f.id.text(),2048),t.variableArgList&&o===t.arguments.members.length-1&&(u.isVarArg=!0),e.flags&128&&(u.isOptional=!0),c[f.id.text()]?e.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),f.minChar,f.getLength(),n.DiagnosticCode.Duplicate_identifier_0,[f.id.actualText])):c[f.id.text()]=!0,e&&(h?(e.ensureSymbolIsBound(),s=e.getValueDecl(),s&&(s.setSymbol(u),u.addDeclaration(s))):(u.addDeclaration(e),e.setSymbol(u))),r.addParameter(u,u.isOptional),r.isDefinition()&&i.addEnclosedNonMember(u)},i.prototype.bindFunctionDeclarationToPullSymbol=function(t){var nt=t.kind,p=t.flags,h=this.semanticInfo.getASTForDecl(t),d=(p&1)!=0,l=t.name,w=(p&2048)!=0,o=this.getParent(t,!0),g=t.getParentDecl(),b=!1,i=null,u=null,a,k,f,s,e,v,y,c,r;for(o?(i=o.findMember(l,!1),i||(i=o.findContainedNonMember(l),i&&(a=i.getDeclarations(),a.length&&(k=a[0].getParentDecl(),g!==k&&(i=null))))):t.flags&1||(i=this.semanticInfoChain.findTopLevelSymbol(l,n.PullElementKind.SomeValue,this.semanticInfo.getPath())),!i||i.kind===16384&&(w||i.allDeclsHaveFlag(2048))||(t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),h.minChar,h.getLength(),n.DiagnosticCode.Duplicate_identifier_0,[t.getDisplayName()])),i=null),i&&(u=i.type,b=!0),i||(i=new n.PullSymbol(l,16384)),u||(u=new n.PullTypeSymbol("",16777216),i.type=u,u.setFunctionSymbol(i)),t.setSymbol(i),i.addDeclaration(t),u.addDeclaration(t),this.semanticInfo.setSymbolForAST(h.name,i),this.semanticInfo.setSymbolForAST(h,i),o&&!b&&(d?o.addMember(i):o.addEnclosedNonMember(i)),f=w?new n.PullSignatureSymbol(1048576):new n.PullDefinitionSignatureSymbol(1048576),f.addDeclaration(t),t.setSignatureSymbol(f),h.variableArgList&&(f.hasVarArgs=!0),this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),u,f),s=t.getTypeParameters(),v=null,r=0;r<s.length;r++)e=f.findTypeParameter(s[r].name),e?(v=e.getDeclarations(),y=this.semanticInfoChain.getASTForDecl(v[0]),t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),y.minChar,y.getLength(),n.DiagnosticCode.Duplicate_identifier_0,[e.name]))):(e=new n.PullTypeParameterSymbol(s[r].name,!0),f.addTypeParameter(e)),e.addDeclaration(s[r]),s[r].setSymbol(e);if(u.addCallSignature(f),c=this.findDeclsInContext(t,t.kind,!1),c&&c.length)for(r=0;r<c.length;r++)c[r].ensureSymbolIsBound()},i.prototype.bindFunctionExpressionToPullSymbol=function(t){var l=t.kind,v=t.flags,s=this.semanticInfo.getASTForDecl(t),a=l==131072?t.getFunctionExpressionName():t.name,f=new n.PullSymbol(a,16384),o=new n.PullTypeSymbol("",16777216),i,e,r,h,u,c;for(o.setFunctionSymbol(f),f.type=o,t.setSymbol(f),f.addDeclaration(t),o.addDeclaration(t),s.name&&this.semanticInfo.setSymbolForAST(s.name,f),this.semanticInfo.setSymbolForAST(s,f),i=new n.PullDefinitionSignatureSymbol(1048576),s.variableArgList&&(i.hasVarArgs=!0),e=t.getTypeParameters(),h=null,u=0;u<e.length;u++)r=i.findTypeParameter(e[u].name),r?(h=r.getDeclarations(),c=this.semanticInfoChain.getASTForDecl(h[0]),t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),c.minChar,c.getLength(),n.DiagnosticCode.Duplicate_identifier_0,[r.getName()]))):(r=new n.PullTypeParameterSymbol(e[u].name,!0),i.addTypeParameter(r)),r.addDeclaration(e[u]),e[u].setSymbol(r);i.addDeclaration(t);t.setSignatureSymbol(i);this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),o,i);o.addCallSignature(i)},i.prototype.bindFunctionTypeDeclarationToPullSymbol=function(t){var a=t.kind,c=t.flags,s=this.semanticInfo.getASTForDecl(t),e=new n.PullTypeSymbol("",16777216),h,i,f,r,l,u,o;for(t.setSymbol(e),e.addDeclaration(t),this.semanticInfo.setSymbolForAST(s,e),h=(c&2048)!=0,i=h?new n.PullSignatureSymbol(1048576):new n.PullDefinitionSignatureSymbol(1048576),s.variableArgList&&(i.hasVarArgs=!0),f=t.getTypeParameters(),l=null,u=0;u<f.length;u++)r=i.findTypeParameter(f[u].name),r?(o=this.semanticInfoChain.getASTForDecl(r.getDeclarations()[0]),t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),o.minChar,o.getLength(),n.DiagnosticCode.Duplicate_identifier_0,[r.name]))):(r=new n.PullTypeParameterSymbol(f[u].name,!0),i.addTypeParameter(r)),r.addDeclaration(f[u]),f[u].setSymbol(r);i.addDeclaration(t);t.setSignatureSymbol(i);this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),e,i);e.addCallSignature(i)},i.prototype.bindMethodDeclarationToPullSymbol=function(t){var nt=t.kind,a=t.flags,h=this.semanticInfo.getASTForDecl(t),tt=(a&2)!=0,d=(a&16)!=0,g=(a&128)!=0,w=t.name,b=(a&2048)!=0,c=this.getParent(t,!0),k=!1,i=null,f=null,y,e,o,u,p,v,s,l,r;for(c.isClass()&&d&&(c=c.getConstructorMethod().type),i=c.findMember(w,!1),!i||i.kind===65536&&(b||i.allDeclsHaveFlag(2048))||(t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),h.minChar,h.getLength(),n.DiagnosticCode.Duplicate_identifier_0,[t.getDisplayName()])),i=null),i&&(f=i.type,k=!0),i||(i=new n.PullSymbol(w,65536)),f||(f=new n.PullTypeSymbol("",16777216),i.type=f,f.setFunctionSymbol(i)),t.setSymbol(i),i.addDeclaration(t),f.addDeclaration(t),this.semanticInfo.setSymbolForAST(h.name,i),this.semanticInfo.setSymbolForAST(h,i),g&&(i.isOptional=!0),k||c.addMember(i),y=1048576,e=b?new n.PullSignatureSymbol(y):new n.PullDefinitionSignatureSymbol(y),h.variableArgList&&(e.hasVarArgs=!0),o=t.getTypeParameters(),p=null,r=0;r<o.length;r++)v=o[r].name,s=this.semanticInfo.getASTForDecl(o[r]),u=e.findTypeParameter(v),u?(p=u.getDeclarations(),s=this.semanticInfoChain.getASTForDecl(p[0]),t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),s.minChar,s.getLength(),n.DiagnosticCode.Duplicate_identifier_0,[u.getName()]))):(s.constraint||(u=this.findTypeParameterInCache(v)),u||(u=new n.PullTypeParameterSymbol(v,!0),s.constraint||this.addTypeParameterToCache(u)),e.addTypeParameter(u)),u.addDeclaration(o[r]),o[r].setSymbol(u);if(e.addDeclaration(t),t.setSignatureSymbol(e),this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),f,e),f.addCallSignature(e),l=this.findDeclsInContext(t,t.kind,!1),l&&l.length)for(r=0;r<l.length;r++)l[r].ensureSymbolIsBound()},i.prototype.bindConstructorDeclarationToPullSymbol=function(t){var p=t.kind,v=t.flags,e=this.semanticInfo.getASTForDecl(t),y=t.name,a=(v&2048)!=0,s=this.getParent(t,!0),i=s.getConstructorMethod(),f=null,h,c,u,l,o,r;if(i&&(i.kind!==32768||!a&&i.type&&i.type.hasOwnConstructSignatures())){for(h=!1,c=i.type.getConstructSignatures(),r=0;r<c.length;r++)if(!c[r].hasFlag(2048)){h=!0;break}h&&(t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),e.minChar,e.getLength(),n.DiagnosticCode.Multiple_constructor_implementations_are_not_allowed,null)),i=null)}for(i?f=i.type:(i=new n.PullSymbol(y,32768),f=new n.PullTypeSymbol("",33554432)),s.setConstructorMethod(i),i.type=f,t.setSymbol(i),i.addDeclaration(t),f.addDeclaration(t),i.setIsSynthesized(!1),this.semanticInfo.setSymbolForAST(e,i),u=a?new n.PullSignatureSymbol(2097152):new n.PullDefinitionSignatureSymbol(2097152),u.returnType=s,u.addDeclaration(t),t.setSignatureSymbol(u),this.bindParameterSymbols(e,f,u),l=f.getTypeParameters(),r=0;r<l.length;r++)u.addTypeParameter(l[r]);if(e.variableArgList&&(u.hasVarArgs=!0),f.addConstructSignature(u),o=this.findDeclsInContext(t,t.kind,!1),o&&o.length)for(r=0;r<o.length;r++)o[r].ensureSymbolIsBound()},i.prototype.bindConstructSignatureDeclarationToPullSymbol=function(t){var s=this.getParent(t,!0),h=this.semanticInfo.getASTForDecl(t),i=new n.PullSignatureSymbol(2097152),f,r,e,u,o;for(h.variableArgList&&(i.hasVarArgs=!0),f=t.getTypeParameters(),e=null,u=0;u<f.length;u++)r=i.findTypeParameter(f[u].name),r?(e=r.getDeclarations(),o=this.semanticInfoChain.getASTForDecl(e[0]),t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),o.minChar,o.getLength(),n.DiagnosticCode.Duplicate_identifier_0,[r.getName()]))):(r=new n.PullTypeParameterSymbol(f[u].name,!0),i.addTypeParameter(r)),r.addDeclaration(f[u]),f[u].setSymbol(r);i.addDeclaration(t);t.setSignatureSymbol(i);this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),null,i);this.semanticInfo.setSymbolForAST(this.semanticInfo.getASTForDecl(t),i);s.addConstructSignature(i)},i.prototype.bindCallSignatureDeclarationToPullSymbol=function(t){var s=this.getParent(t,!0),h=this.semanticInfo.getASTForDecl(t),i=new n.PullSignatureSymbol(1048576),f,r,e,u,o;for(h.variableArgList&&(i.hasVarArgs=!0),f=t.getTypeParameters(),e=null,u=0;u<f.length;u++)r=i.findTypeParameter(f[u].name),r?(e=r.getDeclarations(),o=this.semanticInfoChain.getASTForDecl(e[0]),t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),o.minChar,o.getLength(),n.DiagnosticCode.Duplicate_identifier_0,[r.getName()]))):(r=new n.PullTypeParameterSymbol(f[u].name,!0),i.addTypeParameter(r)),r.addDeclaration(f[u]),f[u].setSymbol(r);i.addDeclaration(t);t.setSignatureSymbol(i);this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),null,i);this.semanticInfo.setSymbolForAST(this.semanticInfo.getASTForDecl(t),i);s.addCallSignature(i)},i.prototype.bindIndexSignatureDeclarationToPullSymbol=function(t){for(var s=this.getParent(t,!0),r=new n.PullSignatureSymbol(4194304),f=t.getTypeParameters(),i,o=null,e,u=0;u<f.length;u++)i=r.findTypeParameter(f[u].name),i?(o=i.getDeclarations(),e=this.semanticInfoChain.getASTForDecl(o[0]),t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),e.minChar,e.getLength(),n.DiagnosticCode.Duplicate_identifier_0,[i.name]))):(i=new n.PullTypeParameterSymbol(f[u].name,!0),r.addTypeParameter(i)),i.addDeclaration(f[u]),f[u].setSymbol(i);r.addDeclaration(t);t.setSignatureSymbol(r);this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),null,r);this.semanticInfo.setSymbolForAST(this.semanticInfo.getASTForDecl(t),r);s.addIndexSignature(r)},i.prototype.bindGetAccessorDeclarationToPullSymbol=function(t){var y=t.kind,s=t.flags,u=this.semanticInfo.getASTForDecl(t),p=(s&1)!=0,h=t.name,v=(s&2048)!=0,c=!1,e,a;n.hasFlag(s,16)&&(c=!0);var o=this.getParent(t,!0),l=!1,i=null,r=null,f=null;c&&(o=o.getConstructorMethod().type);i=o.findMember(h,!1);i&&(i.isAccessor()?(r=i.getGetter(),r&&(t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),u.minChar,u.getLength(),n.DiagnosticCode.Getter_0_already_declared,[t.getDisplayName()])),i=null,r=null)):(t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),u.minChar,u.getLength(),n.DiagnosticCode.Duplicate_identifier_0,[t.getDisplayName()])),i=null));i&&(l=!0);i&&r&&(f=r.type);i||(i=new n.PullAccessorSymbol(h));r||(r=new n.PullSymbol(h,16384),f=new n.PullTypeSymbol("",16777216),f.setFunctionSymbol(r),r.type=f,i.setGetter(r));t.setSymbol(i);i.addDeclaration(t);r.addDeclaration(t);this.semanticInfo.setSymbolForAST(u.name,r);this.semanticInfo.setSymbolForAST(u,r);l||o.addMember(i);e=v?new n.PullSignatureSymbol(1048576):new n.PullDefinitionSignatureSymbol(1048576);e.addDeclaration(t);t.setSignatureSymbol(e);this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),f,e);a=t.getTypeParameters();a.length&&t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),u.minChar,u.getLength(),n.DiagnosticCode.Accessors_cannot_have_type_parameters,null));f.addCallSignature(e)},i.prototype.bindSetAccessorDeclarationToPullSymbol=function(t){var y=t.kind,s=t.flags,u=this.semanticInfo.getASTForDecl(t),p=(s&1)!=0,h=t.name,v=(s&2048)!=0,c=!1,e,a;n.hasFlag(s,16)&&(c=!0);var o=this.getParent(t,!0),l=!1,i=null,r=null,f=null;c&&(o=o.getConstructorMethod().type);i=o.findMember(h,!1);i&&(i.isAccessor()?(r=i.getSetter(),r&&(t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),u.minChar,u.getLength(),n.DiagnosticCode.Setter_0_already_declared,[t.getDisplayName()])),i=null,r=null)):(t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),u.minChar,u.getLength(),n.DiagnosticCode.Duplicate_identifier_0,[t.getDisplayName()])),i=null));i&&(l=!0,r&&(f=r.type));i||(i=new n.PullAccessorSymbol(h));r||(r=new n.PullSymbol(h,16384),f=new n.PullTypeSymbol("",16777216),f.setFunctionSymbol(r),r.type=f,i.setSetter(r));t.setSymbol(i);i.addDeclaration(t);r.addDeclaration(t);this.semanticInfo.setSymbolForAST(u.name,r);this.semanticInfo.setSymbolForAST(u,r);l||o.addMember(i);e=v?new n.PullSignatureSymbol(1048576):new n.PullDefinitionSignatureSymbol(1048576);e.addDeclaration(t);t.setSignatureSymbol(e);this.bindParameterSymbols(this.semanticInfo.getASTForDecl(t),f,e);a=t.getTypeParameters();a.length&&t.addDiagnostic(new n.Diagnostic(this.semanticInfo.getPath(),u.minChar,u.getLength(),n.DiagnosticCode.Accessors_cannot_have_type_parameters,null));f.addCallSignature(e)},i.prototype.bindDeclToPullSymbol=function(t){var r,i;if(!t.isBound()){t.setIsBound(!0);switch(t.kind){case 1:for(r=t.getChildDecls(),i=0;i<r.length;i++)this.bindDeclToPullSymbol(r[i]);break;case 64:case 32:case 4:this.bindModuleDeclarationToPullSymbol(t);break;case 16:this.bindInterfaceDeclarationToPullSymbol(t);break;case 8:this.bindClassDeclarationToPullSymbol(t);break;case 16384:this.bindFunctionDeclarationToPullSymbol(t);break;case 1024:this.bindVariableDeclarationToPullSymbol(t);break;case 67108864:case 4096:this.bindPropertyDeclarationToPullSymbol(t);break;case 65536:this.bindMethodDeclarationToPullSymbol(t);break;case 32768:this.bindConstructorDeclarationToPullSymbol(t);break;case 1048576:this.bindCallSignatureDeclarationToPullSymbol(t);break;case 2097152:this.bindConstructSignatureDeclarationToPullSymbol(t);break;case 4194304:this.bindIndexSignatureDeclarationToPullSymbol(t);break;case 262144:this.bindGetAccessorDeclarationToPullSymbol(t);break;case 524288:this.bindSetAccessorDeclarationToPullSymbol(t);break;case 8388608:this.bindObjectTypeDeclarationToPullSymbol(t);break;case 16777216:this.bindFunctionTypeDeclarationToPullSymbol(t);break;case 33554432:this.bindConstructorTypeDeclarationToPullSymbol(t);break;case 131072:this.bindFunctionExpressionToPullSymbol(t);break;case 256:this.bindImportDeclaration(t);break;case 2048:case 8192:break;case 1073741824:case 536870912:break;default:n.CompilerDiagnostics.assert(!1,"Unrecognized type declaration")}}},i.prototype.bindDeclsForUnit=function(n){var i,t;for(this.setUnit(n),i=this.semanticInfo.getTopLevelDecls(),t=0;t<i.length;t++)this.bindDeclToPullSymbol(i[t])},i}();n.PullSymbolBinder=i}(TypeScript||(TypeScript={})),function(n){function t(n,i){var u=n.getDiagnostics(),f,r;if(u)for(r=0;r<u.length;r++)i[i.length]=u[r];for(f=n.getChildDecls(),r=0;r<f.length;r++)t(f[r],i)}n.getDiagnosticsFromEnclosingDecl=t}(TypeScript||(TypeScript={})),function(n){(function(n){function t(n,t){var u=t.getDeclForAST(n),r=u.getSymbol(),f,i,e,o;return r||(r=u.getSignatureSymbol()),f=null,i=null,r.isSignature()?(f=r,e=u.getParentDecl(),i=e.getSymbol().type):(f=u.getSignatureSymbol(),i=r.type),o=n.isConstructor||n.isConstructMember()?i.getConstructSignatures():n.isIndexerMember()?i.getIndexSignatures():i.getCallSignatures(),{signature:f,allSignatures:o}}function i(n,t,i){var r=t.getDeclForAST(n,i);return r.getSymbol()}function r(t,i,r){var e=n.getAccessorSymbol(t,i,r),u={getter:null,setter:null},o=e.getGetter(),s,f,h;return o&&(s=o.getDeclarations()[0],u.getter=i.getASTForDecl(s)),f=e.getSetter(),f&&(h=f.getDeclarations()[0],u.setter=i.getASTForDecl(h)),u}function u(n){return n&&(n.kind&67108928||n.hasFlag(131072))}function f(n){return n&&(n.kind==4||e(n,4))}function e(n,t){for(var r=n.getDeclarations(),i=0;i<r.length;i++)if(r[i].kind===t)return!0;return!1}n.getSignatureForFuncDecl=t;n.getAccessorSymbol=i;n.getGetterAndSetterFunction=r;n.symbolIsEnum=u;n.symbolIsModule=f})(n.PullHelpers||(n.PullHelpers={}));var t=n.PullHelpers}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n,t,i){this.fileName=n;this.lineMap=t;this.compilationSettings=i;this.position=0;this.previousTokenTrailingComments=null}return t.visit=function(n,r,u,f){var e=f?new i(r,n.lineMap(),u):new t(r,n.lineMap(),u);return n.sourceUnit().accept(e)},t.prototype.movePast=function(n){n!==null&&(this.position+=n.fullWidth())},t.prototype.moveTo=function(t,i){i!==null&&(this.position+=n.Syntax.childOffset(t,i))},t.prototype.setCommentsAndSpan=function(n,t,i){var r=i.firstToken(),u=i.lastToken();this.setSpan2(n,t,i,r,u);n.setPreComments(this.convertTokenLeadingComments(r,t));n.setPostComments(this.convertNodeTrailingComments(i,u,t))},t.prototype.copySpan=function(n,t){t.minChar=n.minChar;t.limChar=n.limChar;t.trailingTriviaWidth=n.trailingTriviaWidth},t.prototype.setSpan=function(n,t,i){this.setSpan2(n,t,i,i.firstToken(),i.lastToken())},t.prototype.setSpan2=function(n,t,i,r,u){var e=r?r.leadingTriviaWidth():0,f=u?u.trailingTriviaWidth():0,o=t+e,s=t+i.fullWidth()-f;this.setSpanExplicit(n,o,s);n.trailingTriviaWidth=f},t.prototype.setSpanExplicit=function(n,t,i){n.minChar=t;n.limChar=i},t.prototype.identifierFromToken=function(i,r){var u=null,o,f,e;return i.fullWidth()===0?u=new n.MissingIdentifier:i.kind()===11?(f=i.text(),o=f===t.protoString?t.protoSubstitutionString:null,u=new n.Identifier(f,o)):(f=i.text(),u=new n.Identifier(f,f)),r&&u.setFlags(u.getFlags()|4),e=this.position+i.leadingTriviaWidth(),this.setSpanExplicit(u,e,e+i.width()),u},t.prototype.visitSyntaxList=function(t){for(var e=this.position,u=new Array(t.childCount()),r,i=0,f=t.childCount();i<f;i++)u[i]=t.childAt(i).accept(this);return r=new n.ASTList(u),this.setSpan(r,e,t),r},t.prototype.visitSeparatedSyntaxList=function(t){for(var o=this.position,f=new Array(t.nonSeparatorCount()),r,u,i=0,e=t.childCount();i<e;i++)i%2==0?(f[i/2]=t.childAt(i).accept(this),this.previousTokenTrailingComments=null):(r=t.childAt(i),this.previousTokenTrailingComments=this.convertTokenTrailingComments(r,this.position+r.leadingTriviaWidth()+r.width()),this.movePast(r));return u=new n.ASTList(f,t.separatorCount()),this.setSpan(u,o,t),u.setPostComments(this.previousTokenTrailingComments),this.previousTokenTrailingComments=null,u},t.prototype.createRef=function(t,i){var r=new n.Identifier(t,null);return r.minChar=i,r},t.prototype.convertComment=function(t,i,r){var u=new n.Comment(t.fullText(),t.kind()===6,r);return u.minChar=i,u.limChar=i+t.fullWidth(),u},t.prototype.convertComments=function(n,t){for(var f=[],r,e,i=0,u=n.count();i<u;i++)r=n.syntaxTriviaAt(i),r.isComment()&&(e=i+1<u&&n.syntaxTriviaAt(i+1).isNewLine(),f.push(this.convertComment(r,t,e))),t+=r.fullWidth();return f},t.prototype.mergeComments=function(n,t){return n===null?t:t===null?n:n.concat(t)},t.prototype.convertTokenLeadingComments=function(n,t){if(n===null)return null;var i=n.hasLeadingComment()?this.convertComments(n.leadingTrivia(),t):null,r=this.previousTokenTrailingComments;return this.previousTokenTrailingComments=null,this.mergeComments(r,i)},t.prototype.convertTokenTrailingComments=function(n,t){return n===null||!n.hasTrailingComment()||n.hasTrailingNewLine()?null:this.convertComments(n.trailingTrivia(),t)},t.prototype.convertNodeTrailingComments=function(n,t,i){return t===null||!t.hasTrailingComment()||t.hasTrailingNewLine()?null:this.convertComments(t.trailingTrivia(),i+n.fullWidth()-t.trailingTriviaWidth())},t.prototype.visitToken=function(t){var u=this.position,i,f,e,r;return t.kind()===35?i=new n.ThisExpression:t.kind()===50?i=new n.SuperExpression:t.kind()===37?i=new n.LiteralExpression(3):t.kind()===24?i=new n.LiteralExpression(4):t.kind()===32?i=new n.LiteralExpression(8):t.kind()===14?i=new n.StringLiteral(t.text(),t.valueText()):t.kind()===12?i=new n.RegexLiteral(t.text()):t.kind()===13?(f=this.convertTokenLeadingComments(t,u),e=t.text().indexOf(".")>0?parseFloat(t.text()):parseInt(t.text()),i=new n.NumberLiteral(e,t.text()),i.setPreComments(f)):i=this.identifierFromToken(t,!1),this.movePast(t),r=u+t.leadingTriviaWidth(),this.setSpanExplicit(i,r,r+t.width()),i},t.prototype.getLeadingComments=function(n){var u=n.firstToken(),f=[],i,t,e,r;if(u.hasLeadingComment())for(i=u.leadingTrivia(),t=0,e=i.count();t<e;t++)r=i.syntaxTriviaAt(t),r.isComment()&&f.push(r);return f},t.prototype.hasTopLevelImportOrExport=function(t){for(var f,u,o,e,s,i=0,r=t.moduleElements.childCount();i<r;i++)if((u=t.moduleElements.childAt(i),f=u.firstToken(),f!==null&&f.kind()===47)||u.kind()===134&&(o=u,o.moduleReference.kind()===246))return!0;for(e=this.getLeadingComments(t),i=0,r=e.length;i<r;i++)if(s=e[i],n.getImplicitImport(s.fullText()))return!0;return!1},t.prototype.getAmdDependency=function(n){var t=/^\/\/\/\s*<amd-dependency\s+path=('|")(.+?)\1/gim.exec(n);return t?t[2]:null},t.prototype.visitSourceUnit=function(t){var u=this.position,f=this.visitSyntaxList(t.moduleElements),i=null,e,l,s,h,o,a,v,c,r;if(this.hasTopLevelImportOrExport(t)){for(e=n.switchToForwardSlashes(this.fileName),l=new n.Identifier(e,e),i=new n.ModuleDeclaration(l,f,null),this.setSpanExplicit(i,u,this.position),s=i.getModuleFlags()|769,n.isDTSFile(this.fileName)&&(s|=8),i.setModuleFlags(s),i.prettyName=n.getPrettyName(e),h=this.getLeadingComments(t),o=0,a=h.length;o<a;o++)v=h[o],c=this.getAmdDependency(v.fullText()),c&&i.amdDependencies.push(c);f=new n.ASTList([i]);this.setSpanExplicit(f,u,this.position)}return r=new n.Script,this.setSpanExplicit(r,u,u+t.fullWidth()),r.moduleElements=f,r.topLevelMod=i,r.isDeclareFile=n.isDTSFile(this.fileName),r},t.prototype.visitExternalModuleReference=function(n){this.moveTo(n,n.stringLiteral);var t=this.identifierFromToken(n.stringLiteral,!1);return this.movePast(n.stringLiteral),this.movePast(n.closeParenToken),t},t.prototype.visitModuleNameModuleReference=function(n){return n.moduleName.accept(this)},t.prototype.visitClassDeclaration=function(t){var y=this.position,h,a,u,f,v,o,r,i,s,e;this.moveTo(t,t.identifier);h=this.identifierFromToken(t.identifier,!1);this.movePast(t.identifier);var p=t.typeParameterList===null?null:t.typeParameterList.accept(this),c=null,l=null;for(i=0,a=t.heritageClauses.childCount();i<a;i++)u=t.heritageClauses.childAt(i),u.extendsOrImplementsKeyword.tokenKind===48?c=u.accept(this):l=u.accept(this);for(this.movePast(t.openBraceToken),f=this.visitSyntaxList(t.classElements),v=this.position,this.movePast(t.closeBraceToken),o=new n.ASTSpan,this.setSpan(o,v,t.closeBraceToken),r=new n.ClassDeclaration(h,p,f,c,l,o),this.setCommentsAndSpan(r,y,t),i=0;i<f.members.length;i++)s=f.members[i],s.nodeType()===13&&(e=s,e.isConstructor&&(e.classDecl=r,r.constructorDecl=e));return this.completeClassDeclaration(t,r),r},t.prototype.completeClassDeclaration=function(t,i){var r=i.getVarFlags();n.SyntaxUtilities.containsToken(t.modifiers,47)&&(r=r|1);n.SyntaxUtilities.containsToken(t.modifiers,64)&&(r=r|8);i.setVarFlags(r)},t.prototype.visitInterfaceDeclaration=function(t){var c=this.position,e,o,u,i,s,f,h,r;for(this.moveTo(t,t.identifier),e=this.identifierFromToken(t.identifier,!1),this.movePast(t.identifier),o=t.typeParameterList===null?null:t.typeParameterList.accept(this),u=null,i=0,s=t.heritageClauses.childCount();i<s;i++)f=t.heritageClauses.childAt(i),i===0?u=f.accept(this):this.movePast(f);return this.movePast(t.body.openBraceToken),h=this.visitSeparatedSyntaxList(t.body.typeMembers),this.movePast(t.body.closeBraceToken),r=new n.InterfaceDeclaration(e,o,h,u,null,!1),this.setCommentsAndSpan(r,c,t),this.completeInterfaceDeclaration(t,r),r},t.prototype.completeInterfaceDeclaration=function(t,i){n.SyntaxUtilities.containsToken(t.modifiers,47)&&i.setVarFlags(i.getVarFlags()|1)},t.prototype.visitHeritageClause=function(t){var o=this.position,u=new Array(t.typeNames.nonSeparatorCount()),i,f,e,r;for(this.movePast(t.extendsOrImplementsKeyword),i=0,f=t.typeNames.childCount();i<f;i++)i%2==1?this.movePast(t.typeNames.childAt(i)):(e=this.visitType(t.typeNames.childAt(i)).term,u[i/2]=e);return r=new n.ASTList(u),this.setSpan(r,o,t),r},t.prototype.getModuleNames=function(n){var t=[];return n.stringLiteral!==null?(t.push(this.identifierFromToken(n.stringLiteral,!1)),this.movePast(n.stringLiteral)):this.getModuleNamesHelper(n.moduleName,t),t},t.prototype.getModuleNamesHelper=function(n,t){if(n.kind()===122){var i=n;this.getModuleNamesHelper(i.left,t);this.movePast(i.dotToken);t.push(this.identifierFromToken(i.right,!1));this.movePast(i.right)}else t.push(this.identifierFromToken(n,!1)),this.movePast(n)},t.prototype.visitModuleDeclaration=function(t){var u=this.position,a=t.firstToken(),s=this.convertTokenLeadingComments(a,u),h=this.convertNodeTrailingComments(t,t.closeBraceToken,u),f,e,c,o,r,l,i;for(this.moveTo(t,t.moduleKeyword),this.movePast(t.moduleKeyword),f=this.getModuleNames(t),this.movePast(t.openBraceToken),e=this.visitSyntaxList(t.moduleElements),c=this.position,this.movePast(t.closeBraceToken),o=new n.ASTSpan,this.setSpan(o,c,t.closeBraceToken),r=f.length-1;r>=0;r--)l=f[r],i=new n.ModuleDeclaration(l,e,o),this.setSpan(i,u,t),i.setPreComments(s),i.setPostComments(h),s=null,h=null,(r||n.SyntaxUtilities.containsToken(t.modifiers,47))&&i.setModuleFlags(i.getModuleFlags()|1),e=new n.ASTList([i]);return this.completeModuleDeclaration(t,i),this.setSpan(i,u,t),i},t.prototype.completeModuleDeclaration=function(t,i){n.SyntaxUtilities.containsToken(t.modifiers,64)&&i.setModuleFlags(i.getModuleFlags()|8)},t.prototype.hasDotDotDotParameter=function(n){for(var t=0,i=n.nonSeparatorCount();t<i;t++)if(n.nonSeparatorAt(t).dotDotDotToken)return!0;return!1},t.prototype.visitFunctionDeclaration=function(t){var u=this.position,r,i;this.moveTo(t,t.identifier);r=this.identifierFromToken(t.identifier,!1);this.movePast(t.identifier);var f=t.callSignature.typeParameterList===null?null:t.callSignature.typeParameterList.accept(this),e=t.callSignature.parameterList.accept(this),o=t.callSignature.typeAnnotation?t.callSignature.typeAnnotation.accept(this):null,s=t.block?t.block.accept(this):null;return this.movePast(t.semicolonToken),i=new n.FunctionDeclaration(r,s,!1,f,e,o,this.hasDotDotDotParameter(t.callSignature.parameterList.parameters)),this.setCommentsAndSpan(i,u,t),t.semicolonToken&&i.setFunctionFlags(i.getFunctionFlags()|128),this.completeFunctionDeclaration(t,i),i},t.prototype.completeFunctionDeclaration=function(t,i){var r=i.getFunctionFlags();n.SyntaxUtilities.containsToken(t.modifiers,47)&&(r=r|1);n.SyntaxUtilities.containsToken(t.modifiers,64)&&(r=r|8);i.setFunctionFlags(r)},t.prototype.visitEnumDeclaration=function(t){var d=this.position,s,h,c,u,y,w,i,a,e,b,k,v,f,o;for(this.moveTo(t,t.identifier),s=this.identifierFromToken(t.identifier,!1),this.movePast(t.identifier),this.movePast(t.openBraceToken),h=new Array(t.enumElements.nonSeparatorCount()),c=[],u=0,y=t.enumElements.childCount();u<y;u++)if(u%2==1)this.movePast(t.enumElements.childAt(u));else{var r=t.enumElements.childAt(u),p=this.position,l=this.position+r.leadingTriviaWidth(),g=this.identifierFromToken(r.propertyName,!1);this.movePast(r.propertyName);w=r.equalsValueClause!==null?r.equalsValueClause.accept(this):null;i=new n.VariableDeclarator(g,new n.TypeReference(this.createRef(s.actualText,-1),0),w);i.constantValue=this.determineConstantValue(r.equalsValueClause,c);i.setVarFlags(i.getVarFlags()|256);this.setSpanExplicit(i,l,this.position);i.setPreComments(this.convertTokenLeadingComments(r.firstToken(),p));i.setPostComments(this.convertNodeTrailingComments(r,r.lastToken(),p));c.push(i);a=new n.VariableDeclaration(new n.ASTList([i]));this.setSpanExplicit(a,l,this.position);e=new n.VariableStatement(a);e.setFlags(16);this.setSpanExplicit(e,l,this.position);h[u/2]=e;i.setVarFlags(i.getVarFlags()|1)}return b=new n.ASTList(h),k=this.position,this.movePast(t.closeBraceToken),v=new n.ASTSpan,this.setSpan(v,k,t.closeBraceToken),f=new n.ModuleDeclaration(s,b,v),this.setCommentsAndSpan(f,d,t),o=f.getModuleFlags()|128,n.SyntaxUtilities.containsToken(t.modifiers,47)&&(o=o|1),f.setModuleFlags(o),f},t.prototype.determineConstantValue=function(t,i){var u=t===null?null:t.value,r;return u===null?i.length===0?0:(r=n.ArrayUtilities.last(i).constantValue,r!==null?r+1:null):this.computeConstantValue(u,i)},t.prototype.computeConstantValue=function(t,i){var u,r,f,e;if(n.Syntax.isIntegerLiteral(t)){switch(t.kind()){case 164:case 165:u=t.operand;break;default:u=t}return r=u.value(),r&&t.kind()===165?-r:r}if(this.compilationSettings.propagateEnumConstants){switch(t.kind()){case 11:return f=n.ArrayUtilities.firstOrDefault(i,function(n){return n.id.text()===t.valueText()}),f?f.constantValue:null;case 202:return e=t,this.computeConstantValue(e.left,i)<<this.computeConstantValue(e.right,i)}return null}return null},t.prototype.visitEnumElement=function(){throw n.Errors.invalidOperation();},t.prototype.visitImportDeclaration=function(t){var e=this.position,u,f,i,r;return this.moveTo(t,t.identifier),u=this.identifierFromToken(t.identifier,!1),this.movePast(t.identifier),this.movePast(t.equalsToken),f=t.moduleReference.accept(this),this.movePast(t.semicolonToken),i=new n.ImportDeclaration(u,f),this.setCommentsAndSpan(i,e,t),r=i.getVarFlags(),n.SyntaxUtilities.containsToken(t.modifiers,47)&&(r=r|1),i.setVarFlags(r),i},t.prototype.visitExportAssignment=function(t){var u=this.position,r,i;return this.moveTo(t,t.identifier),r=this.identifierFromToken(t.identifier,!1),this.movePast(t.identifier),this.movePast(t.semicolonToken),i=new n.ExportAssignment(r),this.setSpan(i,u,t),i},t.prototype.visitVariableStatement=function(t){var o=this.position,s=null,f,r,h,u,i,e;for(t.modifiers.childCount()>0&&(s=this.convertTokenLeadingComments(t.modifiers.firstToken(),o)),this.moveTo(t,t.variableDeclaration),f=t.variableDeclaration.accept(this),this.movePast(t.semicolonToken),r=0,h=f.declarators.members.length;r<h;r++)u=f.declarators.members[r],r===0&&u.setPreComments(this.mergeComments(s,u.preComments())),i=u.getVarFlags(),n.SyntaxUtilities.containsToken(t.modifiers,47)&&(i=i|1),n.SyntaxUtilities.containsToken(t.modifiers,64)&&(i=i|8),u.setVarFlags(i);return e=new n.VariableStatement(f),this.setSpan(e,o,t),e},t.prototype.visitVariableDeclaration=function(t){var u=this.position,e=t.firstToken(),o=this.convertTokenLeadingComments(e,u),s=this.convertNodeTrailingComments(t,t.lastToken(),u),r,i,f;for(this.moveTo(t,t.variableDeclarators),r=this.visitSeparatedSyntaxList(t.variableDeclarators),i=0;i<r.members.length;i++)i===0&&(r.members[i].setPreComments(o),r.members[i].setPostComments(s));return f=new n.VariableDeclaration(r),this.setSpan(f,u,t),f},t.prototype.visitVariableDeclarator=function(t){var e=this.position,r=this.identifierFromToken(t.identifier,!1),f;this.movePast(t.identifier);var o=t.typeAnnotation?t.typeAnnotation.accept(this):null,i=t.equalsValueClause?t.equalsValueClause.accept(this):null,u=new n.VariableDeclarator(r,o,i);return this.setSpan(u,e,t),i&&i.nodeType()===13&&(f=i,f.hint=r.actualText),u},t.prototype.visitEqualsValueClause=function(n){var i=this.convertTokenTrailingComments(n.equalsToken,this.position+n.equalsToken.leadingTriviaWidth()+n.equalsToken.width()),t;return this.movePast(n.equalsToken),t=n.value.accept(this),t.setPreComments(this.mergeComments(i,t.preComments())),t},t.prototype.getUnaryExpressionNodeType=function(t){switch(t){case 164:return 27;case 165:return 28;case 166:return 73;case 167:return 74;case 168:return 75;case 169:return 76;default:throw n.Errors.invalidOperation();}},t.prototype.visitPrefixUnaryExpression=function(t){var u=this.position,r,i;return this.movePast(t.operatorToken),r=t.operand.accept(this),i=new n.UnaryExpression(this.getUnaryExpressionNodeType(t.kind()),r,null),this.setSpan(i,u,t),i},t.prototype.isOnSingleLine=function(n,t){return this.lineMap.getLineNumberFromPosition(n)===this.lineMap.getLineNumberFromPosition(t)},t.prototype.visitArrayLiteralExpression=function(t){var f=this.position,e=this.position+t.openBracketToken.leadingTriviaWidth(),r,u,i;return this.movePast(t.openBracketToken),r=this.visitSeparatedSyntaxList(t.expressions),u=this.position+t.closeBracketToken.leadingTriviaWidth(),this.movePast(t.closeBracketToken),i=new n.UnaryExpression(22,r,null),this.setSpan(i,f,t),this.isOnSingleLine(e,u)&&i.setFlags(i.getFlags()|2),i},t.prototype.visitOmittedExpression=function(t){var r=this.position,i=new n.OmittedExpression;return this.setSpan(i,r,t),i},t.prototype.visitParenthesizedExpression=function(t){var u=this.position,r,i;return this.movePast(t.openParenToken),r=t.expression.accept(this),this.movePast(t.closeParenToken),i=new n.ParenthesizedExpression(r),this.setSpan(i,u,t),i},t.prototype.getArrowFunctionStatements=function(t){var r,e;if(t.kind()===146)return t.accept(this);var i=t.accept(this),u=new n.ReturnStatement(i),f=i.preComments();return f&&(t._ast=undefined,u.setPreComments(f),i.setPreComments(null)),r=new n.ASTList([u]),e=new n.Block(r,r.members[0]),e},t.prototype.visitSimpleArrowFunctionExpression=function(t){var f=this.position,r=this.identifierFromToken(t.identifier,!1),u;this.movePast(t.identifier);this.movePast(t.equalsGreaterThanToken);u=new n.Parameter(r,null,null,!1);this.setSpanExplicit(u,r.minChar,r.limChar);var e=new n.ASTList([u]),o=this.getArrowFunctionStatements(t.body),i=new n.FunctionDeclaration(null,o,!1,null,e,null,!1);return this.setSpan(i,f,t),i.setFunctionFlags(i.getFunctionFlags()|10240),i},t.prototype.visitParenthesizedArrowFunctionExpression=function(t){var u=this.position,f=t.callSignature.typeParameterList===null?null:t.callSignature.typeParameterList.accept(this),e=t.callSignature.parameterList.accept(this),o=t.callSignature.typeAnnotation?t.callSignature.typeAnnotation.accept(this):null,r,i;return this.movePast(t.equalsGreaterThanToken),r=this.getArrowFunctionStatements(t.body),i=new n.FunctionDeclaration(null,r,!1,f,e,o,this.hasDotDotDotParameter(t.callSignature.parameterList.parameters)),this.setCommentsAndSpan(i,u,t),i.setFunctionFlags(i.getFunctionFlags()|10240),i},t.prototype.visitType=function(t){var i,r;return t.isToken()?(r=this.position,i=new n.TypeReference(t.accept(this),0),this.setSpan(i,r,t)):i=t.accept(this),i},t.prototype.visitTypeQuery=function(t){var f=this.position,u,i,r;return this.movePast(t.typeOfKeyword),u=t.name.accept(this),i=new n.TypeQuery(u),this.setSpan(i,f,t),r=new n.TypeReference(i,0),this.copySpan(i,r),r},t.prototype.visitQualifiedName=function(t){var f=this.position,e=this.visitType(t.left).term,u,i,r;return this.movePast(t.dotToken),u=this.identifierFromToken(t.right,!1),this.movePast(t.right),i=new n.BinaryExpression(33,e,u),this.setSpan(i,f,t),r=new n.TypeReference(i,0),this.copySpan(i,r),r},t.prototype.visitTypeArgumentList=function(t){var u=new Array(t.typeArguments.nonSeparatorCount()),f,i,e,r;for(this.movePast(t.lessThanToken),f=this.position,i=0,e=t.typeArguments.childCount();i<e;i++)i%2==1?this.movePast(t.typeArguments.childAt(i)):u[i/2]=this.visitType(t.typeArguments.childAt(i));return this.movePast(t.greaterThanToken),r=new n.ASTList(u),this.setSpan(r,f,t.typeArguments),r},t.prototype.visitConstructorType=function(t){var o=this.position,u,f,e,i,r;return this.movePast(t.newKeyword),u=t.typeParameterList===null?null:t.typeParameterList.accept(this),f=t.parameterList.accept(this),this.movePast(t.equalsGreaterThanToken),e=t.type?this.visitType(t.type):null,i=new n.FunctionDeclaration(null,null,!1,u,f,e,this.hasDotDotDotParameter(t.parameterList.parameters)),this.setSpan(i,o,t),i.setFunctionFlags(i.getFunctionFlags()|1152),i.setFlags(i.getFlags()|8),i.hint="_construct",i.classDecl=null,r=new n.TypeReference(i,0),this.copySpan(i,r),r},t.prototype.visitFunctionType=function(t){var f=this.position,e=t.typeParameterList===null?null:t.typeParameterList.accept(this),o=t.parameterList.accept(this),u,i,r;return this.movePast(t.equalsGreaterThanToken),u=t.type?this.visitType(t.type):null,i=new n.FunctionDeclaration(null,null,!1,e,o,u,this.hasDotDotDotParameter(t.parameterList.parameters)),this.setSpan(i,f,t),i.setFlags(i.getFunctionFlags()|128),i.setFlags(i.getFlags()|8),r=new n.TypeReference(i,0),this.copySpan(i,r),r},t.prototype.visitObjectType=function(t){var f=this.position,u,i,r;return this.movePast(t.openBraceToken),u=this.visitSeparatedSyntaxList(t.typeMembers),this.movePast(t.closeBraceToken),i=new n.InterfaceDeclaration(new n.Identifier("__anonymous","__anonymous"),null,u,null,null,!0),this.setSpan(i,f,t),i.setFlags(i.getFlags()|8),r=new n.TypeReference(i,0),this.copySpan(i,r),r},t.prototype.visitArrayType=function(t){var u=this.position,i,r=this.visitType(t.type);return this.movePast(t.openBracketToken),this.movePast(t.closeBracketToken),r.nodeType()===11?(i=r,i.arrayCount++):i=new n.TypeReference(r,1),i.setFlags(i.getFlags()|8),this.setSpan(i,u,t),i},t.prototype.visitGenericType=function(t){var u=this.position,f=this.visitType(t.name).term,e=t.typeArgumentList.accept(this),i=new n.GenericType(f,e),r;return this.setSpan(i,u,t),i.setFlags(i.getFlags()|8),r=new n.TypeReference(i,0),this.copySpan(i,r),r},t.prototype.visitTypeAnnotation=function(n){return this.movePast(n.colonToken),this.visitType(n.type)},t.prototype.visitBlock=function(t){var u=this.position,r,i;this.movePast(t.openBraceToken);var f=this.visitSyntaxList(t.statements),e=this.position,o=this.convertTokenLeadingComments(t.closeBraceToken,this.position);return this.movePast(t.closeBraceToken),r=new n.ASTSpan,this.setSpan(r,e,t.closeBraceToken),i=new n.Block(f,r),this.setSpan(i,u,t),i.closeBraceLeadingComments=o,i},t.prototype.visitParameter=function(t){var u=this.position,r;this.moveTo(t,t.identifier);r=this.identifierFromToken(t.identifier,!!t.questionToken);this.movePast(t.identifier);this.movePast(t.questionToken);var f=t.typeAnnotation?t.typeAnnotation.accept(this):null,e=t.equalsValueClause?t.equalsValueClause.accept(this):null,i=new n.Parameter(r,f,e,!!t.questionToken);return this.setCommentsAndSpan(i,u,t),t.publicOrPrivateKeyword&&(t.publicOrPrivateKeyword.kind()===57?i.setVarFlags(i.getVarFlags()|260):i.setVarFlags(i.getVarFlags()|258)),(t.equalsValueClause||t.dotDotDotToken)&&i.setFlags(i.getFlags()|4),i},t.prototype.visitMemberAccessExpression=function(t){var u=this.position,f=t.expression.accept(this),r,i;return this.movePast(t.dotToken),r=this.identifierFromToken(t.name,!1),this.movePast(t.name),i=new n.BinaryExpression(33,f,r),this.setSpan(i,u,t),i},t.prototype.visitPostfixUnaryExpression=function(t){var r=this.position,u=t.operand.accept(this),i;return this.movePast(t.operatorToken),i=new n.UnaryExpression(t.kind()===210?77:78,u,null),this.setSpan(i,r,t),i},t.prototype.visitElementAccessExpression=function(t){var u=this.position,f=t.expression.accept(this),r,i;return this.movePast(t.openBracketToken),r=t.argumentExpression.accept(this),this.movePast(t.closeBracketToken),i=new n.BinaryExpression(36,f,r),this.setSpan(i,u,t),i},t.prototype.convertArgumentListArguments=function(t){var f,i,r,e,u;return t===null?null:(f=this.position,this.movePast(t.openParenToken),i=this.visitSeparatedSyntaxList(t.arguments),t.arguments.fullWidth()===0&&t.closeParenToken.fullWidth()===0&&(r=f+t.openParenToken.leadingTriviaWidth()+t.openParenToken.width(),this.setSpanExplicit(i,r,r+t.openParenToken.trailingTriviaWidth())),e=this.position,this.movePast(t.closeParenToken),u=new n.ASTSpan,this.setSpan(u,e,t.closeParenToken),{argumentList:i,closeParenSpan:u})},t.prototype.visitInvocationExpression=function(t){var u=this.position,f=t.expression.accept(this),e=t.argumentList.typeArgumentList!==null?t.argumentList.typeArgumentList.accept(this):null,i=this.convertArgumentListArguments(t.argumentList),r=new n.InvocationExpression(f,e,i?i.argumentList:null,i?i.closeParenSpan:null);return this.setSpan(r,u,t),r},t.prototype.visitArgumentList=function(){throw n.Errors.invalidOperation();},t.prototype.getBinaryExpressionNodeType=function(t){switch(t.kind()){case 173:return 26;case 174:return 39;case 175:return 40;case 176:return 41;case 177:return 43;case 178:return 42;case 179:return 44;case 180:return 45;case 181:return 46;case 182:return 47;case 183:return 48;case 184:return 49;case 185:return 50;case 187:return 52;case 188:return 53;case 189:return 54;case 190:return 55;case 191:return 56;case 192:return 57;case 193:return 58;case 194:return 59;case 195:return 60;case 196:return 61;case 197:return 63;case 198:return 62;case 199:return 64;case 200:return 34;case 201:return 32;case 202:return 70;case 203:return 71;case 204:return 72;case 205:return 67;case 206:return 68;case 207:return 69;case 208:return 65;case 209:return 66}throw n.Errors.invalidOperation();},t.prototype.visitBinaryExpression=function(t){var e=this.position,o=this.getBinaryExpressionNodeType(t),i=t.left.accept(this),r,u;if(this.movePast(t.operatorToken),r=t.right.accept(this),u=new n.BinaryExpression(o,i,r),this.setSpan(u,e,t),r.nodeType()===13){var f=i.nodeType()===33?i.operand2:i,s=f.nodeType()===21?f.actualText:null,h=r;h.hint=s}return u},t.prototype.visitConditionalExpression=function(t){var f=this.position,e=t.condition.accept(this),r,u,i;return this.movePast(t.questionToken),r=t.whenTrue.accept(this),this.movePast(t.colonToken),u=t.whenFalse.accept(this),i=new n.ConditionalExpression(e,r,u),this.setSpan(i,f,t),i},t.prototype.visitConstructSignature=function(t){var r=this.position;this.movePast(t.newKeyword);var u=t.callSignature.typeParameterList===null?null:t.callSignature.typeParameterList.accept(this),f=t.callSignature.parameterList.accept(this),e=t.callSignature.typeAnnotation?t.callSignature.typeAnnotation.accept(this):null,i=new n.FunctionDeclaration(null,null,!1,u,f,e,this.hasDotDotDotParameter(t.callSignature.parameterList.parameters));return this.setCommentsAndSpan(i,r,t),i.hint="_construct",i.setFunctionFlags(i.getFunctionFlags()|1408),i},t.prototype.visitMethodSignature=function(t){var r=this.position,u=this.identifierFromToken(t.propertyName,!!t.questionToken);this.movePast(t.propertyName);this.movePast(t.questionToken);var f=t.callSignature.typeParameterList?t.callSignature.typeParameterList.accept(this):null,e=t.callSignature.parameterList.accept(this),o=t.callSignature.typeAnnotation?t.callSignature.typeAnnotation.accept(this):null,i=new n.FunctionDeclaration(u,null,!1,f,e,o,this.hasDotDotDotParameter(t.callSignature.parameterList.parameters));return this.setCommentsAndSpan(i,r,t),i.setFunctionFlags(i.getFunctionFlags()|384),i},t.prototype.visitIndexSignature=function(t){var r=this.position,f,e,u,o,i;return this.movePast(t.openBracketToken),f=t.parameter.accept(this),this.movePast(t.closeBracketToken),e=t.typeAnnotation?t.typeAnnotation.accept(this):null,u=new n.Identifier("__item","__item"),this.setSpanExplicit(u,r,r),o=new n.ASTList([f]),i=new n.FunctionDeclaration(u,null,!1,null,o,e,!1),this.setCommentsAndSpan(i,r,t),i.setFunctionFlags(i.getFunctionFlags()|4480),i},t.prototype.visitPropertySignature=function(t){var u=this.position,f=this.identifierFromToken(t.propertyName,!!t.questionToken),r,i;return this.movePast(t.propertyName),this.movePast(t.questionToken),r=t.typeAnnotation?t.typeAnnotation.accept(this):null,i=new n.VariableDeclarator(f,r,null),this.setCommentsAndSpan(i,u,t),i.setVarFlags(i.getVarFlags()|256),i},t.prototype.visitParameterList=function(n){var r=this.position,t=n.openParenToken,i;return this.previousTokenTrailingComments=this.convertTokenTrailingComments(t,r+t.leadingTriviaWidth()+t.width()),this.movePast(n.openParenToken),i=this.visitSeparatedSyntaxList(n.parameters),this.movePast(n.closeParenToken),i},t.prototype.visitCallSignature=function(t){var r=this.position,u=t.typeParameterList===null?null:t.typeParameterList.accept(this),f=t.parameterList.accept(this),e=t.typeAnnotation?t.typeAnnotation.accept(this):null,i=new n.FunctionDeclaration(null,null,!1,u,f,e,this.hasDotDotDotParameter(t.parameterList.parameters));return this.setCommentsAndSpan(i,r,t),i.hint="_call",i.setFunctionFlags(i.getFunctionFlags()|896),i},t.prototype.visitTypeParameterList=function(n){this.movePast(n.lessThanToken);var t=this.visitSeparatedSyntaxList(n.typeParameters);return this.movePast(n.greaterThanToken),t},t.prototype.visitTypeParameter=function(t){var u=this.position,f=this.identifierFromToken(t.identifier,!1),r,i;return this.movePast(t.identifier),r=t.constraint?t.constraint.accept(this):null,i=new n.TypeParameter(f,r),this.setSpan(i,u,t),i},t.prototype.visitConstraint=function(n){return this.movePast(n.extendsKeyword),this.visitType(n.type)},t.prototype.visitIfStatement=function(t){var u=this.position,i;this.moveTo(t,t.condition);i=t.condition.accept(this);this.movePast(t.closeParenToken);var f=t.statement.accept(this),e=t.elseClause?t.elseClause.accept(this):null,r=new n.IfStatement(i,f,e);return this.setSpan(r,u,t),r},t.prototype.visitElseClause=function(n){return this.movePast(n.elseKeyword),n.statement.accept(this)},t.prototype.visitExpressionStatement=function(t){var r=this.position,u=t.expression.accept(this),i;return this.movePast(t.semicolonToken),i=new n.ExpressionStatement(u),this.setCommentsAndSpan(i,r,t),i},t.prototype.visitConstructorDeclaration=function(t){var f=this.position,r,u,i;return this.moveTo(t,t.parameterList),r=t.parameterList.accept(this),u=t.block?t.block.accept(this):null,this.movePast(t.semicolonToken),i=new n.FunctionDeclaration(null,u,!0,null,r,null,this.hasDotDotDotParameter(t.parameterList.parameters)),this.setCommentsAndSpan(i,f,t),t.semicolonToken&&i.setFunctionFlags(i.getFunctionFlags()|128),i},t.prototype.visitMemberFunctionDeclaration=function(t){var f=this.position,u,r,i;this.moveTo(t,t.propertyName);u=this.identifierFromToken(t.propertyName,!1);this.movePast(t.propertyName);var e=t.callSignature.typeParameterList===null?null:t.callSignature.typeParameterList.accept(this),o=t.callSignature.parameterList.accept(this),s=t.callSignature.typeAnnotation?t.callSignature.typeAnnotation.accept(this):null,h=t.block?t.block.accept(this):null;return this.movePast(t.semicolonToken),r=new n.FunctionDeclaration(u,h,!1,e,o,s,this.hasDotDotDotParameter(t.callSignature.parameterList.parameters)),this.setCommentsAndSpan(r,f,t),i=r.getFunctionFlags(),t.semicolonToken&&(i=i|128),i=n.SyntaxUtilities.containsToken(t.modifiers,55)?i|2:i|4,n.SyntaxUtilities.containsToken(t.modifiers,58)&&(i=i|16),i=i|256,r.setFunctionFlags(i),r},t.prototype.visitMemberAccessorDeclaration=function(t,i){var f=this.position,u;this.moveTo(t,t.propertyName);u=this.identifierFromToken(t.propertyName,!1);this.movePast(t.propertyName);var e=t.parameterList.accept(this),o=i?i.accept(this):null,s=t.block?t.block.accept(this):null,r=new n.FunctionDeclaration(u,s,!1,null,e,o,this.hasDotDotDotParameter(t.parameterList.parameters));return this.setCommentsAndSpan(r,f,t),n.SyntaxUtilities.containsToken(t.modifiers,55)?r.setFunctionFlags(r.getFunctionFlags()|2):r.setFunctionFlags(r.getFunctionFlags()|4),n.SyntaxUtilities.containsToken(t.modifiers,58)&&r.setFunctionFlags(r.getFunctionFlags()|16),r.setFunctionFlags(r.getFunctionFlags()|256),r},t.prototype.visitGetMemberAccessorDeclaration=function(n){var t=this.visitMemberAccessorDeclaration(n,n.typeAnnotation);return t.setFunctionFlags(t.getFunctionFlags()|32),t.hint="get"+t.name.actualText,t},t.prototype.visitSetMemberAccessorDeclaration=function(n){var t=this.visitMemberAccessorDeclaration(n,null);return t.setFunctionFlags(t.getFunctionFlags()|64),t.hint="set"+t.name.actualText,t},t.prototype.visitMemberVariableDeclaration=function(t){var e=this.position,r,u,f,i;return this.moveTo(t,t.variableDeclarator),this.moveTo(t.variableDeclarator,t.variableDeclarator.identifier),r=this.identifierFromToken(t.variableDeclarator.identifier,!1),this.movePast(t.variableDeclarator.identifier),u=t.variableDeclarator.typeAnnotation?t.variableDeclarator.typeAnnotation.accept(this):null,f=t.variableDeclarator.equalsValueClause?t.variableDeclarator.equalsValueClause.accept(this):null,this.movePast(t.semicolonToken),i=new n.VariableDeclarator(r,u,f),this.setCommentsAndSpan(i,e,t),n.SyntaxUtilities.containsToken(t.modifiers,58)&&i.setVarFlags(i.getVarFlags()|16),n.SyntaxUtilities.containsToken(t.modifiers,55)?i.setVarFlags(i.getVarFlags()|2):i.setVarFlags(i.getVarFlags()|4),i.setVarFlags(i.getVarFlags()|2048),i},t.prototype.visitThrowStatement=function(t){var u=this.position,r,i;return this.movePast(t.throwKeyword),r=t.expression.accept(this),this.movePast(t.semicolonToken),i=new n.ThrowStatement(r),this.setSpan(i,u,t),i},t.prototype.visitReturnStatement=function(t){var u=this.position,r,i;return this.movePast(t.returnKeyword),r=t.expression?t.expression.accept(this):null,this.movePast(t.semicolonToken),i=new n.ReturnStatement(r),this.setCommentsAndSpan(i,u,t),i},t.prototype.visitObjectCreationExpression=function(t){var o=this.position,f,u;this.movePast(t.newKeyword);var i=t.expression.accept(this),s=t.argumentList===null||t.argumentList.typeArgumentList===null?null:t.argumentList.typeArgumentList.accept(this),r=this.convertArgumentListArguments(t.argumentList),e=new n.ObjectCreationExpression(i,s,r?r.argumentList:null,r?r.closeParenSpan:null);return this.setSpan(e,o,t),i.nodeType()===11&&(f=i,f.arrayCount===0&&(u=f.term,(u.nodeType()===33||u.nodeType()===21)&&(i=u))),e},t.prototype.visitSwitchStatement=function(t){var h=this.position,c,l,u,f,i,a,e,o,r,s;for(this.movePast(t.switchKeyword),this.movePast(t.openParenToken),c=t.expression.accept(this),this.movePast(t.closeParenToken),l=this.position,this.movePast(t.openBraceToken),u=new Array(t.switchClauses.childCount()),f=null,i=0,a=t.switchClauses.childCount();i<a;i++)e=t.switchClauses.childAt(i),o=e.accept(this),e.kind()===233&&(f=o),u[i]=o;return r=new n.ASTSpan,r.minChar=h,r.limChar=l,this.movePast(t.closeBraceToken),s=new n.SwitchStatement(c,new n.ASTList(u),f,r),this.setSpan(s,h,t),s},t.prototype.visitCaseSwitchClause=function(t){var f=this.position,r,u,i;return this.movePast(t.caseKeyword),r=t.expression.accept(this),this.movePast(t.colonToken),u=this.visitSyntaxList(t.statements),i=new n.CaseClause(r,u),this.setSpan(i,f,t),i},t.prototype.visitDefaultSwitchClause=function(t){var u=this.position,r,i;return this.movePast(t.defaultKeyword),this.movePast(t.colonToken),r=this.visitSyntaxList(t.statements),i=new n.CaseClause(null,r),this.setSpan(i,u,t),i},t.prototype.visitBreakStatement=function(t){var u=this.position,r,i;return this.movePast(t.breakKeyword),this.movePast(t.identifier),this.movePast(t.semicolonToken),r=t.identifier?t.identifier.valueText():null,i=new n.Jump(83,r),this.setSpan(i,u,t),i},t.prototype.visitContinueStatement=function(t){var r=this.position,i;return this.movePast(t.continueKeyword),this.movePast(t.identifier),this.movePast(t.semicolonToken),i=new n.Jump(84,t.identifier?t.identifier.valueText():null),this.setSpan(i,r,t),i},t.prototype.visitForStatement=function(t){var o=this.position,r,u,f,e,i;return this.movePast(t.forKeyword),this.movePast(t.openParenToken),r=t.variableDeclaration?t.variableDeclaration.accept(this):t.initializer?t.initializer.accept(this):null,this.movePast(t.firstSemicolonToken),u=t.condition?t.condition.accept(this):null,this.movePast(t.secondSemicolonToken),f=t.incrementor?t.incrementor.accept(this):null,this.movePast(t.closeParenToken),e=t.statement.accept(this),i=new n.ForStatement(r,u,f,e),this.setSpan(i,o,t),i},t.prototype.visitForInStatement=function(t){var c=this.position,r,u,i,o,f,s,h,e;if(this.movePast(t.forKeyword),this.movePast(t.openParenToken),r=t.variableDeclaration?t.variableDeclaration.accept(this):t.left.accept(this),t.variableDeclaration)for(u=r,i=0,o=u.declarators.members.length;i<o;i++)f=u.declarators.members[i],f.setVarFlags(f.getVarFlags()|16384);return this.movePast(t.inKeyword),s=t.expression.accept(this),this.movePast(t.closeParenToken),h=t.statement.accept(this),e=new n.ForInStatement(r,s,h),this.setSpan(e,c,t),e},t.prototype.visitWhileStatement=function(t){var f=this.position,r,u,i;return this.moveTo(t,t.condition),r=t.condition.accept(this),this.movePast(t.closeParenToken),u=t.statement.accept(this),i=new n.WhileStatement(r,u),this.setSpan(i,f,t),i},t.prototype.visitWithStatement=function(t){var f=this.position,r,u,i;return this.moveTo(t,t.condition),r=t.condition.accept(this),this.movePast(t.closeParenToken),u=t.statement.accept(this),i=new n.WithStatement(r,u),this.setSpan(i,f,t),i},t.prototype.visitCastExpression=function(t){var f=this.position,r,u,i;return this.movePast(t.lessThanToken),r=this.visitType(t.type),this.movePast(t.greaterThanToken),u=t.expression.accept(this),i=new n.UnaryExpression(79,u,r),this.setSpan(i,f,t),i},t.prototype.visitObjectLiteralExpression=function(t){var f=this.position,e=this.position+t.openBraceToken.leadingTriviaWidth(),r,u,i;return this.movePast(t.openBraceToken),r=this.visitSeparatedSyntaxList(t.propertyAssignments),u=this.position+t.closeBraceToken.leadingTriviaWidth(),this.movePast(t.closeBraceToken),i=new n.UnaryExpression(23,r,null),this.setCommentsAndSpan(i,f,t),this.isOnSingleLine(e,u)&&i.setFlags(i.getFlags()|2),i},t.prototype.visitSimplePropertyAssignment=function(t){var e=this.position,u=t.propertyName.accept(this),o=this.convertTokenTrailingComments(t.colonToken,this.position+t.colonToken.leadingTriviaWidth()+t.colonToken.width()),i,r,f;return this.movePast(t.colonToken),i=t.expression.accept(this),i.setPreComments(this.mergeComments(o,i.preComments())),r=new n.BinaryExpression(81,u,i),this.setCommentsAndSpan(r,e,t),i.nodeType()===13&&(f=i,f.hint=u.text()),r},t.prototype.visitFunctionPropertyAssignment=function(t){var f=this.position,u=t.propertyName.accept(this),i=t.callSignature.accept(this),e=t.block.accept(this),r;return i.hint=u.text(),i.block=e,i.setFunctionFlags(16384),r=new n.BinaryExpression(81,u,i),this.setSpan(r,f,t),r},t.prototype.visitGetAccessorPropertyAssignment=function(t){var e=this.position,u,f,r;this.moveTo(t,t.propertyName);u=this.identifierFromToken(t.propertyName,!1);f=this.identifierFromToken(t.propertyName,!1);this.movePast(t.propertyName);this.movePast(t.openParenToken);this.movePast(t.closeParenToken);var o=t.typeAnnotation?t.typeAnnotation.accept(this):null,s=t.block?t.block.accept(this):null,i=new n.FunctionDeclaration(f,s,!1,null,new n.ASTList([]),o,!1);return this.setSpan(i,e,t),i.setFunctionFlags(i.getFunctionFlags()|8224),i.hint="get"+t.propertyName.valueText(),r=new n.BinaryExpression(81,u,i),this.copySpan(i,r),r},t.prototype.visitSetAccessorPropertyAssignment=function(t){var o=this.position,u,f,e,r;this.moveTo(t,t.propertyName);u=this.identifierFromToken(t.propertyName,!1);f=this.identifierFromToken(t.propertyName,!1);this.movePast(t.propertyName);this.movePast(t.openParenToken);e=t.parameter.accept(this);this.movePast(t.closeParenToken);var s=new n.ASTList([e]),h=t.block?t.block.accept(this):null,i=new n.FunctionDeclaration(f,h,!1,null,s,null,!1);return this.setSpan(i,o,t),i.setFunctionFlags(i.getFunctionFlags()|8256),i.hint="set"+t.propertyName.valueText(),r=new n.BinaryExpression(81,u,i),this.copySpan(i,r),r},t.prototype.visitFunctionExpression=function(t){var u=this.position,r;this.movePast(t.functionKeyword);r=t.identifier===null?null:this.identifierFromToken(t.identifier,!1);this.movePast(t.identifier);var f=t.callSignature.typeParameterList===null?null:t.callSignature.typeParameterList.accept(this),e=t.callSignature.parameterList.accept(this),o=t.callSignature.typeAnnotation?t.callSignature.typeAnnotation.accept(this):null,s=t.block?t.block.accept(this):null,i=new n.FunctionDeclaration(r,s,!1,f,e,o,this.hasDotDotDotParameter(t.callSignature.parameterList.parameters));return this.setCommentsAndSpan(i,u,t),i.setFunctionFlags(i.getFunctionFlags()|8192),i},t.prototype.visitEmptyStatement=function(t){var r=this.position,i;return this.movePast(t.semicolonToken),i=new n.EmptyStatement,this.setSpan(i,r,t),i},t.prototype.visitTryStatement=function(t){var e=this.position,f,i,r,u;return this.movePast(t.tryKeyword),f=t.block.accept(this),i=null,t.catchClause!==null&&(i=t.catchClause.accept(this)),r=null,t.finallyClause!==null&&(r=t.finallyClause.accept(this)),u=new n.TryStatement(f,i,r),this.setSpan(u,e,t),u},t.prototype.visitCatchClause=function(t){var o=this.position,i,f,e,r,u;return this.movePast(t.catchKeyword),this.movePast(t.openParenToken),i=this.identifierFromToken(t.identifier,!1),this.movePast(t.identifier),f=t.typeAnnotation?t.typeAnnotation.accept(this):null,this.movePast(t.closeParenToken),e=t.block.accept(this),r=new n.VariableDeclarator(i,f,null),this.setSpanExplicit(r,i.minChar,i.limChar),u=new n.CatchClause(r,e),this.setSpan(u,o,t),u},t.prototype.visitFinallyClause=function(n){return this.movePast(n.finallyKeyword),n.block.accept(this)},t.prototype.visitLabeledStatement=function(t){var u=this.position,f=this.identifierFromToken(t.identifier,!1),r,i;return this.movePast(t.identifier),this.movePast(t.colonToken),r=t.statement.accept(this),i=new n.LabeledStatement(f,r),this.setSpan(i,u,t),i},t.prototype.visitDoStatement=function(t){var e=this.position,u,i,f,r;return this.movePast(t.doKeyword),u=t.statement.accept(this),i=new n.ASTSpan,this.setSpan(i,this.position,t.whileKeyword),this.movePast(t.whileKeyword),this.movePast(t.openParenToken),f=t.condition.accept(this),this.movePast(t.closeParenToken),this.movePast(t.semicolonToken),r=new n.DoStatement(u,f,i),this.setSpan(r,e,t),r},t.prototype.visitTypeOfExpression=function(t){var u=this.position,r,i;return this.movePast(t.typeOfKeyword),r=t.expression.accept(this),i=new n.UnaryExpression(35,r,null),this.setSpan(i,u,t),i},t.prototype.visitDeleteExpression=function(t){var u=this.position,r,i;return this.movePast(t.deleteKeyword),r=t.expression.accept(this),i=new n.UnaryExpression(29,r,null),this.setSpan(i,u,t),i},t.prototype.visitVoidExpression=function(t){var u=this.position,r,i;return this.movePast(t.voidKeyword),r=t.expression.accept(this),i=new n.UnaryExpression(25,r,null),this.setSpan(i,u,t),i},t.prototype.visitDebuggerStatement=function(t){var r=this.position,i;return this.movePast(t.debuggerKeyword),this.movePast(t.semicolonToken),i=new n.DebuggerStatement,this.setSpan(i,r,t),i},t.protoString="__proto__",t.protoSubstitutionString="#__proto__",t}(),i;n.SyntaxTreeToAstVisitor=t;i=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),i.prototype.applyDelta=function(t,i){if(i!==0){var r=function(n){n.minChar!==-1&&(n.minChar+=i);n.limChar!==-1&&(n.limChar+=i)},u=function(n){var t,i;if(n&&n.length>0)for(t=0;t<n.length;t++)i=n[t],r(i)},f=function(n){return r(n),u(n.preComments()),u(n.postComments()),n};n.getAstWalkerFactory().walk(t,f)}},i.prototype.setSpanExplicit=function(n,i,r){if(n.minChar!==-1){var u=i-n.minChar;this.applyDelta(n,u);n.limChar=r}else t.prototype.setSpanExplicit.call(this,n,i,r)},i.prototype.getAndMovePastAST=function(n){var t,i;return this.previousTokenTrailingComments!==null?null:(t=n._ast,!t)?null:(i=this.position,this.movePast(n),this.setSpan(t,i,n),t)},i.prototype.setAST=function(n,t){n._ast=t},i.prototype.visitSyntaxList=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitSyntaxList.call(this,n),n.childCount()>0&&this.setAST(n,i)),i},i.prototype.visitSeparatedSyntaxList=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitSeparatedSyntaxList.call(this,n),n.childCount()>0&&this.setAST(n,i)),i},i.prototype.visitToken=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitToken.call(this,n),this.setAST(n,i)),i},i.prototype.visitClassDeclaration=function(n){var i=this.getAndMovePastAST(n);return i?this.completeClassDeclaration(n,i):(i=t.prototype.visitClassDeclaration.call(this,n),this.setAST(n,i)),i},i.prototype.visitInterfaceDeclaration=function(n){var i=this.getAndMovePastAST(n);return i?this.completeInterfaceDeclaration(n,i):(i=t.prototype.visitInterfaceDeclaration.call(this,n),this.setAST(n,i)),i},i.prototype.visitHeritageClause=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitHeritageClause.call(this,n),this.setAST(n,i)),i},i.prototype.visitModuleDeclaration=function(n){var i=this.getAndMovePastAST(n);return i?this.completeModuleDeclaration(n,i):(i=t.prototype.visitModuleDeclaration.call(this,n),this.setAST(n,i)),i},i.prototype.visitFunctionDeclaration=function(n){var i=this.getAndMovePastAST(n);return i?this.completeFunctionDeclaration(n,i):(i=t.prototype.visitFunctionDeclaration.call(this,n),this.setAST(n,i)),i},i.prototype.visitImportDeclaration=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitImportDeclaration.call(this,n),this.setAST(n,i)),i},i.prototype.visitExportAssignment=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitExportAssignment.call(this,n),this.setAST(n,i)),i},i.prototype.visitPrefixUnaryExpression=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitPrefixUnaryExpression.call(this,n),this.setAST(n,i)),i},i.prototype.visitArrayLiteralExpression=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitArrayLiteralExpression.call(this,n),this.setAST(n,i)),i},i.prototype.visitOmittedExpression=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitOmittedExpression.call(this,n),this.setAST(n,i)),i},i.prototype.visitParenthesizedExpression=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitParenthesizedExpression.call(this,n),this.setAST(n,i)),i},i.prototype.visitSimpleArrowFunctionExpression=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitSimpleArrowFunctionExpression.call(this,n),this.setAST(n,i)),i},i.prototype.visitParenthesizedArrowFunctionExpression=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitParenthesizedArrowFunctionExpression.call(this,n),this.setAST(n,i)),i},i.prototype.visitQualifiedName=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitQualifiedName.call(this,n),this.setAST(n,i)),i},i.prototype.visitConstructorType=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitConstructorType.call(this,n),this.setAST(n,i)),i},i.prototype.visitFunctionType=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitFunctionType.call(this,n),this.setAST(n,i)),i},i.prototype.visitObjectType=function(n){var r=this.position,i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitObjectType.call(this,n),this.setAST(n,i)),i},i.prototype.visitArrayType=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitArrayType.call(this,n),this.setAST(n,i)),i},i.prototype.visitGenericType=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitGenericType.call(this,n),this.setAST(n,i)),i},i.prototype.visitBlock=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitBlock.call(this,n),this.setAST(n,i)),i},i.prototype.visitParameter=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitParameter.call(this,n),this.setAST(n,i)),i},i.prototype.visitMemberAccessExpression=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitMemberAccessExpression.call(this,n),this.setAST(n,i)),i},i.prototype.visitPostfixUnaryExpression=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitPostfixUnaryExpression.call(this,n),this.setAST(n,i)),i},i.prototype.visitElementAccessExpression=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitElementAccessExpression.call(this,n),this.setAST(n,i)),i},i.prototype.visitInvocationExpression=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitInvocationExpression.call(this,n),this.setAST(n,i)),i},i.prototype.visitBinaryExpression=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitBinaryExpression.call(this,n),this.setAST(n,i)),i},i.prototype.visitConditionalExpression=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitConditionalExpression.call(this,n),this.setAST(n,i)),i},i.prototype.visitConstructSignature=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitConstructSignature.call(this,n),this.setAST(n,i)),i},i.prototype.visitMethodSignature=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitMethodSignature.call(this,n),this.setAST(n,i)),i},i.prototype.visitIndexSignature=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitIndexSignature.call(this,n),this.setAST(n,i)),i},i.prototype.visitPropertySignature=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitPropertySignature.call(this,n),this.setAST(n,i)),i},i.prototype.visitCallSignature=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitCallSignature.call(this,n),this.setAST(n,i)),i},i.prototype.visitTypeParameter=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitTypeParameter.call(this,n),this.setAST(n,i)),i},i.prototype.visitIfStatement=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitIfStatement.call(this,n),this.setAST(n,i)),i},i.prototype.visitExpressionStatement=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitExpressionStatement.call(this,n),this.setAST(n,i)),i},i.prototype.visitConstructorDeclaration=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitConstructorDeclaration.call(this,n),this.setAST(n,i)),i},i.prototype.visitMemberFunctionDeclaration=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitMemberFunctionDeclaration.call(this,n),this.setAST(n,i)),i},i.prototype.visitMemberAccessorDeclaration=function(n,i){var r=this.getAndMovePastAST(n);return r||(r=t.prototype.visitMemberAccessorDeclaration.call(this,n,i),this.setAST(n,r)),r},i.prototype.visitMemberVariableDeclaration=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitMemberVariableDeclaration.call(this,n),this.setAST(n,i)),i},i.prototype.visitThrowStatement=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitThrowStatement.call(this,n),this.setAST(n,i)),i},i.prototype.visitReturnStatement=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitReturnStatement.call(this,n),this.setAST(n,i)),i},i.prototype.visitObjectCreationExpression=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitObjectCreationExpression.call(this,n),this.setAST(n,i)),i},i.prototype.visitSwitchStatement=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitSwitchStatement.call(this,n),this.setAST(n,i)),i},i.prototype.visitCaseSwitchClause=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitCaseSwitchClause.call(this,n),this.setAST(n,i)),i},i.prototype.visitDefaultSwitchClause=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitDefaultSwitchClause.call(this,n),this.setAST(n,i)),i},i.prototype.visitBreakStatement=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitBreakStatement.call(this,n),this.setAST(n,i)),i},i.prototype.visitContinueStatement=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitContinueStatement.call(this,n),this.setAST(n,i)),i},i.prototype.visitForStatement=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitForStatement.call(this,n),this.setAST(n,i)),i},i.prototype.visitForInStatement=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitForInStatement.call(this,n),this.setAST(n,i)),i},i.prototype.visitWhileStatement=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitWhileStatement.call(this,n),this.setAST(n,i)),i},i.prototype.visitWithStatement=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitWithStatement.call(this,n),this.setAST(n,i)),i},i.prototype.visitCastExpression=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitCastExpression.call(this,n),this.setAST(n,i)),i},i.prototype.visitObjectLiteralExpression=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitObjectLiteralExpression.call(this,n),this.setAST(n,i)),i},i.prototype.visitSimplePropertyAssignment=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitSimplePropertyAssignment.call(this,n),this.setAST(n,i)),i},i.prototype.visitFunctionPropertyAssignment=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitFunctionPropertyAssignment.call(this,n),this.setAST(n,i)),i},i.prototype.visitGetAccessorPropertyAssignment=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitGetAccessorPropertyAssignment.call(this,n),this.setAST(n,i)),i},i.prototype.visitSetAccessorPropertyAssignment=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitSetAccessorPropertyAssignment.call(this,n),this.setAST(n,i)),i},i.prototype.visitFunctionExpression=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitFunctionExpression.call(this,n),this.setAST(n,i)),i},i.prototype.visitEmptyStatement=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitEmptyStatement.call(this,n),this.setAST(n,i)),i},i.prototype.visitTryStatement=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitTryStatement.call(this,n),this.setAST(n,i)),i},i.prototype.visitCatchClause=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitCatchClause.call(this,n),this.setAST(n,i)),i},i.prototype.visitLabeledStatement=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitLabeledStatement.call(this,n),this.setAST(n,i)),i},i.prototype.visitDoStatement=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitDoStatement.call(this,n),this.setAST(n,i)),i},i.prototype.visitTypeOfExpression=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitTypeOfExpression.call(this,n),this.setAST(n,i)),i},i.prototype.visitDeleteExpression=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitDeleteExpression.call(this,n),this.setAST(n,i)),i},i.prototype.visitVoidExpression=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitVoidExpression.call(this,n),this.setAST(n,i)),i},i.prototype.visitDebuggerStatement=function(n){var i=this.getAndMovePastAST(n);return i||(i=t.prototype.visitDebuggerStatement.call(this,n),this.setAST(n,i)),i},i}(t)}(TypeScript||(TypeScript={})),function(n){var t,i;n.fileResolutionTime=0;n.sourceCharactersCompiled=0;n.syntaxTreeParseTime=0;n.syntaxDiagnosticsTime=0;n.astTranslationTime=0;n.typeCheckTime=0;n.emitTime=0;n.emitWriteFileTime=0;n.emitDirectoryExistsTime=0;n.emitFileExistsTime=0;n.emitResolvePathTime=0;n.declarationEmitTime=0;n.declarationEmitIsExternallyVisibleTime=0;n.declarationEmitTypeSignatureTime=0;n.declarationEmitGetBoundDeclTypeTime=0;n.declarationEmitIsOverloadedCallSignatureTime=0;n.declarationEmitFunctionDeclarationGetSymbolTime=0;n.declarationEmitGetBaseTypeTime=0;n.declarationEmitGetAccessorFunctionTime=0;n.declarationEmitGetTypeParameterSymbolTime=0;n.declarationEmitGetImportDeclarationSymbolTime=0;n.ioHostResolvePathTime=0;n.ioHostDirectoryNameTime=0;n.ioHostCreateDirectoryStructureTime=0;n.ioHostWriteFileTime=0;t=function(){function t(t,i,r,u,f,e,o){var s;this.fileName=t;this.compilationSettings=i;this.scriptSnapshot=r;this.byteOrderMark=u;this.version=f;this.isOpen=e;this._diagnostics=null;this._syntaxTree=null;this._bloomFilter=null;e?this._syntaxTree=o:(s=(new Date).getTime(),this._diagnostics=o.diagnostics(),n.syntaxDiagnosticsTime+=(new Date).getTime()-s);this.lineMap=o.lineMap();s=(new Date).getTime();this.script=n.SyntaxTreeToAstVisitor.visit(o,t,i,e);n.astTranslationTime+=(new Date).getTime()-s}return t.prototype.diagnostics=function(){return this._diagnostics===null&&(this._diagnostics=this._syntaxTree.diagnostics()),this._diagnostics},t.prototype.syntaxTree=function(){return this._syntaxTree?this._syntaxTree:n.Parser.parse(this.fileName,n.SimpleText.fromScriptSnapshot(this.scriptSnapshot),n.isDTSFile(this.fileName),n.getParseOptions(this.compilationSettings))},t.prototype.bloomFilter=function(){var t,r,i,u;if(!this._bloomFilter){t=new n.BlockIntrinsics;r=function(i){if(n.isValidAstNode(i)&&i.nodeType()===21){var r=i.text();t[r]=!0}return i};n.getAstWalkerFactory().walk(this.script,r,null,null,t);i=0;for(u in t)t[u]&&i++;this._bloomFilter=new n.BloomFilter(i);this._bloomFilter.addKeys(t)}return this._bloomFilter},t.prototype.update=function(i,r,u,f){var h=this.script,e=this._syntaxTree,o=n.SimpleText.fromScriptSnapshot(i),s=f===null||e===null?n.Parser.parse(this.fileName,o,n.isDTSFile(this.fileName),n.getParseOptions(this.compilationSettings)):n.Parser.incrementalParse(e,f,o);return new t(this.fileName,this.compilationSettings,i,this.byteOrderMark,r,u,s)},t.create=function(i,r,u,f,e,o,s){var c=(new Date).getTime(),l=n.Parser.parse(i,n.SimpleText.fromScriptSnapshot(r),n.isDTSFile(i),n.getParseOptions(s)),h;return n.syntaxTreeParseTime+=(new Date).getTime()-c,h=new t(i,s,r,u,f,e,l),h.script.referencedFiles=o,h},t}();n.Document=t;n.globalSemanticInfoChain=null;n.globalBinder=null;n.globalLogger=null;n.useDirectTypeStorage=!1;i=function(){function i(t,i){typeof t=="undefined"&&(t=new n.NullLogger);typeof i=="undefined"&&(i=new n.CompilationSettings);this.logger=t;this.settings=i;this.resolver=null;this.semanticInfoChain=null;this.fileNameToDocument=new n.StringHashTable;this.emitOptions=new n.EmitOptions(this.settings);n.globalLogger=t}return i.prototype.getDocument=function(t){return this.fileNameToDocument.lookup(n.switchToForwardSlashes(t))},i.prototype.timeFunction=function(t,i){return n.timeFunction(this.logger,t,i)},i.prototype.addSourceUnit=function(i,r,u,f,e,o){typeof o=="undefined"&&(o=[]);i=n.switchToForwardSlashes(i);n.sourceCharactersCompiled+=r.getLength();var s=t.create(i,r,u,f,e,o,this.emitOptions.compilationSettings);return this.fileNameToDocument.addOrUpdate(i,s),s},i.prototype.updateSourceUnit=function(t,i,r,u,f){var e=this;return t=n.switchToForwardSlashes(t),this.timeFunction("pullUpdateUnit("+t+")",function(){var o=e.getDocument(t),n=o.update(i,r,u,f,e.settings);return e.fileNameToDocument.addOrUpdate(t,n),e.pullUpdateScript(o,n),n})},i.prototype.isDynamicModuleCompilation=function(){for(var i=this.fileNameToDocument.getAllKeys(),u,t,n=0,r=i.length;n<r;n++)if(u=this.getDocument(i[n]),t=u.script,!t.isDeclareFile&&t.topLevelMod!==null)return!0;return!1},i.prototype.updateCommonDirectoryPath=function(){for(var f=[],i=-1,e=this.fileNameToDocument.getAllKeys(),r,o,t,u=0,s=e.length;u<s;u++){var h=e[u],c=this.getDocument(e[u]),l=c.script;if(!l.isDeclareFile)if(r=n.filePathComponents(h),i===-1)f=r,i=f.length;else{for(o=!1,t=0;t<i&&t<r.length;t++)if(f[t]!==r[t]){if(i=t,o=!0,t===0)return this.emitOptions.compilationSettings.outDirOption||this.emitOptions.compilationSettings.sourceRoot?new n.Diagnostic(null,0,0,n.DiagnosticCode.Cannot_find_the_common_subdirectory_path_for_the_input_files,null):(this.emitOptions.commonDirectoryPath="",null);break}!o&&r.length<i&&(i=r.length)}}return this.emitOptions.commonDirectoryPath=f.slice(0,i).join("/")+"/",null},i.prototype.setEmitOptions=function(t){if(this.emitOptions.ioHost=t,this.emitOptions.compilationSettings.moduleGenTarget===0&&this.isDynamicModuleCompilation())return new n.Diagnostic(null,0,0,n.DiagnosticCode.Cannot_compile_external_modules_unless_the_module_flag_is_provided,null);if(!this.emitOptions.compilationSettings.mapSourceFiles){if(this.emitOptions.compilationSettings.mapRoot)return this.emitOptions.compilationSettings.sourceRoot?new n.Diagnostic(null,0,0,n.DiagnosticCode.Options_mapRoot_and_sourceRoot_cannot_be_specified_without_specifying_sourcemap_option,null):new n.Diagnostic(null,0,0,n.DiagnosticCode.Option_mapRoot_cannot_be_specified_without_specifying_sourcemap_option,null);if(this.emitOptions.compilationSettings.sourceRoot)return new n.Diagnostic(null,0,0,n.DiagnosticCode.Option_sourceRoot_cannot_be_specified_without_specifying_sourcemap_option,null)}return(this.emitOptions.compilationSettings.mapRoot=n.convertToDirectoryPath(n.switchToForwardSlashes(this.emitOptions.compilationSettings.mapRoot)),this.emitOptions.compilationSettings.sourceRoot=n.convertToDirectoryPath(n.switchToForwardSlashes(this.emitOptions.compilationSettings.sourceRoot)),!this.emitOptions.compilationSettings.outFileOption&&!this.emitOptions.compilationSettings.outDirOption&&!this.emitOptions.compilationSettings.mapRoot&&!this.emitOptions.compilationSettings.sourceRoot)?(this.emitOptions.outputMany=!0,this.emitOptions.commonDirectoryPath="",null):(this.emitOptions.compilationSettings.outFileOption?(this.emitOptions.compilationSettings.outFileOption=n.switchToForwardSlashes(this.emitOptions.ioHost.resolvePath(this.emitOptions.compilationSettings.outFileOption)),this.emitOptions.outputMany=!1):this.emitOptions.outputMany=!0,this.emitOptions.compilationSettings.outDirOption&&(this.emitOptions.compilationSettings.outDirOption=n.switchToForwardSlashes(this.emitOptions.ioHost.resolvePath(this.emitOptions.compilationSettings.outDirOption)),this.emitOptions.compilationSettings.outDirOption=n.convertToDirectoryPath(this.emitOptions.compilationSettings.outDirOption)),this.emitOptions.compilationSettings.outDirOption||this.emitOptions.compilationSettings.mapRoot||this.emitOptions.compilationSettings.sourceRoot)?this.updateCommonDirectoryPath():null},i.prototype.getScripts=function(){for(var t=[],i=this.fileNameToDocument.getAllKeys(),u,n=0,r=i.length;n<r;n++)u=this.getDocument(i[n]),t.push(u.script);return t},i.prototype.getDocuments=function(){for(var t=[],i=this.fileNameToDocument.getAllKeys(),u,n=0,r=i.length;n<r;n++)u=this.getDocument(i[n]),t.push(u);return t},i.prototype.writeByteOrderMarkForDocument=function(n){var i,t,r,n;if(this.emitOptions.outputMany||n.script.topLevelMod)return n.byteOrderMark!==0;for(i=this.fileNameToDocument.getAllKeys(),t=0,r=i.length;t<r;t++)if(!n.script.topLevelMod&&(n=this.getDocument(i[t]),n.byteOrderMark!==0))return!0;return!1},i.mapToDTSFileName=function(t){return n.getDeclareFilePath(t)},i.prototype.canEmitDeclarations=function(n){return this.settings.generateDeclarationFiles?!!n&&(n.isDeclareFile||n.moduleElements===null)?!1:!0:!1},i.prototype.emitDeclarations=function(t,r){var u=t.script,f;return this.canEmitDeclarations(u)&&(r?r.document=t:(f=this.emitOptions.mapOutputFileName(t,i.mapToDTSFileName),r=new n.DeclarationEmitter(f,t,this)),r.emitDeclarations(u)),r},i.prototype.emitAllDeclarations=function(){var s=(new Date).getTime(),t,r,i,e,o,u,f;if(this.canEmitDeclarations()){for(t=null,r=this.fileNameToDocument.getAllKeys(),i=0,e=r.length;i<e;i++){o=r[i];try{u=this.getDocument(r[i]);this.emitOptions.outputMany||u.script.topLevelMod?(f=this.emitDeclarations(u),f&&f.close()):t=this.emitDeclarations(u,t)}catch(h){return n.Emitter.handleEmitterError(o,h)}}if(t)try{t.close()}catch(c){return n.Emitter.handleEmitterError(t.document.fileName,c)}}return n.declarationEmitTime+=(new Date).getTime()-s,[]},i.prototype.emitUnitDeclarations=function(t){var i,r;if(this.canEmitDeclarations())if(i=this.getDocument(t),this.emitOptions.outputMany||i.script.topLevelMod)try{r=this.emitDeclarations(i);r&&r.close()}catch(u){return n.Emitter.handleEmitterError(t,u)}else return this.emitAllDeclarations();return[]},i.mapToFileNameExtension=function(n,t,i){if(i)return t;var r=t.split(".");return r.pop(),r.join(".")+n},i.mapToJSFileName=function(n,t){return i.mapToFileNameExtension(".js",n,t)},i.prototype.emit=function(t,r,u){var s=t.script,h,f,o,c,e;return s.isDeclareFile||(h=t.fileName,u?this.settings.mapSourceFiles&&(e=this.emitOptions.decodeSourceMapOptions(t,u.emittingFileName,u.sourceMapper.sourceMapSourceInfo),u.setSourceMappings(new n.SourceMapper(u.outfile,u.sourceMapper.sourceMapOut,e))):(f=this.emitOptions.mapOutputFileName(t,i.mapToJSFileName),o=this.createFile(f,this.writeByteOrderMarkForDocument(t)),u=new n.Emitter(f,o,this.emitOptions,this.semanticInfoChain),this.settings.mapSourceFiles&&(c=this.createFile(f+n.SourceMapper.MapFileExtension,!1),e=this.emitOptions.decodeSourceMapOptions(t,f),u.setSourceMappings(new n.SourceMapper(o,c,e))),r&&r(h,f)),u.setDocument(t),u.emitJavascript(s,!1)),u},i.prototype.emitAll=function(t,i){var l=(new Date).getTime(),h=this.setEmitOptions(t),e,r,u,c,o,f,s;if(h)return[h];for(e=this.fileNameToDocument.getAllKeys(),r=null,u=0,c=e.length;u<c;u++){o=e[u];f=this.getDocument(o);try{this.emitOptions.outputMany||f.script.topLevelMod?(s=this.emit(f,i),s&&s.emitSourceMapsAndClose()):r=this.emit(f,i,r)}catch(a){return n.Emitter.handleEmitterError(o,a)}}if(r)try{r.emitSourceMapsAndClose()}catch(v){return n.Emitter.handleEmitterError(r.document.fileName,v)}return n.emitTime+=(new Date).getTime()-l,[]},i.prototype.emitUnit=function(t,i,r){var e=this.setEmitOptions(i),u,f;if(e)return[e];if(u=this.getDocument(t),this.emitOptions.outputMany||u.script.topLevelMod){try{f=this.emit(u,r);f&&f.emitSourceMapsAndClose()}catch(o){return n.Emitter.handleEmitterError(t,o)}return[]}return this.emitAll(i,r)},i.prototype.createFile=function(t,i){return new n.TextWriter(this.emitOptions.ioHost,t,i)},i.prototype.pullResolveFile=function(t){var i=this.semanticInfoChain.getUnit(t);return i?(this.setUnit(t),this.resolver.resolveBoundDecls(i.getTopLevelDecls()[0],new n.PullTypeResolutionContext),!0):!1},i.prototype.getSyntacticDiagnostics=function(n){return this.getDocument(n).diagnostics()},i.prototype.getSyntaxTree=function(n){return this.getDocument(n).syntaxTree()},i.prototype.getScript=function(n){return this.getDocument(n).script},i.prototype.getSemanticDiagnostics=function(t){var r=[],u=this.semanticInfoChain.getUnit(t),f,i,e,o;return n.globalSemanticInfoChain=this.semanticInfoChain,n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain),u&&(f=this.getDocument(t),i=f.script,i&&(e=(new Date).getTime(),n.PullTypeResolver.typeCheck(this.settings,this.semanticInfoChain,t,i),o=(new Date).getTime(),n.typeCheckTime+=o-e,u.getDiagnostics(r))),r},i.prototype.resolveAllFiles=function(){for(var t=this.fileNameToDocument.getAllKeys(),n=0,i=t.length;n<i;n++)this.getSemanticDiagnostics(t[n])},i.prototype.setUnit=function(t){this.resolver||(this.resolver=new n.PullTypeResolver(this.settings,this.semanticInfoChain,t));this.resolver.setUnitPath(t)},i.prototype.pullTypeCheck=function(){var v=(new Date).getTime(),t,s;this.semanticInfoChain=new n.SemanticInfoChain;n.globalSemanticInfoChain=this.semanticInfoChain;this.resolver&&(this.resolver.semanticInfoChain=this.semanticInfoChain);for(var i=null,h=(new Date).getTime(),e=this.fileNameToDocument.getAllKeys(),f=e.length,t=0;t<f;t++){var r=e[t],c=this.getDocument(r),u=new n.SemanticInfo(r);i=new n.DeclCollectionContext(u,r);n.getAstWalkerFactory().walk(c.script,n.preCollectDecls,n.postCollectDecls,null,i);u.addTopLevelDecl(i.getParent());this.semanticInfoChain.addUnit(u)}var l=(new Date).getTime(),a=(new Date).getTime(),o=new n.PullSymbolBinder(this.semanticInfoChain);for(n.globalBinder=o,t=1;t<this.semanticInfoChain.units.length;t++)o.bindDeclsForUnit(this.semanticInfoChain.units[t].getPath());s=(new Date).getTime();this.logger.log("Decl creation: "+(l-h));this.logger.log("Binding: "+(s-a));this.logger.log("    Time in findSymbol: "+n.time_in_findSymbol);this.logger.log("Number of symbols created: "+n.pullSymbolID);this.logger.log("Number of specialized types created: "+n.nSpecializationsCreated);this.logger.log("Number of specialized signatures created: "+n.nSpecializedSignaturesCreated)},i.prototype.pullUpdateScript=function(t,i){var r=this;this.timeFunction("pullUpdateScript: ",function(){var a=t.script,c=i.script,u=new n.SemanticInfo(t.fileName),e=r.semanticInfoChain.getUnit(t.fileName),f,l,o,s,h;n.lastBoundPullDeclId=n.pullDeclID;f=new n.DeclCollectionContext(u,t.fileName);n.getAstWalkerFactory().walk(c,n.preCollectDecls,n.postCollectDecls,null,f);l=e.getTopLevelDecls()[0];o=f.getParent();u.addTopLevelDecl(o);r.resolver&&r.resolver.cleanCachedGlobals();r.semanticInfoChain.updateUnit(e,u);r.logger.log("Cleaning symbols...");s=(new Date).getTime();r.semanticInfoChain.update();h=(new Date).getTime();r.logger.log("   time to clean: "+(h-s));r.resolver&&r.resolver.setUnitPath(t.fileName)})},i.prototype.getSymbolOfDeclaration=function(t){var i,r,u;return t?(i=this.resolver.getASTForDecl(t),!i)?null:(r=this.resolver.getEnclosingDecl(t),i.nodeType()===81)?this.getSymbolOfDeclaration(r):(u=new n.PullTypeResolutionContext,this.resolver.resolveAST(i,!1,r,u)):null},i.prototype.resolvePosition=function(t,i){var l=[],f=[],pt=i.script,g=i.fileName,st=this.semanticInfoChain.getUnit(g),ht=null,u=null,e=null,it=null,p=null,nt=null,b=[],rt=null,ut=null,k=[],o=new n.PullTypeResolutionContext,ct=!1,s=null,lt=!1,at,h,d,a,c,y,ft,vt,r,tt,w,v,et,ot,yt;if(n.globalSemanticInfoChain=this.semanticInfoChain,n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain),at=function(i){var r,u;return n.isValidAstNode(i)&&t>=i.minChar&&t<=i.limChar&&(r=f[f.length-1],(r===undefined||i.minChar>=r.minChar&&i.limChar<=r.limChar)&&(u=st.getDeclForAST(i),u&&(l[l.length]=u,ht=i),i.nodeType()===13&&n.hasFlag(i.getFunctionFlags(),8192)?nt=i:i.nodeType()===18?b[b.length]=i:i.nodeType()===23?rt=i:i.nodeType()===79?k[k.length]=i:i.nodeType()===39?ut=i:i.nodeType()===11&&(ct=!0),f[f.length]=i)),i},n.getAstWalkerFactory().walk(pt,at),f.length){if(this.setUnit(g),u=f[f.length-1],u.nodeType()===21&&f.length>1){h=f[f.length-2];switch(h.nodeType()){case 15:u===h.name&&(u=h);break;case 14:u===h.name&&(u=h);break;case 16:u===h.name&&(u=h);break;case 18:u===h.id&&(u=h);break;case 13:u===h.name&&(u=h)}}if(d=null,ht===u)e=l[l.length-1].getSymbol(),this.resolver.resolveDeclaredSymbol(e,null,o),e.setUnresolved(),s=l[l.length-1].getParentDecl(),u.nodeType()===13&&(d=u);else{for(r=l.length-1;r>=0;r--)if(!(l[r].kind&3072)){s=l[r];break}if(a=null,(u.nodeType()===31||u.nodeType()===30||u.nodeType()===21)&&f.length>1)for(r=f.length-2;r>=0;r--)if(f[r].nodeType()===33&&f[r].operand2===f[r+1])u=f[r];else if((f[r].nodeType()===37||f[r].nodeType()===38)&&f[r].target===f[r+1]){a=f[r];break}else if(f[r].nodeType()===13&&f[r].name===f[r+1]){d=f[r];break}else break;if(u.nodeType()===1)for(r=0;r<u.members.length;r++)if(u.members[r].minChar>t){u=u.members[r];break}if(o.resolvingTypeReference=ct,c=!1,b.length)for(r=0;r<b.length;r++)y=b[r],c=y!==null&&y.typeExpr!==null,this.resolver.resolveAST(y,!1,null,o),ft=this.semanticInfoChain.getSymbolForAST(y,g),ft&&c&&(vt=ft.type,o.pushContextualType(vt,!1,null)),y.init&&this.resolver.resolveAST(y.init,c,s,o);if(k.length)for(r=0;r<k.length;r++)this.resolver.resolveAST(k[r],c,s,o);ut&&this.resolver.resolveAST(ut,c,s,o);rt&&this.resolver.resolveAST(rt,c,s,o);nt&&(this.resolver.resolveAST(nt,!0,s,o),s=st.getDeclForAST(nt));e=this.resolver.resolveAST(u,c,s,o);a&&(tt=e.kind===4096||e.kind===1024,w=e.type,tt&&(tt=w.kind!==16&&w.kind!==8388608||w.name===""),tt||(lt=u.nodeType()===31||a.nodeType()===38,u.nodeType()===31?e.kind===8&&(p=e.getConstructorMethod().type.getConstructSignatures()):p=a.nodeType()===37?w.getCallSignatures():w.getConstructSignatures(),v=new n.PullAdditionalCallResolutionData,a.nodeType()===37?this.resolver.resolveInvocationExpression(a,c,s,o,v):this.resolver.resolveObjectCreationExpression(a,c,s,o,v),v.candidateSignature&&(it=v.candidateSignature),v.targetSymbol&&v.targetSymbol.name!==""&&(e=v.targetSymbol),u=a))}d?e&&e.kind!==4096&&(et=n.PullHelpers.getSignatureForFuncDecl(d,this.semanticInfoChain.getUnit(g)),it=et.signature,p=et.allSignatures):!p&&e&&(e.kind===65536||e.kind===16384)&&(ot=e.type,ot&&(p=ot.getCallSignatures()))}return yt=this.getSymbolOfDeclaration(s),{symbol:e,ast:u,enclosingScopeSymbol:yt,candidateSignature:it,callSignatures:p,isConstructorCall:lt}},i.prototype.extractResolutionContextFromPath=function(t,i,r){var ni=i.script,yt=i.fileName,pt=this.semanticInfoChain.getUnit(yt),h=null,wt=null,o=!1,u,w,s,v,nt,y,tt,it,rt,b,ut,k,c,p,ft,et,ot,st,ht,gt,e,ct,kt,lt,l,dt,at,vt,d,g,f;if(n.globalSemanticInfoChain=this.semanticInfoChain,n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain),u=new n.PullTypeResolutionContext,u.resolveAggressively=!0,t.count()===0)return null;for(this.setUnit(pt.getPath()),f=0,w=t.count();f<w;f++){s=t.asts[f];switch(s.nodeType()){case 13:n.hasFlag(s.getFunctionFlags(),8192)&&this.resolver.resolveAST(s,!0,h,u);break;case 18:v=s;o=v.typeExpr!==null;o&&r&&(this.resolver.resolveAST(v,!1,null,u),nt=this.semanticInfoChain.getSymbolForAST(v,yt),e=null,nt&&o&&(e=nt.type),u.pushContextualType(e,!1,null),v.init&&this.resolver.resolveAST(v.init,o,h,u));break;case 37:case 38:if(r){var bt=s.nodeType()===38,a=s,e=null;if(f+1<w&&a.arguments===t.asts[f+1]){if(y=new n.PullAdditionalCallResolutionData,bt?this.resolver.resolveObjectCreationExpression(a,o,h,u,y):this.resolver.resolveInvocationExpression(a,o,h,u,y),y.actualParametersContextTypeSymbols&&(tt=t.asts[f+1]&&t.asts[f+1].nodeType()===1?t.asts[f+2]:t.asts[f+1],tt))for(c=0,p=a.arguments.members.length;c<p;c++)if(a.arguments.members[c]===tt&&(it=y.actualParametersContextTypeSymbols[c],it)){e=it;break}}else bt?this.resolver.resolveObjectCreationExpression(a,o,h,u):this.resolver.resolveInvocationExpression(a,o,h,u);u.pushContextualType(e,!1,null)}break;case 22:r&&(e=null,l=u.getContextualType(),l&&l.isArray()&&(e=l.getElementType()),u.pushContextualType(e,!1,null));break;case 23:if(r&&(rt=s,b=new n.PullAdditionalObjectLiteralResolutionData,this.resolver.resolveObjectLiteralExpression(rt,o,h,u,b),ut=t.asts[f+1]&&t.asts[f+1].nodeType()===1?t.asts[f+2]:t.asts[f+1],ut)){if(e=null,k=rt.operand,k&&b.membersContextTypeSymbols)for(c=0,p=k.members.length;c<p;c++)if(k.members[c]===ut&&(ft=b.membersContextTypeSymbols[c],ft)){e=ft;break}u.pushContextualType(e,!1,null)}break;case 39:r&&(et=s,e=null,t.asts[f+1]&&t.asts[f+1]===et.operand2&&(ot=this.resolver.resolveAST(et.operand1,o,h,u).type,ot&&(o=!0,e=ot)),u.pushContextualType(e,!1,null));break;case 79:st=s;f+1<w&&t.asts[f+1]===st.castTerm?u.resolvingTypeReference=!0:r&&(e=null,ht=this.resolver.resolveTypeAssertionExpression(st,o,h,u),ht&&(o=!0,e=ht),u.pushContextualType(e,!1,null));break;case 94:r&&(gt=s,e=null,h&&h.kind&n.PullElementKind.SomeFunction&&(ct=wt,ct.returnTypeAnnotation?(kt=u.resolvingTypeReference,u.resolvingTypeReference=!0,lt=this.resolver.resolveTypeReference(ct.returnTypeAnnotation,h,u),u.resolvingTypeReference=kt,lt&&(o=!0,e=lt)):(l=u.getContextualType(),l&&l.isFunction()&&(dt=l.getDeclarations()[0].getSignatureSymbol(),at=dt.returnType,at&&(o=!0,e=at)))),u.pushContextualType(e,!1,null));break;case 11:case 9:u.resolvingTypeReference=!0;break;case 14:vt=s;t.asts[f+1]&&(t.asts[f+1]===vt.extendsList||t.asts[f+1]===vt.implementsList)&&(u.resolvingTypeReference=!0);break;case 15:d=s;t.asts[f+1]&&(t.asts[f+1]===d.extendsList||t.asts[f+1]===d.implementsList||t.asts[f+1]===d.name)&&(u.resolvingTypeReference=!0)}g=pt.getDeclForAST(s);!g||g.kind&11264||(h=g,wt=s)}if(t.ast().nodeType()===21&&t.count()>1)for(f=t.count()-1;f>=0;f--)if(t.asts[t.top-1].nodeType()===33&&t.asts[t.top-1].operand2===t.asts[t.top])t.pop();else break;return{ast:t.ast(),enclosingDecl:h,resolutionContext:u,inContextuallyTypedAssignment:o}},i.prototype.pullGetSymbolInformationFromPath=function(t,i){var r=this.extractResolutionContextFromPath(t,i,!0),u;return r?(n.globalSemanticInfoChain=this.semanticInfoChain,n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain),u=this.resolver.resolveAST(t.ast(),r.inContextuallyTypedAssignment,r.enclosingDecl,r.resolutionContext),{symbol:u,ast:t.ast(),enclosingScopeSymbol:this.getSymbolOfDeclaration(r.enclosingDecl)}):null},i.prototype.pullGetDeclarationSymbolInformation=function(t,i){var h=i.script,o=i.fileName,r=t.ast(),u;if(r.nodeType()!==14&&r.nodeType()!==15&&r.nodeType()!==16&&r.nodeType()!==13&&r.nodeType()!==18||(u=this.extractResolutionContextFromPath(t,i,!0),!u))return null;n.globalSemanticInfoChain=this.semanticInfoChain;n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain);var s=this.semanticInfoChain.getUnit(o),f=s.getDeclForAST(r),e=f.kind&n.PullElementKind.SomeSignature?f.getSignatureSymbol():f.getSymbol();return this.resolver.resolveDeclaredSymbol(e,null,u.resolutionContext),e.setUnresolved(),{symbol:e,ast:t.ast(),enclosingScopeSymbol:this.getSymbolOfDeclaration(u.enclosingDecl)}},i.prototype.pullGetCallInformationFromPath=function(t,i){var f,r,u;return t.ast().nodeType()!==37&&t.ast().nodeType()!==38?null:(f=t.ast().nodeType()===38,r=this.extractResolutionContextFromPath(t,i,!0),!r)?null:(n.globalSemanticInfoChain=this.semanticInfoChain,n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain),u=new n.PullAdditionalCallResolutionData,f?this.resolver.resolveObjectCreationExpression(t.ast(),r.inContextuallyTypedAssignment,r.enclosingDecl,r.resolutionContext,u):this.resolver.resolveInvocationExpression(t.ast(),r.inContextuallyTypedAssignment,r.enclosingDecl,r.resolutionContext,u),{targetSymbol:u.targetSymbol,resolvedSignatures:u.resolvedSignatures,candidateSignature:u.candidateSignature,ast:t.ast(),enclosingScopeSymbol:this.getSymbolOfDeclaration(r.enclosingDecl),isConstructorCall:f})},i.prototype.pullGetVisibleMemberSymbolsFromPath=function(t,i){var r,u;return(n.globalSemanticInfoChain=this.semanticInfoChain,n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain),r=this.extractResolutionContextFromPath(t,i,!0),!r)?null:(u=this.resolver.getVisibleMembersFromExpression(t.ast(),r.enclosingDecl,r.resolutionContext),!u)?null:{symbols:u,enclosingScopeSymbol:this.getSymbolOfDeclaration(r.enclosingDecl)}},i.prototype.pullGetVisibleDeclsFromPath=function(t,i){n.globalSemanticInfoChain=this.semanticInfoChain;n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain);var r=this.extractResolutionContextFromPath(t,i,!1);return r?this.resolver.getVisibleDecls(r.enclosingDecl,r.resolutionContext):null},i.prototype.pullGetContextualMembersFromPath=function(t,i){var r,u;return(n.globalSemanticInfoChain=this.semanticInfoChain,n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain),t.ast().nodeType()!==23)?null:(r=this.extractResolutionContextFromPath(t,i,!0),!r)?null:(u=this.resolver.getVisibleContextSymbols(r.enclosingDecl,r.resolutionContext),{symbols:u,enclosingScopeSymbol:this.getSymbolOfDeclaration(r.enclosingDecl)})},i.prototype.pullGetDeclInformation=function(t,i,r){var u=this.extractResolutionContextFromPath(i,r,!0),f;return u?(n.globalSemanticInfoChain=this.semanticInfoChain,n.globalBinder&&(n.globalBinder.semanticInfoChain=this.semanticInfoChain),f=t.getSymbol(),this.resolver.resolveDeclaredSymbol(f,u.enclosingDecl,u.resolutionContext),f.setUnresolved(),{symbol:f,ast:i.ast(),enclosingScopeSymbol:this.getSymbolOfDeclaration(u.enclosingDecl)}):null},i.prototype.pullGetTypeInfoAtPosition=function(n,t){var i=this;return this.timeFunction("pullGetTypeInfoAtPosition for pos "+n+":",function(){return i.resolvePosition(n,t)})},i.prototype.getTopLevelDeclarations=function(n){var t=this.semanticInfoChain.getUnit(n);return t?t.getTopLevelDecls():null},i.prototype.reportDiagnostics=function(n,t){for(var i=0;i<n.length;i++)t.addDiagnostic(n[i])},i}();n.TypeScriptCompiler=i}(TypeScript||(TypeScript={})),function(n){function s(n,i){return t(n,i,!1)}function h(n,i){return t(n,i,!0)}function t(n,t,i){return n===t?!0:n!==null&&t!==null&&n.nodeType()===t.nodeType()&&n.structuralEquals(t,i)}function e(t,i,r){return n.ArrayUtilities.sequenceEquals(t,i,r?h:s)}var bi=function(){function n(){this.minChar=-1;this.limChar=-1;this.trailingTriviaWidth=0}return n}(),f,i,c,o,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,r,ft,et,ot,st,ht,u,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,ci,li,ai,vi,yi,pi,wi;n.ASTSpan=bi;f=0;n.structuralEqualsNotIncludingPosition=s;n.structuralEqualsIncludingPosition=h;i=function(){function t(){this.minChar=-1;this.limChar=-1;this.trailingTriviaWidth=0;this._flags=0;this.typeCheckPhase=-1;this.astIDString=f.toString();this.astID=f++;this.symbol=null;this.aliasSymbol=null;this.decl=null;this._preComments=null;this._postComments=null;this._docComments=null}return t.prototype.nodeType=function(){throw n.Errors.abstract();},t.prototype.isStatement=function(){return!1},t.prototype.preComments=function(){return this._preComments},t.prototype.postComments=function(){return this._postComments},t.prototype.setPreComments=function(n){n&&n.length?this._preComments=n:this._preComments&&(this._preComments=null)},t.prototype.setPostComments=function(n){n&&n.length?this._postComments=n:this._postComments&&(this._postComments=null)},t.prototype.shouldEmit=function(){return!0},t.prototype.getFlags=function(){return this._flags},t.prototype.setFlags=function(n){this._flags=n},t.prototype.getLength=function(){return this.limChar-this.minChar},t.prototype.isDeclaration=function(){return!1},t.prototype.emit=function(n){n.emitComments(this,!0);n.recordSourceMappingStart(this);this.emitWorker(n);n.recordSourceMappingEnd(this);n.emitComments(this,!1)},t.prototype.emitWorker=function(){throw n.Errors.abstract();},t.prototype.docComments=function(){var n;if(!this.isDeclaration()||!this.preComments()||this.preComments().length===0)return[];if(!this._docComments){var t=this.preComments(),r=t.length,i=[];for(n=r-1;n>=0;n--){if(t[n].isDocComment()){i.push(t[n]);continue}break}this._docComments=i.reverse()}return this._docComments},t.prototype.structuralEquals=function(n,t){return t&&(this.minChar!==n.minChar||this.limChar!==n.limChar)?!1:this._flags===n._flags&&e(this.preComments(),n.preComments(),t)&&e(this.postComments(),n.postComments(),t)},t}();n.AST=i;c=function(n){function t(t,i){n.call(this);this.members=t;this.separatorCount=i}return __extends(t,n),t.prototype.nodeType=function(){return 1},t.prototype.emit=function(n){n.recordSourceMappingStart(this);n.emitModuleElements(this);n.recordSourceMappingEnd(this)},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)&&e(this.members,t.members,i)},t}(i);n.ASTList=c;o=function(t){function i(n,i){t.call(this);this.actualText=n;this._text=i}return __extends(i,t),i.prototype.text=function(){return this._text||(this._text=n.Syntax.massageEscapes(this.actualText)),this._text},i.prototype.nodeType=function(){return 21},i.prototype.isMissing=function(){return!1},i.prototype.emit=function(n){n.emitName(this,!0)},i.prototype.structuralEquals=function(n,i){return t.prototype.structuralEquals.call(this,n,i)&&this.actualText===n.actualText&&this.isMissing()===n.isMissing()},i}(i);n.Identifier=o;l=function(n){function t(){n.call(this,"__missing","__missing")}return __extends(t,n),t.prototype.isMissing=function(){return!0},t.prototype.emit=function(){},t}(o);n.MissingIdentifier=l;a=function(t){function i(n){t.call(this);this._nodeType=n}return __extends(i,t),i.prototype.nodeType=function(){return this._nodeType},i.prototype.emitWorker=function(t){switch(this.nodeType()){case 8:t.writeToOutput("null");break;case 4:t.writeToOutput("false");break;case 3:t.writeToOutput("true");break;default:throw n.Errors.abstract();}},i.prototype.structuralEquals=function(n,i){return t.prototype.structuralEquals.call(this,n,i)},i}(i);n.LiteralExpression=a;v=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),i.prototype.nodeType=function(){return 30},i.prototype.emitWorker=function(t){t.thisFunctionDeclaration&&n.hasFlag(t.thisFunctionDeclaration.getFunctionFlags(),2048)?t.writeToOutput("_this"):t.writeToOutput("this")},i.prototype.structuralEquals=function(n,i){return t.prototype.structuralEquals.call(this,n,i)},i}(i);n.ThisExpression=v;y=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.nodeType=function(){return 31},t.prototype.emitWorker=function(n){n.emitSuperReference()},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)},t}(i);n.SuperExpression=y;p=function(n){function i(t){n.call(this);this.expression=t}return __extends(i,n),i.prototype.nodeType=function(){return 80},i.prototype.emitWorker=function(n){n.writeToOutput("(");this.expression.emit(n);n.writeToOutput(")")},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.expression,i.expression,r)},i}(i);n.ParenthesizedExpression=p;w=function(i){function r(n,t,r){i.call(this);this._nodeType=n;this.operand=t;this.castTerm=r}return __extends(r,i),r.prototype.nodeType=function(){return this._nodeType},r.prototype.emitWorker=function(t){switch(this.nodeType()){case 77:this.operand.emit(t);t.writeToOutput("++");break;case 74:t.writeToOutput("!");this.operand.emit(t);break;case 78:this.operand.emit(t);t.writeToOutput("--");break;case 23:t.emitObjectLiteral(this);break;case 22:t.emitArrayLiteral(this);break;case 73:t.writeToOutput("~");this.operand.emit(t);break;case 28:t.writeToOutput("-");(this.operand.nodeType()===28||this.operand.nodeType()===76)&&t.writeToOutput(" ");this.operand.emit(t);break;case 27:t.writeToOutput("+");(this.operand.nodeType()===27||this.operand.nodeType()===75)&&t.writeToOutput(" ");this.operand.emit(t);break;case 75:t.writeToOutput("++");this.operand.emit(t);break;case 76:t.writeToOutput("--");this.operand.emit(t);break;case 35:t.writeToOutput("typeof ");this.operand.emit(t);break;case 29:t.writeToOutput("delete ");this.operand.emit(t);break;case 25:t.writeToOutput("void ");this.operand.emit(t);break;case 79:this.operand.emit(t);break;default:throw n.Errors.abstract();}},r.prototype.structuralEquals=function(n,r){return i.prototype.structuralEquals.call(this,n,r)&&t(this.castTerm,n.castTerm,r)&&t(this.operand,n.operand,r)},r}(i);n.UnaryExpression=w;b=function(n){function i(t,i,r,u){n.call(this);this.target=t;this.typeArguments=i;this.arguments=r;this.closeParenSpan=u;this.callResolutionData=null}return __extends(i,n),i.prototype.nodeType=function(){return 38},i.prototype.emitWorker=function(n){n.emitNew(this,this.target,this.arguments)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.target,i.target,r)&&t(this.typeArguments,i.typeArguments,r)&&t(this.arguments,i.arguments,r)},i}(i);n.ObjectCreationExpression=b;k=function(n){function i(t,i,r,u){n.call(this);this.target=t;this.typeArguments=i;this.arguments=r;this.closeParenSpan=u;this.callResolutionData=null}return __extends(i,n),i.prototype.nodeType=function(){return 37},i.prototype.emitWorker=function(n){n.emitCall(this,this.target,this.arguments)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.target,i.target,r)&&t(this.typeArguments,i.typeArguments,r)&&t(this.arguments,i.arguments,r)},i}(i);n.InvocationExpression=k;d=function(i){function r(n,t,r){i.call(this);this._nodeType=n;this.operand1=t;this.operand2=r}return __extends(r,i),r.prototype.nodeType=function(){return this._nodeType},r.getTextForBinaryToken=function(t){switch(t){case 26:return",";case 39:return"=";case 40:return"+=";case 41:return"-=";case 43:return"*=";case 42:return"/=";case 44:return"%=";case 45:return"&=";case 46:return"^=";case 47:return"|=";case 48:return"<<=";case 49:return">>=";case 50:return">>>=";case 52:return"||";case 53:return"&&";case 54:return"|";case 55:return"^";case 56:return"&";case 57:return"==";case 58:return"!=";case 59:return"===";case 60:return"!==";case 61:return"<";case 63:return">";case 62:return"<=";case 64:return">=";case 34:return"instanceof";case 32:return"in";case 70:return"<<";case 71:return">>";case 72:return">>>";case 67:return"*";case 68:return"/";case 69:return"%";case 65:return"+";case 66:return"-"}throw n.Errors.invalidOperation();},r.prototype.emitWorker=function(t){var u,i;switch(this.nodeType()){case 33:t.tryEmitConstant(this)||(this.operand1.emit(t),t.writeToOutput("."),t.emitName(this.operand2,!1));break;case 36:t.emitIndex(this.operand1,this.operand2);break;case 81:this.operand2.nodeType()===13&&this.operand2.isAccessor()?(u=this.operand2,n.hasFlag(u.getFunctionFlags(),32)?t.writeToOutput("get "):t.writeToOutput("set "),this.operand1.emit(t)):(this.operand1.emit(t),t.writeToOutputTrimmable(": "));this.operand2.emit(t);break;case 26:this.operand1.emit(t);t.writeToOutput(", ");this.operand2.emit(t);break;default:this.operand1.emit(t);i=r.getTextForBinaryToken(this.nodeType());i==="instanceof"?t.writeToOutput(" instanceof "):i==="in"?t.writeToOutput(" in "):t.writeToOutputTrimmable(" "+i+" ");this.operand2.emit(t)}},r.prototype.structuralEquals=function(n,r){return i.prototype.structuralEquals.call(this,n,r)&&t(this.operand1,n.operand1,r)&&t(this.operand2,n.operand2,r)},r}(i);n.BinaryExpression=d;g=function(n){function i(t,i,r){n.call(this);this.operand1=t;this.operand2=i;this.operand3=r}return __extends(i,n),i.prototype.nodeType=function(){return 51},i.prototype.emitWorker=function(n){this.operand1.emit(n);n.writeToOutput(" ? ");this.operand2.emit(n);n.writeToOutput(" : ");this.operand3.emit(n)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.operand1,i.operand1,r)&&t(this.operand2,i.operand2,r)&&t(this.operand3,i.operand3,r)},i}(i);n.ConditionalExpression=g;nt=function(n){function t(t,i){n.call(this);this.value=t;this._text=i}return __extends(t,n),t.prototype.text=function(){return this._text},t.prototype.nodeType=function(){return 7},t.prototype.emitWorker=function(n){n.writeToOutput(this._text)},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)&&this.value===t.value&&this._text===t._text},t}(i);n.NumberLiteral=nt;tt=function(n){function t(t){n.call(this);this.text=t}return __extends(t,n),t.prototype.nodeType=function(){return 6},t.prototype.emitWorker=function(n){n.writeToOutput(this.text)},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)&&this.text===t.text},t}(i);n.RegexLiteral=tt;it=function(n){function t(t,i){n.call(this);this.actualText=t;this._text=i}return __extends(t,n),t.prototype.text=function(){return this._text},t.prototype.nodeType=function(){return 5},t.prototype.emitWorker=function(n){n.writeToOutput(this.actualText)},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)&&this.actualText===t.actualText},t}(i);n.StringLiteral=it;rt=function(i){function r(n,t){i.call(this);this.id=n;this.alias=t;this._varFlags=0}return __extends(r,i),r.prototype.nodeType=function(){return 17},r.prototype.isDeclaration=function(){return!0},r.prototype.getVarFlags=function(){return this._varFlags},r.prototype.setVarFlags=function(n){this._varFlags=n},r.prototype.isExternalImportDeclaration=function(){if(this.alias.nodeType()==21){var t=this.alias.actualText;return n.isQuoted(t)}return!1},r.prototype.emit=function(n){n.emitImportDeclaration(this)},r.prototype.getAliasName=function(n){if(typeof n=="undefined"&&(n=this.alias),n.nodeType()==11&&(n=n.term),n.nodeType()===21)return n.actualText;var t=n;return this.getAliasName(t.operand1)+"."+this.getAliasName(t.operand2)},r.prototype.firstAliasedModToString=function(){if(this.alias.nodeType()===21)return this.alias.actualText;var n=this.alias,t=n.term.operand1;return t.actualText},r.prototype.structuralEquals=function(n,r){return i.prototype.structuralEquals.call(this,n,r)&&this._varFlags===n._varFlags&&t(this.id,n.id,r)&&t(this.alias,n.alias,r)},r}(i);n.ImportDeclaration=rt;ut=function(n){function i(t){n.call(this);this.id=t}return __extends(i,n),i.prototype.nodeType=function(){return 88},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.id,i.id,r)},i.prototype.emit=function(n){n.setExportAssignmentIdentifier(this.id.actualText)},i}(i);n.ExportAssignment=ut;r=function(i){function r(n,t,r){i.call(this);this.id=n;this.typeExpr=t;this.init=r;this.constantValue=null;this._varFlags=0}return __extends(r,i),r.prototype.isDeclaration=function(){return!0},r.prototype.getVarFlags=function(){return this._varFlags},r.prototype.setVarFlags=function(n){this._varFlags=n},r.prototype.isProperty=function(){return n.hasFlag(this.getVarFlags(),256)},r.prototype.structuralEquals=function(n,r){return i.prototype.structuralEquals.call(this,n,r)&&this._varFlags===n._varFlags&&t(this.init,n.init,r)&&t(this.typeExpr,n.typeExpr,r)&&t(this.id,n.id,r)},r}(i);n.BoundDecl=r;ft=function(t){function i(n,i,r){t.call(this,n,i,r)}return __extends(i,t),i.prototype.nodeType=function(){return 18},i.prototype.isStatic=function(){return n.hasFlag(this.getVarFlags(),16)},i.prototype.emit=function(n){n.emitVariableDeclarator(this)},i}(r);n.VariableDeclarator=ft;et=function(n){function t(t,i,r,u){n.call(this,t,i,r);this.isOptional=u}return __extends(t,n),t.prototype.nodeType=function(){return 20},t.prototype.isOptionalArg=function(){return this.isOptional||this.init},t.prototype.emitWorker=function(n){n.writeToOutput(this.id.actualText)},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)&&this.isOptional===t.isOptional},t}(r);n.Parameter=et;ot=function(i){function r(n,t,r,u,f,e,o){i.call(this);this.name=n;this.block=t;this.isConstructor=r;this.typeArguments=u;this.arguments=f;this.returnTypeAnnotation=e;this.variableArgList=o;this.hint=null;this._functionFlags=0;this.classDecl=null}return __extends(r,i),r.prototype.isDeclaration=function(){return!0},r.prototype.nodeType=function(){return 13},r.prototype.getFunctionFlags=function(){return this._functionFlags},r.prototype.setFunctionFlags=function(n){this._functionFlags=n},r.prototype.structuralEquals=function(n,r){return i.prototype.structuralEquals.call(this,n,r)&&this._functionFlags===n._functionFlags&&this.hint===n.hint&&this.variableArgList===n.variableArgList&&t(this.name,n.name,r)&&t(this.block,n.block,r)&&this.isConstructor===n.isConstructor&&t(this.typeArguments,n.typeArguments,r)&&t(this.arguments,n.arguments,r)},r.prototype.shouldEmit=function(){return!n.hasFlag(this.getFunctionFlags(),128)&&!n.hasFlag(this.getFunctionFlags(),8)},r.prototype.emit=function(n){n.emitFunction(this)},r.prototype.getNameText=function(){return this.name?this.name.actualText:this.hint},r.prototype.isMethod=function(){return(this.getFunctionFlags()&256)!=0},r.prototype.isCallMember=function(){return n.hasFlag(this.getFunctionFlags(),512)},r.prototype.isConstructMember=function(){return n.hasFlag(this.getFunctionFlags(),1024)},r.prototype.isIndexerMember=function(){return n.hasFlag(this.getFunctionFlags(),4096)},r.prototype.isSpecialFn=function(){return this.isCallMember()||this.isIndexerMember()||this.isConstructMember()},r.prototype.isAccessor=function(){return n.hasFlag(this.getFunctionFlags(),32)||n.hasFlag(this.getFunctionFlags(),64)},r.prototype.isGetAccessor=function(){return n.hasFlag(this.getFunctionFlags(),32)},r.prototype.isSetAccessor=function(){return n.hasFlag(this.getFunctionFlags(),64)},r.prototype.isStatic=function(){return n.hasFlag(this.getFunctionFlags(),16)},r.prototype.isSignature=function(){return(this.getFunctionFlags()&128)!=0},r}(i);n.FunctionDeclaration=ot;st=function(n){function i(){n.apply(this,arguments);this.moduleElements=null;this.referencedFiles=[];this.isDeclareFile=!1;this.topLevelMod=null}return __extends(i,n),i.prototype.nodeType=function(){return 2},i.prototype.emit=function(n){this.isDeclareFile||n.emitScriptElements(this)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.moduleElements,i.moduleElements,r)},i}(i);n.Script=st;ht=function(i){function r(n,t,r){i.call(this);this.name=n;this.members=t;this.endingToken=r;this._moduleFlags=0;this.amdDependencies=[];this.prettyName=this.name.actualText}return __extends(r,i),r.prototype.isDeclaration=function(){return!0},r.prototype.nodeType=function(){return 16},r.prototype.getModuleFlags=function(){return this._moduleFlags},r.prototype.setModuleFlags=function(n){this._moduleFlags=n},r.prototype.structuralEquals=function(n,r){return i.prototype.structuralEquals.call(this,n,r)&&this._moduleFlags===n._moduleFlags&&t(this.name,n.name,r)&&t(this.members,n.members,r)},r.prototype.isEnum=function(){return n.hasFlag(this.getModuleFlags(),128)},r.prototype.isWholeFile=function(){return n.hasFlag(this.getModuleFlags(),256)},r.prototype.shouldEmit=function(){var t,r,i;if(n.hasFlag(this.getModuleFlags(),8))return!1;if(n.hasFlag(this.getModuleFlags(),128))return!0;for(t=0,r=this.members.members.length;t<r;t++)if(i=this.members.members[t],i.nodeType()===16){if(i.shouldEmit())return!0}else if(i.nodeType()!==15)return!0;return!1},r.prototype.emit=function(n){this.shouldEmit()&&(n.emitComments(this,!0),n.emitModule(this),n.emitComments(this,!1))},r}(i);n.ModuleDeclaration=ht;u=function(n){function i(t,i,r,u,f){n.call(this);this.name=t;this.typeParameters=i;this.extendsList=r;this.implementsList=u;this.members=f;this._varFlags=0}return __extends(i,n),i.prototype.isDeclaration=function(){return!0},i.prototype.getVarFlags=function(){return this._varFlags},i.prototype.setVarFlags=function(n){this._varFlags=n},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&this._varFlags===i._varFlags&&t(this.name,i.name,r)&&t(this.members,i.members,r)&&t(this.typeParameters,i.typeParameters,r)&&t(this.extendsList,i.extendsList,r)&&t(this.implementsList,i.implementsList,r)},i}(i);n.TypeDeclaration=u;ct=function(t){function i(n,i,r,u,f,e){t.call(this,n,i,u,f,r);this.endingToken=e;this.constructorDecl=null}return __extends(i,t),i.prototype.nodeType=function(){return 14},i.prototype.shouldEmit=function(){return!n.hasFlag(this.getVarFlags(),8)},i.prototype.emit=function(n){n.emitClass(this)},i}(u);n.ClassDeclaration=ct;lt=function(n){function t(t,i,r,u,f,e){n.call(this,t,i,u,f,r);this.isObjectTypeLiteral=e}return __extends(t,n),t.prototype.nodeType=function(){return 15},t.prototype.shouldEmit=function(){return!1},t}(u);n.InterfaceDeclaration=lt;at=function(n){function i(t){n.call(this);this.expression=t}return __extends(i,n),i.prototype.nodeType=function(){return 96},i.prototype.isStatement=function(){return!0},i.prototype.emitWorker=function(n){n.writeToOutput("throw ");this.expression.emit(n);n.writeToOutput(";")},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.expression,i.expression,r)},i}(i);n.ThrowStatement=at;vt=function(i){function r(n){i.call(this);this.expression=n}return __extends(r,i),r.prototype.nodeType=function(){return 89},r.prototype.isStatement=function(){return!0},r.prototype.emitWorker=function(t){var i=this.expression.nodeType()===13&&n.hasFlag(this.expression.getFunctionFlags(),2048);i&&t.writeToOutput("(");this.expression.emit(t);i&&t.writeToOutput(")");t.writeToOutput(";")},r.prototype.structuralEquals=function(n,r){return i.prototype.structuralEquals.call(this,n,r)&&t(this.expression,n.expression,r)},r}(i);n.ExpressionStatement=vt;yt=function(n){function i(t,i){n.call(this);this.identifier=t;this.statement=i}return __extends(i,n),i.prototype.nodeType=function(){return 93},i.prototype.isStatement=function(){return!0},i.prototype.emitWorker=function(n){n.recordSourceMappingStart(this.identifier);n.writeToOutput(this.identifier.actualText);n.recordSourceMappingEnd(this.identifier);n.writeLineToOutput(":");n.emitJavascript(this.statement,!0)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.identifier,i.identifier,r)&&t(this.statement,i.statement,r)},i}(i);n.LabeledStatement=yt;pt=function(n){function i(t){n.call(this);this.declarators=t}return __extends(i,n),i.prototype.nodeType=function(){return 19},i.prototype.emit=function(n){n.emitVariableDeclaration(this)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.declarators,i.declarators,r)},i}(i);n.VariableDeclaration=pt;wt=function(i){function r(n){i.call(this);this.declaration=n}return __extends(r,i),r.prototype.nodeType=function(){return 98},r.prototype.isStatement=function(){return!0},r.prototype.shouldEmit=function(){var t=this.declaration.declarators.members[0];return!n.hasFlag(t.getVarFlags(),8)||t.init!==null},r.prototype.emitWorker=function(t){n.hasFlag(this.getFlags(),16)?t.emitEnumElement(this.declaration.declarators.members[0]):(this.declaration.emit(t),t.writeToOutput(";"))},r.prototype.structuralEquals=function(n,r){return i.prototype.structuralEquals.call(this,n,r)&&t(this.declaration,n.declaration,r)},r}(i);n.VariableStatement=wt;bt=function(n){function i(t,i){n.call(this);this.statements=t;this.closeBraceSpan=i;this.closeBraceLeadingComments=null}return __extends(i,n),i.prototype.nodeType=function(){return 82},i.prototype.isStatement=function(){return!0},i.prototype.emitWorker=function(n){n.writeLineToOutput(" {");n.indenter.increaseIndent();this.statements&&n.emitModuleElements(this.statements);n.emitCommentsArray(this.closeBraceLeadingComments);n.indenter.decreaseIndent();n.emitIndent();n.writeToOutput("}")},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.statements,i.statements,r)},i}(i);n.Block=bt;kt=function(n){function t(t,i){n.call(this);this._nodeType=t;this.target=i}return __extends(t,n),t.prototype.nodeType=function(){return this._nodeType},t.prototype.isStatement=function(){return!0},t.prototype.hasExplicitTarget=function(){return this.target},t.prototype.emitWorker=function(n){this.nodeType()===83?n.writeToOutput("break"):n.writeToOutput("continue");this.hasExplicitTarget()&&n.writeToOutput(" "+this.target);n.writeToOutput(";")},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)&&this.target===t.target},t}(i);n.Jump=kt;dt=function(n){function i(t,i){n.call(this);this.cond=t;this.body=i}return __extends(i,n),i.prototype.nodeType=function(){return 99},i.prototype.isStatement=function(){return!0},i.prototype.emitWorker=function(n){n.writeToOutput("while (");this.cond.emit(n);n.writeToOutput(")");n.emitBlockOrStatement(this.body)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.cond,i.cond,r)&&t(this.body,i.body,r)},i}(i);n.WhileStatement=dt;gt=function(n){function i(t,i,r){n.call(this);this.body=t;this.cond=i;this.whileSpan=r}return __extends(i,n),i.prototype.nodeType=function(){return 86},i.prototype.isStatement=function(){return!0},i.prototype.emitWorker=function(n){n.writeToOutput("do");n.emitBlockOrStatement(this.body);n.recordSourceMappingStart(this.whileSpan);n.writeToOutput(" while");n.recordSourceMappingEnd(this.whileSpan);n.writeToOutput("(");this.cond.emit(n);n.writeToOutput(")");n.writeToOutput(";")},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.body,i.body,r)&&t(this.cond,i.cond,r)},i}(i);n.DoStatement=gt;ni=function(n){function i(t,i,r){n.call(this);this.cond=t;this.thenBod=i;this.elseBod=r}return __extends(i,n),i.prototype.nodeType=function(){return 92},i.prototype.isStatement=function(){return!0},i.prototype.emitWorker=function(n){n.writeToOutput("if (");this.cond.emit(n);n.writeToOutput(")");n.emitBlockOrStatement(this.thenBod);this.elseBod&&(this.thenBod.nodeType()!==82?n.writeLineToOutput(""):n.writeToOutput(" "),this.elseBod.nodeType()===92?(n.writeToOutput("else "),this.elseBod.emit(n)):(n.writeToOutput("else"),n.emitBlockOrStatement(this.elseBod)))},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.cond,i.cond,r)&&t(this.thenBod,i.thenBod,r)&&t(this.elseBod,i.elseBod,r)},i}(i);n.IfStatement=ni;ti=function(n){function i(t){n.call(this);this.returnExpression=t}return __extends(i,n),i.prototype.nodeType=function(){return 94},i.prototype.isStatement=function(){return!0},i.prototype.emitWorker=function(n){this.returnExpression?(n.writeToOutput("return "),this.returnExpression.emit(n),n.writeToOutput(";")):n.writeToOutput("return;")},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.returnExpression,i.returnExpression,r)},i}(i);n.ReturnStatement=ti;ii=function(n){function i(t,i,r){n.call(this);this.lval=t;this.obj=i;this.body=r}return __extends(i,n),i.prototype.nodeType=function(){return 90},i.prototype.isStatement=function(){return!0},i.prototype.emitWorker=function(n){n.writeToOutput("for (");this.lval.emit(n);n.writeToOutput(" in ");this.obj.emit(n);n.writeToOutput(")");n.emitBlockOrStatement(this.body)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.lval,i.lval,r)&&t(this.obj,i.obj,r)&&t(this.body,i.body,r)},i}(i);n.ForInStatement=ii;ri=function(n){function i(t,i,r,u){n.call(this);this.init=t;this.cond=i;this.incr=r;this.body=u}return __extends(i,n),i.prototype.nodeType=function(){return 91},i.prototype.isStatement=function(){return!0},i.prototype.emitWorker=function(n){n.writeToOutput("for (");this.init&&(this.init.nodeType()!==1?this.init.emit(n):(n.setInVarBlock(this.init.members.length),n.emitCommaSeparatedList(this.init)));n.writeToOutput("; ");n.emitJavascript(this.cond,!1);n.writeToOutput(";");this.incr&&(n.writeToOutput(" "),n.emitJavascript(this.incr,!1));n.writeToOutput(")");n.emitBlockOrStatement(this.body)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.init,i.init,r)&&t(this.cond,i.cond,r)&&t(this.incr,i.incr,r)&&t(this.body,i.body,r)},i}(i);n.ForStatement=ri;ui=function(n){function i(t,i){n.call(this);this.expr=t;this.body=i}return __extends(i,n),i.prototype.nodeType=function(){return 100},i.prototype.isStatement=function(){return!0},i.prototype.emitWorker=function(n){n.writeToOutput("with (");this.expr&&this.expr.emit(n);n.writeToOutput(")");n.emitBlockOrStatement(this.body)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.expr,i.expr,r)&&t(this.body,i.body,r)},i}(i);n.WithStatement=ui;fi=function(n){function i(t,i,r,u){n.call(this);this.val=t;this.caseList=i;this.defaultCase=r;this.statement=u}return __extends(i,n),i.prototype.nodeType=function(){return 95},i.prototype.isStatement=function(){return!0},i.prototype.emitWorker=function(n){var r,t,u,i;for(n.recordSourceMappingStart(this.statement),n.writeToOutput("switch ("),this.val.emit(n),n.writeToOutput(")"),n.recordSourceMappingEnd(this.statement),n.writeLineToOutput(" {"),n.indenter.increaseIndent(),r=null,t=0,u=this.caseList.members.length;t<u;t++)i=this.caseList.members[t],n.emitSpaceBetweenConstructs(r,i),n.emitJavascript(i,!0),r=i;n.indenter.decreaseIndent();n.emitIndent();n.writeToOutput("}")},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.caseList,i.caseList,r)&&t(this.val,i.val,r)},i}(i);n.SwitchStatement=fi;ei=function(n){function i(t,i){n.call(this);this.expr=t;this.body=i}return __extends(i,n),i.prototype.nodeType=function(){return 101},i.prototype.emitWorker=function(n){this.expr?(n.writeToOutput("case "),this.expr.emit(n)):n.writeToOutput("default");n.writeToOutput(":");this.body.members.length===1&&this.body.members[0].nodeType()===82?(this.body.members[0].emit(n),n.writeLineToOutput("")):(n.writeLineToOutput(""),n.indenter.increaseIndent(),this.body.emit(n),n.indenter.decreaseIndent())},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.expr,i.expr,r)&&t(this.body,i.body,r)},i}(i);n.CaseClause=ei;oi=function(n){function i(t,i){n.call(this);this.name=t;this.constraint=i}return __extends(i,n),i.prototype.nodeType=function(){return 9},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.name,i.name,r)&&t(this.constraint,i.constraint,r)},i}(i);n.TypeParameter=oi;si=function(n){function i(t,i){n.call(this);this.name=t;this.typeArguments=i}return __extends(i,n),i.prototype.nodeType=function(){return 10},i.prototype.emit=function(n){this.name.emit(n)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.name,i.name,r)&&t(this.typeArguments,i.typeArguments,r)},i}(i);n.GenericType=si;hi=function(i){function r(n){i.call(this);this.name=n}return __extends(r,i),r.prototype.nodeType=function(){return 12},r.prototype.emit=function(){n.Emitter.throwEmitterError(new Error(n.getLocalizedText(n.DiagnosticCode.Should_not_emit_a_type_query,null)))},r.prototype.structuralEquals=function(n,r){return i.prototype.structuralEquals.call(this,n,r)&&t(this.name,n.name,r)},r}(i);n.TypeQuery=hi;ci=function(i){function r(n,t){i.call(this);this.term=n;this.arrayCount=t;this.minChar=n.minChar;this.limChar=n.limChar}return __extends(r,i),r.prototype.nodeType=function(){return 11},r.prototype.emit=function(){n.Emitter.throwEmitterError(new Error(n.getLocalizedText(n.DiagnosticCode.Should_not_emit_a_type_reference,null)))},r.prototype.structuralEquals=function(n,r){return i.prototype.structuralEquals.call(this,n,r)&&t(this.term,n.term,r)&&this.arrayCount===n.arrayCount},r}(i);n.TypeReference=ci;li=function(n){function i(t,i,r){n.call(this);this.tryBody=t;this.catchClause=i;this.finallyBody=r}return __extends(i,n),i.prototype.nodeType=function(){return 97},i.prototype.isStatement=function(){return!0},i.prototype.emitWorker=function(n){n.writeToOutput("try ");this.tryBody.emit(n);n.emitJavascript(this.catchClause,!1);this.finallyBody&&(n.writeToOutput(" finally"),this.finallyBody.emit(n))},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.tryBody,i.tryBody,r)&&t(this.catchClause,i.catchClause,r)&&t(this.finallyBody,i.finallyBody,r)},i}(i);n.TryStatement=li;ai=function(n){function i(t,i){n.call(this);this.param=t;this.body=i}return __extends(i,n),i.prototype.nodeType=function(){return 102},i.prototype.emitWorker=function(n){n.writeToOutput(" ");n.writeToOutput("catch (");this.param.id.emit(n);n.writeToOutput(")");this.body.emit(n)},i.prototype.structuralEquals=function(i,r){return n.prototype.structuralEquals.call(this,i,r)&&t(this.param,i.param,r)&&t(this.body,i.body,r)},i}(i);n.CatchClause=ai;vi=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.nodeType=function(){return 85},t.prototype.isStatement=function(){return!0},t.prototype.emitWorker=function(n){n.writeToOutput("debugger;")},t}(i);n.DebuggerStatement=vi;yi=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.nodeType=function(){return 24},t.prototype.emitWorker=function(){},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)},t}(i);n.OmittedExpression=yi;pi=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.nodeType=function(){return 87},t.prototype.isStatement=function(){return!0},t.prototype.emitWorker=function(n){n.writeToOutput(";")},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)},t}(i);n.EmptyStatement=pi;wi=function(t){function i(n,i,r){t.call(this);this.content=n;this.isBlockComment=i;this.endsLine=r;this.text=null;this.docCommentText=null}return __extends(i,t),i.prototype.nodeType=function(){return 103},i.prototype.structuralEquals=function(n,i){return t.prototype.structuralEquals.call(this,n,i)&&this.content===n.content&&this.isBlockComment===n.isBlockComment&&this.endsLine===n.endsLine},i.prototype.getText=function(){if(this.text===null)if(this.isBlockComment){this.text=this.content.split("\n");for(var n=0;n<this.text.length;n++)this.text[n]=this.text[n].replace(/^\s+|\s+$/g,"")}else this.text=[this.content.replace(/^\s+|\s+$/g,"")];return this.text},i.prototype.isDocComment=function(){return this.isBlockComment?this.content.charAt(2)==="*"&&this.content.charAt(3)!=="/":!1},i.prototype.getDocCommentTextValue=function(){return this.docCommentText===null&&(this.docCommentText=i.cleanJSDocComment(this.content)),this.docCommentText},i.consumeLeadingSpace=function(t,i,r){var u=t.length,f;for(r!==undefined&&(u=n.min(i+r,u));i<u;i++)if(f=t.charCodeAt(i),f!==32&&f!==9)return i;return u!==t.length?u:-1},i.isSpaceChar=function(n,t){var r=n.length,i;return t<r?(i=n.charCodeAt(t),i===32||i===9):t===r},i.cleanDocCommentLine=function(n,t,r){var u=i.consumeLeadingSpace(n,0),f,e;if(u!==-1){if(f=u,t&&n.charAt(u)==="*")if(e=u+1,u=i.consumeLeadingSpace(n,e,r),u!==-1)f=u-e;else return null;return{minChar:u,limChar:n.charAt(n.length-1)==="\r"?n.length-1:n.length,jsDocSpacesRemoved:f}}return null},i.cleanJSDocComment=function(n,t){var a=[],c,e,h,u,f,o,s,r,l,v;for(n=n.replace("/**",""),n.length>=2&&n.charAt(n.length-1)==="/"&&n.charAt(n.length-2)==="*"&&(n=n.substring(0,n.length-2)),c=n.split("\n"),e=!1,h=0;h<c.length;h++)if(u=c[h],f=i.cleanDocCommentLine(u,!0,t),f){for(o="",s=f.minChar,r=u.indexOf("@",f.minChar);0<=r&&r<f.limChar;r=u.indexOf("@",r+1))l=e,u.indexOf("param",r+1)===r+1&&i.isSpaceChar(u,r+6)?(l||(o+=u.substring(s,r)),s=r,e=!0):l&&(s=r,e=!1);e||(o+=u.substring(s,f.limChar));v=i.cleanDocCommentLine(o,!1);v&&(t===undefined&&(t=f.jsDocSpacesRemoved),a.push(o))}return a.join("\n")},i.getDocCommentText=function(n){for(var r=[],i,t=0;t<n.length;t++)i=n[t].getDocCommentTextValue(),i!==""&&r.push(i);return r.join("\n")},i.getParameterDocCommentText=function(n,t){var o,u,r,f,s,h;if(t.length===0||!t[0].isBlockComment)return"";for(o=0;o<t.length;o++)for(u=t[o].content,r=u.indexOf("@param",0);0<=r;r=u.indexOf("@param",r))if(r+=6,i.isSpaceChar(u,r)){if(r=i.consumeLeadingSpace(u,r),r===-1)break;if(u.charCodeAt(r)===123){for(r++,f=0,s=1;r<u.length;r++){if(f=u.charCodeAt(r),f===123){s++;continue}if(f===125)if(s--,s===0)break;else continue;if(f===64)break}if(r===u.length)break;if(f===64)continue;if(r=i.consumeLeadingSpace(u,r+1),r===-1)break}if(n===u.substr(r,n.length)&&i.isSpaceChar(u,r+n.length)){if(r=i.consumeLeadingSpace(u,r+n.length),r===-1)return"";var c=u.indexOf("@",r),a=u.substring(r,c<0?u.length:c),l=undefined,e=u.substring(0,r).lastIndexOf("\n")+1;return e!==0&&e<r&&u.charAt(e+1)==="\r"&&e++,h=i.consumeLeadingSpace(u,e),h!==r&&u.charAt(h)==="*"&&(l=r-h-1),i.cleanJSDocComment(a,l)}}return""},i}(i);n.Comment=wi}(TypeScript||(TypeScript={}));