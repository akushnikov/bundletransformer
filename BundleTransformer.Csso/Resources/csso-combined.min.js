/*!
* CSSO (CSS Optimizer) v1.3.9
* http://github.com/css/csso
*
* Copyright 2013, Sergey Kryzhanovsky
* Released under the MIT License
*/
var CSSO=function(){var n=function(t){return n[t]};return n["./util.js"]=function(){var t={},n={};return n.cleanInfo=function(t){var i=[];return t=t.slice(1),t.forEach(function(t){i.push(Array.isArray(t)?n.cleanInfo(t):t)}),i},n.treeToString=function(t,i){var u=n.dummySpaces(i),i=i?i:0,r=(i?"\n"+u:"")+"[";return t.forEach(function(t){r+=(Array.isArray(t)?n.treeToString(t,i+1):t.f!==undefined?n.ircToString(t):"'"+t.toString()+"'")+", "}),r.substr(0,r.length-2)+"]"},n.ircToString=function(n){return"{"+n.f+","+n.l+"}"},n.dummySpaces=function(n){return"                                                  ".substr(0,n*2)},t.cleanInfo=n.cleanInfo,t.treeToString=n.treeToString,t}.call(this),n["./gonzales.cssp.node.js"]=function(){var n={},t=function(){var n={StringSQ:"StringSQ",StringDQ:"StringDQ",CommentML:"CommentML",CommentSL:"CommentSL",Newline:"Newline",Space:"Space",Tab:"Tab",ExclamationMark:"ExclamationMark",QuotationMark:"QuotationMark",NumberSign:"NumberSign",DollarSign:"DollarSign",PercentSign:"PercentSign",Ampersand:"Ampersand",Apostrophe:"Apostrophe",LeftParenthesis:"LeftParenthesis",RightParenthesis:"RightParenthesis",Asterisk:"Asterisk",PlusSign:"PlusSign",Comma:"Comma",HyphenMinus:"HyphenMinus",FullStop:"FullStop",Solidus:"Solidus",Colon:"Colon",Semicolon:"Semicolon",LessThanSign:"LessThanSign",EqualsSign:"EqualsSign",GreaterThanSign:"GreaterThanSign",QuestionMark:"QuestionMark",CommercialAt:"CommercialAt",LeftSquareBracket:"LeftSquareBracket",ReverseSolidus:"ReverseSolidus",RightSquareBracket:"RightSquareBracket",CircumflexAccent:"CircumflexAccent",LowLine:"LowLine",LeftCurlyBracket:"LeftCurlyBracket",VerticalLine:"VerticalLine",RightCurlyBracket:"RightCurlyBracket",Tilde:"Tilde",Identifier:"Identifier",DecimalNumber:"DecimalNumber"},t=function(){function o(n){return"0123456789".indexOf(n)>=0}function l(n){if(!n)return[];i=[];var c,l;for(t=0;t<n.length;t++)c=n.charAt(t),l=n.charAt(t+1),c==="/"&&l==="*"?v(n):f||c!=="/"||l!=="/"?c==='"'||c==="'"?p(n,c):c===" "?a(n):c in u?(r(u[c],c),(c==="\n"||c==="\r")&&s++,c===")"&&(f=!1),c==="{"&&e++,c==="}"&&e--):o(c)?w(n):h(n):e>0?h(n):y(n);return b(),i}function r(n,t){i.push({tn:c++,ln:s,type:n,value:t})}function a(i){for(var u=t;t<i.length;t++)if(i.charAt(t)!==" ")break;r(n.Space,i.substring(u,t));t--}function v(i){var u=t;for(t=t+2;t<i.length;t++)if(i.charAt(t)==="*"&&i.charAt(t+1)==="/"){t++;break}r(n.CommentML,i.substring(u,t+1))}function y(i){var u=t;for(t=t+2;t<i.length;t++)if(i.charAt(t)==="\n"||i.charAt(t)==="\r"){t++;break}r(n.CommentSL,i.substring(u,t));t--}function p(i,u){var f=t;for(t=t+1;t<i.length;t++)if(i.charAt(t)==="\\")t++;else if(i.charAt(t)===u)break;r(u==='"'?n.StringDQ:n.StringSQ,i.substring(f,t+1))}function w(i){for(var u=t;t<i.length;t++)if(!o(i.charAt(t)))break;r(n.DecimalNumber,i.substring(u,t));t--}function h(i){for(var o=t,e;i.charAt(t)==="/";)t++;for(;t<i.length;t++)if(i.charAt(t)==="\\")t++;else if(i.charAt(t)in u)break;e=i.substring(o,t);f=f||e==="url";r(n.Identifier,e);t--}function b(){for(var u=[],f=[],e=[],r,t=0;t<i.length;t++){r=i[t];switch(r.type){case n.LeftParenthesis:u.push(t);break;case n.RightParenthesis:u.length&&(r.left=u.pop(),i[r.left].right=t);break;case n.LeftSquareBracket:f.push(t);break;case n.RightSquareBracket:f.length&&(r.left=f.pop(),i[r.left].right=t);break;case n.LeftCurlyBracket:e.push(t);break;case n.RightCurlyBracket:e.length&&(r.left=e.pop(),i[r.left].right=t)}}}var u,f=!1,e=0;u={" ":n.Space,"\n":n.Newline,"\r":n.Newline,"\t":n.Tab,"!":n.ExclamationMark,'"':n.QuotationMark,"#":n.NumberSign,$:n.DollarSign,"%":n.PercentSign,"&":n.Ampersand,"'":n.Apostrophe,"(":n.LeftParenthesis,")":n.RightParenthesis,"*":n.Asterisk,"+":n.PlusSign,",":n.Comma,"-":n.HyphenMinus,".":n.FullStop,"/":n.Solidus,":":n.Colon,";":n.Semicolon,"<":n.LessThanSign,"=":n.EqualsSign,">":n.GreaterThanSign,"?":n.QuestionMark,"@":n.CommercialAt,"[":n.LeftSquareBracket,"]":n.RightSquareBracket,"^":n.CircumflexAccent,_:n.LowLine,"{":n.LeftCurlyBracket,"|":n.VerticalLine,"}":n.RightCurlyBracket,"~":n.Tilde};var i=[],t,c=0,s=1;return function(n){return l(n)}}(),i=function(){function u(n){n&&n.ln>sr&&(sr=n.ln)}function w(){throw new Error("Please check the validity of the CSS block starting from the line #"+lt);}function yf(n,r,u){return t=n,f=u,i=0,ro(),r?at[r]():at.stylesheet()}function a(n){return bt(n)||nt(n)||yi(n)||fi(n)||k(n)||er(n)||si(n)||p(n)||h(n)||tt(n)}function vt(){return bt(i)?tu():nt(i)?ot():yi(i)?yu():fi(i)?fu():k(i)?et():er(i)?sf():si(i)?hu():p(i)?ft():h(i)?s():tt(i)?ur():void 0}function v(i){var r;return t[i++].type!==n.CommercialAt?u(t[i-1]):(r=h(i))?r+1:u(t[i])}function l(){var n=i;return i++,f?[{ln:t[n].ln},r.AtkeywordType,s()]:[r.AtkeywordType,s()]}function yt(i){return t[i].type!==n.LeftSquareBracket?u(t[i]):t[i].right?t[i].right-i+1:u(t[i])}function pf(i){var f=i,r;if(i++,r=e(i),r&&(i+=r),r=h(i))i+=r;else return u(t[i]);if((r=e(i))&&(i+=r),r=cr(i))i+=r;else return u(t[i]);if((r=e(i))&&(i+=r),(r=h(i))||(r=nt(i)))i+=r;else return u(t[i]);return((r=e(i))&&(i+=r),t[i].type===n.RightSquareBracket)?i-f:u(t[i])}function wf(){var u=i,n;return i++,n=(f?[{ln:t[u].ln},r.AttribType]:[r.AttribType]).concat(o()).concat([s()]).concat(o()).concat([lr()]).concat(o()).concat([nt(i)?ot():s()]).concat(o()),i++,n}function bf(i){var f=i,r;return(i++,r=e(i),r&&(i+=r),(r=h(i))&&(i+=r),(r=e(i))&&(i+=r),t[i].type===n.RightSquareBracket)?i-f:u(t[i])}function kf(){var u=i,n;return i++,n=(f?[{ln:t[u].ln},r.AttribType]:[r.AttribType]).concat(o()).concat([s()]).concat(o()),i++,n}function hr(){return pf(i)?wf():bf(i)?kf():void 0}function cr(i){if(t[i].type===n.EqualsSign||t[i].type===n.VerticalLine&&(!t[i+1]||t[i+1].type!==n.EqualsSign))return 1;if(!t[i+1]||t[i+1].type!==n.EqualsSign)return u(t[i]);switch(t[i].type){case n.Tilde:case n.CircumflexAccent:case n.DollarSign:case n.Asterisk:case n.VerticalLine:return 2}return u(t[i])}function lr(){var e=i,u=t[i++].value;return t[i]&&t[i].type===n.EqualsSign&&(u+=t[i++].value),f?[{ln:t[e].ln},r.AttrselectorType,u]:[r.AttrselectorType,u]}function pt(n){var r=n,i;if(t[r].atrule_l!==undefined)return t[r].atrule_l;if(i=pr(n))t[n].atrule_type=1;else if(i=vr(n))t[n].atrule_type=2;else if(i=gr(n))t[n].atrule_type=3;else return u(t[r]);return t[r].atrule_l=i,i}function ar(){switch(t[i].atrule_type){case 1:return wr();case 2:return yr();case 3:return nu()}}function vr(n){var r=n,i;if(i=v(n))n+=i;else return u(t[n]);if((i=rr(n))&&(n+=i),i=y(n))n+=i;else return u(t[n]);return n-r}function yr(){return(f?[{ln:t[i].ln},r.AtrulebType,l()]:[r.AtrulebType,l()]).concat(st()).concat([rt()])}function pr(i){var f=i,r;if(r=v(i))i+=r;else return u(t[i]);if((r=br(i))&&(i+=r),i<t.length&&t[i].type===n.LeftCurlyBracket)i++;else return u(t[i]);if((r=kr(i))&&(i+=r),i<t.length&&t[i].type===n.RightCurlyBracket)i++;else return u(t[i]);return i-f}function wr(){var n=f?[{ln:t[i].ln},r.AtrulerType,l(),wt()]:[r.AtrulerType,l(),wt()];return i++,n.push(dr()),i++,n}function br(n){return rr(n)}function wt(){return(f?[{ln:t[i].ln},r.AtrulerqType]:[r.AtrulerqType]).concat(st())}function kr(n){var r=n,i;for((i=e(n))&&(n+=i);(i=g(n))||(i=pt(n))||(i=e(n));)n+=i;return t[n].atrulers_end=1,(i=e(n))&&(n+=i),n-r}function dr(){for(var n=(f?[{ln:t[i].ln},r.AtrulersType]:[r.AtrulersType]).concat(o());!t[i].atrulers_end;)e(i)?n=n.concat(o()):g(i)?n.push(di()):n.push(ar());return n.concat(o())}function gr(i){var f=i,r;if(r=v(i))i+=r;else return u(t[i]);if((r=rr(i))&&(i+=r),i>=t.length)return i-f;if(t[i].type===n.Semicolon)i++;else return u(t[i]);return i-f}function nu(){var n=(f?[{ln:t[i].ln},r.AtrulesType,l()]:[r.AtrulesType,l()]).concat(st());return i++,n}function y(i){return i<t.length&&t[i].type===n.LeftCurlyBracket?t[i].right-i+1:u(t[i])}function rt(){var n=f?[{ln:t[i].ln},r.BlockType]:[r.BlockType],u=t[i].right;for(i++;i<u;)df(i)?n=n.concat(gf()):w();return i=u+1,n}function df(n){var i;if(i=ne(n))t[n].bd_type=1;else if(i=ie(n))t[n].bd_type=2;else if(i=ue(n))t[n].bd_type=3;else if(i=ee(n))t[n].bd_type=4;else return u(t[n]);return i}function gf(){switch(t[i].bd_type){case 1:return te();case 2:return re();case 3:return fe();case 4:return oe()}}function ne(n){var r=n,i;if((i=e(n))&&(n+=i),i=ei(n))t[n].bd_filter=1,n+=i;else if(i=ni(n))t[n].bd_decl=1,n+=i;else return u(t[n]);if(n<t.length&&(i=ii(n)))n+=i;else return u(t[n]);return(i=e(n))&&(n+=i),n-r}function te(){return o().concat([t[i].bd_filter?oi():ti()]).concat([ri()]).concat(o())}function ie(n){var r=n,i;if((i=e(n))&&(n+=i),i=ei(n))t[n].bd_filter=1,n+=i;else if(i=ni(n))t[n].bd_decl=1,n+=i;else return u(t[n]);return(i=e(n))&&(n+=i),n-r}function re(){return o().concat([t[i].bd_filter?oi():ti()]).concat(o())}function ue(n){var r=n,i;if((i=e(n))&&(n+=i),i=ii(n))n+=i;else return u(t[n]);return(i=e(n))&&(n+=i),n-r}function fe(){return o().concat([ri()]).concat(o())}function ee(n){return e(n)}function oe(){return o()}function bt(i){return i>=t.length||t[i].type!==n.LeftParenthesis&&t[i].type!==n.LeftSquareBracket?u(t[i]):t[i].right-i+1}function tu(){var o=i,u=i,e=t[i].right,n;return i++,n=st(),i++,f?[{ln:t[o].ln},r.BracesType,t[u].value,t[e].value].concat(n):[r.BracesType,t[u].value,t[e].value].concat(n)}function ut(i){var r;return t[i].clazz_l?t[i].clazz_l:t[i].type===n.FullStop&&(r=h(i+1))?(t[i].clazz_l=r+1,r+1):u(t[i])}function kt(){var n=i;return i++,f?[{ln:t[n].ln},r.ClazzType,s()]:[r.ClazzType,s()]}function dt(i){return t[i].type===n.PlusSign||t[i].type===n.GreaterThanSign||t[i].type===n.Tilde?1:u(t[i])}function iu(){return f?[{ln:t[i].ln},r.CombinatorType,t[i++].value]:[r.CombinatorType,t[i++].value]}function gt(i){return t[i].type===n.CommentML?1:u(t[i])}function ru(){var e=i,n=t[i].value.substring(2),u=n.length;return n.charAt(u-2)==="*"&&n.charAt(u-1)==="/"&&(n=n.substring(0,u-2)),i++,f?[{ln:t[e].ln},r.CommentType,n]:[r.CommentType,n]}function ni(i){var f=i,r;if(r=wu(i))i+=r;else return u(t[i]);if(i<t.length&&t[i].type===n.Colon)i++;else return u(t[i]);if(r=hf(i))i+=r;else return u(t[i]);return i-f}function ti(){var n=f?[{ln:t[i].ln},r.DeclarationType,wi()]:[r.DeclarationType,wi()];return i++,n.push(lf()),n}function ii(i){return i<t.length&&t[i].type===n.Semicolon?1:u(t[i])}function ri(){var n=i;return i++,f?[{ln:t[n].ln},r.DecldelimType]:[r.DecldelimType]}function ui(i){return i<t.length&&t[i].type===n.Comma?1:i>=t.length?u(t[t.length-1]):u(t[i])}function uu(){var n=i;return i++,f?[{ln:t[n].ln},r.DelimType]:[r.DelimType]}function fi(n){var i=k(n),r;return!i||i&&n+i>=t.length?u(t[n]):(r=vf(n+i))?i+r:u(t[n])}function fu(){var e=i,n=et(),u=f?[{ln:t[i].ln},r.IdentType,ht()]:[r.IdentType,ht()];return f?[{ln:t[e].ln},r.DimensionType,n,u]:[r.DimensionType,n,u]}function ei(i){var f=i,r;if(r=se(i))i+=r;else return u(t[i]);if(t[i].type===n.Colon)i++;else return u(t[i]);if(r=ou(i))i+=r;else return u(t[i]);return i-f}function oi(){var n=f?[{ln:t[i].ln},r.FilterType,eu()]:[r.FilterType,eu()];return i++,n.push(su()),n}function se(n){var f=n,i,r;if(n<t.length){if(t[n].value==="filter")i=1;else if(r=ct(n,2),r==="-filter"||r==="_filter"||r==="*filter")i=2;else if(r=ct(n,4),r==="-ms-filter")i=4;else return u(t[n]);return t[f].filterp_l=i,n+=i,e(n)&&(n+=i),n-f}return u(t[n])}function eu(){var n=i,u=ct(i,t[i].filterp_l),e=f?[{ln:t[n].ln},r.IdentType,u]:[r.IdentType,u];return i+=t[i].filterp_l,(f?[{ln:t[n].ln},r.PropertyType,e]:[r.PropertyType,e]).concat(o())}function ou(n){var r=n,i;if(i=pi(n))n+=i;else return u(t[n]);while(i=pi(n))n+=i;return t[r].last_progid=n,n<t.length&&(i=e(n))&&(n+=i),n<t.length&&(i=b(n))&&(n+=i),n-r}function su(){for(var n=f?[{ln:t[i].ln},r.FiltervType]:[r.FiltervType],u=t[i].last_progid;i<u;)n.push(pu());return n=n.concat(e(i)?o():[]),i<t.length&&b(i)&&n.push(hi()),n}function si(i){var r=i;return!t[i]||t[i++].value!=="expression"?u(t[i-1]):!t[i]||t[i].type!==n.LeftParenthesis?u(t[i]):t[i].right-r+1}function hu(){var u=i,n;return i++,n=c(i+1,t[i].right-1),i=t[i].right+1,f?[{ln:t[u].ln},r.FunctionExpressionType,n]:[r.FunctionExpressionType,n]}function p(i){var f=i,r=h(i);return r?(i+=r,i>=t.length||t[i].type!==n.LeftParenthesis)?u(t[i-1]):t[i].right-f+1:u(t[i])}function ft(){var e=i,n=s(),u;return i++,u=n[f?2:1]!=="not"?he():ce(),f?[{ln:t[e].ln},r.FunktionType,n,u]:[r.FunktionType,n,u]}function he(){for(var o=i,u=[],e;t[i].type!==n.RightParenthesis;)ff(i)?(e=ef(),f&&typeof e[1]=="string"||typeof e[0]=="string"?u.push(e):u=u.concat(e)):ut(i)?u.push(kt()):w();return i++,(f?[{ln:t[o].ln},r.FunctionBodyType]:[r.FunctionBodyType]).concat(u)}function ce(){for(var e=i,u=[];t[i].type!==n.RightParenthesis;)tr(i)?u.push(ir()):w();return i++,(f?[{ln:t[e].ln},r.FunctionBodyType]:[r.FunctionBodyType]).concat(u)}function h(i){if(i>=t.length)return u(t[i]);var f=i,r=!1;if(t[i].type===n.LowLine)return le(i);if(t[i].type===n.HyphenMinus||t[i].type===n.Identifier||t[i].type===n.DollarSign||t[i].type===n.Asterisk)i++;else return u(t[i]);for(r=t[i-1].type===n.Identifier;i<t.length;i++)if(t[i].type!==n.HyphenMinus&&t[i].type!==n.LowLine)if(t[i].type===n.Identifier||t[i].type===n.DecimalNumber&&r)r=!0;else break;return!r&&t[f].type!==n.Asterisk?u(t[i]):(t[f].ident_last=i-1,i-f)}function le(i){var r=i;for(i++;i<t.length;i++)if(t[i].type!==n.HyphenMinus&&t[i].type!==n.DecimalNumber&&t[i].type!==n.LowLine&&t[i].type!==n.Identifier)break;return t[r].ident_last=i-1,i-r}function s(){var u=i,n=c(i,t[i].ident_last);return i=t[i].ident_last+1,f?[{ln:t[u].ln},r.IdentType,n]:[r.IdentType,n]}function b(i){var f=i,r;return t[i++].type!==n.ExclamationMark?u(t[i-1]):((r=e(i))&&(i+=r),t[i].value!=="important")?u(t[i]):i-f+1}function hi(){var u=i,n;return i++,n=o(),i++,(f?[{ln:t[u].ln},r.ImportantType]:[r.ImportantType]).concat(n)}function ci(i){return t[i].type===n.VerticalLine?1:u(t[i])}function cu(){var n=i;return i++,f?[{ln:t[n].ln},r.NamespaceType]:[r.NamespaceType]}function li(n){return ae(n)||ve(n)}function ae(i){for(var r=i;i<t.length;i++)if(t[i].type!==n.DecimalNumber&&t[i].value!=="n")break;return i!==r?(t[r].nth_last=i-1,i-r):u(t[i])}function lu(){var n=i,u;return t[i].nth_last?(u=f?[{ln:t[n].ln},r.NthType,c(i,t[i].nth_last)]:[r.NthType,c(i,t[i].nth_last)],i=t[i].nth_last+1,u):f?[{ln:t[n].ln},r.NthType,t[i++].value]:[r.NthType,t[i++].value]}function ve(n){return t[n].value==="even"||t[n].value==="odd"?1:u(t[n])}function ye(i){var f=i,r=0;if(t[i++].type!==n.Colon||(r++,t[i++].value!=="nth"||t[i++].value!=="-"))return u(t[i-1]);if(r+=2,"child"===t[i].value)r+=1;else if("last-child"===t[i].value+t[i+1].value+t[i+2].value)r+=3;else if("of-type"===t[i].value+t[i+1].value+t[i+2].value)r+=3;else if("last-of-type"===t[i].value+t[i+1].value+t[i+2].value+t[i+3].value+t[i+4].value)r+=5;else return u(t[i]);return t[f+1].nthf_last=f+r-1,r}function au(){i++;var n=c(i,t[i].nthf_last);return i=t[i].nthf_last+1,n}function ai(i){var o=i,r,f;if(r=ye(i))i+=r;else return u(t[i]);if(t[i].type!==n.LeftParenthesis||!t[i].right)return u(t[i]);for(r++,f=t[i++].right;i<f;)if(r=e(i))i+=r;else if(r=tt(i))i+=r;else if(r=li(i))i+=r;else return u(t[i]);return f-o+1}function vu(){var h=i,s=f?[{ln:t[i].ln},r.IdentType,au()]:[r.IdentType,au()],u=f?[{ln:t[i].ln},r.NthselectorType,s]:[r.NthselectorType,s];for(i++;t[i].type!==n.RightParenthesis;)e(i)?u=u.concat(o()):tt(i)?u.push(ur()):li(i)&&u.push(lu());return i++,u}function k(i){return i<t.length&&t[i].number_l?t[i].number_l:i<t.length&&t[i].type===n.DecimalNumber&&(!t[i+1]||t[i+1]&&t[i+1].type!==n.FullStop)?(t[i].number_l=1,t[i].number_l):i<t.length&&t[i].type===n.DecimalNumber&&t[i+1]&&t[i+1].type===n.FullStop&&(!t[i+2]||t[i+2].type!==n.DecimalNumber)?(t[i].number_l=2,t[i].number_l):i<t.length&&t[i].type===n.FullStop&&t[i+1].type===n.DecimalNumber?(t[i].number_l=2,t[i].number_l):i<t.length&&t[i].type===n.DecimalNumber&&t[i+1]&&t[i+1].type===n.FullStop&&t[i+2]&&t[i+2].type===n.DecimalNumber?(t[i].number_l=3,t[i].number_l):u(t[i])}function et(){for(var u="",o=i,e=t[i].number_l,n=0;n<e;n++)u+=t[i+n].value;return i+=e,f?[{ln:t[o].ln},r.NumberType,u]:[r.NumberType,u]}function d(i){return i<t.length&&(t[i].type===n.Solidus||t[i].type===n.Comma||t[i].type===n.Colon||t[i].type===n.EqualsSign)?1:u(t[i])}function vi(){return f?[{ln:t[i].ln},r.OperatorType,t[i++].value]:[r.OperatorType,t[i++].value]}function yi(i){var r=k(i);return!r||r&&i+r>=t.length?u(t[i]):t[i+r].type===n.PercentSign?r+1:u(t[i])}function yu(){var u=i,n=et();return i++,f?[{ln:t[u].ln},r.PercentageType,n]:[r.PercentageType,n]}function pi(i){var f=i,r,o;if((r=e(i))&&(i+=r),(o=ct(i,6))==="progid:DXImageTransform.Microsoft.")_start=i,i+=6;else return u(t[i-1]);if(r=h(i))i+=r;else return u(t[i]);if((r=e(i))&&(i+=r),t[i].type===n.LeftParenthesis)t[f].progid_end=t[i].right,i=t[i].right+1;else return u(t[i]);return(r=e(i))&&(i+=r),i-f}function pu(){var n=i,u=t[i].progid_end;return(f?[{ln:t[n].ln},r.ProgidType]:[r.ProgidType]).concat(o()).concat([pe(u)]).concat(o())}function pe(n){var e=i,u=c(i,n);return i=n+1,f?[{ln:t[e].ln},r.RawType,u]:[r.RawType,u]}function wu(n){var r=n,i;if(i=h(n))n+=i;else return u(t[n]);return(i=e(n))&&(n+=i),n-r}function wi(){var n=i;return(f?[{ln:t[n].ln},r.PropertyType,s()]:[r.PropertyType,s()]).concat(o())}function bu(n){return bi(n)||ki(n)}function we(){return bi(i)?ku():ki(i)?du():void 0}function bi(i){var r;return t[i++].type!==n.Colon?u(t[i-1]):t[i++].type!==n.Colon?u(t[i-1]):(r=h(i))?r+2:u(t[i])}function ku(){var n=i;return i+=2,f?[{ln:t[n].ln},r.PseudoeType,s()]:[r.PseudoeType,s()]}function ki(i){var r;return t[i++].type!==n.Colon?u(t[i-1]):(r=p(i))||(r=h(i))?r+1:u(t[i])}function du(){var n=i;return i++,f?[{ln:t[n].ln},r.PseudocType,p(i)?ft():s()]:[r.PseudocType,p(i)?ft():s()]}function g(n){var i=n,r;if(t[i].ruleset_l!==undefined)return t[i].ruleset_l;while(r=nf(n))n+=r;if(r=y(n))n+=r;else return u(t[n]);return t[i].ruleset_l=n-i,n-i}function di(){for(var n=f?[{ln:t[i].ln},r.RulesetType]:[r.RulesetType];!y(i);)n.push(tf());return n.push(rt()),n}function gi(n){return t[n].ws?t[n].ws_last-n+1:u(t[n])}function gu(){var u=i,n=c(i,t[i].ws_last);return i=t[i].ws_last+1,f?[{ln:t[u].ln},r.SType,n]:[r.SType,n]}function e(n){for(var i,r=0;n<t.length;){if(!(i=gi(n))&&!(i=gt(n)))break;n+=i;r+=i}return r?r:n>=t.length?u(t[t.length-1]):u(t[n])}function o(){for(var n=[];i<t.length;)if(gi(i))n.push(gu());else if(gt(i))n.push(ru());else break;return n}function nf(n){var i=n,r;if(n<t.length){while(r=tr(n)||ui(n))n+=r;return t[i].selector_end=n-1,n-i}}function tf(){for(var n=f?[{ln:t[i].ln},r.SelectorType]:[r.SelectorType],u=t[i].selector_end;i<=u;)n.push(ui(i)?uu():ir());return n}function nr(i){if(t[i].type!==n.NumberSign)return u(t[i]);var r=to(i+1);return r?r+1:u(t[i])}function rf(){var n=i;return i++,f?[{ln:t[n].ln},r.ShashType,af()]:[r.ShashType,af()]}function tr(n){for(var i=n,r;n<t.length;)if(r=uf(n))n+=r;else break;return n-i?n-i:n>=t.length?u(t[t.length-1]):u(t[n])}function uf(n){return ai(n)||dt(n)||yt(n)||bu(n)||ut(n)||nr(n)||a(n)||e(n)||ci(n)}function ir(){for(var u=f?[{ln:t[i].ln},r.SimpleselectorType]:[r.SimpleselectorType],n;i<t.length&&uf(i);)n=be(),f&&typeof n[1]=="string"||typeof n[0]=="string"?u.push(n):u=u.concat(n);return u}function be(){return ai(i)?vu():dt(i)?iu():yt(i)?hr():bu(i)?we():ut(i)?kt():nr(i)?rf():a(i)?vt():e(i)?o():ci(i)?cu():void 0}function nt(i){return i<t.length&&(t[i].type===n.StringSQ||t[i].type===n.StringDQ)?1:u(t[i])}function ot(){var n=i;return f?[{ln:t[n].ln},r.StringType,t[i++].value]:[r.StringType,t[i++].value]}function ke(n){for(var r=n,i;n<t.length;)(i=e(n))?n+=i:(lt=t[n].ln,(i=pt(n))?n+=i:(i=g(n))?n+=i:(i=fr(n))?n+=i:w());return n-r}function de(){for(var n=f?[{ln:t[i].ln},r.StylesheetType]:[r.StylesheetType];i<t.length;)e(i)?n=n.concat(o()):(lt=t[i].ln,g(i)?n.push(di()):pt(i)?n.push(ar()):fr(i)?n.push(of()):w());return n}function ff(n){return it(n)||a(n)||e(n)||d(n)}function ef(){return it(i)?or():a(i)?vt():e(i)?o():d(i)?vi():void 0}function rr(n){for(var i=n,t;t=ff(n);)n+=t;return n-i}function st(){for(var t=[],n;n=ef();)f&&typeof n[1]=="string"||typeof n[0]=="string"?t.push(n):t=t.concat(n);return t}function tt(i){return i<t.length&&(t[i].type===n.HyphenMinus||t[i].type===n.PlusSign)?1:u(t[i])}function ur(){var n=i;return f?[{ln:t[n].ln},r.UnaryType,t[i++].value]:[r.UnaryType,t[i++].value]}function fr(i){return i<t.length&&t[i].type===n.CommentSL?1:u(t[i])}function of(){var n=i;return f?[{ln:t[n].ln},r.UnknownType,t[i++].value]:[r.UnknownType,t[i++].value]}function er(i){var r=i;return i<t.length&&t[i++].value!=="url"?u(t[i-1]):!t[i]||t[i].type!==n.LeftParenthesis?u(t[i]):t[i].right-r+1}function sf(){var h=i,e={},u;if(i+=2,e[n.Space]=1,e[n.Tab]=1,e[n.Newline]=1,e[n.LeftParenthesis]=1,e[n.RightParenthesis]=1,ge(i))return u=(f?[{ln:t[h].ln},r.UriType]:[r.UriType]).concat(o()).concat([ot()]).concat(o()),i++,u;var u=(f?[{ln:t[h].ln},r.UriType]:[r.UriType]).concat(o()),s=io(e,i),l=f?[{ln:t[i].ln},r.RawType,c(i,i+s)]:[r.RawType,c(i,i+s)];return u.push(l),i+=s+1,u=u.concat(o()),i++,u}function ge(i){var f=i,r=e(i);return(r&&(i+=r),t[i].type!==n.StringDQ&&t[i].type!==n.StringSQ)?u(t[i]):(i++,(r=e(i))&&(i+=r),i-f)}function hf(n){for(var i=n,r;n<t.length;)if(r=cf(n))n+=r;else break;return n-i?n-i:u(t[n])}function cf(n){return e(n)||it(n)||a(n)||y(n)||v(n)||d(n)||b(n)}function lf(){for(var u=f?[{ln:t[i].ln},r.ValueType]:[r.ValueType],n;i<t.length&&cf(i);)n=no(),f&&typeof n[1]=="string"||typeof n[0]=="string"?u.push(n):u=u.concat(n);return u}function no(){return e(i)?o():it(i)?or():a(i)?vt():y(i)?rt():v(i)?l():d(i)?vi():b(i)?hi():void 0}function it(i){if(i>=t.length||t[i].type!==n.NumberSign)return u(t[i]);var r=vf(i+1);return r?r+1:u(t[i])}function or(){var n=i;return i++,f?[{ln:t[n].ln},r.VhashType,ht()]:[r.VhashType,ht()]}function to(i){var r=i;if(t[i].type===n.HyphenMinus||t[i].type===n.LowLine||t[i].type===n.Identifier||t[i].type===n.DecimalNumber)i++;else return u(t[i]);for(;i<t.length;i++)if(t[i].type!==n.HyphenMinus&&t[i].type!==n.LowLine&&t[i].type!==n.Identifier&&t[i].type!==n.DecimalNumber)break;return t[r].nm_name_last=i-1,i-r}function af(){var n=c(i,t[i].nm_name_last);return i=t[i].nm_name_last+1,n}function vf(i){var r=i;return t[i].type===n.Identifier?1:t[i].type!==n.DecimalNumber?u(t[i]):(i++,!t[i]||t[i].type!==n.Identifier)?1:2}function ht(){var r=t[i].value;return t[i++].type===n.DecimalNumber&&i<t.length&&t[i].type===n.Identifier&&(r+=t[i++].value),r}function io(n,i){for(var r=i;i<t.length;)if(n[t[i++].type])break;return i-r-2}function c(n,i){for(var u="",r=n;r<i+1;r++)u+=t[r].value;return u}function ct(n,i){var u,r;if(!(n+i-1>=t.length)){for(u="",r=0;r<i;r++)u+=t[n+r].value;return u}}function ro(){for(var r=-1,u=-1,f,i=0;i<t.length;i++){f=t[i];switch(f.type){case n.Space:case n.Tab:case n.Newline:f.ws=!0;f.sc=!0;r===-1&&(r=i);u===-1&&(u=i);break;case n.CommentML:r!==-1&&(t[r].ws_last=i-1,r=-1);f.sc=!0;break;default:r!==-1&&(t[r].ws_last=i-1,r=-1);u!==-1&&(t[u].sc_last=i-1,u=-1)}}r!==-1&&(t[r].ws_last=i-1);u!==-1&&(t[u].sc_last=i-1)}var t,i,sr=0,lt=0,f=!1,r,at;return r={IdentType:"ident",AtkeywordType:"atkeyword",StringType:"string",ShashType:"shash",VhashType:"vhash",NumberType:"number",PercentageType:"percentage",DimensionType:"dimension",CdoType:"cdo",CdcType:"cdc",DecldelimType:"decldelim",SType:"s",AttrselectorType:"attrselector",AttribType:"attrib",NthType:"nth",NthselectorType:"nthselector",NamespaceType:"namespace",ClazzType:"clazz",PseudoeType:"pseudoe",PseudocType:"pseudoc",DelimType:"delim",StylesheetType:"stylesheet",AtrulebType:"atruleb",AtrulesType:"atrules",AtrulerqType:"atrulerq",AtrulersType:"atrulers",AtrulerType:"atruler",BlockType:"block",RulesetType:"ruleset",CombinatorType:"combinator",SimpleselectorType:"simpleselector",SelectorType:"selector",DeclarationType:"declaration",PropertyType:"property",ImportantType:"important",UnaryType:"unary",OperatorType:"operator",BracesType:"braces",ValueType:"value",ProgidType:"progid",FiltervType:"filterv",FilterType:"filter",CommentType:"comment",UriType:"uri",RawType:"raw",FunctionBodyType:"functionBody",FunktionType:"funktion",FunctionExpressionType:"functionExpression",UnknownType:"unknown"},at={ident:function(){if(h(i))return s()},atkeyword:function(){if(v(i))return l()},string:function(){if(nt(i))return ot()},shash:function(){if(nr(i))return rf()},vhash:function(){if(it(i))return or()},number:function(){if(k(i))return et()},percentage:function(){if(yi(i))return yu()},dimension:function(){if(fi(i))return fu()},decldelim:function(){if(ii(i))return ri()},s:function(){if(gi(i))return gu()},attrselector:function(){if(cr(i))return lr()},attrib:function(){if(yt(i))return hr()},nth:function(){if(li(i))return lu()},nthselector:function(){if(ai(i))return vu()},namespace:function(){if(ci(i))return cu()},clazz:function(){if(ut(i))return kt()},pseudoe:function(){if(bi(i))return ku()},pseudoc:function(){if(ki(i))return du()},delim:function(){if(ui(i))return uu()},stylesheet:function(){if(ke(i))return de()},atruleb:function(){if(vr(i))return yr()},atrules:function(){if(gr(i))return nu()},atrulerq:function(){if(br(i))return wt()},atrulers:function(){if(kr(i))return dr()},atruler:function(){if(pr(i))return wr()},block:function(){if(y(i))return rt()},ruleset:function(){if(g(i))return di()},combinator:function(){if(dt(i))return iu()},simpleselector:function(){if(tr(i))return ir()},selector:function(){if(nf(i))return tf()},declaration:function(){if(ni(i))return ti()},property:function(){if(wu(i))return wi()},important:function(){if(b(i))return hi()},unary:function(){if(tt(i))return ur()},operator:function(){if(d(i))return vi()},braces:function(){if(bt(i))return tu()},value:function(){if(hf(i))return lf()},progid:function(){if(pi(i))return pu()},filterv:function(){if(ou(i))return su()},filter:function(){if(ei(i))return oi()},comment:function(){if(gt(i))return ru()},uri:function(){if(er(i))return sf()},raw:function(){if(checkRaw(i))return getRaw()},funktion:function(){if(p(i))return ft()},functionExpression:function(){if(si(i))return hu()},unknown:function(){if(fr(i))return of()}},function(n,t,i){return yf(n,t,i)}}();return function(n,r,u){return i(t(n),r,u)}}();return n.srcToCSSP=t,n}.call(this),n["./translator.js"]=function(){function n(){}var t={};return n.prototype.translate=function(n){return this._t(n)},n.prototype._m_simple={unary:1,nth:1,combinator:1,ident:1,number:1,s:1,string:1,attrselector:1,operator:1,raw:1,unknown:1},n.prototype._m_composite={simpleselector:1,dimension:1,selector:1,property:1,value:1,filterv:1,progid:1,ruleset:1,atruleb:1,atrulerq:1,atrulers:1,stylesheet:1},n.prototype._m_primitive={cdo:"cdo",cdc:"cdc",decldelim:";",namespace:"|",delim:","},n.prototype._t=function(n){var t=n[0];return t in this._m_primitive?this._m_primitive[t]:t in this._m_simple?this._simple(n):t in this._m_composite?this._composite(n):this[t](n)},n.prototype._composite=function(n,t){var i="";for(t=t===undefined?1:t;t<n.length;t++)i+=this._t(n[t]);return i},n.prototype._simple=function(n){return n[1]},n.prototype.percentage=function(n){return this._t(n[1])+"%"},n.prototype.comment=function(n){return"/*"+n[1]+"*/"},n.prototype.clazz=function(n){return"."+this._t(n[1])},n.prototype.atkeyword=function(n){return"@"+this._t(n[1])},n.prototype.shash=function(n){return"#"+n[1]},n.prototype.vhash=function(n){return"#"+n[1]},n.prototype.attrib=function(n){return"["+this._composite(n)+"]"},n.prototype.important=function(n){return"!"+this._composite(n)+"important"},n.prototype.nthselector=function(n){return":"+this._simple(n[1])+"("+this._composite(n,2)+")"},n.prototype.funktion=function(n){return this._simple(n[1])+"("+this._composite(n[2])+")"},n.prototype.declaration=function(n){return this._t(n[1])+":"+this._t(n[2])},n.prototype.filter=function(n){return this._t(n[1])+":"+this._t(n[2])},n.prototype.block=function(n){return"{"+this._composite(n)+"}"},n.prototype.braces=function(n){return n[1]+this._composite(n,3)+n[2]},n.prototype.atrules=function(n){return this._composite(n)+";"},n.prototype.atruler=function(n){return this._t(n[1])+this._t(n[2])+"{"+this._t(n[3])+"}"},n.prototype.pseudoe=function(n){return"::"+this._t(n[1])},n.prototype.pseudoc=function(n){return":"+this._t(n[1])},n.prototype.uri=function(n){return"url("+this._composite(n)+")"},n.prototype.functionExpression=function(n){return"expression("+n[1]+")"},t.translate=function(t){return(new n).translate(t)},t.translator=function(){return new n},t}.call(this),n["./compressor.js"]=function(){function i(n,t){this.name=i.extractMain(n);this.sides={top:null,right:null,bottom:null,left:null};this.imp=t?4:0}function t(){}var f={},r,u;return i.props={margin:1,"margin-top":1,"margin-right":1,"margin-bottom":1,"margin-left":1,padding:1,"padding-top":1,"padding-right":1,"padding-bottom":1,"padding-left":1},i.extractMain=function(n){var t=n.indexOf("-");return t===-1?n:n.substr(0,t)},i.prototype.impSum=function(){var n=0,i=0,t;for(t in this.sides)this.sides[t]&&(i++,this.sides[t].imp&&n++);return n===i?n:0},i.prototype.add=function(n,t,i,r){var e=this.sides,l,h,f,c,u=[],o,r=r?1:0,s=!1;if((h=n.lastIndexOf("-"))!==-1){if(c=n.substr(h+1),c in e)return(l=e[c])&&(!r||l.imp)||(e[c]={s:r?t.substring(0,t.length-10):t,t:[i[0]],imp:r},i[0][1]==="unary"&&e[c].t.push(i[1])),!0}else if(n===this.name){for(h=0;h<i.length;h++){f=i[h];o=u[u.length-1];switch(f[1]){case"unary":u.push({s:f[2],t:[f],imp:r});s=!0;break;case"number":case"ident":s?(o.t.push(f),o.s+=f[2]):u.push({s:f[2],t:[f],imp:r});s=!1;break;case"percentage":s?(o.t.push(f),o.s+=f[2][2]+"%"):u.push({s:f[2][2]+"%",t:[f],imp:r});s=!1;break;case"dimension":s?(o.t.push(f),o.s+=f[2][2]+f[3][2]):u.push({s:f[2][2]+f[3][2],t:[f],imp:r});s=!1;break;case"s":case"comment":case"important":break;default:return!1}}return u.length>4?!1:(u[1]||(u[1]=u[0]),u[2]||(u[2]=u[0]),u[3]||(u[3]=u[1]),e.top||(e.top=u[0]),e.right||(e.right=u[1]),e.bottom||(e.bottom=u[2]),e.left||(e.left=u[3]),!0)}},i.prototype.isOkToMinimize=function(){var n=this.sides,t;return!(n.top&&n.right&&n.bottom&&n.left)?!1:(t=n.top.imp+n.right.imp+n.bottom.imp+n.left.imp,t===0||t===4||t===this.imp)},i.prototype.getValue=function(){var n=this.sides,i=[n.top,n.right,n.bottom,n.left],t=[{},"value"],r;for(n.left.s===n.right.s&&(i.length--,n.bottom.s===n.top.s&&(i.length--,n.right.s===n.top.s&&i.length--)),r=0;r<i.length-1;r++)t=t.concat(i[r].t),t.push([{s:" "},"s"," "]);return t=t.concat(i[r].t),this.impSum()&&t.push([{s:"!important"},"important"]),t},i.prototype.getProperty=function(){return[{s:this.name},"property",[{s:this.name},"ident",this.name]]},i.prototype.getString=function(){for(var r=this.getProperty(),t=this.getValue().slice(2),i=r[0].s+":",n=0;n<t.length;n++)i+=t[n][0].s;return i},t.prototype.init=function(){this.props={};this.shorts={};this.shorts2={};this.ccrules={};this.crules={};this.prules={};this.frrules={};this.msrules={};this.csrules={};this.rbrules={};this.rjrules={};this.rrrules={};this.frules={};this.initRules(this.crules,this.defCCfg);this.initRules(this.ccrules,this.cleanCfg);this.initRules(this.frrules,this.frCfg);this.initRules(this.prules,this.preCfg);this.initRules(this.msrules,this.msCfg);this.initRules(this.csrules,this.csCfg);this.initRules(this.rbrules,this.defRBCfg);this.initRules(this.rjrules,this.defRJCfg);this.initRules(this.rrrules,this.defRRCfg);this.initRules(this.frules,this.defFCfg);this.shortGroupID=0;this.lastShortGroupID=0;this.lastShortSelector=0},t.prototype.initRules=function(n,t){for(var u=this.order,o=this.profile,e,f,r=[],i=0;i<u.length;i++)u[i]in t&&r.push(u[i]);for(r.length||(r=u),i=0;i<r.length;i++){e=o[r[i]];for(f in e)n[f]?n[f].push(r[i]):n[f]=[r[i]]}},t.prototype.cleanCfg={cleanComment:1},t.prototype.defCCfg={cleanCharset:1,cleanImport:1,cleanWhitespace:1,cleanDecldelim:1,compressNumber:1,cleanUnary:1,compressColor:1,compressDimension:1,compressString:1,compressFontWeight:1,compressFont:1,compressBackground:1,cleanEmpty:1},t.prototype.defRBCfg={restructureBlock:1},t.prototype.defRJCfg={rejoinRuleset:1,cleanEmpty:1},t.prototype.defRRCfg={restructureRuleset:1,cleanEmpty:1},t.prototype.defFCfg={cleanEmpty:1,delimSelectors:1,delimBlocks:1},t.prototype.preCfg={destroyDelims:1,preTranslate:1},t.prototype.msCfg={markShorthands:1},t.prototype.frCfg={freezeRulesets:1},t.prototype.csCfg={cleanShorthands:1,cleanEmpty:1},t.prototype.order=["cleanCharset","cleanImport","cleanComment","cleanWhitespace","compressNumber","cleanUnary","compressColor","compressDimension","compressString","compressFontWeight","compressFont","compressBackground","freezeRulesets","destroyDelims","preTranslate","markShorthands","cleanShorthands","restructureBlock","rejoinRuleset","restructureRuleset","cleanEmpty","delimSelectors","delimBlocks"],t.prototype.profile={cleanCharset:{atrules:1},cleanImport:{atrules:1},cleanWhitespace:{s:1},compressNumber:{number:1},cleanUnary:{unary:1},compressColor:{vhash:1,funktion:1,ident:1},compressDimension:{dimension:1},compressString:{string:1},compressFontWeight:{declaration:1},compressFont:{declaration:1},compressBackground:{declaration:1},cleanComment:{comment:1},cleanDecldelim:{block:1},cleanEmpty:{ruleset:1,atruleb:1,atruler:1},destroyDelims:{decldelim:1,delim:1},preTranslate:{declaration:1,property:1,simpleselector:1,filter:1,value:1,number:1,percentage:1,dimension:1,ident:1},restructureBlock:{block:1},rejoinRuleset:{ruleset:1},restructureRuleset:{ruleset:1},delimSelectors:{selector:1},delimBlocks:{block:1},markShorthands:{block:1},cleanShorthands:{declaration:1},freezeRulesets:{ruleset:1}},t.prototype.isContainer=function(n){if(Array.isArray(n))for(var t=0;t<n.length;t++)if(Array.isArray(n[t]))return!0},t.prototype.process=function(n,t,i,r,u){var e=t[1],f;if(e&&n[e])for(var h=n[e],s=t,o,c=this.order,f=0;f<h.length;f++){if(o=this[h[f]](s,e,i,r,u),o===null)return null;o!==undefined&&(s=o)}return s},t.prototype.compress=function(n,t){n=n||["stylesheet"];this.init();this.info=!0;var i=typeof n[0]!="string"?n:this.injectInfo([n])[0],e,f=1e11,o,s,l,h,c=this.findProtectedComment(n);if(i=this.walk(this.ccrules,i,"/0"),i=this.walk(this.crules,i,"/0"),i=this.walk(this.prules,i,"/0"),i=this.walk(this.frrules,i,"/0"),o=r.translate(u(i)).length,!t){h=this.copyArray(i);i=this.walk(this.rjrules,i,"/0");this.disjoin(i);i=this.walk(this.msrules,i,"/0");i=this.walk(this.csrules,i,"/0");i=this.walk(this.rbrules,i,"/0");do e=f,s=this.copyArray(i),i=this.walk(this.rjrules,i,"/0"),i=this.walk(this.rrrules,i,"/0"),f=r.translate(u(i)).length,l=this.copyArray(i);while(e>f);o<e&&o<f?i=h:e<f&&(i=s)}return i=this.walk(this.frules,i,"/0"),c&&i.splice(2,0,c),i},t.prototype.findProtectedComment=function(n){for(var t,i=2;i<n.length;i++){if(t=n[i],t[1]==="comment"&&t[2].length>0&&t[2].charAt(0)==="!")return t;if(t[1]!=="s")return}},t.prototype.injectInfo=function(n){for(var t,i=n.length-1;i>-1;i--)t=n[i],t&&Array.isArray(t)&&(this.isContainer(t)&&(t=this.injectInfo(t)),t.splice(0,0,{}));return n},t.prototype.disjoin=function(n){for(var t,i,f,e,u,r=n.length-1;r>-1;r--){if(t=n[r],t&&Array.isArray(t)&&t[1]==="ruleset"&&(t[0].shortGroupID=this.shortGroupID++,i=t[2],i.length>3)){for(e=i.slice(0,2),u=i.length-1;u>1;u--)f=this.copyArray(t),f[2]=e.concat([i[u]]),f[2][0].s=i[u][0].s,n.splice(r+1,0,f);n.splice(r,1)}this.isContainer(t)&&this.disjoin(t)}},t.prototype.walk=function(n,t,i){for(var r,f,u=t.length-1;u>-1;u--)r=t[u],r&&Array.isArray(r)&&(r[0].parent=t,this.isContainer(r)&&(r=this.walk(n,r,i+"/"+u)),r===null?t.splice(u,1):(f=this.process(n,r,t,u,i))?t[u]=f:f===null&&t.splice(u,1));return t.length?t:null},t.prototype.freezeRulesets=function(n){var i=n[0],t=n[2];return i.freeze=this.freezeNeeded(t),i.freezeID=this.selectorSignature(t),i.pseudoID=this.composePseudoID(t),i.pseudoSignature=this.pseudoSelectorSignature(t,this.allowedPClasses,!0),this.markSimplePseudo(t),n},t.prototype.markSimplePseudo=function(n){for(var t,r={},i=2;i<n.length;i++)t=n[i],t[0].pseudo=this.containsPseudo(t),t[0].sg=r,r[t[0].s]=1},t.prototype.composePseudoID=function(n){for(var i=[],r,t=2;t<n.length;t++)r=n[t],this.containsPseudo(r)&&i.push(r[0].s);return i.sort(),i.join(",")},t.prototype.containsPseudo=function(n){for(var t=2;t<n.length;t++)switch(n[t][1]){case"pseudoc":case"pseudoe":case"nthselector":if(!(n[t][2][2]in this.notFPClasses))return!0}},t.prototype.selectorSignature=function(n){for(var i=[],t=2;t<n.length;t++)i.push(r.translate(u(n[t])));return i.sort(),i.join(",")},t.prototype.pseudoSelectorSignature=function(n,t,i){var e=[],o={},u,s=!1,f,r,h;for(t=t||{},f=2;f<n.length;f++)for(u=n[f],r=2;r<u.length;r++)switch(u[r][1]){case"pseudoc":case"pseudoe":case"nthselector":u[r][2][2]in t?s=!0:o[u[r][2][2]]=1}for(h in o)e.push(h);return e.sort(),e.join(",")+(i?"":s)},t.prototype.notFPClasses={link:1,visited:1,hover:1,active:1,"first-letter":1,"first-line":1},t.prototype.notFPElements={"first-letter":1,"first-line":1},t.prototype.freezeNeeded=function(n){for(var i,t,r=2;r<n.length;r++)for(i=n[r],t=2;t<i.length;t++)switch(i[t][1]){case"pseudoc":if(!(i[t][2][2]in this.notFPClasses))return!0;break;case"pseudoe":if(!(i[t][2][2]in this.notFPElements))return!0;break;case"nthselector":return!0}return!1},t.prototype.cleanCharset=function(n,t,i,r){if(n[2][2][2]==="charset")for(r=r-1;r>1;r--)if(i[r][1]!=="s"&&i[r][1]!=="comment")return null},t.prototype.cleanImport=function(n,t,i,r){var u;for(r=r-1;r>1;r--)if(u=i[r][1],u!=="s"&&u!=="comment")if(u==="atrules"){if(u=i[r][2][2][2],u!=="import"&&u!=="charset")return null}else return null},t.prototype.cleanComment=function(n,t,i,r){var u=i[1]==="braces"&&r===4||i[1]!=="braces"&&r===2?null:i[r-1][1],f=r===i.length-1?null:i[r+1][1];if(f!==null&&u!==null){if(this._cleanComment(f)||this._cleanComment(u))return null}else return null},t.prototype._cleanComment=function(n){switch(n){case"s":case"operator":case"attrselector":case"block":case"decldelim":case"ruleset":case"declaration":case"atruleb":case"atrules":case"atruler":case"important":case"nth":case"combinator":return!0}},t.prototype.nextToken=function(n,t,i,r){for(var u,f;i<n.length;i++)if(u=n[i],Array.isArray(u)){if(f=u[1],f===t)return u;if(r&&f!=="s")return}},t.prototype.cleanWhitespace=function(n,t,i,r){var u=i[1]==="braces"&&r===4||i[1]!=="braces"&&r===2?null:i[r-1][1],f=r===i.length-1?null:i[r+1][1];if(f==="unknown")n[2]="\n";else{if(!(i[1]==="atrulerq"&&!u)&&!this.issue16(i,r))if(f!==null&&u!==null){if(this._cleanWhitespace(f,!1)||this._cleanWhitespace(u,!0))return null}else return null;n[2]=" "}return n},t.prototype.issue16=function(n,t){return t!==2&&t!==n.length-1&&n[t-1][1]==="uri"},t.prototype._cleanWhitespace=function(n,t){switch(n){case"s":case"operator":case"attrselector":case"block":case"decldelim":case"ruleset":case"declaration":case"atruleb":case"atrules":case"atruler":case"important":case"nth":case"combinator":return!0}if(t)switch(n){case"funktion":case"braces":case"uri":return!0}},t.prototype.cleanDecldelim=function(n){for(var t=n.length-1;t>1;t--)n[t][1]==="decldelim"&&n[t+1][1]!=="declaration"&&n.splice(t,1);return n[2][1]==="decldelim"&&n.splice(2,1),n},t.prototype.compressNumber=function(n){var t=n[2];return/^0*/.test(t)&&(t=t.replace(/^0+/,"")),/\.0*$/.test(t)&&(t=t.replace(/\.0*$/,"")),/\..*[1-9]+0+$/.test(t)&&(t=t.replace(/0+$/,"")),(t==="."||t==="")&&(t="0"),n[2]=t,n[0].s=t,n},t.prototype.findDeclaration=function(n){for(var t=n;(t=t[0].parent)&&t[1]!=="declaration";);return t},t.prototype.cleanUnary=function(n,t,i,r){var u=i[r+1];return u&&u[1]==="number"&&u[2]==="0"?null:n},t.prototype.compressColor=function(n,t,i,r){switch(t){case"vhash":return this.compressHashColor(n);case"funktion":return this.compressFunctionColor(n);case"ident":return this.compressIdentColor(n,t,i,r)}},t.prototype.compressIdentColor=function(n,t,i){var r={yellow:"ff0",fuchsia:"f0f",white:"fff",black:"000",blue:"00f",aqua:"0ff"},u=n[2].toLowerCase();if(i[1]in{value:1,functionBody:1}&&u in r)return[{},"vhash",r[u]]},t.prototype.compressHashColor=function(n){return this._compressHashColor(n[2],n[0])},t.prototype._compressHashColor=function(n,t){var i={f00:"red",c0c0c0:"silver","808080":"gray","800000":"maroon","800080":"purple","008000":"green","808000":"olive","000080":"navy","008080":"teal"},r=n;return n=n.toLowerCase(),n.length===6&&n.charAt(0)===n.charAt(1)&&n.charAt(2)===n.charAt(3)&&n.charAt(4)===n.charAt(5)&&(n=n.charAt(0)+n.charAt(2)+n.charAt(4)),i[n]?[t,"string",i[n]]:[t,"vhash",n.length<r.length?n:r]},t.prototype.compressFunctionColor=function(n){var r,i=[],t,u="",f;if(n[2][2]==="rgb"){for(f=n[3],r=2;r<f.length;r++)if(t=f[r][1],t==="number")i.push(f[r]);else if(t!=="operator"){i=[];break}if(i.length===3&&(u+=(t=Number(i[0][2]).toString(16)).length===1?"0"+t:t,u+=(t=Number(i[1][2]).toString(16)).length===1?"0"+t:t,u+=(t=Number(i[2][2]).toString(16)).length===1?"0"+t:t,u.length===6))return this._compressHashColor(u,{})}},t.prototype.compressDimension=function(n){var i,t;if(n[2][2]==="0"){if((n[3][2]==="s"||n[3][2]==="ms")&&(i=this.findDeclaration(n))){if(t=i[2][2][2],t==="-moz-transition"||t==="transition")return;if(t==="-moz-animation"||t==="animation")return}return n[2]}},t.prototype.compressString=function(n){for(var i=n[2],r="",u,t=0;t<i.length;t++)u=i.charAt(t),u==="\\"&&i.charAt(t+1)==="\n"?t++:r+=u;if(i.length!==r.length)return[{},"string",r]},t.prototype.compressFontWeight=function(n){var i=n[2],t=n[3];if(i[2][2].indexOf("font-weight")!==-1&&t[2][1]==="ident")return t[2][2]==="normal"?t[2]=[{},"number","400"]:t[2][2]==="bold"&&(t[2]=[{},"number","700"]),n},t.prototype.compressFont=function(n){var f=n[2],t=n[3],i,r,u;if(/font$/.test(f[2][2])&&t.length){for(t.splice(2,0,[{},"s",""]),i=t.length-1;i>2;i--)r=t[i],r[1]==="ident"&&(r=r[2],r==="bold"?t[i]=[{},"number","700"]:r==="normal"?(u=t[i-1],u[1]==="operator"&&u[2]==="/"?t.splice(--i,2):t.splice(i,1),t[i-1][1]==="s"&&t.splice(--i,1)):r==="medium"&&t[i+1]&&t[i+1][2]!=="/"&&(t.splice(i,1),t[i-1][1]==="s"&&t.splice(--i,1)));return t.length>2&&t[2][1]==="s"&&t.splice(2,1),t.length===2&&t.push([{},"ident","normal"]),n}},t.prototype.compressBackground=function(n){var u=n[2],t=n[3],r,i,f=t[t.length-1][1]==="important"?3:2;if(/background$/.test(u[2][2])&&t.length){for(t.splice(2,0,[{},"s",""]),r=t.length-1;r>f;r--)i=t[r],i[1]==="ident"&&(i=i[2],(i==="transparent"||i==="none"||i==="repeat"||i==="scroll")&&(t.splice(r,1),t[r-1][1]==="s"&&t.splice(--r,1)));return t.length>2&&t[2][1]==="s"&&t.splice(2,1),t.length===2&&t.splice(2,0,[{},"number","0"],[{},"s"," "],[{},"number","0"]),n}},t.prototype.cleanEmpty=function(n,t){switch(t){case"ruleset":if(n[3].length===2)return null;break;case"atruleb":if(n[n.length-1].length<3)return null;break;case"atruler":if(n[4].length<3)return null}},t.prototype.destroyDelims=function(){return null},t.prototype.preTranslate=function(n){return n[0].s=r.translate(u(n)),n},t.prototype.markShorthands=function(n,t,r,u,f){var e,s,h,p,c,l,g,w,y,b,a,o;if(r[1]==="ruleset")var v=r[2][2][0].s,k=r[0].freeze,d=r[0].freezeID;else var v="",k=!1,d="fake";for(g=this.pathUp(f)+"/"+(k?"&"+d+"&":"")+v+"/",b=r[0].shortGroupID,a=n.length-1;a>-1;a--)w=!0,e=n[a],e[1]==="declaration"&&(h=e[3],p=h[h.length-1][1]==="important",s=e[2][0].s,e[0].id=f+"/"+a,s in i.props&&(c=g+i.extractMain(s),o=this.shorts2[c]||[],y=o.length===0?0:o.length-1,this.lastShortSelector&&v!==this.lastShortSelector&&b!==this.lastShortGroupID||o.length&&(l=o[y],w=!1),w&&(e[0].replaceByShort=!0,e[0].shorthandKey={key:c,i:y},l=new i(s,p),o.push(l)),l.invalid||(e[0].removeByShort=!0,e[0].shorthandKey={key:c,i:y},l.add(s,h[0].s,h.slice(2),p)),this.shorts2[c]=o,this.lastShortSelector=v,this.lastShortGroupID=b));return n},t.prototype.cleanShorthands=function(n){if(n[0].removeByShort||n[0].replaceByShort){var t,i,f=n[0].shorthandKey;if(t=this.shorts2[f.key][f.i],!t.invalid&&t.isOkToMinimize())return n[0].replaceByShort?(i=[{},"declaration",t.getProperty(),t.getValue()],i[0].s=r.translate(u(i)),i):null}},t.prototype.dontRestructure={src:1,clip:1,display:1},t.prototype.restructureBlock=function(n,t,i,r,u){var f,w,l,a,e,k,b,o;if(i[1]==="ruleset")var s=this.props,v=i[2][2][0].pseudo,d=i[2][2][0].s,h=i[0].freeze,y=i[0].freezeID,c=i[0].pseudoID,p=i[2][2][0].sg;else var s={},v=!1,d="",h=!1,y="fake",c="fake",p={};for(k=this.pathUp(u)+"/"+d+"/",o=n.length-1;o>-1;o--)f=n[o],f[1]==="declaration"&&(l=f[3],a=l[l.length-1][1]==="important",w=f[2][0].s,b=this.buildPPre(k,w,l,f,h),f[0].id=u+"/"+o,!this.dontRestructure[w]&&(e=s[b])?(v&&y===e.freezeID||!v&&c===e.pseudoID||v&&c===e.pseudoID&&this.hashInHash(p,e.sg))&&(a&&!e.imp?(s[b]={block:n,imp:a,id:f[0].id,sg:p,freeze:h,path:u,freezeID:y,pseudoID:c},this.deleteProperty(e.block,e.id)):n.splice(o,1)):this.needless(w,s,k,a,l,f,h)?n.splice(o,1):s[b]={block:n,imp:a,id:f[0].id,sg:p,freeze:h,path:u,freezeID:y,pseudoID:c});return n},t.prototype.buildPPre=function(n,t,i,r,u){var h=u?"ft:":"ff:",e;if(t.indexOf("background")!==-1)return h+n+r[0].s;var o=i.slice(2),f=[0,0,0,0],s="";for(e=0;e<o.length;e++){s||(s=this.getVendorIDFromToken(o[e]));switch(o[e][1]){case"vhash":case"ident":f[0]=1;break;case"funktion":switch(o[e][2][2]){case"rgb":f[0]=1;break;case"hsl":f[1]=1;break;case"hsla":f[2]=1;break;case"rgba":f[3]=1}}}return h+n+t+f.join("")+(s?s:"")},t.prototype.vendorID={"-o-":"o","-moz-":"m","-webkit-":"w","-ms-":"i","-epub-":"e","-apple-":"a","-xv-":"x","-wap-":"p"},t.prototype.getVendorIDFromToken=function(n){var t;switch(n[1]){case"ident":if(t=this.getVendorFromString(n[2]))return this.vendorID[t];break;case"funktion":if(t=this.getVendorFromString(n[2][2]))return this.vendorID[t]}},t.prototype.getVendorFromString=function(n){var i=n.charAt(0),t;return i==="-"&&(t=n.indexOf("-",2))!==-1?n.substr(0,t+1):""},t.prototype.deleteProperty=function(n,t){for(var r,i=n.length-1;i>1;i--)if(r=n[i],Array.isArray(r)&&r[1]==="declaration"&&r[0].id===t){n.splice(i,1);return}},t.prototype.nlTable={"border-width":["border"],"border-style":["border"],"border-color":["border"],"border-top":["border"],"border-right":["border"],"border-bottom":["border"],"border-left":["border"],"border-top-width":["border-top","border-width","border"],"border-right-width":["border-right","border-width","border"],"border-bottom-width":["border-bottom","border-width","border"],"border-left-width":["border-left","border-width","border"],"border-top-style":["border-top","border-style","border"],"border-right-style":["border-right","border-style","border"],"border-bottom-style":["border-bottom","border-style","border"],"border-left-style":["border-left","border-style","border"],"border-top-color":["border-top","border-color","border"],"border-right-color":["border-right","border-color","border"],"border-bottom-color":["border-bottom","border-color","border"],"border-left-color":["border-left","border-color","border"],"margin-top":["margin"],"margin-right":["margin"],"margin-bottom":["margin"],"margin-left":["margin"],"padding-top":["padding"],"padding-right":["padding"],"padding-bottom":["padding"],"padding-left":["padding"],"font-style":["font"],"font-variant":["font"],"font-weight":["font"],"font-size":["font"],"font-family":["font"],"list-style-type":["list-style"],"list-style-position":["list-style"],"list-style-image":["list-style"]},t.prototype.needless=function(n,t,i,r,u,f,e){var o=n.charAt(0),h,c,l,a,v,s;if(o==="*"||o==="_"||o==="$"?n=n.substr(1):o==="/"&&n.charAt(1)==="/"?(o="//",n=n.substr(2)):o="",h=this.getVendorFromString(n),c=n.substr(h.length),c in this.nlTable)for(l=this.nlTable[c],s=0;s<l.length;s++)if(v=this.buildPPre(i,o+h+l[s],u,f,e),a=t[v])return!r||a.imp},t.prototype.rejoinRuleset=function(n,t,i,f){var e=f===2||i[f-1][1]==="unknown"?null:i[f-1],s=e?e[2].slice(2):[],l=e?e[3].slice(2):[],a=n[2].slice(2),v=n[3].slice(2),h,c,o;if(!v.length)return null;if(s.length&&l.length&&n[0].pseudoSignature==e[0].pseudoSignature){if(n[1]!==e[1])return;if(h=this.getHash(s),c=this.getHash(a),this.equalHash(c,h))return e[3]=e[3].concat(n[3].splice(2)),null;if(this.okToJoinByProperties(n,e)&&(o=this.analyze(n,e),!o.ne1.length&&!o.ne2.length))return e[2]=this.cleanSelector(e[2].concat(n[2].splice(2))),e[2][0].s=r.translate(u(e[2])),null}},t.prototype.okToJoinByProperties=function(n,t){var i=n[0],r=t[0];return i.freezeID===r.freezeID?!0:i.pseudoID===r.pseudoID?!0:i.freeze&&r.freeze?this.pseudoSelectorSignature(n[2],this.allowedPClasses)===this.pseudoSelectorSignature(t[2],this.allowedPClasses):!(i.freeze||r.freeze)},t.prototype.allowedPClasses={after:1,before:1},t.prototype.containsOnlyAllowedPClasses=function(n){for(var i,t,r=2;r<n.length;r++)for(i=n[r],t=2;t<i.length;t++)if((i[t][1]=="pseudoc"||i[t][1]=="pseudoe")&&!(i[t][2][2]in this.allowedPClasses))return!1;return!0},t.prototype.restructureRuleset=function(n,t,i,f){var e=f===2||i[f-1][1]==="unknown"?null:i[f-1],v=e?e[2].slice(2):[],y=e?e[3].slice(2):[],p=n[3].slice(2),o,l;if(!p.length)return null;if(v.length&&y.length&&n[0].pseudoSignature==e[0].pseudoSignature){if(n[1]!==e[1])return;if(o=this.analyze(n,e),o.eq.length&&(o.ne1.length||o.ne2.length))if(o.ne1.length&&!o.ne2.length){var s=n[2].slice(2),h=r.translate(u(n[2])),a=h.length+s.length-1,c=this.calcLength(o.eq)+o.eq.length-1;if(a<c)return e[2]=this.cleanSelector(e[2].concat(n[2].slice(2))),n[3].splice(2),n[3]=n[3].concat(o.ne1),n}else if(o.ne2.length&&!o.ne1.length){var s=e[2].slice(2),h=r.translate(u(e[2])),a=h.length+s.length-1,c=this.calcLength(o.eq)+o.eq.length-1;if(a<c)return n[2]=this.cleanSelector(e[2].concat(n[2].slice(2))),e[3].splice(2),e[3]=e[3].concat(o.ne2),n}else{var s=this.cleanSelector(e[2].concat(n[2].slice(2))),h=r.translate(u(s)),w=h.length+s.length- -1,c=this.calcLength(o.eq)+o.eq.length-1;if(c>=w)return s[0].s=h,l=[{f:0,l:0},"ruleset",s,[{f:0,l:0},"block"].concat(o.eq)],n[3].splice(2),n[3]=n[3].concat(o.ne1),e[3].splice(2),e[3]=e[3].concat(o.ne2),i.splice(f,0,l),l}}},t.prototype.calcLength=function(n){for(var i=0,t=0;t<n.length;t++)i+=n[t][0].s.length;return i},t.prototype.cleanSelector=function(n){var i,r,t;if(n.length===2)return null;for(i={},t=2;t<n.length;t++)r=n[t][0].s,r in i?(n.splice(t,1),t--):i[r]=1;return n},t.prototype.analyze=function(n,t){var u={eq:[],ne1:[],ne2:[]};if(n[1]!==t[1])return u;var h=n[3],c=t[3],f=h.slice(2),e=c.slice(2),o,s,i,r;for(o=this.getHash(f),s=this.getHash(e),i=0;i<f.length;i++)r=f[i],r[0].s in s?u.eq.push(r):u.ne1.push(r);for(i=0;i<e.length;i++)r=e[i],r[0].s in o||u.ne2.push(r);return u},t.prototype.equalHash=function(n,t){var i;for(i in n)if(!(i in t))return!1;for(i in t)if(!(i in n))return!1;return!0},t.prototype.getHash=function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0].s]=1;return i},t.prototype.hashInHash=function(n,t){for(var i in n)if(!(i in t))return!1;return!0},t.prototype.delimSelectors=function(n){for(var t=n.length-1;t>2;t--)n.splice(t,0,[{},"delim"])},t.prototype.delimBlocks=function(n){for(var t=n.length-1;t>2;t--)n.splice(t,0,[{},"decldelim"])},t.prototype.copyArray=function(n){for(var i=[],t,r=0;r<n.length;r++)t=n[r],Array.isArray(t)?i.push(this.copyArray(t)):typeof t=="object"?i.push(this.copyObject(t)):i.push(t);return i},t.prototype.copyObject=function(n){var i={},t;for(t in n)i[t]=n[t];return i},t.prototype.pathUp=function(n){return n.substr(0,n.lastIndexOf("/"))},r=n("./translator.js").translator(),u=n("./util.js").cleanInfo,f.compress=function(n,i){return(new t).compress(n,i)},f}.call(this),n["./cssoapi.js"]=function(){var t={},i=n("./util.js"),f=n("./gonzales.cssp.node.js"),e=n("./translator.js"),o=n("./compressor.js"),s=t.parse=function(n,t,i){return f.srcToCSSP(n,t,i)},h=t.cleanInfo=i.cleanInfo,r,u;return t.treeToString=i.treeToString,r=t.translate=e.translate,u=t.compress=o.compress,t.justDoIt=function(n,t,i){return r(h(u(s(n,"stylesheet",i),t)))},t}.call(this),n("./cssoapi.js")}();