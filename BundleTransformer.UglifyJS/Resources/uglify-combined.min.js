/*!
 * UglifyJS v2.4.13
 * http://github.com/mishoo/UglifyJS2
 *
 * Copyright 2012-2014, Mihai Bazon <mihai.bazon@gmail.com>
 * Released under the BSD license
 */
var UglifyJS=function(){"use strict";function yf(n){for(var i=Object.create(null),t=0;t<n.length;++t)i[n[t]]=!0;return i}function cr(n){return n.split("")}function lr(n,t){for(var i=t.length;--i>=0;)if(t[i]==n)return!0;return!1}function ru(n,t){for(var i=0,r=t.length;i<r;++i)if(n(t[i]))return t[i]}function pf(n,t){if(t<=0)return"";if(t==1)return n;var i=pf(n,t>>1);return i+=i,t&1&&(i+=n),i}function li(n,t){Error.call(this,n);this.msg=n;this.defs=t}function ai(n,t,i){var u,r;if(n===!0&&(n={}),u=n||{},i)for(r in u)u.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&li.croak("`"+r+"` is not a supported option",t);for(r in t)t.hasOwnProperty(r)&&(u[r]=n&&n.hasOwnProperty(r)?n[r]:t[r]);return u}function wf(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function yt(){}function uu(n,t){n.indexOf(t)<0&&n.push(t)}function tf(n,t){return n.replace(/\{(.+?)\}/g,function(n,i){return t[i]})}function ar(n,t){for(var i=n.length;--i>=0;)n[i]===t&&n.splice(i,1)}function bf(n,t){function r(n,i){for(var r=[],u=0,f=0,e=0;u<n.length&&f<i.length;)r[e++]=t(n[u],i[f])<=0?n[u++]:i[f++];return u<n.length&&r.push.apply(r,n.slice(u)),f<i.length&&r.push.apply(r,i.slice(f)),r}function i(n){if(n.length<=1)return n;var f=Math.floor(n.length/2),t=n.slice(0,f),u=n.slice(f);return t=i(t),u=i(u),r(t,u)}return n.length<2?n.slice():i(n)}function tt(n){function e(n){if(n.length==1)return i+="return str === "+JSON.stringify(n[0])+";";i+="switch(str){";for(var t=0;t<n.length;++t)i+="case "+JSON.stringify(n[t])+":";i+="return true}return false;"}var i,r,u,t,f;n instanceof Array||(n=n.split(" "));i="";r=[];n:for(t=0;t<n.length;++t){for(u=0;u<r.length;++u)if(r[u][0].length==n[t].length){r[u].push(n[t]);continue n}r.push([n[t]])}if(r.length>3){for(r.sort(function(n,t){return t.length-n.length}),i+="switch(str.length){",t=0;t<r.length;++t)f=r[t],i+="case "+f[0].length+":",e(f);i+="}"}else e(n);return new Function("str",i)}function fe(n,t){for(var i=n.length;--i>=0;)if(!t(n[i]))return!1;return!0}function ir(){this._values=Object.create(null);this._size=0}function n(n,t,i,r){var h,o,e,s,u;for(arguments.length<4&&(r=f),t=t?t.split(/\s+/):[],h=t,r&&r.PROPS&&(t=t.concat(r.PROPS)),o="return function AST_"+n+"(props){ if (props) { ",e=t.length;--e>=0;)o+="this."+t[e]+" = props."+t[e]+";";if(s=r&&new r,(s&&s.initialize||i&&i.initialize)&&(o+="this.initialize();"),o+="}}",u=new Function(o)(),s&&(u.prototype=s,u.BASE=r),r&&r.SUBCLASSES.push(u),u.prototype.CTOR=u,u.PROPS=t||null,u.SELF_PROPS=h,u.SUBCLASSES=[],n&&(u.prototype.TYPE=u.TYPE=n),i)for(e in i)i.hasOwnProperty(e)&&(/^\$/.test(e)?u[e.substr(1)]=i[e]:u.prototype[e]=i[e]);return u.DEFMETHOD=function(n,t){this.prototype[n]=t},u}function ur(n,t){n.body instanceof d?n.body._walk(t):n.body.forEach(function(n){n._walk(t)})}function b(n){this.visit=n;this.stack=[]}function gf(n){return n>=97&&n<=122||n>=65&&n<=90||n>=170&&ku.letter.test(String.fromCharCode(n))}function ci(n){return n>=48&&n<=57}function ye(n){return ci(n)||gf(n)}function pe(n){return ku.non_spacing_mark.test(n)||ku.space_combining_mark.test(n)}function we(n){return ku.connector_punctuation.test(n)}function ne(n){return!nu(n)&&/^[a-z_$][a-z0-9_$]*$/i.test(n)}function lf(n){return n==36||n==95||gf(n)}function tu(n){var t=n.charCodeAt(0);return lf(t)||ci(t)||t==8204||t==8205||pe(n)||we(n)}function te(n){var t=n.length;if(t==0||!lf(n.charCodeAt(0)))return!1;while(--t>=0)if(!tu(n.charAt(t)))return!1;return!0}function be(n){return se.test(n)?parseInt(n.substr(2),16):he.test(n)?parseInt(n.substr(1),8):ce.test(n)?parseFloat(n):void 0}function du(n,t,i,r){this.message=n;this.line=t;this.col=i;this.pos=r;this.stack=(new Error).stack}function ie(n,t,i,r,u){throw new du(n,i,r,u);}function re(n,t,i){return n.type==t&&(i==null||n.value==i)}function ke(n,t,i){function e(){return r.text.charAt(r.pos)}function u(n,t){var i=r.text.charAt(r.pos++);if(n&&!i)throw gu;return i=="\n"?(r.newline_before=r.newline_before||!t,++r.line,r.col=0):++r.col,i}function l(n){while(n-->0)u()}function a(n){return r.text.substr(r.pos,n.length)==n}function v(n,t){var i=r.text.indexOf(n,r.pos);if(t&&i==-1)throw gu;return i}function tt(){r.tokline=r.line;r.tokcol=r.col;r.tokpos=r.pos}function f(n,i,u){var f,e,o;if(r.regex_allowed=n=="operator"&&!ue(i)||n=="keyword"&&cf(i)||n=="punc"&&ae(i),y=n=="punc"&&i==".",f={type:n,value:i,line:r.tokline,col:r.tokcol,pos:r.tokpos,endpos:r.pos,nlb:r.newline_before,file:t},!u)for(f.comments_before=r.comments_before,r.comments_before=[],e=0,o=f.comments_before.length;e<o;e++)f.nlb=f.nlb||f.comments_before[e].nlb;return r.newline_before=!1,new fu(f)}function it(){while(le(e()))u()}function p(n){for(var t="",i,r=0;(i=e())&&n(i,r++);)t+=u();return t}function o(n){ie(n,t,r.tokline,r.tokcol,r.tokpos)}function w(n){var u=!1,t=!1,i=!1,s=n==".",r=p(function(r,f){var e=r.charCodeAt(0);switch(e){case 120:case 88:return i?!1:i=!0;case 101:case 69:return i?!0:u?!1:u=t=!0;case 45:return t||f==0&&!n;case 43:return t;case t=!1,46:return!s&&!i&&!u?s=!0:!1}return ye(e)}),e;if(n&&(r=n+r),e=be(r),isNaN(e))o("Invalid syntax: "+r);else return f("num",e)}function b(n){var t=u(!0,n);switch(t.charCodeAt(0)){case 110:return"\n";case 114:return"\r";case 116:return"\t";case 98:return"\b";case 118:return"\x0b";case 102:return"\f";case 48:return"\0";case 120:return String.fromCharCode(k(2));case 117:return String.fromCharCode(k(4));case 10:return"";default:return t}}function k(n){for(var t=0,i;n>0;--n)i=parseInt(u(!0),16),isNaN(i)&&o("Invalid hex-character pattern in string"),t=t<<4|i;return t}function h(n){var u=r.regex_allowed,t=v("\n"),i;return t==-1?(i=r.text.substr(r.pos),r.pos=r.text.length):(i=r.text.substring(r.pos,t),r.pos=t),r.comments_before.push(f(n,i,!0)),r.regex_allowed=u,s()}function d(){for(var i=!1,t="",n,f=!1,r;(n=e())!=null;)if(i)n!="u"&&o("Expecting UnicodeEscapeSequence -- uXXXX"),n=b(),tu(n)||o("Unicode char: "+n.charCodeAt(0)+" is not valid in identifier"),t+=n,i=!1;else if(n=="\\")f=i=!0,u();else if(tu(n))t+=u();else break;return gr(t)&&f&&(r=t.charCodeAt(0).toString(16).toUpperCase(),t="\\u"+"0000".substr(r.length)+r+t.slice(1)),t}function nt(n){function t(n){if(!e())return n;var i=n+e();return df(i)?(u(),t(i)):n}return f("operator",t(n||u()))}function ft(){u();switch(e()){case"/":return u(),h("comment1");case"*":return u(),ut()}return r.regex_allowed?g(""):nt("/")}function et(){return u(),ci(e().charCodeAt(0))?w("."):f("punc",".")}function ot(){var n=d();return y?f("name",n):bu(n)?f("atom",n):gr(n)?df(n)?f("operator",n):f("keyword",n):f("name",n)}function c(n,t){return function(i){try{return t(i)}catch(r){if(r===gu)o(n);else throw r;}}}function s(n){var t,s;if(n!=null)return g(n);if(it(),tt(),i){if(a("<!--"))return l(4),h("comment3");if(a("-->")&&r.newline_before)return l(3),h("comment4")}if(t=e(),!t)return f("eof");s=t.charCodeAt(0);switch(s){case 34:case 39:return rt();case 46:return et();case 47:return ft()}if(ci(s))return w();if(ve(t))return f("punc",u());if(oe(t))return nt();if(s==92||lf(s))return ot();o("Unexpected character '"+t+"'")}var r={text:n.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/\uFEFF/g,""),filename:t,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[]},y=!1,rt=c("Unterminated string constant",function(){for(var e=u(),r="",n,t,i;;){if(n=u(!0),n=="\\")t=0,i=null,n=p(function(n){if(n>="0"&&n<="7")if(i){if(i<="3"&&t<=2||i>="4"&&t<=1)return++t}else return i=n,++t;return!1}),n=t>0?String.fromCharCode(parseInt(n,8)):b(!0);else if(n==e)break;r+=n}return f("string",r)}),ut=c("Unterminated multiline comment",function(){var o=r.regex_allowed,u=v("*/",!0),t=r.text.substring(r.pos,u),i=t.split("\n"),n=i.length,e;return r.pos=u+2,r.line+=n-1,n>1?r.col=i[n-1].length:r.col+=i[n-1].length,r.col+=2,e=r.newline_before=r.newline_before||t.indexOf("\n")>=0,r.comments_before.push(f("comment2",t,!0)),r.regex_allowed=o,r.newline_before=e,s()}),g=c("Unterminated regular expression",function(n){for(var r=!1,t,i=!1,e;t=u(!0);)if(r)n+="\\"+t,r=!1;else if(t=="[")i=!0,n+=t;else if(t=="]"&&i)i=!1,n+=t;else if(t!="/"||i)t=="\\"?r=!0:n+=t;else break;return e=d(),f("regexp",new RegExp(n,e))});return s.context=function(n){return n&&(r=n),r},s}function nf(n,r){function h(n,t){return re(f.token,n,t)}function sr(){return f.peeked||(f.peeked=f.input())}function w(){return f.prev=f.token,f.peeked?(f.token=f.peeked,f.peeked=null):f.token=f.input(),f.in_directives=f.in_directives&&(f.token.type=="string"||h("punc",";")),f.token}function b(){return f.prev}function nt(n,t,i,r){var u=f.input.context();ie(n,u.filename,t!=null?t:u.tokline,i!=null?i:u.tokcol,r!=null?r:u.tokpos)}function hr(n,t){nt(t,n.line,n.col)}function et(n){n==null&&(n=f.token);hr(n,"Unexpected token: "+n.type+" ("+n.value+")")}function wi(n,t){if(h(n,t))return w();hr(f.token,"Unexpected token "+f.token.type+" «"+f.token.value+"», expected "+n+" «"+t+"»")}function k(n){return wi("punc",n)}function di(){return!r.strict&&(f.token.nlb||h("eof")||h("punc","}"))}function yt(){h("punc",";")?w():di()||et()}function dt(){k("(");var n=d(!0);return k(")"),n}function gi(n){return function(){var i=f.token,t=n(),r=b();return t.start=i,t.end=r,t}}function cr(){(h("operator","/")||h("operator","/="))&&(f.peeked=null,f.token=f.input(f.token.value.substr(1)))}function bu(){var n=bt(nr),t;return ru(function(t){return t.name==n.name},f.labels)&&nt("Label "+n.name+" defined twice"),k(":"),f.labels.push(n),t=tt(),f.labels.pop(),t instanceof vr||n.references.forEach(function(t){t instanceof ei&&(t=t.label.start,nt("Continue label `"+n.name+"` refers to non-IterationStatement.",t.line,t.col,t.pos))}),new fi({body:t,label:n})}function ci(n){return new o({body:(n=d(!0),yt(),n)})}function lr(n){var t=null,i,r;return di()||(t=bt(ef,!0)),t!=null?(i=ru(function(n){return n.name==t.name},f.labels),i||nt("Undefined label "+t.name),t.thedef=i):f.in_loop==0&&nt(n.TYPE+" not inside a loop or switch"),yt(),r=new n({label:t}),i&&i.references.push(r),r}function ku(){k("(");var n=null;return!h("punc",";")&&(n=h("keyword","var")?(w(),gr(!0)):d(!0,!0),h("operator","in"))?(n instanceof ti&&n.definitions.length>1&&nt("Only one variable declaration allowed in for..in loop"),w(),gu(n)):du(n)}function du(n){var t,i;return k(";"),t=h("punc",";")?null:d(!0),k(";"),i=h("punc",")")?null:d(!0),k(")"),new g({init:n,condition:t,step:i,body:ui(tt)})}function gu(n){var t=n instanceof ti?n.definitions[0].name:null,i=d(!0);return k(")"),new ct({init:n,name:t,object:i,body:ui(tt)})}function nf(){var t=dt(),i=tt(),n=null;return h("keyword","else")&&(w(),n=tt()),new rt({condition:t,body:i,alternative:n})}function ri(){k("{");for(var n=[];!h("punc","}");)h("eof")&&et(),n.push(tt());return w(),n}function tf(){k("{");for(var r=[],t=null,n=null,i;!h("punc","}");)h("eof")&&et(),h("keyword","case")?(n&&(n.end=b()),t=[],n=new bi({start:(i=f.token,w(),i),expression:d(!0),body:t}),r.push(n),k(":")):h("keyword","default")?(n&&(n.end=b()),t=[],n=new pr({start:(i=f.token,w(),k(":"),i),body:t}),r.push(n)):(t||et(),t.push(tt()));return n&&(n.end=b()),w(),r}function hf(){var u=ri(),t=null,i=null,r,n;return h("keyword","catch")&&(n=f.token,w(),k("("),r=bt(pu),k(")"),t=new ki({start:n,argname:r,body:ri(),end:b()})),h("keyword","finally")&&(n=f.token,w(),i=new wr({start:n,body:ri(),end:b()})),t||i||nt("Missing catch/finally blocks"),new oi({body:u,bcatch:t,bfinally:i})}function ar(n,t){for(var i=[];;){if(i.push(new br({start:f.token,name:bt(t?au:lu),value:h("operator","=")?(w(),d(!1,n)):null,end:b()})),!h("punc",","))break;w()}return i}function ir(){var n=f.token,t;switch(n.type){case"name":case"keyword":t=uu(e);break;case"num":t=new kt({start:n,end:n,value:n.value});break;case"string":t=new s({start:n,end:n,value:n.value});break;case"regexp":t=new dr({start:n,end:n,value:n.value});break;case"atom":switch(n.value){case"false":t=new or({start:n,end:n});break;case"true":t=new hi({start:n,end:n});break;case"null":t=new of({start:n,end:n})}}return w(),t}function fr(n,t,i){for(var u=!0,r=[];!h("punc",n);){if(u?u=!1:k(","),t&&h("punc",n))break;h("punc",",")&&i?r.push(new sf({start:f.token,end:f.token})):r.push(d(!1))}return w(),r}function af(){var n=f.token;w();switch(n.type){case"num":case"string":case"name":case"operator":case"keyword":case"atom":return n.value;default:et()}}function vf(){var n=f.token;w();switch(n.type){case"name":case"operator":case"keyword":case"atom":return n.value;default:et()}}function uu(n){var t=f.token.value;return new(t=="this"?tr:n)({name:String(t),start:f.token,end:f.token})}function bt(n,t){if(!h("name"))return t||nt("Name expected"),null;var i=uu(n);return w(),i}function fu(n,t,i){return t!="++"&&t!="--"||wu(i)||nt("Invalid use of "+t+" operator"),new n({operator:t,expression:i})}function yf(n){return vi(li(!0),0,n)}function wu(n){return r.strict?n instanceof tr?!1:n instanceof ut||n instanceof p:!0}function ui(n){++f.in_loop;var t=n();return--f.in_loop,t}var f,tt,ni,ur,nu,tu,ht,li,vi,eu,er,d;r=ai(r,{strict:!1,filename:null,toplevel:null,expression:!1,html5_comments:!0});f={input:typeof n=="string"?ke(n,r.filename,r.html5_comments):n,token:null,prev:null,peeked:null,in_function:0,in_directives:!0,in_loop:0,labels:[]};f.token=w();tt=gi(function(){var n,r,t;cr();switch(f.token.type){case"string":return(r=f.in_directives,t=ci(),r&&t.body instanceof s&&!h("punc",","))?new gt({value:t.body.value}):t;case"num":case"regexp":case"operator":case"atom":return ci();case"name":return re(sr(),"punc",":")?bu():ci();case"punc":switch(f.token.value){case"{":return new i({start:f.token,body:ri(),end:b()});case"[":case"(":return ci();case";":return w(),new c;default:et()}case"keyword":switch(n=f.token.value,w(),n){case"break":return lr(ot);case"continue":return lr(ei);case"debugger":return yt(),new rr;case"do":return new yr({body:ui(tt),condition:(wi("keyword","while"),n=dt(),yt(),n)});case"while":return new yi({condition:dt(),body:ui(tt)});case"for":return ku();case"function":return ni(wt);case"if":return nf();case"return":return f.in_function==0&&nt("'return' outside of function"),new ft({value:h("punc",";")?(w(),null):di()?null:(n=d(!0),yt(),n)});case"switch":return new st({expression:dt(),body:ui(tf)});case"throw":return f.token.nlb&&nt("Illegal newline after 'throw'"),new ou({value:(n=d(!0),yt(),n)});case"try":return hf();case"var":return n=gr(),yt(),n;case"const":return n=cf(),yt(),n;case"with":return new pi({expression:dt(),body:tt()});default:et()}}});ni=function(n){var t=n===wt,i=h("name")?bt(t?ff:yu):null;return t&&!i&&et(),k("("),new n({name:i,argnames:function(n,t){while(!h("punc",")"))n?n=!1:k(","),t.push(bt(vu));return w(),t}(!0,[]),body:function(n,t){++f.in_function;f.in_directives=!0;f.in_loop=0;f.labels=[];var i=ri();return--f.in_function,f.in_loop=n,f.labels=t,i}(f.in_loop,f.labels)})};var gr=function(n){return new ti({start:b(),definitions:ar(n,!1),end:b()})},cf=function(){return new uf({start:b(),definitions:ar(!1,!0),end:b()})},lf=function(){var i=f.token,t,n;return wi("operator","new"),t=ur(!1),h("punc","(")?(w(),n=fr(")")):n=[],ht(new lt({start:i,expression:t,args:n,end:b()}),!0)};return(ur=function(n){var t,i,r;if(h("operator","new"))return lf();if(t=f.token,h("punc")){switch(t.value){case"(":return w(),i=d(!0),i.start=t,i.end=f.token,k(")"),ht(i,n);case"[":return ht(nu(),n);case"{":return ht(tu(),n)}et()}if(h("keyword","function"))return w(),r=ni(it),r.start=t,r.end=b(),ht(r,n);if(no[f.token.type])return ht(ir(),n);et()},nu=gi(function(){return k("["),new vt({elements:fr("]",!r.strict,!0)})}),tu=gi(function(){var i,n;for(k("{"),i=!0,n=[];!h("punc","}");){if(i?i=!1:k(","),!r.strict&&h("punc","}"))break;var t=f.token,e=t.type,u=af();if(e=="name"&&!h("punc",":")){if(u=="get"){n.push(new cu({start:t,key:ir(),value:ni(rf),end:b()}));continue}if(u=="set"){n.push(new hu({start:t,key:ir(),value:ni(rf),end:b()}));continue}}k(":");n.push(new su({start:t,key:u,value:d(!1),end:b()}))}return w(),new ii({properties:n})}),ht=function(n,t){var i=n.start,r;return h("punc",".")?(w(),ht(new at({start:i,expression:n,property:vf(),end:b()}),t)):h("punc","[")?(w(),r=d(!0),k("]"),ht(new si({start:i,expression:n,property:r,end:b()}),t)):t&&h("punc","(")?(w(),ht(new a({start:i,expression:n,args:fr(")"),end:b()}),!0)):n},li=function(n){var i=f.token,r,t;if(h("operator")&&de(i.value))return w(),cr(),r=fu(v,i.value,li(n)),r.start=i,r.end=b(),r;for(t=ur(n);h("operator")&&ue(f.token.value)&&!f.token.nlb;)t=fu(kr,f.token.value,t),t.start=i,t.end=f.token,w();return t},vi=function(n,i,r){var u=h("operator")?f.token.value:null,e,o;return(u=="in"&&r&&(u=null),e=u!=null?iu[u]:null,e!=null&&e>i)?(w(),o=vi(li(!0),e,r),vi(new t({start:n.start,left:n,operator:u,right:o,end:o.end}),i,r)):n},eu=function(n){var r=f.token,t=yf(n),i;return h("operator","?")?(w(),i=d(!1),k(":"),new l({start:r,condition:t,consequent:i,alternative:d(!1,n),end:b()})):t},er=function(n){var r=f.token,t=eu(n),i=f.token.value;if(h("operator")&&ge(i)){if(wu(t))return w(),new y({start:r,left:t,operator:i,right:er(n),end:b()});nt("Invalid assignment")}return t},d=function(n,t){var r=f.token,i=er(t);return n&&h("punc",",")?(w(),new u({start:r,car:i,cdr:d(!0,t),end:sr()})):i},r.expression)?d(!0):function(){for(var u=f.token,t=[],i,n;!h("eof");)t.push(tt());return i=b(),n=r.toplevel,n?(n.body=n.body.concat(t),n.end=i):n=new pt({start:u,body:t,end:i}),n}()}function ri(n,t){b.call(this);this.before=n;this.after=t}function af(n,t,i){this.name=i.name;this.orig=[i];this.scope=n;this.references=[];this.global=!1;this.mangled_name=null;this.undeclared=!1;this.constant=!1;this.index=t}function vf(n){function a(n,t){return n.replace(/[\u0080-\uffff]/g,function(n){var i=n.charCodeAt(0).toString(16);if(i.length<=2&&!t){while(i.length<2)i="0"+i;return"\\x"+i}while(i.length<4)i="0"+i;return"\\u"+i})}function nt(t){var i=0,r=0;return t=t.replace(/[\\\b\f\n\r\t\x22\x27\u2028\u2029\0]/g,function(n){switch(n){case"\\":return"\\\\";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case'"':return++i,'"';case"'":return++r,"'";case"\0":return"\\x00"}return n}),n.ascii_only&&(t=a(t)),i>r?"'"+t.replace(/\x27/g,"\\'")+"'":'"'+t.replace(/\x22/g,'\\"')+'"'}function it(t){var i=nt(t);return n.inline_script&&(i=i.replace(/<\x2fscript([>\/\t\n\f\r ])/gi,"<\\/script$1")),i}function rt(t){return t=t.toString(),n.ascii_only&&(t=a(t,!0)),t}function ut(t){return pf(" ",n.indent_start+u-t*n.indent_level)}function ft(){return c.charAt(c.length-1)}function et(){n.max_line_len&&i>n.max_line_len&&t("\n")}function t(t){var u,w,v,a,y,f;if(t=String(t),u=t.charAt(0),l&&((!u||";}".indexOf(u)<0)&&!/[;]$/.test(c)&&(n.semicolons||p(u)?(s+=";",i++,o++):(s+="\n",o++,e++,i=0),n.beautify||(h=!1)),l=!1,et()),!n.beautify&&n.preserve_line&&r[r.length-1])for(w=r[r.length-1].start.line;e<w;)s+="\n",o++,e++,i=0,h=!1;h&&(v=ft(),(tu(v)&&(tu(u)||u=="\\")||/^[\+\-\/]$/.test(u)&&u==v)&&(s+=" ",i++,o++),h=!1);a=t.split(/\r?\n/);y=a.length;y>0&&(f=y-1,e+=f,f==0?i+=a[f].length:i=a[f].length);o+=t.length;c=t;s+=t}function st(){l=!1;t(";")}function y(){return u+n.indent_level}function ht(n){var i;return t("{"),k(),b(y(),function(){i=n()}),w(),t("}"),i}function ct(n){t("(");var i=n();return t(")"),i}function lt(n){t("[");var i=n();return t("]"),i}function at(){t(",");v()}function vt(){t(":");n.space_colon&&v()}function g(){return s}var p,d,r;n=ai(n,{indent_start:0,indent_level:4,quote_keys:!1,space_colon:!0,ascii_only:!1,unescape_regexps:!1,inline_script:!1,width:80,max_line_len:32e3,beautify:!1,source_map:null,bracketize:!1,semicolons:!0,comments:!1,preserve_line:!1,screw_ie8:!1,preamble:null},!0);var u=0,i=0,e=1,o=0,s="";var h=!1,l=!1,c=null;p=tt("( [ + * / - , .");var v=n.beautify?function(){t(" ")}:function(){h=!0},w=n.beautify?function(i){n.beautify&&t(ut(i?.5:0))}:yt,b=n.beautify?function(n,t){var i,r;return n===!0&&(n=y()),i=u,u=n,r=t(),u=i,r}:function(n,t){return t()},k=n.beautify?function(){t("\n")}:yt,ot=n.beautify?function(){t(";")}:function(){l=!0};return d=n.source_map?function(t,r){try{t&&n.source_map.add(t.file||"?",e,i,t.line,t.col,!r&&t.type=="name"?t.value:r)}catch(u){f.warn("Couldn't figure out mapping for {file}:{line},{col} → {cline},{ccol} [{name}]",{file:t.file,line:t.line,col:t.col,cline:e,ccol:i,name:r||""})}}:yt,n.preamble&&t(n.preamble.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n")),r=[],{get:g,toString:g,indent:w,indentation:function(){return u},current_width:function(){return i-u},should_break:function(){return n.width&&this.current_width()>=n.width},newline:k,print:t,space:v,comma:at,colon:vt,last:function(){return c},semicolon:ot,force_semicolon:st,to_ascii:a,print_name:function(n){t(rt(n))},print_string:function(n){t(it(n))},next_indent:y,with_indent:b,with_block:ht,with_parens:ct,with_square:lt,add_mapping:d,option:function(t){return n[t]},line:function(){return e},col:function(){return i},pos:function(){return o},push_node:function(n){r.push(n)},pop_node:function(){return r.pop()},stack:function(){return r},parent:function(n){return r[r.length-2-(n||0)]}}}function sr(n,t){if(!(this instanceof sr))return new sr(n,t);ri.call(this,this.before,this.after);this.options=ai(n,{sequences:!t,properties:!t,dead_code:!t,drop_debugger:!t,unsafe:!1,unsafe_comps:!1,conditionals:!t,comparisons:!t,evaluate:!t,booleans:!t,loops:!t,unused:!t,hoist_funs:!t,keep_fargs:!1,hoist_vars:!1,if_return:!t,join_vars:!t,cascade:!t,side_effects:!t,pure_getters:!1,pure_funcs:null,negate_iife:!t,screw_ie8:!1,drop_console:!1,angular:!1,warnings:!0,global_defs:{}},!0)}var hr={},dt,fu,f,gu,r;li.prototype=Object.create(Error.prototype);li.prototype.constructor=li;li.croak=function(n,t){throw new li(n,t);};dt=function(){function n(n,f,e){function c(){var c=f(n[o],o),l=c instanceof r;return l&&(c=c.v),c instanceof i?(c=c.v,c instanceof t?h.push.apply(h,e?c.v.slice().reverse():c.v):h.push(c)):c!==u&&(c instanceof t?s.push.apply(s,e?c.v.slice().reverse():c.v):s.push(c)),l}var s=[],h=[],o;if(n instanceof Array){if(e){for(o=n.length;--o>=0;)if(c())break;s.reverse();h.reverse()}else for(o=0;o<n.length;++o)if(c())break}else for(o in n)if(n.hasOwnProperty(o)&&c())break;return h.concat(s)}function i(n){this.v=n}function t(n){this.v=n}function r(n){this.v=n}n.at_top=function(n){return new i(n)};n.splice=function(n){return new t(n)};n.last=function(n){return new r(n)};var u=n.skip={};return n}();ir.prototype={set:function(n,t){return this.has(n)||++this._size,this._values["$"+n]=t,this},add:function(n,t){return this.has(n)?this.get(n).push(t):this.set(n,[t]),this},get:function(n){return this._values["$"+n]},del:function(n){return this.has(n)&&(--this._size,delete this._values["$"+n]),this},has:function(n){return"$"+n in this._values},each:function(n){for(var t in this._values)n(this._values[t],t.substr(1))},size:function(){return this._size},map:function(n){var i=[],t;for(t in this._values)i.push(n(this._values[t],t.substr(1)));return i}};hr.DefaultsError=li;fu=n("Token","type value line col pos endpos nlb comments_before file",{},null);f=n("Node","start end",{clone:function(){return new this.CTOR(this)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},_walk:function(n){return n._visit(this)},walk:function(n){return this._walk(n)}},null);f.warn_function=null;f.warn=function(n,t){f.warn_function&&f.warn_function(tf(n,t))};var d=n("Statement",null,{$documentation:"Base class of all statements"}),rr=n("Debugger",null,{$documentation:"Represents a debugger statement"},d),gt=n("Directive","value scope",{$documentation:'Represents a directive, like "use strict";',$propdoc:{value:"[string] The value of this directive as a plain string (it's not an AST_String!)",scope:"[AST_Scope/S] The scope that this directive affects"}},d),o=n("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},_walk:function(n){return n._visit(this,function(){this.body._walk(n)})}},d);var ht=n("Block","body",{$documentation:"A body of statements (usually bracketed)",$propdoc:{body:"[AST_Statement*] an array of statements"},_walk:function(n){return n._visit(this,function(){ur(this,n)})}},d),i=n("BlockStatement",null,{$documentation:"A block statement"},ht),c=n("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)",_walk:function(n){return n._visit(this)}},d),ui=n("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"},_walk:function(n){return n._visit(this,function(){this.body._walk(n)})}},d),fi=n("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},_walk:function(n){return n._visit(this,function(){this.label._walk(n);this.body._walk(n)})}},ui),vr=n("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it."},ui),vi=n("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"},_walk:function(n){return n._visit(this,function(){this.condition._walk(n);this.body._walk(n)})}},vr),yr=n("Do",null,{$documentation:"A `do` statement"},vi),yi=n("While",null,{$documentation:"A `while` statement"},vi),g=n("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},_walk:function(n){return n._visit(this,function(){this.init&&this.init._walk(n);this.condition&&this.condition._walk(n);this.step&&this.step._walk(n);this.body._walk(n)})}},vr),ct=n("ForIn","init name object",{$documentation:"A `for ... in` statement",$propdoc:{init:"[AST_Node] the `for/in` initialization code",name:"[AST_SymbolRef?] the loop variable, only if `init` is AST_Var",object:"[AST_Node] the object that we're looping through"},_walk:function(n){return n._visit(this,function(){this.init._walk(n);this.object._walk(n);this.body._walk(n)})}},vr),pi=n("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},_walk:function(n){return n._visit(this,function(){this.expression._walk(n);this.body._walk(n)})}},ui),h=n("Scope","directives variables functions uses_with uses_eval parent_scope enclosed cname",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{directives:"[string*/S] an array of directives declared in this scope",variables:"[Object/S] a map of name -> SymbolDef for all variables/functions defined in this scope",functions:"[Object/S] like `variables`, but only lists function declarations",uses_with:"[boolean/S] tells whether this scope uses the `with` statement",uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",parent_scope:"[AST_Scope?/S] link to the parent scope",enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",cname:"[integer/S] current index for mangling variables (used internally by the mangler)"}},ht),pt=n("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Object/S] a map of name -> SymbolDef for all undeclared names"},wrap_enclose:function(n){var u=this,i=[],r=[],t;return n.forEach(function(n){var t=n.lastIndexOf(":");i.push(n.substr(0,t));r.push(n.substr(t+1))}),t="(function("+r.join(",")+"){ '$ORIG'; })("+i.join(",")+")",t=nf(t),t.transform(new ri(function(n){if(n instanceof gt&&n.value=="$ORIG")return dt.splice(u.body)}))},wrap_commonjs:function(n,t){var r=this,u=[],i;return t&&(r.figure_out_scope(),r.walk(new b(function(n){n instanceof gi&&n.definition().global&&(ru(function(t){return t.name==n.name},u)||u.push(n))}))),i="(function(exports, global){ global['"+n+"'] = exports; '$ORIG'; '$EXPORTS'; }({}, (function(){return this}())))",i=nf(i),i.transform(new ri(function(n){if(n instanceof o&&(n=n.body,n instanceof s))switch(n.getValue()){case"$ORIG":return dt.splice(r.body);case"$EXPORTS":var t=[];return u.forEach(function(n){t.push(new o({body:new y({left:new si({expression:new e({name:"exports"}),property:new s({value:n.name})}),operator:"=",right:new e(n)})}))}),dt.splice(t)}}))}},h),w=n("Lambda","name argnames uses_arguments",{$documentation:"Base class for functions",$propdoc:{name:"[AST_SymbolDeclaration?] the name of this function",argnames:"[AST_SymbolFunarg*] array of function arguments",uses_arguments:"[boolean/S] tells whether this function accesses the arguments array"},_walk:function(n){return n._visit(this,function(){this.name&&this.name._walk(n);this.argnames.forEach(function(t){t._walk(n)});ur(this,n)})}},h),rf=n("Accessor",null,{$documentation:"A setter/getter function.  The `name` property is always null."},w),it=n("Function",null,{$documentation:"A function expression"},w),wt=n("Defun",null,{$documentation:"A function definition"},w),eu=n("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)"},d),ni=n("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},_walk:function(n){return n._visit(this,this.value&&function(){this.value._walk(n)})}},eu),ft=n("Return",null,{$documentation:"A `return` statement"},ni),ou=n("Throw",null,{$documentation:"A `throw` statement"},ni),wi=n("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},_walk:function(n){return n._visit(this,this.label&&function(){this.label._walk(n)})}},eu),ot=n("Break",null,{$documentation:"A `break` statement"},wi),ei=n("Continue",null,{$documentation:"A `continue` statement"},wi),rt=n("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},_walk:function(n){return n._visit(this,function(){this.condition._walk(n);this.body._walk(n);this.alternative&&this.alternative._walk(n)})}},ui),st=n("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},_walk:function(n){return n._visit(this,function(){this.expression._walk(n);ur(this,n)})}},ht),fr=n("SwitchBranch",null,{$documentation:"Base class for `switch` branches"},ht),pr=n("Default",null,{$documentation:"A `default` switch branch"},fr),bi=n("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},_walk:function(n){return n._visit(this,function(){this.expression._walk(n);ur(this,n)})}},fr),oi=n("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},_walk:function(n){return n._visit(this,function(){ur(this,n);this.bcatch&&this.bcatch._walk(n);this.bfinally&&this.bfinally._walk(n)})}},ht),ki=n("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[AST_SymbolCatch] symbol for the exception"},_walk:function(n){return n._visit(this,function(){this.argname._walk(n);ur(this,n)})}},ht),wr=n("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},ht),nt=n("Definitions","definitions",{$documentation:"Base class for `var` or `const` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},_walk:function(n){return n._visit(this,function(){this.definitions.forEach(function(t){t._walk(n)})})}},d),ti=n("Var",null,{$documentation:"A `var` statement"},nt),uf=n("Const",null,{$documentation:"A `const` statement"},nt),br=n("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_SymbolVar|AST_SymbolConst] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},_walk:function(n){return n._visit(this,function(){this.name._walk(n);this.value&&this.value._walk(n)})}}),a=n("Call","expression args",{$documentation:"A function call expression",$propdoc:{expression:"[AST_Node] expression to invoke as function",args:"[AST_Node*] array of arguments"},_walk:function(n){return n._visit(this,function(){this.expression._walk(n);this.args.forEach(function(t){t._walk(n)})})}}),lt=n("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties"},a),u=n("Seq","car cdr",{$documentation:"A sequence expression (two comma-separated expressions)",$propdoc:{car:"[AST_Node] first element in sequence",cdr:"[AST_Node] second element in sequence"},$cons:function(n,t){var i=new u(n);return i.car=n,i.cdr=t,i},$from_array:function(n){var i,r,t;if(n.length==0)return null;if(n.length==1)return n[0].clone();for(i=null,r=n.length;--r>=0;)i=u.cons(n[r],i);for(t=i;t;){if(t.cdr&&!t.cdr.cdr){t.cdr=t.cdr.car;break}t=t.cdr}return i},to_array:function(){for(var n=this,t=[];n;){if(t.push(n.car),n.cdr&&!(n.cdr instanceof u)){t.push(n.cdr);break}n=n.cdr}return t},add:function(n){for(var t=this,i;t;){if(!(t.cdr instanceof u))return i=u.cons(t.cdr,n),t.cdr=i;t=t.cdr}},_walk:function(n){return n._visit(this,function(){this.car._walk(n);this.cdr&&this.cdr._walk(n)})}}),ut=n("PropAccess","expression property",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node"}}),at=n("Dot",null,{$documentation:"A dotted property access expression",_walk:function(n){return n._visit(this,function(){this.expression._walk(n)})}},ut),si=n("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',_walk:function(n){return n._visit(this,function(){this.expression._walk(n);this.property._walk(n)})}},ut),bt=n("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},_walk:function(n){return n._visit(this,function(){this.expression._walk(n)})}}),v=n("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},bt),kr=n("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},bt),t=n("Binary","left operator right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},_walk:function(n){return n._visit(this,function(){this.left._walk(n);this.right._walk(n)})}}),l=n("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},_walk:function(n){return n._visit(this,function(){this.condition._walk(n);this.consequent._walk(n);this.alternative._walk(n)})}}),y=n("Assign",null,{$documentation:"An assignment expression — `a = b + 5`"},t),vt=n("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},_walk:function(n){return n._visit(this,function(){this.elements.forEach(function(t){t._walk(n)})})}}),ii=n("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[AST_ObjectProperty*] array of properties"},_walk:function(n){return n._visit(this,function(){this.properties.forEach(function(t){t._walk(n)})})}}),di=n("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string] the property name converted to a string for ObjectKeyVal.  For setters and getters this is an arbitrary AST_Node.",value:"[AST_Node] property value.  For setters and getters this is an AST_Function."},_walk:function(n){return n._visit(this,function(){this.value._walk(n)})}}),su=n("ObjectKeyVal",null,{$documentation:"A key: value object property"},di),hu=n("ObjectSetter",null,{$documentation:"An object setter property"},di),cu=n("ObjectGetter",null,{$documentation:"An object getter property"},di),p=n("Symbol","scope name thedef",{$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},$documentation:"Base class for all symbols"}),ee=n("SymbolAccessor",null,{$documentation:"The name of a property accessor (setter/getter function)"},p),gi=n("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var/const, function name or argument, symbol in catch)",$propdoc:{init:"[AST_Node*/S] array of initializers for this declaration."}},p),lu=n("SymbolVar",null,{$documentation:"Symbol defining a variable"},gi),au=n("SymbolConst",null,{$documentation:"A constant declaration"},gi),vu=n("SymbolFunarg",null,{$documentation:"Symbol naming a function argument"},lu),ff=n("SymbolDefun",null,{$documentation:"Symbol defining a function"},gi),yu=n("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},gi),pu=n("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},gi),nr=n("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[];this.thedef=this}},p),e=n("SymbolRef",null,{$documentation:"Reference to some symbol (not definition/declaration)"},p),ef=n("LabelRef",null,{$documentation:"Reference to a label symbol"},p),tr=n("This",null,{$documentation:"The `this` symbol"},p),k=n("Constant",null,{$documentation:"Base class for all constants",getValue:function(){return this.value}}),s=n("String","value",{$documentation:"A string literal",$propdoc:{value:"[string] the contents of this string"}},k),kt=n("Number","value",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value"}},k),dr=n("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"}},k),er=n("Atom",null,{$documentation:"Base class for atoms"},k),of=n("Null",null,{$documentation:"The `null` atom",value:null},er),wu=n("NaN",null,{$documentation:"The impossible value",value:NaN},er),et=n("Undefined",null,{$documentation:"The `undefined` value",value:function(){}()},er),sf=n("Hole",null,{$documentation:"A hole in an array",value:function(){}()},er),kf=n("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},er),hf=n("Boolean",null,{$documentation:"Base class for booleans"},er),or=n("False",null,{$documentation:"The `false` atom",value:!1},hf),hi=n("True",null,{$documentation:"The `true` atom",value:!0},hf);b.prototype={_visit:function(n,t){this.stack.push(n);var i=this.visit(n,t?function(){t.call(n)}:yt);return!i&&t&&t.call(n),this.stack.pop(),i},parent:function(n){return this.stack[this.stack.length-2-(n||0)]},push:function(n){this.stack.push(n)},pop:function(){return this.stack.pop()},self:function(){return this.stack[this.stack.length-1]},find_parent:function(n){for(var r=this.stack,i,t=r.length;--t>=0;)if(i=r[t],i instanceof n)return i},has_directive:function(n){return this.find_parent(h).has_directive(n)},in_boolean_context:function(){for(var r=this.stack,u=r.length,i=r[--u],n;u>0;){if(n=r[--u],n instanceof rt&&n.condition===i||n instanceof l&&n.condition===i||n instanceof vi&&n.condition===i||n instanceof g&&n.condition===i||n instanceof v&&n.operator=="!"&&n.expression===i)return!0;if(!(n instanceof t&&(n.operator=="&&"||n.operator=="||")))return!1;i=n}},loopcontrol_target:function(n){var r=this.stack,i,t;if(n){for(i=r.length;--i>=0;)if(t=r[i],t instanceof fi&&t.label.name==n.name)return t.body}else for(i=r.length;--i>=0;)if(t=r[i],t instanceof st||t instanceof vr)return t}};var gr="break case catch const continue debugger default delete do else finally for function if in instanceof new return switch throw try typeof var void while with",bu="false null true",nu="abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized this throws transient volatile yield "+bu+" "+gr,cf="return new delete throw else case";gr=tt(gr);nu=tt(nu);cf=tt(cf);bu=tt(bu);var oe=tt(cr("+-*&%=<>!?|~^")),se=/^0x[0-9a-f]+$/i,he=/^0[0-7]+$/,ce=/^\d*\.?\d*(?:e[+-]?\d*(?:\d\.?|\.?\d)\d*)?$/i,df=tt(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","||"]),le=tt(cr("  \n\r\t\f\x0b​᠎             　")),ae=tt(cr("[{(,.;:")),ve=tt(cr("[]{}(),;:")),to=tt(cr("gmsiy")),ku={letter:new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0523\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0621-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971\\u0972\\u097B-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D28\\u0D2A-\\u0D39\\u0D3D\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC\\u0EDD\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8B\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10D0-\\u10FA\\u10FC\\u1100-\\u1159\\u115F-\\u11A2\\u11A8-\\u11F9\\u1200-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u1676\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19A9\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u2094\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2C6F\\u2C71-\\u2C7D\\u2C80-\\u2CE4\\u2D00-\\u2D25\\u2D30-\\u2D65\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31B7\\u31F0-\\u31FF\\u3400\\u4DB5\\u4E00\\u9FC3\\uA000-\\uA48C\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA65F\\uA662-\\uA66E\\uA67F-\\uA697\\uA717-\\uA71F\\uA722-\\uA788\\uA78B\\uA78C\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA90A-\\uA925\\uA930-\\uA946\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAC00\\uD7A3\\uF900-\\uFA2D\\uFA30-\\uFA6A\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),non_spacing_mark:new RegExp("[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065E\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0900-\\u0902\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2\\u09E3\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC\\u0CCD\\u0CE2\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F90-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1DC0-\\u1DE6\\u1DFD-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F\\uA67C\\uA67D\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"),space_combining_mark:new RegExp("[\\u0903\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u0982\\u0983\\u09BE-\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B3E\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0B57\\u0BBE\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0CD5\\u0CD6\\u0D02\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0F3E\\u0F3F\\u0F7F\\u102B\\u102C\\u1031\\u1038\\u103B\\u103C\\u1056\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A19-\\u1A1B\\u1A55\\u1A57\\u1A61\\u1A63\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF2\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BD-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAA7B\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]"),connector_punctuation:new RegExp("[\\u005F\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F]")};du.prototype.toString=function(){return this.message+" (line: "+this.line+", col: "+this.col+", pos: "+this.pos+")\n\n"+this.stack};gu={};var de=tt(["typeof","void","delete","--","++","!","~","-","+"]),ue=tt(["--","++"]),ge=tt(["=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&="]),iu=function(n,t){for(var u,r,i=0;i<n.length;++i)for(u=n[i],r=0;r<u.length;++r)t[u[r]]=i+1;return t}([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]],{}),io=yf(["for","do","while","switch"]),no=yf(["atom","num","string","regexp","name"]);return hr.JS_Parse_Error=du,ri.prototype=new b,function(n){function i(t,i){t.DEFMETHOD("transform",function(t,r){var u,f;return t.push(this),t.before&&(u=t.before(this,i,r)),u===n&&(t.after?(t.stack[t.stack.length-1]=u=this.clone(),i(u,t),f=t.after(u,r),f!==n&&(u=f)):(u=this,i(u,t))),t.pop(),u})}function r(n,t){return dt(n,function(n){return n.transform(t,!0)})}i(f,yt);i(fi,function(n,t){n.label=n.label.transform(t);n.body=n.body.transform(t)});i(o,function(n,t){n.body=n.body.transform(t)});i(ht,function(n,t){n.body=r(n.body,t)});i(vi,function(n,t){n.condition=n.condition.transform(t);n.body=n.body.transform(t)});i(g,function(n,t){n.init&&(n.init=n.init.transform(t));n.condition&&(n.condition=n.condition.transform(t));n.step&&(n.step=n.step.transform(t));n.body=n.body.transform(t)});i(ct,function(n,t){n.init=n.init.transform(t);n.object=n.object.transform(t);n.body=n.body.transform(t)});i(pi,function(n,t){n.expression=n.expression.transform(t);n.body=n.body.transform(t)});i(ni,function(n,t){n.value&&(n.value=n.value.transform(t))});i(wi,function(n,t){n.label&&(n.label=n.label.transform(t))});i(rt,function(n,t){n.condition=n.condition.transform(t);n.body=n.body.transform(t);n.alternative&&(n.alternative=n.alternative.transform(t))});i(st,function(n,t){n.expression=n.expression.transform(t);n.body=r(n.body,t)});i(bi,function(n,t){n.expression=n.expression.transform(t);n.body=r(n.body,t)});i(oi,function(n,t){n.body=r(n.body,t);n.bcatch&&(n.bcatch=n.bcatch.transform(t));n.bfinally&&(n.bfinally=n.bfinally.transform(t))});i(ki,function(n,t){n.argname=n.argname.transform(t);n.body=r(n.body,t)});i(nt,function(n,t){n.definitions=r(n.definitions,t)});i(br,function(n,t){n.name=n.name.transform(t);n.value&&(n.value=n.value.transform(t))});i(w,function(n,t){n.name&&(n.name=n.name.transform(t));n.argnames=r(n.argnames,t);n.body=r(n.body,t)});i(a,function(n,t){n.expression=n.expression.transform(t);n.args=r(n.args,t)});i(u,function(n,t){n.car=n.car.transform(t);n.cdr=n.cdr.transform(t)});i(at,function(n,t){n.expression=n.expression.transform(t)});i(si,function(n,t){n.expression=n.expression.transform(t);n.property=n.property.transform(t)});i(bt,function(n,t){n.expression=n.expression.transform(t)});i(t,function(n,t){n.left=n.left.transform(t);n.right=n.right.transform(t)});i(l,function(n,t){n.condition=n.condition.transform(t);n.consequent=n.consequent.transform(t);n.alternative=n.alternative.transform(t)});i(vt,function(n,t){n.elements=r(n.elements,t)});i(ii,function(n,t){n.properties=r(n.properties,t)});i(di,function(n,t){n.value=n.value.transform(t)})}(),af.prototype={unmangleable:function(n){return this.global&&!(n&&n.toplevel)||this.undeclared||!(n&&n.eval)&&(this.scope.uses_eval||this.scope.uses_with)},mangle:function(n){if(!this.mangled_name&&!this.unmangleable(n)){var t=this.scope;!n.screw_ie8&&this.orig[0]instanceof yu&&(t=t.parent_scope);this.mangled_name=t.next_mangled(n,this)}}},pt.DEFMETHOD("figure_out_scope",function(n){n=ai(n,{screw_ie8:!1});var r=this,t=r.parent_scope=null,i=null,o=0,u=new b(function(r,f){var e,l,s,c;if(n.screw_ie8&&r instanceof ki)return e=t,t=new h(r),t.init_scope_vars(o),t.parent_scope=e,f(),t=e,!0;if(r instanceof h)return r.init_scope_vars(o),e=r.parent_scope=t,l=i,i=t=r,++o,f(),--o,t=e,i=l,!0;if(r instanceof gt)return r.scope=t,uu(t.directives,r.value),!0;if(r instanceof pi){for(s=t;s;s=s.parent_scope)s.uses_with=!0;return}r instanceof p&&(r.scope=t);r instanceof yu?i.def_function(r):r instanceof ff?(r.scope=i.parent_scope).def_function(r):r instanceof lu||r instanceof au?(c=i.def_variable(r),c.constant=r instanceof au,c.init=u.parent().value):r instanceof pu&&(n.screw_ie8?t:i).def_variable(r)});r.walk(u);var f=null,s=r.globals=new ir,u=new b(function(n,t){var l,i,c,o,h;if(n instanceof w)return l=f,f=n,t(),f=l,!0;if(n instanceof e){if(i=n.name,c=n.scope.find_variable(i),c)n.thedef=c;else{if(s.has(i)?o=s.get(i):(o=new af(r,s.size(),n),o.undeclared=!0,o.global=!0,s.set(i,o)),n.thedef=o,i=="eval"&&u.parent()instanceof a)for(h=n.scope;h&&!h.uses_eval;h=h.parent_scope)h.uses_eval=!0;f&&i=="arguments"&&(f.uses_arguments=!0)}return n.reference(),!0}});r.walk(u)}),h.DEFMETHOD("init_scope_vars",function(n){this.directives=[];this.variables=new ir;this.functions=new ir;this.uses_with=!1;this.uses_eval=!1;this.parent_scope=null;this.enclosed=[];this.cname=-1;this.nesting=n}),h.DEFMETHOD("strict",function(){return this.has_directive("use strict")}),w.DEFMETHOD("init_scope_vars",function(){h.prototype.init_scope_vars.apply(this,arguments);this.uses_arguments=!1}),e.DEFMETHOD("reference",function(){var t=this.definition(),n;for(t.references.push(this),n=this.scope;n;){if(uu(n.enclosed,t),n===t.scope)break;n=n.parent_scope}this.frame=this.scope.nesting-t.scope.nesting}),h.DEFMETHOD("find_variable",function(n){return n instanceof p&&(n=n.name),this.variables.get(n)||this.parent_scope&&this.parent_scope.find_variable(n)}),h.DEFMETHOD("has_directive",function(n){return this.parent_scope&&this.parent_scope.has_directive(n)||(this.directives.indexOf(n)>=0?this:null)}),h.DEFMETHOD("def_function",function(n){this.functions.set(n.name,this.def_variable(n))}),h.DEFMETHOD("def_variable",function(n){var t;return this.variables.has(n.name)?(t=this.variables.get(n.name),t.orig.push(n)):(t=new af(this,this.variables.size(),n),this.variables.set(n.name,t),t.global=!this.parent_scope),n.thedef=t}),h.DEFMETHOD("next_mangled",function(n){var f=this.enclosed,t,u,i,e;n:for(;;)if((t=r(++this.cname),ne(t))&&!(n.except.indexOf(t)>=0)){for(u=f.length;--u>=0;)if(i=f[u],e=i.mangled_name||i.unmangleable(n)&&i.name,t==e)continue n;return t}}),it.DEFMETHOD("next_mangled",function(n,t){for(var r=t.orig[0]instanceof vu&&this.name&&this.name.definition(),i;;)if(i=w.prototype.next_mangled.call(this,n,t),!(r&&r.mangled_name==i))return i}),h.DEFMETHOD("references",function(n){return n instanceof p&&(n=n.definition()),this.enclosed.indexOf(n)<0?null:n}),p.DEFMETHOD("unmangleable",function(n){return this.definition().unmangleable(n)}),ee.DEFMETHOD("unmangleable",function(){return!0}),nr.DEFMETHOD("unmangleable",function(){return!1}),p.DEFMETHOD("unreferenced",function(){return this.definition().references.length==0&&!(this.scope.uses_eval||this.scope.uses_with)}),p.DEFMETHOD("undeclared",function(){return this.definition().undeclared}),ef.DEFMETHOD("undeclared",function(){return!1}),nr.DEFMETHOD("undeclared",function(){return!1}),p.DEFMETHOD("definition",function(){return this.thedef}),p.DEFMETHOD("global",function(){return this.definition().global}),pt.DEFMETHOD("_default_mangler_options",function(n){return ai(n,{except:[],eval:!1,sort:!1,toplevel:!1,screw_ie8:!1})}),pt.DEFMETHOD("mangle_names",function(n){n=this._default_mangler_options(n);var i=-1,t=[],u=new b(function(f,e){var c,l,o,s;if(f instanceof fi)return c=i,e(),i=c,!0;if(f instanceof h){l=u.parent();o=[];f.variables.each(function(t){n.except.indexOf(t.name)<0&&o.push(t)});n.sort&&o.sort(function(n,t){return t.references.length-n.references.length});t.push.apply(t,o);return}if(f instanceof nr){do s=r(++i);while(!ne(s));return f.mangled_name=s,!0}if(n.screw_ie8&&f instanceof pu){t.push(f.definition());return}});this.walk(u);t.forEach(function(t){t.mangle(n)})}),pt.DEFMETHOD("compute_char_frequency",function(n){n=this._default_mangler_options(n);var i=new b(function(i){i instanceof k?r.consider(i.print_to_string()):i instanceof ft?r.consider("return"):i instanceof ou?r.consider("throw"):i instanceof ei?r.consider("continue"):i instanceof ot?r.consider("break"):i instanceof rr?r.consider("debugger"):i instanceof gt?r.consider(i.value):i instanceof yi?r.consider("while"):i instanceof yr?r.consider("do while"):i instanceof rt?(r.consider("if"),i.alternative&&r.consider("else")):i instanceof ti?r.consider("var"):i instanceof uf?r.consider("const"):i instanceof w?r.consider("function"):i instanceof g?r.consider("for"):i instanceof ct?r.consider("for in"):i instanceof st?r.consider("switch"):i instanceof bi?r.consider("case"):i instanceof pr?r.consider("default"):i instanceof pi?r.consider("with"):i instanceof hu?r.consider("set"+i.key):i instanceof cu?r.consider("get"+i.key):i instanceof su?r.consider(i.key):i instanceof lt?r.consider("new"):i instanceof tr?r.consider("this"):i instanceof oi?r.consider("try"):i instanceof ki?r.consider("catch"):i instanceof wr?r.consider("finally"):i instanceof p&&i.unmangleable(n)?r.consider(i.name):i instanceof bt||i instanceof t?r.consider(i.operator):i instanceof at&&r.consider(i.property)});this.walk(i);r.sort()}),r=function(){function r(){n=Object.create(null);t=u.split("").map(function(n){return n.charCodeAt(0)});t.forEach(function(t){n[t]=0})}function i(n){var r="",i=54;do r+=String.fromCharCode(t[n%i]),n=Math.floor(n/i),i=64;while(n>0);return r}var u="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_0123456789",t,n;return i.consider=function(t){for(var r,i=t.length;--i>=0;)r=t.charCodeAt(i),r in n&&++n[r]},i.sort=function(){t=bf(t,function(t,i){return ci(t)&&!ci(i)?1:ci(i)&&!ci(t)?-1:n[i]-n[t]})},i.reset=r,r(),i.get=function(){return t},i.freq=function(){return n},i}(),pt.DEFMETHOD("scope_warnings",function(n){n=ai(n,{undeclared:!1,unreferenced:!0,assign_to_global:!0,func_arguments:!0,nested_defuns:!0,eval:!0});var t=new b(function(i){if(n.undeclared&&i instanceof e&&i.undeclared()&&f.warn("Undeclared symbol: {name} [{file}:{line},{col}]",{name:i.name,file:i.start.file,line:i.start.line,col:i.start.col}),n.assign_to_global){var r=null;i instanceof y&&i.left instanceof e?r=i.left:i instanceof ct&&i.init instanceof e&&(r=i.init);r&&(r.undeclared()||r.global()&&r.scope!==r.definition().scope)&&f.warn("{msg}: {name} [{file}:{line},{col}]",{msg:r.undeclared()?"Accidental global?":"Assignment to global",name:r.name,file:r.start.file,line:r.start.line,col:r.start.col})}n.eval&&i instanceof e&&i.undeclared()&&i.name=="eval"&&f.warn("Eval is used [{file}:{line},{col}]",i.start);n.unreferenced&&(i instanceof gi||i instanceof nr)&&i.unreferenced()&&f.warn("{type} {name} is declared but not referenced [{file}:{line},{col}]",{type:i instanceof nr?"Label":"Symbol",name:i.name,file:i.start.file,line:i.start.line,col:i.start.col});n.func_arguments&&i instanceof w&&i.uses_arguments&&f.warn("arguments used in function {name} [{file}:{line},{col}]",{name:i.name?i.name.name:"anonymous",file:i.start.file,line:i.start.line,col:i.start.col});n.nested_defuns&&i instanceof wt&&!(t.parent()instanceof h)&&f.warn('Function {name} declared in nested statement "{type}" [{file}:{line},{col}]',{name:i.name.name,type:t.parent().TYPE,file:i.start.file,line:i.start.line,col:i.start.col})});this.walk(t)}),function(){function n(n,t){n.DEFMETHOD("_codegen",t)}function h(n,t){n.DEFMETHOD("needs_parens",t)}function dt(n){var i=n.parent();return i instanceof bt?!0:i instanceof t&&!(i instanceof y)?!0:i instanceof a&&i.expression===this?!0:i instanceof l&&i.condition===this?!0:i instanceof ut&&i.expression===this?!0:void 0}function ri(n,t,i){var r=n.length-1;n.forEach(function(n,u){n instanceof c||(i.indent(),n.print(i),u==r&&t||(i.newline(),t&&i.newline()))})}function tt(n,t){n.length>0?t.with_block(function(){ri(n,!1,t)}):t.print("{}")}function vi(n,t){if(t.option("bracketize")){wt(n.body,t);return}if(!n.body)return t.force_semicolon();if(n.body instanceof yr&&!t.option("screw_ie8")){wt(n.body,t);return}for(var i=n.body;;)if(i instanceof rt){if(!i.alternative){wt(n.body,t);return}i=i.alternative}else if(i instanceof ui)i=i.body;else break;ht(n.body,t)}function hi(n,i,r){if(r)try{n.walk(new b(function(n){if(n instanceof t&&n.operator=="in")throw i;}));n.print(i)}catch(u){if(u!==i)throw u;n.print(i,!0)}else n.print(i)}function gi(n){return[92,47,46,43,42,63,40,41,91,93,123,125,36,94,58,124,33,10,13,0,65279,8232,8233,].indexOf(n)<0}function ht(n,t){t.option("bracketize")?!n||n instanceof c?t.print("{}"):n instanceof i?n.print(t):t.with_block(function(){t.indent();n.print(t);t.newline()}):!n||n instanceof c?t.force_semicolon():n.print(t)}function ci(n){for(var f=n.stack(),e=f.length,r=f[--e],i=f[--e];e>0;){if(i instanceof d&&i.body===r)return!0;if(i instanceof u&&i.car===r||i instanceof a&&i.expression===r&&!(i instanceof lt)||i instanceof at&&i.expression===r||i instanceof si&&i.expression===r||i instanceof l&&i.condition===r||i instanceof t&&i.left===r||i instanceof kr&&i.expression===r)r=i,i=f[--e];else return!1}}function li(n,t){return n.args.length==0&&!t.option("beautify")}function nr(n){for(var i=n[0],r=i.length,t=1;t<n.length;++t)n[t].length<r&&(i=n[t],r=i.length);return i}function ai(n){var r=n.toString(10),i=[r.replace(/^0\./,".").replace("e+","e")],t;return Math.floor(n)===n?(n>=0?i.push("0x"+n.toString(16).toLowerCase(),"0"+n.toString(8)):i.push("-0x"+(-n).toString(16).toLowerCase(),"-0"+(-n).toString(8)),(t=/^(.*?)(0+)$/.exec(n))&&i.push(t[1]+"e"+t[2].length)):(t=/^0?\.(0+)(.*)$/.exec(n))&&i.push(t[2]+"e-"+(t[1].length+t[2].length),r.substr(r.indexOf("."))),nr(i)}function wt(n,t){if(n instanceof i){n.print(t);return}t.with_block(function(){t.indent();n.print(t);t.newline()})}function r(n,t){n.DEFMETHOD("add_source_map",function(n){t(this,n)})}function e(n,t){t.add_mapping(n.start)}f.DEFMETHOD("print",function(n,t){function r(){i.add_comments(n);i.add_source_map(n);u(i,n)}var i=this,u=i._codegen;n.push_node(i);t||i.needs_parens(n)?n.with_parens(r):r();n.pop_node()});f.DEFMETHOD("print_to_string",function(n){var t=vf(n);return this.print(t),t.get()});f.DEFMETHOD("add_comments",function(n){var r=n.option("comments"),u=this,i,t;r&&(i=u.start,i&&!i._comments_dumped&&(i._comments_dumped=!0,t=i.comments_before||[],u instanceof ni&&u.value&&u.value.walk(new b(function(n){return n.start&&n.start.comments_before&&(t=t.concat(n.start.comments_before),n.start.comments_before=[]),n instanceof it||n instanceof vt||n instanceof ii?!0:void 0})),r.test?t=t.filter(function(n){return r.test(n.value)}):typeof r=="function"&&(t=t.filter(function(n){return r(u,n)})),t.forEach(function(t){/comment[134]/.test(t.type)?(n.print("//"+t.value+"\n"),n.indent()):t.type=="comment2"&&(n.print("/*"+t.value+"*/"),i.nlb?(n.print("\n"),n.indent()):n.space())})))});h(f,function(){return!1});h(it,function(n){return ci(n)});h(ii,function(n){return ci(n)});h(bt,function(n){var t=n.parent();return t instanceof ut&&t.expression===this});h(u,function(n){var i=n.parent();return i instanceof a||i instanceof bt||i instanceof t||i instanceof br||i instanceof ut||i instanceof vt||i instanceof di||i instanceof l});h(t,function(n){var i=n.parent();if(i instanceof a&&i.expression===this||i instanceof bt||i instanceof ut&&i.expression===this)return!0;if(i instanceof t){var f=i.operator,r=iu[f],e=this.operator,u=iu[e];if(r>u||r==u&&this===i.right)return!0}});h(ut,function(n){var t=n.parent();if(t instanceof lt&&t.expression===this)try{this.walk(new b(function(n){if(n instanceof a)throw t;}))}catch(i){if(i!==t)throw i;return!0}});h(a,function(n){var t=n.parent(),i;return t instanceof lt&&t.expression===this?!0:this.expression instanceof it&&t instanceof ut&&t.expression===this&&(i=n.parent(1))instanceof y&&i.left===t});h(lt,function(n){var t=n.parent();if(li(this,n)&&(t instanceof ut||t instanceof a&&t.expression===this))return!0});h(kt,function(n){var t=n.parent();if(this.getValue()<0&&t instanceof ut&&t.expression===this)return!0});h(wu,function(n){var t=n.parent();if(t instanceof ut&&t.expression===this)return!0});h(y,dt);h(l,dt);n(gt,function(n,t){t.print_string(n.value);t.semicolon()});n(rr,function(n,t){t.print("debugger");t.semicolon()});ui.DEFMETHOD("_do_print_body",function(n){ht(this.body,n)});n(d,function(n,t){n.body.print(t);t.semicolon()});n(pt,function(n,t){ri(n.body,!0,t);t.print("")});n(fi,function(n,t){n.label.print(t);t.colon();n.body.print(t)});n(o,function(n,t){n.body.print(t);t.semicolon()});n(i,function(n,t){tt(n.body,t)});n(c,function(n,t){t.semicolon()});n(yr,function(n,t){t.print("do");t.space();n._do_print_body(t);t.space();t.print("while");t.space();t.with_parens(function(){n.condition.print(t)});t.semicolon()});n(yi,function(n,t){t.print("while");t.space();t.with_parens(function(){n.condition.print(t)});t.space();n._do_print_body(t)});n(g,function(n,t){t.print("for");t.space();t.with_parens(function(){n.init?(n.init instanceof nt?n.init.print(t):hi(n.init,t,!0),t.print(";"),t.space()):t.print(";");n.condition?(n.condition.print(t),t.print(";"),t.space()):t.print(";");n.step&&n.step.print(t)});t.space();n._do_print_body(t)});n(ct,function(n,t){t.print("for");t.space();t.with_parens(function(){n.init.print(t);t.space();t.print("in");t.space();n.object.print(t)});t.space();n._do_print_body(t)});n(pi,function(n,t){t.print("with");t.space();t.with_parens(function(){n.expression.print(t)});t.space();n._do_print_body(t)});w.DEFMETHOD("_do_print",function(n,t){var i=this;t||n.print("function");i.name&&(n.space(),i.name.print(n));n.with_parens(function(){i.argnames.forEach(function(t,i){i&&n.comma();t.print(n)})});n.space();tt(i.body,n)});n(w,function(n,t){n._do_print(t)});ni.DEFMETHOD("_do_print",function(n,t){n.print(t);this.value&&(n.space(),this.value.print(n));n.semicolon()});n(ft,function(n,t){n._do_print(t,"return")});n(ou,function(n,t){n._do_print(t,"throw")});wi.DEFMETHOD("_do_print",function(n,t){n.print(t);this.label&&(n.space(),this.label.print(n));n.semicolon()});n(ot,function(n,t){n._do_print(t,"break")});n(ei,function(n,t){n._do_print(t,"continue")});n(rt,function(n,t){t.print("if");t.space();t.with_parens(function(){n.condition.print(t)});t.space();n.alternative?(vi(n,t),t.space(),t.print("else"),t.space(),ht(n.alternative,t)):n._do_print_body(t)});n(st,function(n,t){t.print("switch");t.space();t.with_parens(function(){n.expression.print(t)});t.space();n.body.length>0?t.with_block(function(){n.body.forEach(function(n,i){i&&t.newline();t.indent(!0);n.print(t)})}):t.print("{}")});fr.DEFMETHOD("_do_print_body",function(n){this.body.length>0&&(n.newline(),this.body.forEach(function(t){n.indent();t.print(n);n.newline()}))});n(pr,function(n,t){t.print("default:");n._do_print_body(t)});n(bi,function(n,t){t.print("case");t.space();n.expression.print(t);t.print(":");n._do_print_body(t)});n(oi,function(n,t){t.print("try");t.space();tt(n.body,t);n.bcatch&&(t.space(),n.bcatch.print(t));n.bfinally&&(t.space(),n.bfinally.print(t))});n(ki,function(n,t){t.print("catch");t.space();t.with_parens(function(){n.argname.print(t)});t.space();tt(n.body,t)});n(wr,function(n,t){t.print("finally");t.space();tt(n.body,t)});nt.DEFMETHOD("_do_print",function(n,t){n.print(t);n.space();this.definitions.forEach(function(t,i){i&&n.comma();t.print(n)});var i=n.parent(),r=i instanceof g||i instanceof ct,u=r&&i.init===this;u||n.semicolon()});n(ti,function(n,t){n._do_print(t,"var")});n(uf,function(n,t){n._do_print(t,"const")});n(br,function(n,t){if(n.name.print(t),n.value){t.space();t.print("=");t.space();var i=t.parent(1),r=i instanceof g||i instanceof ct;hi(n.value,t,r)}});n(a,function(n,t){(n.expression.print(t),n instanceof lt&&li(n,t))||t.with_parens(function(){n.args.forEach(function(n,i){i&&t.comma();n.print(t)})})});n(lt,function(n,t){t.print("new");t.space();a.prototype._codegen(n,t)});u.DEFMETHOD("_do_print",function(n){this.car.print(n);this.cdr&&(n.comma(),n.should_break()&&(n.newline(),n.indent()),this.cdr.print(n))});n(u,function(n,t){n._do_print(t)});n(at,function(n,t){var i=n.expression;i.print(t);i instanceof kt&&i.getValue()>=0&&(/[xa-f.]/i.test(t.last())||t.print("."));t.print(".");t.add_mapping(n.end);t.print_name(n.property)});n(si,function(n,t){n.expression.print(t);t.print("[");n.property.print(t);t.print("]")});n(v,function(n,t){var i=n.operator;t.print(i);/^[a-z]/i.test(i)&&t.space();n.expression.print(t)});n(kr,function(n,t){n.expression.print(t);t.print(n.operator)});n(t,function(n,t){n.left.print(t);t.space();t.print(n.operator);n.operator=="<"&&n.right instanceof v&&n.right.operator=="!"&&n.right.expression instanceof v&&n.right.expression.operator=="--"?t.print(" "):t.space();n.right.print(t)});n(l,function(n,t){n.condition.print(t);t.space();t.print("?");t.space();n.consequent.print(t);t.space();t.colon();n.alternative.print(t)});n(vt,function(n,t){t.with_square(function(){var r=n.elements,i=r.length;i>0&&t.space();r.forEach(function(n,r){r&&t.comma();n.print(t);r===i-1&&n instanceof sf&&t.comma()});i>0&&t.space()})});n(ii,function(n,t){n.properties.length>0?t.with_block(function(){n.properties.forEach(function(n,i){i&&(t.print(","),t.newline());t.indent();n.print(t)});t.newline()}):t.print("{}")});n(su,function(n,t){var i=n.key;t.option("quote_keys")?t.print_string(i+""):(typeof i=="number"||!t.option("beautify")&&+i+""==i)&&parseFloat(i)>=0?t.print(ai(i)):(nu(i)?t.option("screw_ie8"):te(i))?t.print_name(i):t.print_string(i);t.colon();n.value.print(t)});n(hu,function(n,t){t.print("set");t.space();n.key.print(t);n.value._do_print(t,!0)});n(cu,function(n,t){t.print("get");t.space();n.key.print(t);n.value._do_print(t,!0)});n(p,function(n,t){var i=n.definition();t.print_name(i?i.mangled_name||i.name:n.name)});n(et,function(n,t){t.print("void 0")});n(sf,yt);n(kf,function(n,t){t.print("1/0")});n(wu,function(n,t){t.print("0/0")});n(tr,function(n,t){t.print("this")});n(k,function(n,t){t.print(n.getValue())});n(s,function(n,t){t.print_string(n.getValue())});n(kt,function(n,t){t.print(ai(n.getValue()))});n(dr,function(n,i){var r=n.getValue().toString(),u;i.option("ascii_only")?r=i.to_ascii(r):i.option("unescape_regexps")&&(r=r.split("\\\\").map(function(n){return n.replace(/\\u[0-9a-fA-F]{4}|\\x[0-9a-fA-F]{2}/g,function(n){var t=parseInt(n.substr(2),16);return gi(t)?String.fromCharCode(t):n})}).join("\\\\"));i.print(r);u=i.parent();u instanceof t&&/^in/.test(u.operator)&&u.left===n&&i.print(" ")});r(f,yt);r(gt,e);r(rr,e);r(p,e);r(eu,e);r(ui,e);r(fi,yt);r(w,e);r(st,e);r(fr,e);r(i,e);r(pt,yt);r(lt,e);r(oi,e);r(ki,e);r(wr,e);r(nt,e);r(k,e);r(di,function(n,t){t.add_mapping(n.start,n.key)})}(),sr.prototype=new ri,wf(sr.prototype,{option:function(n){return this.options[n]},warn:function(){this.options.warnings&&f.warn.apply(f,arguments)},before:function(n,t){if(n._squeezed)return n;var i=!1;return n instanceof h&&(n=n.hoist_declarations(this),i=!0),t(n,this),n=n.optimize(this),i&&n instanceof h&&(n.drop_unused(this),t(n,this)),n._squeezed=!0,n}}),function(){function r(n,t){n.DEFMETHOD("optimize",function(n){var r=this,i;return r._optimized?r:(i=t(r,n),i._optimized=!0,i===r)?i:i.transform(n)})}function n(n,t,i){return i||(i={}),t&&(i.start||(i.start=t.start),i.end||(i.end=t.end)),new n(i)}function er(t,i,r){if(i instanceof f)return i.transform(t);switch(typeof i){case"string":return n(s,r,{value:i}).optimize(t);case"number":return n(isNaN(i)?wu:kt,r,{value:i}).optimize(t);case"boolean":return n(i?hi:or,r).optimize(t);case"undefined":return n(et,r).optimize(t);default:if(i===null)return n(of,r).optimize(t);if(i instanceof RegExp)return n(dr,r).optimize(t);throw new Error(tf("Can't handle constant of type: {type}",{type:typeof i}));}}function ai(n){if(n===null)return[];if(n instanceof i)return n.body;if(n instanceof c)return[];if(n instanceof d)return[n];throw new Error("Can't convert thing to statement array");}function nr(n){return n===null?!0:n instanceof c?!0:n instanceof i?n.body.length==0:!1}function ki(n){return n instanceof st?n:n instanceof g||n instanceof ct||n instanceof vi?n.body instanceof i?n.body:n:n}function ur(r,f){function k(t){function i(t,i){return n(o,t,{body:n(y,t,{operator:"=",left:n(at,i,{expression:n(e,i,i),property:"$inject"}),right:n(vt,t,{elements:t.argnames.map(function(t){return n(s,t,{value:t.name})})})})})}return t.reduce(function(n,t){var u,r,e;return n.push(t),u=t.start,r=u.comments_before,r&&r.length>0&&(e=r.pop(),/@ngInject/.test(e.value)&&(t instanceof wt?n.push(i(t,t.name)):t instanceof nt?t.definitions.forEach(function(t){t.value&&t.value instanceof w&&n.push(i(t.value,t.name))}):f.warn("Unknown statement marked with @ngInject [{file}:{line},{col}]",u))),n},[])}function p(n){var t=[];return n.reduce(function(n,r){return r instanceof i?(h=!0,n.push.apply(n,p(r.body))):r instanceof c?h=!0:r instanceof gt?t.indexOf(r.value)<0?(n.push(r),t.push(r.value)):h=!0:n.push(r),n},[])}function d(t,r){var l=r.self(),c=l instanceof w,f=[],a,u,v,y,e,s;n:for(a=t.length;--a>=0;){u=t[a];switch(!0){case c&&u instanceof ft&&!u.value&&f.length==0:h=!0;continue n;case u instanceof rt:if(u.body instanceof ft){if((c&&f.length==0||f[0]instanceof ft&&!f[0].value)&&!u.body.value&&!u.alternative){h=!0;v=n(o,u.condition,{body:u.condition});f.unshift(v);continue n}if(f[0]instanceof ft&&u.body.value&&f[0].value&&!u.alternative){h=!0;u=u.clone();u.alternative=f[0];f[0]=u.transform(r);continue n}if((f.length==0||f[0]instanceof ft)&&u.body.value&&!u.alternative&&c){h=!0;u=u.clone();u.alternative=f[0]||n(ft,u,{value:n(et,u)});f[0]=u.transform(r);continue n}if(!u.body.value&&c){h=!0;u=u.clone();u.condition=u.condition.negate(r);u.body=n(i,u,{body:ai(u.alternative).concat(f)});u.alternative=null;f=[u.transform(r)];continue n}if(f.length==1&&c&&f[0]instanceof o&&(!u.alternative||u.alternative instanceof o)){h=!0;f.push(n(ft,f[0],{value:n(et,f[0])}).transform(r));f=ai(u.alternative).concat(f);f.unshift(u);continue n}}if(e=li(u.body),s=e instanceof wi?r.loopcontrol_target(e.label):null,e&&(e instanceof ft&&!e.value&&c||e instanceof ei&&l===ki(s)||e instanceof ot&&s instanceof i&&l===s)){e.label&&ar(e.label.thedef.references,e);h=!0;y=ai(u.body).slice(0,-1);u=u.clone();u.condition=u.condition.negate(r);u.body=n(i,u,{body:ai(u.alternative).concat(f)});u.alternative=n(i,u,{body:y});f=[u.transform(r)];continue n}if(e=li(u.alternative),s=e instanceof wi?r.loopcontrol_target(e.label):null,e&&(e instanceof ft&&!e.value&&c||e instanceof ei&&l===ki(s)||e instanceof ot&&s instanceof i&&l===s)){e.label&&ar(e.label.thedef.references,e);h=!0;u=u.clone();u.body=n(i,u.body,{body:ai(u.body).concat(f)});u.alternative=n(i,u.alternative,{body:ai(u.alternative).slice(0,-1)});f=[u.transform(r)];continue n}f.unshift(u);break;default:f.unshift(u)}}return f}function tt(n,t){var r=!1,f=n.length,u=t.self();return n=n.reduce(function(n,f){if(r)gi(t,f,n);else{if(f instanceof wi){var e=t.loopcontrol_target(f.label);f instanceof ot&&e instanceof i&&ki(e)===u||f instanceof ei&&ki(e)===u?f.label&&ar(f.label.thedef.references,f):n.push(f)}else n.push(f);li(f)&&(r=!0)}return n},[]),h=n.length!=f,n}function ut(t,i){function e(){r=u.from_array(r);r&&f.push(n(o,r,{body:r}));r=[]}if(t.length<2)return t;var r=[],f=[];return t.forEach(function(n){n instanceof o?r.push(n.body):(e(),f.push(n))}),e(),f=ht(f,i),h=f.length!=t.length,f}function ht(i,r){function f(n){s.pop();var t=e.body;return t instanceof u?t.add(n):t=u.cons(t,n),t.transform(r)}var s=[],e=null;return i.forEach(function(i){if(e)if(i instanceof g){var r={};try{e.body.walk(new b(function(n){if(n instanceof t&&n.operator=="in")throw r;}));!i.init||i.init instanceof nt?i.init||(i.init=e.body,s.pop()):i.init=f(i.init)}catch(u){if(u!==r)throw u;}}else i instanceof rt?i.condition=f(i.condition):i instanceof pi?i.expression=f(i.expression):i instanceof ni&&i.value?i.value=f(i.value):i instanceof ni?i.value=f(n(et,i)):i instanceof st&&(i.expression=f(i.expression));s.push(i);e=i instanceof o?i:null}),s}function ct(n){var t=null;return n.reduce(function(n,i){return i instanceof nt&&t&&t.TYPE==i.TYPE?(t.definitions=t.definitions.concat(i.definitions),h=!0):i instanceof g&&t instanceof nt&&(!i.init||i.init.TYPE==t.TYPE)?(h=!0,n.pop(),i.init?i.init.definitions=t.definitions.concat(i.init.definitions):i.init=t,n.push(i),t=i):(t=i,n.push(i)),n},[])}function lt(t){t.forEach(function(t){t instanceof o&&(t.body=function i(t){return t.transform(new ri(function(t){var r,f;return t instanceof a&&t.expression instanceof it?n(v,t,{operator:"!",expression:t}):(t instanceof a?t.expression=i(t.expression):t instanceof u?t.car=i(t.car):t instanceof l&&(r=i(t.condition),r!==t.condition&&(t.condition=r,f=t.consequent,t.consequent=t.alternative,t.alternative=f)),t)}))}(t.body))})}var h;do h=!1,f.option("angular")&&(r=k(r)),r=p(r),f.option("dead_code")&&(r=tt(r,f)),f.option("if_return")&&(r=d(r,f)),f.option("sequences")&&(r=ut(r,f)),f.option("join_vars")&&(r=ct(r,f));while(h);return f.option("negate_iife")&&lt(r,f),r}function gi(n,t,i){n.warn("Dropping unreachable code [{file}:{line},{col}]",t.start);t.walk(new b(function(t){return t instanceof nt?(n.warn("Declarations in unreachable code! [{file}:{line},{col}]",t.start),t.remove_initializers(),i.push(t),!0):t instanceof wt?(i.push(t),!0):t instanceof h?!0:void 0}))}function ci(n,t){return n.print_to_string().length>t.print_to_string().length?t:n}function li(n){return n&&n.aborts()}function hr(r,u){function e(t){t=ai(t);r.body instanceof i?(r.body=r.body.clone(),r.body.body=t.concat(r.body.body.slice(1)),r.body=r.body.transform(u)):r.body=n(i,r.body,{body:t}).transform(u);hr(r,u)}var f=r.body instanceof i?r.body.body[0]:r.body;f instanceof rt&&(f.body instanceof ot&&u.loopcontrol_target(f.body.label)===r?(r.condition=r.condition?n(t,r.condition,{left:r.condition,operator:"&&",right:f.condition.negate(u)}):f.condition.negate(u),e(f.alternative)):f.alternative instanceof ot&&u.loopcontrol_target(f.alternative.label)===r&&(r.condition=r.condition?n(t,r.condition,{left:r.condition,operator:"&&",right:f.condition}):f.condition,e(f.body)))}function wr(n,t){var r=t.option("pure_getters"),i;return t.options.pure_getters=!1,i=n.has_side_effects(t),t.options.pure_getters=r,i}function cr(t,i){return i.option("booleans")&&i.in_boolean_context()?n(hi,t):t}var vr,yr;r(f,function(n){return n});f.DEFMETHOD("equivalent_to",function(n){return this.print_to_string()==n.print_to_string()}),function(n){var i=["!","delete"],r=["in","instanceof","==","!=","===","!==","<","<=",">=",">"];n(f,function(){return!1});n(v,function(){return lr(this.operator,i)});n(t,function(){return lr(this.operator,r)||(this.operator=="&&"||this.operator=="||")&&this.left.is_boolean()&&this.right.is_boolean()});n(l,function(){return this.consequent.is_boolean()&&this.alternative.is_boolean()});n(y,function(){return this.operator=="="&&this.right.is_boolean()});n(u,function(){return this.cdr.is_boolean()});n(hi,function(){return!0});n(or,function(){return!0})}(function(n,t){n.DEFMETHOD("is_boolean",t)}),function(n){n(f,function(){return!1});n(s,function(){return!0});n(v,function(){return this.operator=="typeof"});n(t,function(n){return this.operator=="+"&&(this.left.is_string(n)||this.right.is_string(n))});n(y,function(n){return(this.operator=="="||this.operator=="+=")&&this.right.is_string(n)});n(u,function(n){return this.cdr.is_string(n)});n(l,function(n){return this.consequent.is_string(n)&&this.alternative.is_string(n)});n(a,function(n){return n.option("unsafe")&&this.expression instanceof e&&this.expression.name=="String"&&this.expression.undeclared()})}(function(n,t){n.DEFMETHOD("is_string",t)}),function(n){function i(n,t){if(!t)throw new Error("Compressor must be passed");return n._eval(t)}f.DEFMETHOD("evaluate",function(t){if(!t.option("evaluate"))return[this];try{var i=this._eval(t);return[ci(er(t,i,this),this),i]}catch(r){if(r!==n)throw r;return[this]}});n(d,function(){throw new Error(tf("Cannot evaluate a statement [{file}:{line},{col}]",this.start));});n(it,function(){throw n;});n(f,function(){throw n;});n(k,function(){return this.getValue()});n(v,function(t){var r=this.expression;switch(this.operator){case"!":return!i(r,t);case"typeof":if(r instanceof it)return typeof function(){};if(r=i(r,t),r instanceof RegExp)throw n;return typeof r;case"void":return void i(r,t);case"~":return~i(r,t);case"-":if(r=i(r,t),r===0)throw n;return-r;case"+":return+i(r,t)}throw n;});n(t,function(t){var r=this.left,u=this.right;switch(this.operator){case"&&":return i(r,t)&&i(u,t);case"||":return i(r,t)||i(u,t);case"|":return i(r,t)|i(u,t);case"&":return i(r,t)&i(u,t);case"^":return i(r,t)^i(u,t);case"+":return i(r,t)+i(u,t);case"*":return i(r,t)*i(u,t);case"/":return i(r,t)/i(u,t);case"%":return i(r,t)%i(u,t);case"-":return i(r,t)-i(u,t);case"<<":return i(r,t)<<i(u,t);case">>":return i(r,t)>>i(u,t);case">>>":return i(r,t)>>>i(u,t);case"==":return i(r,t)==i(u,t);case"===":return i(r,t)===i(u,t);case"!=":return i(r,t)!=i(u,t);case"!==":return i(r,t)!==i(u,t);case"<":return i(r,t)<i(u,t);case"<=":return i(r,t)<=i(u,t);case">":return i(r,t)>i(u,t);case">=":return i(r,t)>=i(u,t);case"in":return i(r,t)in i(u,t);case"instanceof":return i(r,t)instanceof i(u,t)}throw n;});n(l,function(n){return i(this.condition,n)?i(this.consequent,n):i(this.alternative,n)});n(e,function(t){var r=this.definition();if(r&&r.constant&&r.init)return i(r.init,t);throw n;})}(function(n,t){n.DEFMETHOD("_eval",t)}),function(i){function r(t){return n(v,t,{operator:"!",expression:t})}i(f,function(){return r(this)});i(d,function(){throw new Error("Cannot negate a statement");});i(it,function(){return r(this)});i(v,function(){return this.operator=="!"?this.expression:r(this)});i(u,function(n){var t=this.clone();return t.cdr=t.cdr.negate(n),t});i(l,function(n){var t=this.clone();return t.consequent=t.consequent.negate(n),t.alternative=t.alternative.negate(n),ci(r(this),t)});i(t,function(n){var t=this.clone(),i=this.operator;if(n.option("unsafe_comps"))switch(i){case"<=":return t.operator=">",t;case"<":return t.operator=">=",t;case">=":return t.operator="<",t;case">":return t.operator="<=",t}switch(i){case"==":return t.operator="!=",t;case"!=":return t.operator="==",t;case"===":return t.operator="!==",t;case"!==":return t.operator="===",t;case"&&":return t.operator="||",t.left=t.left.negate(n),t.right=t.right.negate(n),ci(r(this),t);case"||":return t.operator="&&",t.left=t.left.negate(n),t.right=t.right.negate(n),ci(r(this),t)}return r(this)})}(function(n,t){n.DEFMETHOD("negate",function(n){return t.call(this,n)})}),function(n){n(f,function(){return!0});n(c,function(){return!1});n(k,function(){return!1});n(tr,function(){return!1});n(a,function(n){var t=n.option("pure_funcs");return t?t.indexOf(this.expression.print_to_string())<0:!0});n(ht,function(n){for(var t=this.body.length;--t>=0;)if(this.body[t].has_side_effects(n))return!0;return!1});n(o,function(n){return this.body.has_side_effects(n)});n(wt,function(){return!0});n(it,function(){return!1});n(t,function(n){return this.left.has_side_effects(n)||this.right.has_side_effects(n)});n(y,function(){return!0});n(l,function(n){return this.condition.has_side_effects(n)||this.consequent.has_side_effects(n)||this.alternative.has_side_effects(n)});n(bt,function(n){return this.operator=="delete"||this.operator=="++"||this.operator=="--"||this.expression.has_side_effects(n)});n(e,function(){return!1});n(ii,function(n){for(var t=this.properties.length;--t>=0;)if(this.properties[t].has_side_effects(n))return!0;return!1});n(di,function(n){return this.value.has_side_effects(n)});n(vt,function(n){for(var t=this.elements.length;--t>=0;)if(this.elements[t].has_side_effects(n))return!0;return!1});n(at,function(n){return n.option("pure_getters")?this.expression.has_side_effects(n):!0});n(si,function(n){return n.option("pure_getters")?this.expression.has_side_effects(n)||this.property.has_side_effects(n):!0});n(ut,function(n){return!n.option("pure_getters")});n(u,function(n){return this.car.has_side_effects(n)||this.cdr.has_side_effects(n)})}(function(n,t){n.DEFMETHOD("has_side_effects",t)}),function(n){function t(){var n=this.body.length;return n>0&&li(this.body[n-1])}n(d,function(){return null});n(eu,function(){return this});n(i,t);n(fr,t);n(rt,function(){return this.alternative&&li(this.body)&&li(this.alternative)})}(function(n,t){n.DEFMETHOD("aborts",t)});r(gt,function(t){return t.scope.has_directive(t.value)!==t.scope?n(c,t):t});r(rr,function(t,i){return i.option("drop_debugger")?n(c,t):t});r(fi,function(t,i){return t.body instanceof ot&&i.loopcontrol_target(t.body.label)===t.body?n(c,t):t.label.references.length==0?t.body:t});r(ht,function(n,t){return n.body=ur(n.body,t),n});r(i,function(t,i){t.body=ur(t.body,i);switch(t.body.length){case 1:return t.body[0];case 0:return n(c,t)}return t});h.DEFMETHOD("drop_unused",function(t){var r=this,l,v;if(t.option("unused")&&!(r instanceof pt)&&!r.uses_eval){var f=[],a=new ir,s=this,y=new b(function(n,i){if(n!==r){if(n instanceof wt)return a.add(n.name.name,n),!0;if(n instanceof nt&&s===r)return n.definitions.forEach(function(n){n.value&&(a.add(n.name.name,n.value),n.value.has_side_effects(t)&&n.value.walk(y))}),!0;if(n instanceof e)return uu(f,n.definition()),!0;if(n instanceof h){var u=s;return s=n,i(),s=u,!0}}});for(r.walk(y),l=0;l<f.length;++l)f[l].orig.forEach(function(n){var t=a.get(n.name);t&&t.forEach(function(n){var t=new b(function(n){n instanceof e&&uu(f,n.definition())});n.walk(t)})});v=new ri(function(e,s,l){var d,b,p,a,y,k,tt;if(e instanceof w&&!(e instanceof rf)&&!t.option("keep_fargs"))for(d=e.argnames,y=d.length;--y>=0;)if(b=d[y],b.unreferenced())d.pop(),t.warn("Dropping unused function argument {name} [{file}:{line},{col}]",{name:b.name,file:b.start.file,line:b.start.line,col:b.start.col});else break;if(e instanceof wt&&e!==r)return lr(e.name.definition(),f)?e:(t.warn("Dropping unused function {name} [{file}:{line},{col}]",{name:e.name.name,file:e.name.start.file,line:e.name.start.line,col:e.name.start.col}),n(c,e));if(e instanceof nt&&!(v.parent()instanceof ct)){for(p=e.definitions.filter(function(n){if(lr(n.name.definition(),f))return!0;var i={name:n.name.name,file:n.name.start.file,line:n.name.start.line,col:n.name.start.col};return n.value&&n.value.has_side_effects(t)?(n._unused_side_effects=!0,t.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]",i),!0):(t.warn("Dropping unused variable {name} [{file}:{line},{col}]",i),!1)}),p=bf(p,function(n,t){return!n.value&&t.value?-1:!t.value&&n.value?1:0}),a=[],y=0;y<p.length;)k=p[y],k._unused_side_effects?(a.push(k.value),p.splice(y,1)):(a.length>0&&(a.push(k.value),k.value=u.from_array(a),a=[]),++y);return(a=a.length>0?n(i,e,{body:[n(o,e,{body:u.from_array(a)})]}):null,p.length==0&&!a)?n(c,e):p.length==0?a:(e.definitions=p,a&&(a.body.unshift(e),e=a),e)}return e instanceof g&&(s(e,this),e.init instanceof i)?(tt=e.init.body.slice(0,-1),e.init=e.init.body.slice(-1)[0].body,tt.push(e),l?dt.splice(tt):n(i,e,{body:tt})):e instanceof h&&e!==r?e:void 0});r.transform(v)}});h.DEFMETHOD("hoist_declarations",function(t){var it=t.option("hoist_funs"),k=t.option("hoist_vars"),r=this,tt,s,f,a,v,d,e,et;if(it||k){var rt=[],nt=[],l=new ir,ut=0,ft=0;if(r.walk(new b(function(n){return n instanceof h&&n!==r?!0:n instanceof ti?(++ft,!0):void 0})),k=k&&ft>1,tt=new ri(function(t){if(t!==r){if(t instanceof gt)return rt.push(t),n(c,t);if(t instanceof wt&&it)return nt.push(t),n(c,t);if(t instanceof ti&&k){t.definitions.forEach(function(n){l.set(n.name.name,n);++ut});var i=t.to_assignments(),u=tt.parent();return u instanceof ct&&u.init===t?i==null?t.definitions[0].name:i:u instanceof g&&u.init===t?i:i?n(o,t,{body:i}):n(c,t)}if(t instanceof h)return t}}),r=r.transform(tt),ut>0&&(s=[],l.each(function(n,t){r instanceof w&&ru(function(t){return t.name==n.name.name},r.argnames)?l.del(t):(n=n.clone(),n.value=null,s.push(n),l.set(t,n))}),s.length>0)){for(f=0;f<r.body.length;){if(r.body[f]instanceof o){if(a=r.body[f].body,a instanceof y&&a.operator=="="&&(v=a.left)instanceof p&&l.has(v.name)){if(e=l.get(v.name),e.value)break;e.value=a.right;ar(s,e);s.push(e);r.body.splice(f,1);continue}if(a instanceof u&&(d=a.car)instanceof y&&d.operator=="="&&(v=d.left)instanceof p&&l.has(v.name)){if(e=l.get(v.name),e.value)break;e.value=d.right;ar(s,e);s.push(e);r.body[f].body=a.cdr;continue}}if(r.body[f]instanceof c){r.body.splice(f,1);continue}if(r.body[f]instanceof i){et=[f,1].concat(r.body[f].body);r.body.splice.apply(r.body,et);continue}break}s=n(ti,r,{definitions:s});nt.push(s)}r.body=rt.concat(nt,r.body)}return r});r(o,function(t,i){return i.option("side_effects")&&!t.body.has_side_effects(i)?(i.warn("Dropping side-effect-free statement [{file}:{line},{col}]",t.start),n(c,t)):t});r(vi,function(t,r){var u=t.condition.evaluate(r),f;if(t.condition=u[0],!r.option("loops"))return t;if(u.length>1){if(u[1])return n(g,t,{body:t.body});if(t instanceof yi&&r.option("dead_code"))return f=[],gi(r,t.body,f),n(i,t,{body:f})}return t});r(yi,function(t,i){return i.option("loops")?(t=vi.prototype.optimize.call(t,i),t instanceof yi&&(hr(t,i),t=n(g,t,t).transform(i)),t):t});r(g,function(t,r){var u=t.condition,f;return(u&&(u=u.evaluate(r),t.condition=u[0]),!r.option("loops"))?t:u&&u.length>1&&!u[1]&&r.option("dead_code")?(f=[],t.init instanceof d?f.push(t.init):t.init&&f.push(n(o,t.init,{body:t.init})),gi(r,t.body,f),n(i,t,{body:f})):(hr(t,r),t)});r(rt,function(r,u){var h,f,e,s,a,v,y;if(!u.option("conditionals"))return r;if(h=r.condition.evaluate(u),r.condition=h[0],h.length>1)if(h[1]){if(u.warn("Condition always true [{file}:{line},{col}]",r.condition.start),u.option("dead_code"))return f=[],r.alternative&&gi(u,r.alternative,f),f.push(r.body),n(i,r,{body:f}).transform(u)}else if(u.warn("Condition always false [{file}:{line},{col}]",r.condition.start),u.option("dead_code"))return f=[],gi(u,r.body,f),r.alternative&&f.push(r.alternative),n(i,r,{body:f}).transform(u);return(nr(r.alternative)&&(r.alternative=null),e=r.condition.negate(u),s=ci(r.condition,e)===e,r.alternative&&s&&(s=!1,r.condition=e,a=r.body,r.body=r.alternative||n(c),r.alternative=a),nr(r.body)&&nr(r.alternative))?n(o,r.condition,{body:r.condition}).transform(u):r.body instanceof o&&r.alternative instanceof o?n(o,r,{body:n(l,r,{condition:r.condition,consequent:r.body.body,alternative:r.alternative.body})}).transform(u):nr(r.alternative)&&r.body instanceof o?s?n(o,r,{body:n(t,r,{operator:"||",left:e,right:r.body.body})}).transform(u):n(o,r,{body:n(t,r,{operator:"&&",left:r.condition,right:r.body.body})}).transform(u):r.body instanceof c&&r.alternative&&r.alternative instanceof o?n(o,r,{body:n(t,r,{operator:"||",left:r.condition,right:r.alternative.body})}).transform(u):r.body instanceof ni&&r.alternative instanceof ni&&r.body.TYPE==r.alternative.TYPE?n(r.body.CTOR,r,{value:n(l,r,{condition:r.condition,consequent:r.body.value||n(et,r.body).optimize(u),alternative:r.alternative.value||n(et,r.alternative).optimize(u)})}).transform(u):(r.body instanceof rt&&!r.body.alternative&&!r.alternative&&(r.condition=n(t,r.condition,{operator:"&&",left:r.condition,right:r.body.condition}).transform(u),r.body=r.body.body),li(r.body)&&r.alternative)?(v=r.alternative,r.alternative=null,n(i,r,{body:[r,v]}).transform(u)):li(r.alternative)?(y=r.body,r.body=r.alternative,r.condition=s?e:r.condition.negate(u),r.alternative=null,n(i,r,{body:[r,y]}).transform(u)):r});r(st,function(t,r){var u,h,e;if(t.body.length==0&&r.option("conditionals"))return n(o,t,{body:t.expression}).transform(r);for(;;){if(u=t.body[t.body.length-1],u&&(h=u.body[u.body.length-1],h instanceof ot&&ki(r.loopcontrol_target(h.label))===t&&u.body.pop(),u instanceof pr&&u.body.length==0)){t.body.pop();continue}break}e=t.expression.evaluate(r);n:if(e.length==2)try{if(t.expression=e[0],!r.option("dead_code"))break n;var b=e[1],s=!1,f=!1,a=!1,l=!1,v=!1,y=new ri(function(u,e,h){var y,p;if(u instanceof w||u instanceof o)return u;if(u instanceof st&&u===t)return u=u.clone(),e(u,this),v?u:n(i,u,{body:u.body.reduce(function(n,t){return n.concat(t.body)},[])}).transform(r);if(u instanceof rt||u instanceof oi)return y=s,s=!f,e(u,this),s=y,u;if(u instanceof ui||u instanceof st)return y=f,f=!0,e(u,this),f=y,u;if(u instanceof ot&&this.loopcontrol_target(u.label)===t)return s?(v=!0,u):f?u:(l=!0,h?dt.skip:n(c,u));if(u instanceof fr&&this.parent()===t){if(l)return dt.skip;if(u instanceof bi){if(p=u.expression.evaluate(r),p.length<2)throw t;return p[1]===b||a?(a=!0,li(u)&&(l=!0),e(u,this),u):dt.skip}return e(u,this),u}});y.stack=r.stack.slice();t=t.transform(y)}catch(p){if(p!==t)throw p;}return t});r(bi,function(n,t){return n.body=ur(n.body,t),n});r(oi,function(n,t){return n.body=ur(n.body,t),n});nt.DEFMETHOD("remove_initializers",function(){this.definitions.forEach(function(n){n.value=null})});nt.DEFMETHOD("to_assignments",function(){var t=this.definitions.reduce(function(t,i){if(i.value){var r=n(e,i.name,i.name);t.push(n(y,i,{operator:"=",left:r,right:i.value}))}return t},[]);return t.length==0?null:u.from_array(t)});r(nt,function(t){return t.definitions.length==0?n(c,t):t});r(it,function(n,t){return n=w.prototype.optimize.call(n,t),t.option("unused")&&n.name&&n.name.unreferenced()&&(n.name=null),n});r(a,function(r,u){var f,o,d,y,k,c,p,h,g,l;if(u.option("unsafe"))if(f=r.expression,f instanceof e&&f.undeclared())switch(f.name){case"Array":if(r.args.length!=1)return n(vt,r,{elements:r.args}).transform(u);break;case"Object":if(r.args.length==0)return n(ii,r,{properties:[]});break;case"String":if(r.args.length==0)return n(s,r,{value:""});if(r.args.length<=1)return n(t,r,{left:r.args[0],operator:"+",right:n(s,r,{value:""})}).transform(u);break;case"Number":if(r.args.length==0)return n(kt,r,{value:0});if(r.args.length==1)return n(v,r,{expression:r.args[0],operator:"+"}).transform(u);case"Boolean":if(r.args.length==0)return n(or,r);if(r.args.length==1)return n(v,r,{expression:n(v,null,{expression:r.args[0],operator:"!"}),operator:"!"}).transform(u);break;case"Function":if(fe(r.args,function(n){return n instanceof s}))try{c="(function("+r.args.slice(0,-1).map(function(n){return n.value}).join(",")+"){"+r.args[r.args.length-1].value+"})()";o=nf(c);o.figure_out_scope({screw_ie8:u.option("screw_ie8")});d=new sr(u.options);o=o.transform(d);o.figure_out_scope({screw_ie8:u.option("screw_ie8")});o.mangle_names();try{o.walk(new b(function(n){if(n instanceof w){y=n;throw o;}}))}catch(a){if(a!==o)throw a;}return k=y.argnames.map(function(t,i){return n(s,r.args[i],{value:t.print_to_string()})}),c=vf(),i.prototype._codegen.call(y,y,c),c=c.toString().replace(/^\{|\}$/g,""),k.push(n(s,r.args[r.args.length-1],{value:c})),r.args=k,r}catch(a){if(a instanceof du)u.warn("Error parsing code passed to new Function [{file}:{line},{col}]",r.args[r.args.length-1].start),u.warn(a.toString());else{console.log(a);throw a;}}}else{if(f instanceof at&&f.property=="toString"&&r.args.length==0)return n(t,r,{left:n(s,r,{value:""}),operator:"+",right:f.expression}).transform(u);if(f instanceof at&&f.expression instanceof vt&&f.property=="join")n:{if(p=r.args.length==0?",":r.args[0].evaluate(u)[1],p==null)break n;return(h=f.expression.elements.reduce(function(n,t){var i,r;return t=t.evaluate(u),n.length==0||t.length==1?n.push(t):(i=n[n.length-1],i.length==2?(r=""+i[1]+p+t[1],n[n.length-1]=[er(u,r,i[0]),r]):n.push(t)),n},[]),h.length==0)?n(s,r,{value:""}):h.length==1?h[0][0]:p==""?(g=h[0][0]instanceof s||h[1][0]instanceof s?h.shift()[0]:n(s,r,{value:""}),h.reduce(function(i,r){return n(t,r[0],{operator:"+",left:i,right:r[0]})},g).transform(u)):(l=r.clone(),l.expression=l.expression.clone(),l.expression.expression=l.expression.expression.clone(),l.expression.expression.elements=h.map(function(n){return n[0]}),ci(r,l))}}return u.option("side_effects")&&r.expression instanceof it&&r.args.length==0&&!ht.prototype.has_side_effects.call(r.expression,u)?n(et,r).transform(u):u.option("drop_console")&&r.expression instanceof ut&&r.expression.expression instanceof e&&r.expression.expression.name=="console"&&r.expression.expression.undeclared()?n(et,r).transform(u):r.evaluate(u)[0]});r(lt,function(t,i){if(i.option("unsafe")){var r=t.expression;if(r instanceof e&&r.undeclared())switch(r.name){case"Object":case"RegExp":case"Function":case"Error":case"Array":return n(a,t,t).transform(i)}}return t});r(u,function(t,i){if(!i.option("side_effects"))return t;if(!t.car.has_side_effects(i)){var r;if(!(t.cdr instanceof e&&t.cdr.name=="eval"&&t.cdr.undeclared()&&(r=i.parent())instanceof a&&r.expression===t))return t.cdr}if(i.option("cascade")){if(t.car instanceof y&&!t.car.left.has_side_effects(i)){if(t.car.left.equivalent_to(t.cdr))return t.car;if(t.cdr instanceof a&&t.cdr.expression.equivalent_to(t.car.left))return t.cdr.expression=t.car,t.cdr}if(!t.car.has_side_effects(i)&&!t.cdr.has_side_effects(i)&&t.car.equivalent_to(t.cdr))return t.car}return t.cdr instanceof v&&t.cdr.operator=="void"&&!t.cdr.expression.has_side_effects(i)?(t.cdr.operator=t.car,t.cdr):t.cdr instanceof et?n(v,t,{operator:"void",expression:t.car}):t});bt.DEFMETHOD("lift_sequences",function(n){if(n.option("sequences")&&this.expression instanceof u){var i=this.expression,t=i.to_array();return this.expression=t.pop(),t.push(this),u.from_array(t).transform(n)}return this});r(kr,function(n,t){return n.lift_sequences(t)});r(v,function(i,r){i=i.lift_sequences(r);var u=i.expression;if(r.option("booleans")&&r.in_boolean_context()){switch(i.operator){case"!":if(u instanceof v&&u.operator=="!")return u.expression;break;case"typeof":return r.warn("Boolean expression always true [{file}:{line},{col}]",i.start),n(hi,i)}u instanceof t&&i.operator=="!"&&(i=ci(i,u.negate(r)))}return i.evaluate(r)[0]});t.DEFMETHOD("lift_sequences",function(n){var i,t;if(n.option("sequences")){if(this.left instanceof u)return i=this.left,t=i.to_array(),this.left=t.pop(),t.push(this),u.from_array(t).transform(n);if(this.right instanceof u&&this instanceof y&&!wr(this.left,n))return i=this.right,t=i.to_array(),this.right=t.pop(),t.push(this),u.from_array(t).transform(n)}return this});vr=tt("== === != !== * & | ^");r(t,function(i,r){var o=r.has_directive("use asm")?yt:function(n,t){if(t||!(i.left.has_side_effects(r)||i.right.has_side_effects(r))){n&&(i.operator=n);var u=i.left;i.left=i.right;i.right=u}},u,f,h;if(vr(i.operator)&&(i.right instanceof k&&!(i.left instanceof k)&&(i.left instanceof t&&iu[i.left.operator]>=iu[i.operator]||o(null,!0)),/^[!=]==?$/.test(i.operator))){if(i.left instanceof e&&i.right instanceof l){if(i.right.consequent instanceof e&&i.right.consequent.definition()===i.left.definition()){if(/^==/.test(i.operator))return i.right.condition;if(/^!=/.test(i.operator))return i.right.condition.negate(r)}if(i.right.alternative instanceof e&&i.right.alternative.definition()===i.left.definition()){if(/^==/.test(i.operator))return i.right.condition.negate(r);if(/^!=/.test(i.operator))return i.right.condition}}if(i.right instanceof e&&i.left instanceof l){if(i.left.consequent instanceof e&&i.left.consequent.definition()===i.right.definition()){if(/^==/.test(i.operator))return i.left.condition;if(/^!=/.test(i.operator))return i.left.condition.negate(r)}if(i.left.alternative instanceof e&&i.left.alternative.definition()===i.right.definition()){if(/^==/.test(i.operator))return i.left.condition.negate(r);if(/^!=/.test(i.operator))return i.left.condition}}}if(i=i.lift_sequences(r),r.option("comparisons"))switch(i.operator){case"===":case"!==":(i.left.is_string(r)&&i.right.is_string(r)||i.left.is_boolean()&&i.right.is_boolean())&&(i.operator=i.operator.substr(0,2));case"==":case"!=":i.left instanceof s&&i.left.value=="undefined"&&i.right instanceof v&&i.right.operator=="typeof"&&r.option("unsafe")&&(i.right.expression instanceof e&&i.right.expression.undeclared()||(i.right=i.right.expression,i.left=n(et,i.left).optimize(r),i.operator.length==2&&(i.operator+="=")))}if(r.option("booleans")&&r.in_boolean_context())switch(i.operator){case"&&":if(u=i.left.evaluate(r),f=i.right.evaluate(r),u.length>1&&!u[1]||f.length>1&&!f[1])return r.warn("Boolean && always false [{file}:{line},{col}]",i.start),n(or,i);if(u.length>1&&u[1])return f[0];if(f.length>1&&f[1])return u[0];break;case"||":if(u=i.left.evaluate(r),f=i.right.evaluate(r),u.length>1&&u[1]||f.length>1&&f[1])return r.warn("Boolean || always true [{file}:{line},{col}]",i.start),n(hi,i);if(u.length>1&&!u[1])return f[0];if(f.length>1&&!f[1])return u[0];break;case"+":if(u=i.left.evaluate(r),f=i.right.evaluate(r),u.length>1&&u[0]instanceof s&&u[1]||f.length>1&&f[0]instanceof s&&f[1])return r.warn("+ in boolean context always true [{file}:{line},{col}]",i.start),n(hi,i)}if(r.option("comparisons")){(!(r.parent()instanceof t)||r.parent()instanceof y)&&(h=n(v,i,{operator:"!",expression:i.negate(r)}),i=ci(i,h));switch(i.operator){case"<":o(">");break;case"<=":o(">=")}}return i.operator=="+"&&i.right instanceof s&&i.right.getValue()===""&&i.left instanceof t&&i.left.operator=="+"&&i.left.is_string(r)?i.left:(r.option("evaluate")&&i.operator=="+"&&(i.left instanceof k&&i.right instanceof t&&i.right.operator=="+"&&i.right.left instanceof k&&i.right.is_string(r)&&(i=n(t,i,{operator:"+",left:n(s,null,{value:""+i.left.getValue()+i.right.left.getValue(),start:i.left.start,end:i.right.left.end}),right:i.right.right})),i.right instanceof k&&i.left instanceof t&&i.left.operator=="+"&&i.left.right instanceof k&&i.left.is_string(r)&&(i=n(t,i,{operator:"+",left:i.left.left,right:n(s,null,{value:""+i.left.right.getValue()+i.right.getValue(),start:i.left.right.start,end:i.right.end})})),i.left instanceof t&&i.left.operator=="+"&&i.left.is_string(r)&&i.left.right instanceof k&&i.right instanceof t&&i.right.operator=="+"&&i.right.left instanceof k&&i.right.is_string(r)&&(i=n(t,i,{operator:"+",left:n(t,i.left,{operator:"+",left:i.left.left,right:n(s,null,{value:""+i.left.right.getValue()+i.right.left.getValue(),start:i.left.right.start,end:i.right.left.end})}),right:i.right.right}))),i.right instanceof t&&i.right.operator==i.operator&&(i.operator=="*"||i.operator=="&&"||i.operator=="||"))?(i.left=n(t,i.left,{operator:i.operator,left:i.left,right:i.right.left}),i.right=i.right.right,i.transform(r)):i.evaluate(r)[0]});r(e,function(t,i){if(t.undeclared()){var r=i.option("global_defs");if(r&&r.hasOwnProperty(t.name))return er(i,r[t.name],t);switch(t.name){case"undefined":return n(et,t);case"NaN":return n(wu,t);case"Infinity":return n(kf,t)}}return t});r(et,function(t,i){var r,u,f;return i.option("unsafe")&&(r=i.find_parent(h),u=r.find_variable("undefined"),u)?(f=n(e,t,{name:"undefined",scope:r,thedef:u}),f.reference(),f):t});yr=["+","-","/","*","%",">>","<<",">>>","|","^","&"];r(y,function(n,i){return n=n.lift_sequences(i),n.operator=="="&&n.left instanceof e&&n.right instanceof t&&n.right.left instanceof e&&n.right.left.name==n.left.name&&lr(n.right.operator,yr)&&(n.operator=n.right.operator+"=",n.right=n.right.right),n});r(l,function(i,r){var h,o,s,f,e;if(!r.option("conditionals"))return i;if(i.condition instanceof u)return h=i.condition.car,i.condition=i.condition.cdr,u.cons(h,i);if(o=i.condition.evaluate(r),o.length>1)return o[1]?(r.warn("Condition always true [{file}:{line},{col}]",i.start),i.consequent):(r.warn("Condition always false [{file}:{line},{col}]",i.start),i.alternative);if(s=o[0].negate(r),ci(o[0],s)===s&&(i=n(l,i,{condition:s,consequent:i.alternative,alternative:i.consequent})),f=i.consequent,e=i.alternative,f instanceof y&&e instanceof y&&f.operator==e.operator&&f.left.equivalent_to(e.left))return n(y,i,{operator:f.operator,left:f.left,right:n(l,i,{condition:i.condition,consequent:f.right,alternative:e.right})});if(f instanceof a&&e.TYPE===f.TYPE&&f.args.length==e.args.length&&f.expression.equivalent_to(e.expression)){if(f.args.length==0)return n(u,i,{car:i.condition,cdr:f});if(f.args.length==1)return f.args[0]=n(l,i,{condition:i.condition,consequent:f.args[0],alternative:e.args[0]}),f}return f instanceof l&&f.alternative.equivalent_to(e)?n(l,i,{condition:n(t,i,{left:i.condition,operator:"&&",right:f.condition}),consequent:f.consequent,alternative:e}):i});r(hf,function(i,r){if(r.option("booleans")){var u=r.parent();return u instanceof t&&(u.operator=="=="||u.operator=="!=")?(r.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]",{operator:u.operator,value:i.value,file:u.start.file,line:u.start.line,col:u.start.col}),n(kt,i,{value:+i.value})):n(v,i,{operator:"!",expression:n(kt,i,{value:1-i.value})})}return i});r(si,function(t,i){var r=t.property,u;if(r instanceof s&&i.option("properties")){if(r=r.getValue(),nu(r)?i.option("screw_ie8"):te(r))return n(at,t,{expression:t.expression,property:r});u=parseFloat(r);isNaN(u)||u.toString()!=r||(t.property=n(kt,t.property,{value:u}))}return t});r(vt,cr);r(ii,cr);r(dr,cr)}(),function(){function k(n){var t="prefix"in n?n.prefix:n.type=="UnaryExpression"?!0:!1;return new(t?v:kr)({start:h(n),end:p(n),operator:n.operator,expression:r(n.argument)})}function h(n){return new fu({file:n.loc&&n.loc.source,line:n.loc&&n.loc.start.line,col:n.loc&&n.loc.start.column,pos:n.start,endpos:n.start})}function p(n){return new fu({file:n.loc&&n.loc.source,line:n.loc&&n.loc.end.line,col:n.loc&&n.loc.end.column,pos:n.end,endpos:n.end})}function n(n,t,i){var u="function From_Moz_"+n+"(M){\n";return u+="return new mytype({\nstart: my_start_token(M),\nend: my_end_token(M)",i&&i.split(/\s*,\s*/).forEach(function(n){var t=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(n);if(!t)throw new Error("Can't understand property map: "+n);var i="M."+t[1],r=t[2],f=t[3];if(u+=",\n"+f+": ",r=="@")u+=i+".map(from_moz)";else if(r==">")u+="from_moz("+i+")";else if(r=="=")u+=i;else if(r=="%")u+="from_moz("+i+").body";else throw new Error("Can't understand operator in propmap: "+n);}),u+="\n})}",u=new Function("mytype","my_start_token","my_end_token","from_moz","return("+u+")")(t,h,p,r),b[n]=u}function r(n){w.push(n);var t=n!=null?b[n.type](n):null;return w.pop(),t}var b={TryStatement:function(n){return new oi({start:h(n),end:p(n),body:r(n.block).body,bcatch:r(n.handlers[0]),bfinally:n.finalizer?new wr(r(n.finalizer)):null})},CatchClause:function(n){return new ki({start:h(n),end:p(n),argname:r(n.param),body:r(n.body).body})},ObjectExpression:function(n){return new ii({start:h(n),end:p(n),properties:n.properties.map(function(n){var t=n.key,u=t.type=="Identifier"?t.name:t.value,i={start:h(t),end:p(n.value),key:u,value:r(n.value)};switch(n.kind){case"init":return new su(i);case"set":return i.value.name=r(t),new hu(i);case"get":return i.value.name=r(t),new cu(i)}})})},SequenceExpression:function(n){return u.from_array(n.expressions.map(r))},MemberExpression:function(n){return new(n.computed?si:at)({start:h(n),end:p(n),property:n.computed?r(n.property):n.property.name,expression:r(n.object)})},SwitchCase:function(n){return new(n.test?bi:pr)({start:h(n),end:p(n),expression:r(n.test),body:n.consequent.map(r)})},Literal:function(n){var i=n.value,t={start:h(n),end:p(n)};if(i===null)return new of(t);switch(typeof i){case"string":return t.value=i,new s(t);case"number":return t.value=i,new kt(t);case"boolean":return new(i?hi:or)(t);default:return t.value=i,new dr(t)}},UnaryExpression:k,UpdateExpression:k,Identifier:function(n){var t=w[w.length-2];return new(n.name=="this"?tr:t.type=="LabeledStatement"?nr:t.type=="VariableDeclarator"&&t.id===n?t.kind=="const"?au:lu:t.type=="FunctionExpression"?t.id===n?yu:vu:t.type=="FunctionDeclaration"?t.id===n?ff:vu:t.type=="CatchClause"?pu:t.type=="BreakStatement"||t.type=="ContinueStatement"?ef:e)({start:h(n),end:p(n),name:n.name})}},w;n("Node",f);n("Program",pt,"body@body");n("Function",it,"id>name, params@argnames, body%body");n("EmptyStatement",c);n("BlockStatement",i,"body@body");n("ExpressionStatement",o,"expression>body");n("IfStatement",rt,"test>condition, consequent>body, alternate>alternative");n("LabeledStatement",fi,"label>label, body>body");n("BreakStatement",ot,"label>label");n("ContinueStatement",ei,"label>label");n("WithStatement",pi,"object>expression, body>body");n("SwitchStatement",st,"discriminant>expression, cases@body");n("ReturnStatement",ft,"argument>value");n("ThrowStatement",ou,"argument>value");n("WhileStatement",yi,"test>condition, body>body");n("DoWhileStatement",yr,"test>condition, body>body");n("ForStatement",g,"init>init, test>condition, update>step, body>body");n("ForInStatement",ct,"left>init, right>object, body>body");n("DebuggerStatement",rr);n("FunctionDeclaration",wt,"id>name, params@argnames, body%body");n("VariableDeclaration",ti,"declarations@definitions");n("VariableDeclarator",br,"id>name, init>value");n("ThisExpression",tr);n("ArrayExpression",vt,"elements@elements");n("FunctionExpression",it,"id>name, params@argnames, body%body");n("BinaryExpression",t,"operator=operator, left>left, right>right");n("AssignmentExpression",y,"operator=operator, left>left, right>right");n("LogicalExpression",t,"operator=operator, left>left, right>right");n("ConditionalExpression",l,"test>condition, consequent>consequent, alternate>alternative");n("NewExpression",lt,"callee>expression, arguments@args");n("CallExpression",a,"callee>expression, arguments@args");w=null;f.from_mozilla_ast=function(n){var i=w,t;return w=[],t=r(n),w=i,t}}(),hr.AST_Node=f,hr.minify=function(n,t){var i,r,f,u;return t=ai(t,{outSourceMap:null,sourceRoot:null,inSourceMap:null,fromString:!0,warnings:!1,strict:!1,mangle:{},output:null,compress:{}}),i=nf(n,{strict:t.strict}),t.compress&&(r={warnings:t.warnings},wf(r,t.compress),i.figure_out_scope(),f=sr(r),i=i.transform(f)),t.mangle&&(i.figure_out_scope(),i.compute_char_frequency(),i.mangle_names(t.mangle)),u=vf(t.output),i.print(u),{code:u+""}},hr}();