/*!
 * Less - Leaner CSS v2.4.0
 * http://lesscss.org
 *
 * Copyright (c) 2009-2014, Alexis Sellier <self@cloudhead.net>
 * Licensed under the Apache v2 License.
 *
 */
var Less=function(){var t={},i={},n=function(n){var r;if(typeof i[n]!="undefined")r=i[n];else if(typeof t[n]!="undefined")r=t[n].call(this),i[n]=typeof r!="undefined"?r:null,t[n]=undefined;else throw new Error("Can't load '"+n+"' module.");return r};return t["/data/colors"]=function(){var n=n={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return n},t["/data/unit-conversions"]=function(){return{length:{m:1,cm:.01,mm:.001,"in":.0254,px:.0254/96,pt:.0254/72,pc:.0254/6},duration:{s:1,ms:.001},angle:{rad:1/(2*Math.PI),deg:1/360,grad:1/400,turn:1}}},t["/data"]=function(){return{colors:n("/data/colors"),unitConversions:n("/data/unit-conversions")}},t["/contexts"]=function(){var n={},t=function(n,t,i){if(n)for(var r=0;r<i.length;r++)n.hasOwnProperty(i[r])&&(t[i[r]]=n[i[r]])},r=["paths","relativeUrls","rootpath","strictImports","insecure","dumpLineNumbers","compress","syncImport","chunkInput","mime","useFileCache","processImports","reference","pluginManager"],i;return n.Parse=function(n){t(n,this,r);typeof this.paths=="string"&&(this.paths=[this.paths])},i=["paths","compress","ieCompat","strictMath","strictUnits","sourceMap","importMultiple","urlArgs","javascriptEnabled","pluginManager","importantScope"],n.Eval=function(n,r){t(n,this,i);this.frames=r||[];this.importantScope=this.importantScope||[]},n.Eval.prototype.inParenthesis=function(){this.parensStack||(this.parensStack=[]);this.parensStack.push(!0)},n.Eval.prototype.outOfParenthesis=function(){this.parensStack.pop()},n.Eval.prototype.isMathOn=function(){return this.strictMath?this.parensStack&&this.parensStack.length:!0},n.Eval.prototype.isPathRelative=function(n){return!/^(?:[a-z-]+:|\/|#)/i.test(n)},n.Eval.prototype.normalizePath=function(n){var i=n.split("/").reverse(),t;for(n=[];i.length!==0;){t=i.pop();switch(t){case".":break;case"..":n.length===0||n[n.length-1]===".."?n.push(t):n.pop();break;default:n.push(t)}}return n.join("/")},n},t["/functions/function-registry"]=function(){var n=n={_data:{},add:function(n,t){this._data.hasOwnProperty(n);this._data[n]=t},addMultiple:function(n){Object.keys(n).forEach(function(t){this.add(t,n[t])}.bind(this))},get:function(n){return this._data[n]}};return n},t["/functions/function-caller"]=function(){var i=n("/functions/function-registry"),t=function(n,t,r,u){this.name=n.toLowerCase();this.func=i.get(this.name);this.index=r;this.context=t;this.currentFileInfo=u};return t.prototype.isValid=function(){return Boolean(this.func)},t.prototype.call=function(n){return this.func.apply(this,n)},t},t["/tree/node"]=function(){var n=function(){};return n.prototype.toCSS=function(n){var t=[];return this.genCSS(n,{add:function(n){t.push(n)},isEmpty:function(){return t.length===0}}),t.join("")},n.prototype.genCSS=function(n,t){t.add(this.value)},n.prototype.accept=function(n){this.value=n.visit(this.value)},n.prototype.eval=function(){return this},n.prototype._operate=function(n,t,i,r){switch(t){case"+":return i+r;case"-":return i-r;case"*":return i*r;case"/":return i/r}},n.prototype.fround=function(n,t){var i=n&&n.numPrecision;return i==null?t:Number((t+2e-16).toFixed(i))},n.compare=function(t,i){if(!t.compare||i.type==="Quoted"||i.type==="Anonymous"){if(i.compare)return-i.compare(t);if(t.type!==i.type)return undefined}else return t.compare(i);if(t=t.value,i=i.value,!Array.isArray(t))return t===i?0:undefined;if(t.length!==i.length)return undefined;for(var r=0;r<t.length;r++)if(n.compare(t[r],i[r])!==0)return undefined;return 0},n.numericCompare=function(n,t){return n<t?-1:n===t?0:n>t?1:undefined},n},t["/tree/alpha"]=function(){var i=n("/tree/node"),t=function(n){this.value=n};return t.prototype=new i,t.prototype.type="Alpha",t.prototype.accept=function(n){this.value=n.visit(this.value)},t.prototype.eval=function(n){return this.value.eval?new t(this.value.eval(n)):this},t.prototype.genCSS=function(n,t){t.add("alpha(opacity=");this.value.genCSS?this.value.genCSS(n,t):t.add(this.value);t.add(")")},t},t["/tree/color"]=function(){function i(n,t){return Math.min(Math.max(n,0),t)}function u(n){return"#"+n.map(function(n){return n=i(Math.round(n),255),(n<16?"0":"")+n.toString(16)}).join("")}var f=n("/tree/node"),r=n("/data/colors"),t=function(n,t){this.rgb=Array.isArray(n)?n:n.length==6?n.match(/.{2}/g).map(function(n){return parseInt(n,16)}):n.split("").map(function(n){return parseInt(n+n,16)});this.alpha=typeof t=="number"?t:1};return t.prototype=new f,t.prototype.type="Color",t.prototype.luma=function(){var n=this.rgb[0]/255,t=this.rgb[1]/255,i=this.rgb[2]/255;return n=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),t=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),i=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),.2126*n+.7152*t+.0722*i},t.prototype.genCSS=function(n,t){t.add(this.toCSS(n))},t.prototype.toCSS=function(n,t){var e=n&&n.compress&&!t,u,f,r;return this.value?this.value:(f=this.fround(n,this.alpha),f<1)?"rgba("+this.rgb.map(function(n){return i(Math.round(n),255)}).concat(i(f,1)).join(","+(e?"":" "))+")":(u=this.toRGB(),e&&(r=u.split(""),r[1]===r[2]&&r[3]===r[4]&&r[5]===r[6]&&(u="#"+r[1]+r[3]+r[5])),u)},t.prototype.operate=function(n,i,r){for(var f=[],e=this.alpha*(1-r.alpha)+r.alpha,u=0;u<3;u++)f[u]=this._operate(n,i,this.rgb[u],r.rgb[u]);return new t(f,e)},t.prototype.toRGB=function(){return u(this.rgb)},t.prototype.toHSL=function(){var u=this.rgb[0]/255,n=this.rgb[1]/255,t=this.rgb[2]/255,h=this.alpha,i=Math.max(u,n,t),f=Math.min(u,n,t),r,o,s=(i+f)/2,e=i-f;if(i===f)r=o=0;else{o=s>.5?e/(2-i-f):e/(i+f);switch(i){case u:r=(n-t)/e+(n<t?6:0);break;case n:r=(t-u)/e+2;break;case t:r=(u-n)/e+4}r/=6}return{h:r*360,s:o,l:s,a:h}},t.prototype.toHSV=function(){var u=this.rgb[0]/255,n=this.rgb[1]/255,t=this.rgb[2]/255,s=this.alpha,i=Math.max(u,n,t),e=Math.min(u,n,t),r,o,h=i,f=i-e;if(o=i===0?0:f/i,i===e)r=0;else{switch(i){case u:r=(n-t)/f+(n<t?6:0);break;case n:r=(t-u)/f+2;break;case t:r=(u-n)/f+4}r/=6}return{h:r*360,s:o,v:h,a:s}},t.prototype.toARGB=function(){return u([this.alpha*255].concat(this.rgb))},t.prototype.compare=function(n){return n.rgb&&n.rgb[0]===this.rgb[0]&&n.rgb[1]===this.rgb[1]&&n.rgb[2]===this.rgb[2]&&n.alpha===this.alpha?0:undefined},t.fromKeyword=function(n){var i,u=n.toLowerCase();return r.hasOwnProperty(u)?i=new t(r[u].slice(1)):u==="transparent"&&(i=new t([0,0,0],0)),i?(i.value=n,i):void 0},t},t["/tree/value"]=function(){var i=n("/tree/node"),t=function(n){if(this.value=n,!n)throw new Error("Value requires an array argument");};return t.prototype=new i,t.prototype.type="Value",t.prototype.accept=function(n){this.value&&(this.value=n.visitArray(this.value))},t.prototype.eval=function(n){return this.value.length===1?this.value[0].eval(n):new t(this.value.map(function(t){return t.eval(n)}))},t.prototype.genCSS=function(n,t){for(var i=0;i<this.value.length;i++)this.value[i].genCSS(n,t),i+1<this.value.length&&t.add(n&&n.compress?",":", ")},t},t["/tree/keyword"]=function(){var i=n("/tree/node"),t=function(n){this.value=n};return t.prototype=new i,t.prototype.type="Keyword",t.prototype.genCSS=function(n,t){if(this.value==="%")throw{type:"Syntax",message:"Invalid % without number"};t.add(this.value)},t.True=new t("true"),t.False=new t("false"),t},t["/tree/rule"]=function(){function f(n,t){for(var r="",u=t.length,f={add:function(n){r+=n}},i=0;i<u;i++)t[i].eval(n).genCSS(n,f);return r}var i=n("/tree/node"),r=n("/tree/value"),u=n("/tree/keyword"),t=function(n,t,u,f,e,o,s,h){this.name=n;this.value=t instanceof i?t:new r([t]);this.important=u?" "+u.trim():"";this.merge=f;this.index=e;this.currentFileInfo=o;this.inline=s||!1;this.variable=h!==undefined?h:n.charAt&&n.charAt(0)==="@"};return t.prototype=new i,t.prototype.type="Rule",t.prototype.genCSS=function(n,t){t.add(this.name+(n.compress?":":": "),this.currentFileInfo,this.index);try{this.value.genCSS(n,t)}catch(i){i.index=this.index;i.filename=this.currentFileInfo.filename;throw i;}t.add(this.important+(this.inline||n.lastRule&&n.compress?"":";"),this.currentFileInfo,this.index)},t.prototype.eval=function(n){var h=!1,i=this.name,o,c=this.variable,r,s;typeof i!="string"&&(i=i.length===1&&i[0]instanceof u?i[0].value:f(n,i),c=!1);i!=="font"||n.strictMath||(h=!0,n.strictMath=!0);try{if(n.importantScope.push({}),o=this.value.eval(n),!this.variable&&o.type==="DetachedRuleset")throw{message:"Rulesets cannot be evaluated on a property.",index:this.index,filename:this.currentFileInfo.filename};return r=this.important,s=n.importantScope.pop(),!r&&s.important&&(r=s.important),new t(i,o,r,this.merge,this.index,this.currentFileInfo,this.inline,c)}catch(e){typeof e.index!="number"&&(e.index=this.index,e.filename=this.currentFileInfo.filename);throw e;}finally{h&&(n.strictMath=!1)}},t.prototype.makeImportant=function(){return new t(this.name,this.value,"!important",this.merge,this.index,this.currentFileInfo,this.inline)},t},t["/tree/selector"]=function(){var i=n("/tree/node"),t=function(n,t,i,r,u,f){this.elements=n;this.extendList=t;this.condition=i;this.currentFileInfo=u||{};this.isReferenced=f;i||(this.evaldCondition=!0)};return t.prototype=new i,t.prototype.type="Selector",t.prototype.accept=function(n){this.elements&&(this.elements=n.visitArray(this.elements));this.extendList&&(this.extendList=n.visitArray(this.extendList));this.condition&&(this.condition=n.visit(this.condition))},t.prototype.createDerived=function(n,i,r){r=r!=null?r:this.evaldCondition;var u=new t(n,i||this.extendList,null,this.index,this.currentFileInfo,this.isReferenced);return u.evaldCondition=r,u.mediaEmpty=this.mediaEmpty,u},t.prototype.match=function(n){var r=this.elements,u=r.length,t,i;if(n.CacheElements(),t=n._elements.length,t===0||u<t)return 0;for(i=0;i<t;i++)if(r[i].value!==n._elements[i])return 0;return t},t.prototype.CacheElements=function(){if(!this._elements){var n=this.elements.map(function(n){return n.combinator.value+(n.value.value||n.value)}).join("").match(/[,&#\*\.\w-]([\w-]|(\\.))*/g);n?n[0]==="&"&&n.shift():n=[];this._elements=n}},t.prototype.isJustParentSelector=function(){return!this.mediaEmpty&&this.elements.length===1&&this.elements[0].value==="&"&&(this.elements[0].combinator.value===" "||this.elements[0].combinator.value==="")},t.prototype.eval=function(n){var r=this.condition&&this.condition.eval(n),t=this.elements,i=this.extendList;return t=t&&t.map(function(t){return t.eval(n)}),i=i&&i.map(function(t){return t.eval(n)}),this.createDerived(t,i,r)},t.prototype.genCSS=function(n,t){var i,r;if(n&&n.firstSelector||this.elements[0].combinator.value!==""||t.add(" ",this.currentFileInfo,this.index),!this._css)for(i=0;i<this.elements.length;i++)r=this.elements[i],r.genCSS(n,t)},t.prototype.markReferenced=function(){this.isReferenced=!0},t.prototype.getIsReferenced=function(){return!this.currentFileInfo.reference||this.isReferenced},t.prototype.getIsOutput=function(){return this.evaldCondition},t},t["/tree/paren"]=function(){var i=n("/tree/node"),t=function(n){this.value=n};return t.prototype=new i,t.prototype.type="Paren",t.prototype.genCSS=function(n,t){t.add("(");this.value.genCSS(n,t);t.add(")")},t.prototype.eval=function(n){return new t(this.value.eval(n))},t},t["/tree/combinator"]=function(){var r=n("/tree/node"),t=function(n){n===" "?(this.value=" ",this.emptyOrWhitespace=!0):(this.value=n?n.trim():"",this.emptyOrWhitespace=this.value==="")},i;return t.prototype=new r,t.prototype.type="Combinator",i={"":!0," ":!0,"|":!0},t.prototype.genCSS=function(n,t){var r=n.compress||i[this.value]?"":" ";t.add(r+this.value+r)},t},t["/tree/element"]=function(){var r=n("/tree/node"),u=n("/tree/paren"),i=n("/tree/combinator"),t=function(n,t,r,u){this.combinator=n instanceof i?n:new i(n);this.value=typeof t=="string"?t.trim():t?t:"";this.index=r;this.currentFileInfo=u};return t.prototype=new r,t.prototype.type="Element",t.prototype.accept=function(n){var t=this.value;this.combinator=n.visit(this.combinator);typeof t=="object"&&(this.value=n.visit(t))},t.prototype.eval=function(n){return new t(this.combinator,this.value.eval?this.value.eval(n):this.value,this.index,this.currentFileInfo)},t.prototype.genCSS=function(n,t){t.add(this.toCSS(n),this.currentFileInfo,this.index)},t.prototype.toCSS=function(n){n=n||{};var t=this.value,i=n.firstSelector;return t instanceof u&&(n.firstSelector=!0),t=t.toCSS?t.toCSS(n):t,n.firstSelector=i,t===""&&this.combinator.value.charAt(0)==="&"?"":this.combinator.toCSS(n)+t},t},t["/tree/debug-info"]=function(){var n=function(t,i,r){var u="";if(t.dumpLineNumbers&&!t.compress)switch(t.dumpLineNumbers){case"comments":u=n.asComment(i);break;case"mediaquery":u=n.asMediaQuery(i);break;case"all":u=n.asComment(i)+(r||"")+n.asMediaQuery(i)}return u};return n.asComment=function(n){return"/* line "+n.debugInfo.lineNumber+", "+n.debugInfo.fileName+" */\n"},n.asMediaQuery=function(n){var t=n.debugInfo.fileName;return/^[a-z]+:\/\//i.test(t)||(t="file://"+t),"@media -sass-debug-info{filename{font-family:"+t.replace(/([.:\/\\])/g,function(n){return n=="\\"&&(n="/"),"\\"+n})+"}line{font-family:\\00003"+n.debugInfo.lineNumber+"}}\n"},n},t["/functions/default"]=function(){var i=n("/tree/keyword"),r=n("/functions/function-registry"),t={eval:function(){var n=this.value_,t=this.error_;if(t)throw t;if(n!=null)return n?i.True:i.False},value:function(n){this.value_=n},error:function(n){this.error_=n},reset:function(){this.value_=this.error_=null}};return r.add("default",t.eval.bind(t)),t},t["/tree/ruleset"]=function(){var o=n("/tree/node"),r=n("/tree/rule"),i=n("/tree/selector"),u=n("/tree/element"),f=n("/tree/paren"),s=n("/contexts"),e=n("/functions/default"),h=n("/tree/debug-info"),t=function(n,t,i){this.selectors=n;this.rules=t;this._lookups={};this.strictImports=i};return t.prototype=new o,t.prototype.type="Ruleset",t.prototype.isRuleset=!0,t.prototype.isRulesetLike=!0,t.prototype.accept=function(n){this.paths?n.visitArray(this.paths,!0):this.selectors&&(this.selectors=n.visitArray(this.selectors));this.rules&&this.rules.length&&(this.rules=n.visitArray(this.rules))},t.prototype.eval=function(n){var y=this.selectors,l,k,p,i,w=!1,s,f,o,a,b,h,u,c,d,v;if(y&&(k=y.length)){for(l=[],e.error({type:"Syntax",message:"it is currently only allowed in parametric mixin guards,"}),i=0;i<k;i++)p=y[i].eval(n),l.push(p),p.evaldCondition&&(w=!0);e.reset()}else w=!0;for(s=this.rules?this.rules.slice(0):null,f=new t(l,s,this.strictImports),f.originalRuleset=this,f.root=this.root,f.firstRoot=this.firstRoot,f.allowImports=this.allowImports,this.debugInfo&&(f.debugInfo=this.debugInfo),w||(s.length=0),b=n.frames,b.unshift(f),h=n.selectors,h||(n.selectors=h=[]),h.unshift(this.selectors),(f.root||f.allowImports||!f.strictImports)&&f.evalImports(n),u=f.rules,c=u?u.length:0,i=0;i<c;i++)u[i].evalFirst&&(u[i]=u[i].eval(n));for(d=n.mediaBlocks&&n.mediaBlocks.length||0,i=0;i<c;i++)u[i].type==="MixinCall"?(s=u[i].eval(n).filter(function(n){return n instanceof r&&n.variable?!f.variable(n.name):!0}),u.splice.apply(u,[i,1].concat(s)),c+=s.length-1,i+=s.length-1,f.resetCache()):u[i].type==="RulesetCall"&&(s=u[i].eval(n).rules.filter(function(n){return n instanceof r&&n.variable?!1:!0}),u.splice.apply(u,[i,1].concat(s)),c+=s.length-1,i+=s.length-1,f.resetCache());for(i=0;i<u.length;i++)o=u[i],o.evalFirst||(u[i]=o=o.eval?o.eval(n):o);for(i=0;i<u.length;i++)if(o=u[i],o instanceof t&&o.selectors&&o.selectors.length===1&&o.selectors[0].isJustParentSelector())for(u.splice(i--,1),v=0;v<o.rules.length;v++)a=o.rules[v],a instanceof r&&a.variable||u.splice(++i,0,a);if(b.shift(),h.shift(),n.mediaBlocks)for(i=d;i<n.mediaBlocks.length;i++)n.mediaBlocks[i].bubbleSelectors(l);return f},t.prototype.evalImports=function(n){var i=this.rules,t,r;if(i)for(t=0;t<i.length;t++)i[t].type==="Import"&&(r=i[t].eval(n),r&&r.length?(i.splice.apply(i,[t,1].concat(r)),t+=r.length-1):i.splice(t,1,r),this.resetCache())},t.prototype.makeImportant=function(){return new t(this.selectors,this.rules.map(function(n){return n.makeImportant?n.makeImportant():n}),this.strictImports)},t.prototype.matchArgs=function(n){return!n||n.length===0},t.prototype.matchCondition=function(n,t){var i=this.selectors[this.selectors.length-1];return i.evaldCondition?i.condition&&!i.condition.eval(new s.Eval(t,t.frames))?!1:!0:!1},t.prototype.resetCache=function(){this._rulesets=null;this._variables=null;this._lookups={}},t.prototype.variables=function(){return this._variables||(this._variables=this.rules?this.rules.reduce(function(n,t){var i,u;if(t instanceof r&&t.variable===!0&&(n[t.name]=t),t.type==="Import"&&t.root&&t.root.variables){i=t.root.variables();for(u in i)i.hasOwnProperty(u)&&(n[u]=i[u])}return n},{}):{}),this._variables},t.prototype.variable=function(n){return this.variables()[n]},t.prototype.rulesets=function(){if(!this.rules)return null;for(var i=[],r=this.rules,u=r.length,t,n=0;n<u;n++)t=r[n],t.isRuleset&&i.push(t);return i},t.prototype.prependRule=function(n){var t=this.rules;t?t.unshift(n):this.rules=[n]},t.prototype.find=function(n,t,r){t=t||this;var u=[],f,e,o=n.toCSS();return o in this._lookups?this._lookups[o]:(this.rulesets().forEach(function(o){var s,h;if(o!==t)for(s=0;s<o.selectors.length;s++)if(f=n.match(o.selectors[s]),f){if(n.elements.length>f){if(!r||r(o)){for(e=o.find(new i(n.elements.slice(f)),t,r),h=0;h<e.length;++h)e[h].path.push(o);Array.prototype.push.apply(u,e)}}else u.push({rule:o,path:[]});break}}),this._lookups[o]=u,u)},t.prototype.genCSS=function(n,t){function k(n,t){return typeof n.isRulesetLike=="boolean"?n.isRulesetLike:typeof n.isRulesetLike=="function"?n.isRulesetLike(t):!1}var i,s,p=[],u=[],o=[],a,v,r,c,l,e,f,y,w,b;for(n.tabLevel=n.tabLevel||0,this.root||n.tabLevel++,l=n.compress?"":Array(n.tabLevel+1).join("  "),e=n.compress?"":Array(n.tabLevel).join("  "),i=0;i<this.rules.length;i++)r=this.rules[i],k(r,this.root)?o.push(r):r.isCharset&&r.isCharset()?p.push(r):u.push(r);if(u=p.concat(u),!this.root){for(v=h(n,this,e),v&&(t.add(v),t.add(e)),y=this.paths,w=y.length,f=n.compress?",":",\n"+e,i=0;i<w;i++)if(c=y[i],b=c.length)for(i>0&&t.add(f),n.firstSelector=!0,c[0].genCSS(n,t),n.firstSelector=!1,s=1;s<b;s++)c[s].genCSS(n,t);t.add((n.compress?"{":" {\n")+l)}for(i=0;i<u.length;i++)r=u[i],i+1===u.length&&(!this.root||o.length===0||this.firstRoot)&&(n.lastRule=!0),r.genCSS?r.genCSS(n,t):r.value&&t.add(r.value.toString()),n.lastRule?n.lastRule=!1:t.add(n.compress?"":"\n"+l);if(this.root||(t.add(n.compress?"}":"\n"+e+"}"),n.tabLevel--),f=(n.compress?"":"\n")+(this.root?l:e),a=o.length,a)for(u.length&&f&&t.add(f),o[0].genCSS(n,t),i=1;i<a;i++)f&&t.add(f),o[i].genCSS(n,t);t.isEmpty()||n.compress||!this.firstRoot||t.add("\n")},t.prototype.markReferenced=function(){var n;if(this.selectors)for(n=0;n<this.selectors.length;n++)this.selectors[n].markReferenced();if(this.rules)for(n=0;n<this.rules.length;n++)this.rules[n].markReferenced&&this.rules[n].markReferenced()},t.prototype.getIsReferenced=function(){var n,t,i,r;if(this.paths)for(n=0;n<this.paths.length;n++)for(i=this.paths[n],t=0;t<i.length;t++)if(i[t].getIsReferenced&&i[t].getIsReferenced())return!0;if(this.selectors)for(n=0;n<this.selectors.length;n++)if(r=this.selectors[n],r.getIsReferenced&&r.getIsReferenced())return!0;return!1},t.prototype.joinSelectors=function(n,t,i){for(var r=0;r<i.length;r++)this.joinSelector(n,t,i[r])},t.prototype.joinSelector=function(n,t,r){function a(n,t){var e,r,o;if(n.length===0)e=new f(n[0]);else{for(o=[],r=0;r<n.length;r++)o.push(new u(null,n[r],t.index,t.currentFileInfo));e=new f(new i(o))}return e}function v(n,t){var r;return r=new u(null,n,t.index,t.currentFileInfo),new i([r])}function h(n,t,i){function et(n){var t;return n.value.type!=="Paren"?null:(t=n.value.value,t.type!=="Selector")?null:t}var f,w,o,l,r,b,p,e,k=!1,d,nt,tt,g,rt,it,ut,ft;for(l=[],r=[[]],f=0;f<i.elements.length;f++)if(e=i.elements[f],e.value!=="&")if(tt=et(e),tt!=null){for(s(l,r),g=[],it=[],rt=h(g,t,tt),k=k||rt,o=0;o<g.length;o++)ut=v(a(g[o],e),e),y(r,[ut],e,i,it);r=it;l=[]}else l.push(e);else{for(k=!0,b=[],s(l,r),w=0;w<r.length;w++)if(p=r[w],t.length===0)p.length>0&&p[0].elements.push(new u(e.combinator,"",e.index,e.currentFileInfo)),b.push(p);else for(o=0;o<t.length;o++)ft=c(p,t[o],e,i),b.push(ft);r=b;l=[]}for(s(l,r),f=0;f<r.length;f++)d=r[f].length,d>0&&(n.push(r[f]),nt=r[f][d-1],r[f][d-1]=nt.createDerived(nt.elements,i.extendList));return k}function c(n,t,i,r){var f,h,e,o,s;return f=[],n.length>0?(f=n.slice(0),h=f.pop(),e=r.createDerived(h.elements.slice(0))):e=r.createDerived([]),t.length>0&&(o=i.combinator,s=t[0].elements[0],o.emptyOrWhitespace&&!s.combinator.emptyOrWhitespace&&(o=s.combinator),e.elements.push(new u(o,s.value,i.index,i.currentFileInfo)),e.elements=e.elements.concat(t[0].elements.slice(1))),e.elements.length!==0&&f.push(e),t.length>1&&(f=f.concat(t.slice(1))),f}function y(n,t,i,r,u){for(var e,f=0;f<n.length;f++)e=c(n[f],t,i,r),u.push(e);return u}function s(n,t){var u,r;if(n.length!==0){if(t.length===0){t.push([new i(n)]);return}for(u=0;u<t.length;u++)r=t[u],r.length>0?r[r.length-1]=r[r.length-1].createDerived(r[r.length-1].elements.concat(n)):r.push(new i(n))}}var e,o,l;if(o=[],l=h(o,t,r),!l)if(t.length>0)for(o=[],e=0;e<t.length;e++)o.push(t[e].concat(r));else o=[[r]];for(e=0;e<o.length;e++)n.push(o[e])},t},t["/tree/directive"]=function(){var r=n("/tree/node"),i=n("/tree/ruleset"),t=function(n,t,i,r,u,f,e){this.name=n;this.value=t;i&&(this.rules=i,this.rules.allowImports=!0);this.index=r;this.currentFileInfo=u;this.debugInfo=f;this.isReferenced=e};return t.prototype=new r,t.prototype.type="Directive",t.prototype.accept=function(n){var t=this.value,i=this.rules;i&&(this.rules=n.visit(i));t&&(this.value=n.visit(t))},t.prototype.isRulesetLike=function(){return this.rules||!this.isCharset()},t.prototype.isCharset=function(){return"@charset"===this.name},t.prototype.genCSS=function(n,t){var r=this.value,i=this.rules;t.add(this.name,this.currentFileInfo,this.index);r&&(t.add(" "),r.genCSS(n,t));i?(i.type==="Ruleset"&&(i=[i]),this.outputRuleset(n,t,i)):t.add(";")},t.prototype.eval=function(n){var r=this.value,i=this.rules;return r&&(r=r.eval(n)),i&&(i=i.eval(n),i.root=!0),new t(this.name,r,i,this.index,this.currentFileInfo,this.debugInfo,this.isReferenced)},t.prototype.variable=function(n){if(this.rules)return i.prototype.variable.call(this.rules,n)},t.prototype.find=function(){if(this.rules)return i.prototype.find.apply(this.rules,arguments)},t.prototype.rulesets=function(){if(this.rules)return i.prototype.rulesets.apply(this.rules)},t.prototype.markReferenced=function(){var n,t;if(this.isReferenced=!0,this.rules)for(t=this.rules.rules,n=0;n<t.length;n++)t[n].markReferenced&&t[n].markReferenced()},t.prototype.getIsReferenced=function(){return!this.currentFileInfo||!this.currentFileInfo.reference||this.isReferenced},t.prototype.outputRuleset=function(n,t,i){var f=i.length,r,u,e;if(n.tabLevel=(n.tabLevel|0)+1,n.compress){for(t.add("{"),r=0;r<f;r++)i[r].genCSS(n,t);t.add("}");n.tabLevel--;return}if(u="\n"+Array(n.tabLevel).join("  "),e=u+"  ",f){for(t.add(" {"+e),i[0].genCSS(n,t),r=1;r<f;r++)t.add(e),i[r].genCSS(n,t);t.add(u+"}")}else t.add(" {"+u+"}");n.tabLevel--},t},t["/tree/detached-ruleset"]=function(){var i=n("/tree/node"),r=n("/contexts"),t=function(n,t){this.ruleset=n;this.frames=t};return t.prototype=new i,t.prototype.type="DetachedRuleset",t.prototype.evalFirst=!0,t.prototype.accept=function(n){this.ruleset=n.visit(this.ruleset)},t.prototype.eval=function(n){var i=this.frames||n.frames.slice(0);return new t(this.ruleset,i)},t.prototype.callEval=function(n){return this.ruleset.eval(this.frames?new r.Eval(n,this.frames.concat(n.frames)):n)},t},t["/tree/unit"]=function(){var r=n("/tree/node"),i=n("/data/unit-conversions"),t=function(n,t,i){this.numerator=n?n.slice(0).sort():[];this.denominator=t?t.slice(0).sort():[];i?this.backupUnit=i:n&&n.length&&(this.backupUnit=n[0])};return t.prototype=new r,t.prototype.type="Unit",t.prototype.clone=function(){return new t(this.numerator.slice(0),this.denominator.slice(0),this.backupUnit)},t.prototype.genCSS=function(n,t){var i=n&&n.strictUnits;this.numerator.length===1?t.add(this.numerator[0]):!i&&this.backupUnit?t.add(this.backupUnit):!i&&this.denominator.length&&t.add(this.denominator[0])},t.prototype.toString=function(){for(var t=this.numerator.join("*"),n=0;n<this.denominator.length;n++)t+="/"+this.denominator[n];return t},t.prototype.compare=function(n){return this.is(n.toString())?0:undefined},t.prototype.is=function(n){return this.toString().toUpperCase()===n.toUpperCase()},t.prototype.isLength=function(){return Boolean(this.toCSS().match(/px|em|%|in|cm|mm|pc|pt|ex/))},t.prototype.isEmpty=function(){return this.numerator.length===0&&this.denominator.length===0},t.prototype.isSingular=function(){return this.numerator.length<=1&&this.denominator.length===0},t.prototype.map=function(n){for(var t=0;t<this.numerator.length;t++)this.numerator[t]=n(this.numerator[t],!1);for(t=0;t<this.denominator.length;t++)this.denominator[t]=n(this.denominator[t],!0)},t.prototype.usedUnits=function(){var r,t={},u,n;u=function(i){return r.hasOwnProperty(i)&&!t[n]&&(t[n]=i),i};for(n in i)i.hasOwnProperty(n)&&(r=i[n],this.map(u));return t},t.prototype.cancel=function(){for(var i={},t,r,n=0;n<this.numerator.length;n++)t=this.numerator[n],i[t]=(i[t]||0)+1;for(n=0;n<this.denominator.length;n++)t=this.denominator[n],i[t]=(i[t]||0)-1;this.numerator=[];this.denominator=[];for(t in i)if(i.hasOwnProperty(t))if(r=i[t],r>0)for(n=0;n<r;n++)this.numerator.push(t);else if(r<0)for(n=0;n<-r;n++)this.denominator.push(t);this.numerator.sort();this.denominator.sort()},t},t["/tree/dimension"]=function(){var r=n("/tree/node"),i=n("/data/unit-conversions"),u=n("/tree/unit"),f=n("/tree/color"),t=function(n,t){this.value=parseFloat(n);this.unit=t&&t instanceof u?t:new u(t?[t]:undefined)};return t.prototype=new r,t.prototype.type="Dimension",t.prototype.accept=function(n){this.unit=n.visit(this.unit)},t.prototype.eval=function(){return this},t.prototype.toColor=function(){return new f([this.value,this.value,this.value])},t.prototype.genCSS=function(n,t){if(n&&n.strictUnits&&!this.unit.isSingular())throw new Error("Multiple units in dimension. Correct the units or use the unit function. Bad unit: "+this.unit.toString());var i=this.fround(n,this.value),r=String(i);if(i!==0&&i<1e-6&&i>-1e-6&&(r=i.toFixed(20).replace(/0+$/,"")),n&&n.compress){if(i===0&&this.unit.isLength()){t.add(r);return}i>0&&i<1&&(r=r.substr(1))}t.add(r);this.unit.genCSS(n,t)},t.prototype.operate=function(n,i,r){var f=this._operate(n,i,this.value,r.value),u=this.unit.clone();if(i==="+"||i==="-"){if(u.numerator.length===0&&u.denominator.length===0)u.numerator=r.unit.numerator.slice(0),u.denominator=r.unit.denominator.slice(0);else if(r.unit.numerator.length!==0||u.denominator.length!==0){if(r=r.convertTo(this.unit.usedUnits()),n.strictUnits&&r.unit.toString()!==u.toString())throw new Error("Incompatible units. Change the units or use the unit function. Bad units: '"+u.toString()+"' and '"+r.unit.toString()+"'.");f=this._operate(n,i,this.value,r.value)}}else i==="*"?(u.numerator=u.numerator.concat(r.unit.numerator).sort(),u.denominator=u.denominator.concat(r.unit.denominator).sort(),u.cancel()):i==="/"&&(u.numerator=u.numerator.concat(r.unit.denominator).sort(),u.denominator=u.denominator.concat(r.unit.numerator).sort(),u.cancel());return new t(f,u)},t.prototype.compare=function(n){var i,u;if(!(n instanceof t))return undefined;if(this.unit.isEmpty()||n.unit.isEmpty())i=this,u=n;else if(i=this.unify(),u=n.unify(),i.unit.compare(u.unit)!==0)return undefined;return r.numericCompare(i.value,u.value)},t.prototype.unify=function(){return this.convertTo({length:"px",duration:"s",angle:"rad"})},t.prototype.convertTo=function(n){var u=this.value,o=this.unit.clone(),s,f,r,e,h={},c;if(typeof n=="string"){for(s in i)i[s].hasOwnProperty(n)&&(h={},h[s]=n);n=h}c=function(n,t){return r.hasOwnProperty(n)?(u=t?u/(r[n]/r[e]):u*(r[n]/r[e]),e):n};for(f in n)n.hasOwnProperty(f)&&(e=n[f],r=i[f],o.map(c));return o.cancel(),new t(u,o)},t},t["/tree/operation"]=function(){var u=n("/tree/node"),i=n("/tree/color"),r=n("/tree/dimension"),t=function(n,t,i){this.op=n.trim();this.operands=t;this.isSpaced=i};return t.prototype=new u,t.prototype.type="Operation",t.prototype.accept=function(n){this.operands=n.visit(this.operands)},t.prototype.eval=function(n){var u=this.operands[0].eval(n),f=this.operands[1].eval(n);if(n.isMathOn()){if(u instanceof r&&f instanceof i&&(u=u.toColor()),f instanceof r&&u instanceof i&&(f=f.toColor()),!u.operate)throw{type:"Operation",message:"Operation on an invalid type"};return u.operate(n,this.op,f)}return new t(this.op,[u,f],this.isSpaced)},t.prototype.genCSS=function(n,t){this.operands[0].genCSS(n,t);this.isSpaced&&t.add(" ");t.add(this.op);this.isSpaced&&t.add(" ");this.operands[1].genCSS(n,t)},t},t["/tree/variable"]=function(){var i=n("/tree/node"),t=function(n,t,i){this.name=n;this.index=t;this.currentFileInfo=i||{}};return t.prototype=new i,t.prototype.type="Variable",t.prototype.eval=function(n){var r,i=this.name;if(i.indexOf("@@")===0&&(i="@"+new t(i.slice(1),this.index,this.currentFileInfo).eval(n).value),this.evaluating)throw{type:"Name",message:"Recursive variable definition for "+i,filename:this.currentFileInfo.filename,index:this.index};if(this.evaluating=!0,r=this.find(n.frames,function(t){var r=t.variable(i),u;if(r)return r.important&&(u=n.importantScope[n.importantScope.length-1],u.important=r.important),r.value.eval(n)}),r)return this.evaluating=!1,r;throw{type:"Name",message:"variable "+i+" is undefined",filename:this.currentFileInfo.filename,index:this.index};},t.prototype.find=function(n,t){for(var i=0,r;i<n.length;i++)if(r=t.call(n,n[i]),r)return r;return null},t},t["/tree/attribute"]=function(){var i=n("/tree/node"),t=function(n,t,i){this.key=n;this.op=t;this.value=i};return t.prototype=new i,t.prototype.type="Attribute",t.prototype.eval=function(n){return new t(this.key.eval?this.key.eval(n):this.key,this.op,this.value&&this.value.eval?this.value.eval(n):this.value)},t.prototype.genCSS=function(n,t){t.add(this.toCSS(n))},t.prototype.toCSS=function(n){var t=this.key.toCSS?this.key.toCSS(n):this.key;return this.op&&(t+=this.op,t+=this.value.toCSS?this.value.toCSS(n):this.value),"["+t+"]"},t},t["/tree/js-eval-node"]=function(){var i=n("/tree/node"),r=n("/tree/variable"),t=function(){};return t.prototype=new i,t.prototype.evaluateJavaScript=function(n,t){var o,f=this,s={},i,u;if(t.javascriptEnabled!==undefined&&!t.javascriptEnabled)throw{message:"You are using JavaScript, which has been disabled.",filename:this.currentFileInfo.filename,index:this.index};n=n.replace(/@\{([\w-]+)\}/g,function(n,i){return f.jsify(new r("@"+i,f.index,f.currentFileInfo).eval(t))});try{n=new Function("return ("+n+")")}catch(e){throw{message:"JavaScript evaluation error: "+e.message+" from `"+n+"`",filename:this.currentFileInfo.filename,index:this.index};}i=t.frames[0].variables();for(u in i)i.hasOwnProperty(u)&&(s[u.slice(1)]={value:i[u].value,toJS:function(){return this.value.eval(t).toCSS()}});try{o=n.call(s)}catch(e){throw{message:"JavaScript evaluation error: '"+e.name+": "+e.message.replace(/["]/g,"'")+"'",filename:this.currentFileInfo.filename,index:this.index};}return o},t.prototype.jsify=function(n){return Array.isArray(n.value)&&n.value.length>1?"["+n.value.map(function(n){return n.toCSS()}).join(", ")+"]":n.toCSS()},t},t["/tree/quoted"]=function(){var i=n("/tree/node"),r=n("/tree/js-eval-node"),u=n("/tree/variable"),t=function(n,t,i,r,u){this.escaped=i==null?!0:i;this.value=t||"";this.quote=n.charAt(0);this.index=r;this.currentFileInfo=u};return t.prototype=new r,t.prototype.type="Quoted",t.prototype.genCSS=function(n,t){this.escaped||t.add(this.quote,this.currentFileInfo,this.index);t.add(this.value);this.escaped||t.add(this.quote)},t.prototype.containsVariables=function(){return this.value.match(/(`([^`]+)`)|@\{([\w-]+)\}/)},t.prototype.eval=function(n){function f(n,t,i){var r=n;do n=r,r=n.replace(t,i);while(n!==r);return r}var r=this,i=this.value,e=function(t,i){return String(r.evaluateJavaScript(i,n))},o=function(i,f){var e=new u("@"+f,r.index,r.currentFileInfo).eval(n,!0);return e instanceof t?e.value:e.toCSS()};return i=f(i,/`([^`]+)`/g,e),i=f(i,/@\{([\w-]+)\}/g,o),new t(this.quote+i+this.quote,i,this.escaped,this.index,this.currentFileInfo)},t.prototype.compare=function(n){return n.type!=="Quoted"||this.escaped||n.escaped?n.toCSS&&this.toCSS()===n.toCSS()?0:undefined:i.numericCompare(this.value,n.value)},t},t["/tree/comment"]=function(){var i=n("/tree/node"),r=n("/tree/debug-info"),t=function(n,t,i,r){this.value=n;this.isLineComment=t;this.currentFileInfo=r};return t.prototype=new i,t.prototype.type="Comment",t.prototype.genCSS=function(n,t){this.debugInfo&&t.add(r(n,this),this.currentFileInfo,this.index);t.add(this.value)},t.prototype.isSilent=function(n){var t=this.currentFileInfo&&this.currentFileInfo.reference&&!this.isReferenced,i=n.compress&&this.value[2]!=="!";return this.isLineComment||t||i},t.prototype.markReferenced=function(){this.isReferenced=!0},t.prototype.isRulesetLike=function(n){return Boolean(n)},t},t["/tree/expression"]=function(){var i=n("/tree/node"),r=n("/tree/paren"),u=n("/tree/comment"),t=function(n){if(this.value=n,!n)throw new Error("Expression requires an array parameter");};t.prototype=new i;t.prototype.type="Expression";t.prototype.accept=function(n){this.value=n.visitArray(this.value)};t.prototype.eval=function(n){var i,u=this.parens&&!this.parensInOp,f=!1;return u&&n.inParenthesis(),this.value.length>1?i=new t(this.value.map(function(t){return t.eval(n)})):this.value.length===1?(this.value[0].parens&&!this.value[0].parensInOp&&(f=!0),i=this.value[0].eval(n)):i=this,u&&n.outOfParenthesis(),this.parens&&this.parensInOp&&!n.isMathOn()&&!f&&(i=new r(i)),i};t.prototype.genCSS=function(n,t){for(var i=0;i<this.value.length;i++)this.value[i].genCSS(n,t),i+1<this.value.length&&t.add(" ")};t.prototype.throwAwayComments=function(){this.value=this.value.filter(function(n){return!(n instanceof u)})};var i=n("/tree/node"),r=n("/tree/paren"),u=n("/tree/comment"),t=function(n){if(this.value=n,!n)throw new Error("Expression requires an array parameter");};return t.prototype=new i,t.prototype.type="Expression",t.prototype.accept=function(n){this.value=n.visitArray(this.value)},t.prototype.eval=function(n){var i,u=this.parens&&!this.parensInOp,f=!1;return u&&n.inParenthesis(),this.value.length>1?i=new t(this.value.map(function(t){return t.eval(n)})):this.value.length===1?(this.value[0].parens&&!this.value[0].parensInOp&&(f=!0),i=this.value[0].eval(n)):i=this,u&&n.outOfParenthesis(),this.parens&&this.parensInOp&&!n.isMathOn()&&!f&&(i=new r(i)),i},t.prototype.genCSS=function(n,t){for(var i=0;i<this.value.length;i++)this.value[i].genCSS(n,t),i+1<this.value.length&&t.add(" ")},t.prototype.throwAwayComments=function(){this.value=this.value.filter(function(n){return!(n instanceof u)})},t},t["/tree/call"]=function(){var i=n("/tree/node"),r=n("/functions/function-caller"),t=function(n,t,i,r){this.name=n;this.args=t;this.index=i;this.currentFileInfo=r};return t.prototype=new i,t.prototype.type="Call",t.prototype.accept=function(n){this.args&&(this.args=n.visitArray(this.args))},t.prototype.eval=function(n){var f=this.args.map(function(t){return t.eval(n)}),i,e=new r(this.name,n,this.index,this.currentFileInfo);if(e.isValid())try{if(i=e.call(f),i!=null)return i}catch(u){throw{type:u.type||"Runtime",message:"error evaluating function `"+this.name+"`"+(u.message?": "+u.message:""),index:this.index,filename:this.currentFileInfo.filename};}return new t(this.name,f,this.index,this.currentFileInfo)},t.prototype.genCSS=function(n,t){t.add(this.name+"(",this.currentFileInfo,this.index);for(var i=0;i<this.args.length;i++)this.args[i].genCSS(n,t),i+1<this.args.length&&t.add(", ");t.add(")")},t},t["/tree/url"]=function(){var i=n("/tree/node"),t=function(n,t,i,r){this.value=n;this.currentFileInfo=i;this.index=t;this.isEvald=r};return t.prototype=new i,t.prototype.type="Url",t.prototype.accept=function(n){this.value=n.visit(this.value)},t.prototype.genCSS=function(n,t){t.add("url(");this.value.genCSS(n,t);t.add(")")},t.prototype.eval=function(n){var i=this.value.eval(n),r,f,u;return this.isEvald||(r=this.currentFileInfo&&this.currentFileInfo.rootpath,r&&typeof i.value=="string"&&n.isPathRelative(i.value)&&(i.quote||(r=r.replace(/[\(\)'"\s]/g,function(n){return"\\"+n})),i.value=r+i.value),i.value=n.normalizePath(i.value),n.urlArgs&&(i.value.match(/^\s*data:/)||(f=i.value.indexOf("?")===-1?"?":"&",u=f+n.urlArgs,i.value.indexOf("#")!==-1?i.value=i.value.replace("#",u+"#"):i.value+=u))),new t(i,this.index,this.currentFileInfo,!0)},t},t["/tree/anonymous"]=function(){var i=n("/tree/node"),t=function(n,t,i,r,u){this.value=n;this.index=t;this.mapLines=r;this.currentFileInfo=i;this.rulesetLike=typeof u=="undefined"?!1:u};return t.prototype=new i,t.prototype.type="Anonymous",t.prototype.eval=function(){return new t(this.value,this.index,this.currentFileInfo,this.mapLines,this.rulesetLike)},t.prototype.compare=function(n){return n.toCSS&&this.toCSS()===n.toCSS()?0:undefined},t.prototype.isRulesetLike=function(){return this.rulesetLike},t.prototype.genCSS=function(n,t){t.add(this.value,this.currentFileInfo,this.index,this.mapLines)},t},t["/tree/media"]=function(){var i=n("/tree/ruleset"),r=n("/tree/value"),f=n("/tree/element"),e=n("/tree/selector"),u=n("/tree/anonymous"),o=n("/tree/expression"),s=n("/tree/directive"),t=function(n,t,u,f){this.index=u;this.currentFileInfo=f;var e=this.emptySelectors();this.features=new r(t);this.rules=[new i(e,n)];this.rules[0].allowImports=!0};return t.prototype=new s,t.prototype.type="Media",t.prototype.isRulesetLike=!0,t.prototype.accept=function(n){this.features&&(this.features=n.visit(this.features));this.rules&&(this.rules=n.visitArray(this.rules))},t.prototype.genCSS=function(n,t){t.add("@media ",this.currentFileInfo,this.index);this.features.genCSS(n,t);this.outputRuleset(n,t,this.rules)},t.prototype.eval=function(n){var i,r;n.mediaBlocks||(n.mediaBlocks=[],n.mediaPath=[]);i=new t(null,[],this.index,this.currentFileInfo);this.debugInfo&&(this.rules[0].debugInfo=this.debugInfo,i.debugInfo=this.debugInfo);r=!1;n.strictMath||(r=!0,n.strictMath=!0);try{i.features=this.features.eval(n)}finally{r&&(n.strictMath=!1)}return n.mediaPath.push(i),n.mediaBlocks.push(i),n.frames.unshift(this.rules[0]),i.rules=[this.rules[0].eval(n)],n.frames.shift(),n.mediaPath.pop(),n.mediaPath.length===0?i.evalTop(n):i.evalNested(n)},t.prototype.variable=function(n){return i.prototype.variable.call(this.rules[0],n)},t.prototype.find=function(){return i.prototype.find.apply(this.rules[0],arguments)},t.prototype.rulesets=function(){return i.prototype.rulesets.apply(this.rules[0])},t.prototype.emptySelectors=function(){var t=new f("","&",this.index,this.currentFileInfo),n=[new e([t],null,null,this.index,this.currentFileInfo)];return n[0].mediaEmpty=!0,n},t.prototype.markReferenced=function(){var n,t=this.rules[0].rules;for(this.rules[0].markReferenced(),this.isReferenced=!0,n=0;n<t.length;n++)t[n].markReferenced&&t[n].markReferenced()},t.prototype.evalTop=function(n){var t=this,r;return n.mediaBlocks.length>1&&(r=this.emptySelectors(),t=new i(r,n.mediaBlocks),t.multiMedia=!0),delete n.mediaBlocks,delete n.mediaPath,t},t.prototype.evalNested=function(n){for(var e,f=n.mediaPath.concat([this]),t=0;t<f.length;t++)e=f[t].features instanceof r?f[t].features.value:f[t].features,f[t]=Array.isArray(e)?e:[e];return this.features=new r(this.permute(f).map(function(n){for(n=n.map(function(n){return n.toCSS?n:new u(n)}),t=n.length-1;t>0;t--)n.splice(t,0,new u("and"));return new o(n)})),new i([],[])},t.prototype.permute=function(n){var r,u,t,i;if(n.length===0)return[];if(n.length===1)return n[0];for(r=[],u=this.permute(n.slice(1)),t=0;t<u.length;t++)for(i=0;i<n[0].length;i++)r.push([n[0][i]].concat(u[t]));return r},t.prototype.bubbleSelectors=function(n){n&&(this.rules=[new i(n.slice(0),[this.rules[0]])])},t},t["/tree/import"]=function(){var f=n("/tree/node"),r=n("/tree/media"),i=n("/tree/url"),u=n("/tree/quoted"),e=n("/tree/ruleset"),o=n("/tree/anonymous"),t=function(n,t,i,r,u){if(this.options=i,this.index=r,this.path=n,this.features=t,this.currentFileInfo=u,this.options.less!==undefined||this.options.inline)this.css=!this.options.less||this.options.inline;else{var f=this.getPath();f&&/[#\.\&\?\/]css([\?;].*)?$/.test(f)&&(this.css=!0)}};return t.prototype=new f,t.prototype.type="Import",t.prototype.accept=function(n){this.features&&(this.features=n.visit(this.features));this.path=n.visit(this.path);!this.options.inline&&this.root&&(this.root=n.visit(this.root))},t.prototype.genCSS=function(n,t){this.css&&(t.add("@import ",this.currentFileInfo,this.index),this.path.genCSS(n,t),this.features&&(t.add(" "),this.features.genCSS(n,t)),t.add(";"))},t.prototype.getPath=function(){return this.path instanceof u?this.path.value:this.path instanceof i?this.path.value.value:null},t.prototype.isVariableImport=function(){var n=this.path;return(n instanceof i&&(n=n.value),n instanceof u)?n.containsVariables():!0},t.prototype.evalForImport=function(n){var r=this.path;return r instanceof i&&(r=r.value),new t(r.eval(n),this.features,this.options,this.index,this.currentFileInfo)},t.prototype.evalPath=function(n){var t=this.path.eval(n),u=this.currentFileInfo&&this.currentFileInfo.rootpath,r;return t instanceof i||(u&&(r=t.value,r&&n.isPathRelative(r)&&(t.value=u+r)),t.value=n.normalizePath(t.value)),t},t.prototype.eval=function(n){var i,s=this.features&&this.features.eval(n),u,f;if(this.skip&&(typeof this.skip=="function"&&(this.skip=this.skip()),this.skip))return[];if(this.options.inline)return u=new o(this.root,0,{filename:this.importedFilename},!0,!0),this.features?new r([u],this.features.value):[u];if(this.css){if(f=new t(this.evalPath(n),s,this.options,this.index),!f.css&&this.error)throw this.error;return f}return i=new e(null,this.root.rules.slice(0)),i.evalImports(n),this.features?new r(i.rules,this.features.value):i.rules},t},t["/tree/mixin-definition"]=function(){var e=n("/tree/selector"),o=n("/tree/element"),u=n("/tree/ruleset"),r=n("/tree/rule"),f=n("/tree/expression"),i=n("/contexts"),t=function(n,t,i,r,u,f){this.name=n;this.selectors=[new e([new o(null,n,this.index,this.currentFileInfo)])];this.params=t;this.condition=r;this.variadic=u;this.arity=t.length;this.rules=i;this._lookups={};this.required=t.reduce(function(n,t){return t.name&&(!t.name||t.value)?n:n+1},0);this.frames=f};return t.prototype=new u,t.prototype.type="MixinDefinition",t.prototype.evalFirst=!0,t.prototype.accept=function(n){this.params&&this.params.length&&(this.params=n.visitArray(this.params));this.rules=n.visitArray(this.rules);this.condition&&(this.condition=n.visit(this.condition))},t.prototype.evalParams=function(n,t,e,o){var v=new u(null,null),b,c,l=this.params.slice(0),s,h,a,y,k,p,w=0;if(t=new i.Eval(t,[v].concat(t.frames)),e)for(e=e.slice(0),w=e.length,s=0;s<w;s++)if(c=e[s],y=c&&c.name){for(k=!1,h=0;h<l.length;h++)if(!o[h]&&y===l[h].name){o[h]=c.value.eval(n);v.prependRule(new r(y,c.value.eval(n)));k=!0;break}if(k){e.splice(s,1);s--;continue}else throw{type:"Runtime",message:"Named argument for "+this.name+" "+e[s].name+" not found"};}for(p=0,s=0;s<l.length;s++)if(!o[s]){if(c=e&&e[p],y=l[s].name)if(l[s].variadic){for(b=[],h=p;h<w;h++)b.push(e[h].value.eval(n));v.prependRule(new r(y,new f(b).eval(n)))}else{if(a=c&&c.value,a)a=a.eval(n);else if(l[s].value)a=l[s].value.eval(t),v.resetCache();else throw{type:"Runtime",message:"wrong number of arguments for "+this.name+" ("+w+" for "+this.arity+")"};v.prependRule(new r(y,a));o[s]=a}if(l[s].variadic&&e)for(h=p;h<w;h++)o[h]=e[h].value.eval(n);p++}return v},t.prototype.makeImportant=function(){var n=this.rules?this.rules.map(function(n){return n.makeImportant?n.makeImportant(!0):n}):this.rules;return new t(this.name,this.params,n,this.condition,this.variadic,this.frames)},t.prototype.eval=function(n){return new t(this.name,this.params,this.rules,this.condition,this.variadic,this.frames||n.frames.slice(0))},t.prototype.evalCall=function(n,t,e){var s=[],h=this.frames?this.frames.concat(n.frames):n.frames,c=this.evalParams(n,new i.Eval(n,h),t,s),l,o;return c.prependRule(new r("@arguments",new f(s).eval(n))),l=this.rules.slice(0),o=new u(null,l),o.originalRuleset=this,o=o.eval(new i.Eval(n,[this,c].concat(h))),e&&(o=o.makeImportant()),o},t.prototype.matchCondition=function(n,t){return this.condition&&!this.condition.eval(new i.Eval(t,[this.evalParams(t,new i.Eval(t,this.frames?this.frames.concat(t.frames):t.frames),n,[])].concat(this.frames).concat(t.frames)))?!1:!0},t.prototype.matchArgs=function(n,t){var r=n&&n.length||0,u,i;if(this.variadic){if(r<this.required-1)return!1}else if(r<this.required||r>this.params.length)return!1;for(u=Math.min(r,this.arity),i=0;i<u;i++)if(!this.params[i].name&&!this.params[i].variadic&&n[i].value.eval(t).toCSS()!=this.params[i].value.eval(t).toCSS())return!1;return!0},t},t["/tree/mixin-call"]=function(){var u=n("/tree/node"),f=n("/tree/selector"),i=n("/tree/mixin-definition"),r=n("/functions/default"),t=function(n,t,i,r,u){this.selector=new f(n);this.arguments=t&&t.length?t:null;this.index=i;this.currentFileInfo=r;this.important=u};return t.prototype=new u,t.prototype.type="MixinCall",t.prototype.accept=function(n){this.selector&&(this.selector=n.visit(this.selector));this.arguments&&(this.arguments=n.visitArray(this.arguments))},t.prototype.eval=function(n){function et(i,u){var f,o;for(t=0;t<2;t++){for(e[t]=!0,r.value(t),f=0;f<u.length&&e[t];f++)o=u[f],o.matchCondition&&(e[t]=e[t]&&o.matchCondition(null,n));i.matchCondition&&(e[t]=e[t]&&i.matchCondition(s,n))}return e[0]||e[1]?e[0]!=e[1]?e[1]?k:d:b:it}var a,u,g,s,v=[],nt=!1,o,f,t,y,tt,p,h=[],c,e=[],w,it=-1,b=0,k=1,d=2,l,rt,ut;for(s=this.arguments&&this.arguments.map(function(t){return{name:t.name,value:t.value.eval(n)}}),ut=function(t){return t.matchArgs(null,n)},o=0;o<n.frames.length;o++)if((a=n.frames[o].find(this.selector,null,ut)).length>0){for(tt=!0,f=0;f<a.length;f++){for(u=a[f].rule,g=a[f].path,y=!1,t=0;t<n.frames.length;t++)if(!(u instanceof i)&&u===(n.frames[t].originalRuleset||n.frames[t])){y=!0;break}y||u.matchArgs(s,n)&&(c={mixin:u,group:et(u,g)},c.group!==it&&h.push(c),nt=!0)}for(r.reset(),l=[0,0,0],f=0;f<h.length;f++)l[h[f].group]++;if(l[b]>0)w=d;else if(w=k,l[k]+l[d]>1)throw{type:"Runtime",message:"Ambiguous use of `default()` found when matching for `"+this.format(s)+"`",index:this.index,filename:this.currentFileInfo.filename};for(f=0;f<h.length;f++)if(c=h[f].group,c===b||c===w)try{u=h[f].mixin;u instanceof i||(rt=u.originalRuleset||u,u=new i("",[],u.rules,null,!1),u.originalRuleset=rt);Array.prototype.push.apply(v,u.evalCall(n,s,this.important).rules)}catch(ft){throw{message:ft.message,index:this.index,filename:this.currentFileInfo.filename,stack:ft.stack};}if(nt){if(!this.currentFileInfo||!this.currentFileInfo.reference)for(o=0;o<v.length;o++)p=v[o],p.markReferenced&&p.markReferenced();return v}}if(tt)throw{type:"Runtime",message:"No matching definition was found for `"+this.format(s)+"`",index:this.index,filename:this.currentFileInfo.filename};else throw{type:"Name",message:this.selector.toCSS().trim()+" is undefined",index:this.index,filename:this.currentFileInfo.filename};},t.prototype.format=function(n){return this.selector.toCSS().trim()+"("+(n?n.map(function(n){var t="";return n.name&&(t+=n.name+":"),t+(n.value.toCSS?n.value.toCSS():"???")}).join(", "):"")+")"},t},t["/tree/javascript"]=function(){var r=n("/tree/js-eval-node"),u=n("/tree/dimension"),f=n("/tree/quoted"),i=n("/tree/anonymous"),t=function(n,t,i,r){this.escaped=t;this.expression=n;this.index=i;this.currentFileInfo=r};return t.prototype=new r,t.prototype.type="JavaScript",t.prototype.eval=function(n){var t=this.evaluateJavaScript(this.expression,n);return typeof t=="number"?new u(t):typeof t=="string"?new f('"'+t+'"',t,this.escaped,this.index):Array.isArray(t)?new i(t.join(", ")):new i(t)},t},t["/tree/assignment"]=function(){var i=n("/tree/node"),t=function(n,t){this.key=n;this.value=t};return t.prototype=new i,t.prototype.type="Assignment",t.prototype.accept=function(n){this.value=n.visit(this.value)},t.prototype.eval=function(n){return this.value.eval?new t(this.key,this.value.eval(n)):this},t.prototype.genCSS=function(n,t){t.add(this.key+"=");this.value.genCSS?this.value.genCSS(n,t):t.add(this.value)},t},t["/tree/condition"]=function(){var i=n("/tree/node"),t=function(n,t,i,r,u){this.op=n.trim();this.lvalue=t;this.rvalue=i;this.index=r;this.negate=u};return t.prototype=new i,t.prototype.type="Condition",t.prototype.accept=function(n){this.lvalue=n.visit(this.lvalue);this.rvalue=n.visit(this.rvalue)},t.prototype.eval=function(n){var t=function(n,t,r){switch(n){case"and":return t&&r;case"or":return t||r;default:switch(i.compare(t,r)){case-1:return n==="<"||n==="=<"||n==="<=";case 0:return n==="="||n===">="||n==="=<"||n==="<=";case 1:return n===">"||n===">=";default:return!1}}}(this.op,this.lvalue.eval(n),this.rvalue.eval(n));return this.negate?!t:t},t},t["/tree/unicode-descriptor"]=function(){var i=n("/tree/node"),t=function(n){this.value=n};return t.prototype=new i,t.prototype.type="UnicodeDescriptor",t},t["/tree/negative"]=function(){var i=n("/tree/node"),r=n("/tree/operation"),u=n("/tree/dimension"),t=function(n){this.value=n};return t.prototype=new i,t.prototype.type="Negative",t.prototype.genCSS=function(n,t){t.add("-");this.value.genCSS(n,t)},t.prototype.eval=function(n){return n.isMathOn()?new r("*",[new u(-1),this.value]).eval(n):new t(this.value.eval(n))},t},t["/tree/extend"]=function(){var i=n("/tree/node"),t=function t(n,i,r){this.selector=n;this.option=i;this.index=r;this.object_id=t.next_id++;this.parent_ids=[this.object_id];switch(i){case"all":this.allowBefore=!0;this.allowAfter=!0;break;default:this.allowBefore=!1;this.allowAfter=!1}};return t.next_id=0,t.prototype=new i,t.prototype.type="Extend",t.prototype.accept=function(n){this.selector=n.visit(this.selector)},t.prototype.eval=function(n){return new t(this.selector.eval(n),this.option,this.index)},t.prototype.clone=function(){return new t(this.selector,this.option,this.index)},t.prototype.findSelfSelectors=function(n){for(var r=[],i,t=0;t<n.length;t++)i=n[t].elements,t>0&&i.length&&i[0].combinator.value===""&&(i[0].combinator.value=" "),r=r.concat(n[t].elements);this.selfSelectors=[{elements:r}]},t},t["/tree/ruleset-call"]=function(){var i=n("/tree/node"),r=n("/tree/variable"),t=function(n){this.variable=n};return t.prototype=new i,t.prototype.type="RulesetCall",t.prototype.eval=function(n){var t=new r(this.variable).eval(n);return t.callEval(n)},t},t["/tree"]=function(){var t={};return t.Node=n("/tree/node"),t.Alpha=n("/tree/alpha"),t.Color=n("/tree/color"),t.Directive=n("/tree/directive"),t.DetachedRuleset=n("/tree/detached-ruleset"),t.Operation=n("/tree/operation"),t.Dimension=n("/tree/dimension"),t.Unit=n("/tree/unit"),t.Keyword=n("/tree/keyword"),t.Variable=n("/tree/variable"),t.Ruleset=n("/tree/ruleset"),t.Element=n("/tree/element"),t.Attribute=n("/tree/attribute"),t.Combinator=n("/tree/combinator"),t.Selector=n("/tree/selector"),t.Quoted=n("/tree/quoted"),t.Expression=n("/tree/expression"),t.Rule=n("/tree/rule"),t.Call=n("/tree/call"),t.URL=n("/tree/url"),t.Import=n("/tree/import"),t.mixin={Call:n("/tree/mixin-call"),Definition:n("/tree/mixin-definition")},t.Comment=n("/tree/comment"),t.Anonymous=n("/tree/anonymous"),t.Value=n("/tree/value"),t.JavaScript=n("/tree/javascript"),t.Assignment=n("/tree/assignment"),t.Condition=n("/tree/condition"),t.Paren=n("/tree/paren"),t.Media=n("/tree/media"),t.UnicodeDescriptor=n("/tree/unicode-descriptor"),t.Negative=n("/tree/negative"),t.Extend=n("/tree/extend"),t.RulesetCall=n("/tree/ruleset-call"),t},t["/environment/environment"]=function(){var n=function(n,t){var i,r,u;this.fileManagers=t||[];n=n||{};var f=[],e=f.concat(["encodeBase64","mimeLookup","charsetLookup","getSourceMapGenerator"]);for(i=0;i<e.length;i++)r=e[i],u=n[r],u?this[r]=u.bind(n):i<f.length&&this.warn("missing required function in environment - "+r)};return n.prototype.getFileManager=function(n,t,i,r,u){for(var e,o=this.fileManagers,f=o.length-1;f>=0;f--)if(e=o[f],e[u?"supportsSync":"supports"](n,t,i,r))return e;return null},n.prototype.addFileManager=function(n){this.fileManagers.push(n)},n.prototype.clearFileManagers=function(){this.fileManagers=[]},n},t["/environment/abstract-file-manager"]=function(){var n=function(){};return n.prototype.getPath=function(n){var t=n.lastIndexOf("?");return(t>0&&(n=n.slice(0,t)),t=n.lastIndexOf("/"),t<0&&(t=n.lastIndexOf("\\")),t<0)?"":n.slice(0,t+1)},n.prototype.tryAppendLessExtension=function(n){return/(\.[a-z]*$)|([\?;].*)$/.test(n)?n:n+".less"},n.prototype.supportsSync=function(){return!1},n.prototype.alwaysMakePathsAbsolute=function(){return!1},n.prototype.isPathAbsolute=function(n){return/^(?:[a-z-]+:|\/|\\|#)/i.test(n)},n.prototype.join=function(n,t){return n?n+t:t},n.prototype.pathDiff=function(n,t){var r=this.extractUrlParts(n),u=this.extractUrlParts(t),i,o,f,s,e="";if(r.hostPart!==u.hostPart)return"";for(o=Math.max(u.directories.length,r.directories.length),i=0;i<o;i++)if(u.directories[i]!==r.directories[i])break;for(s=u.directories.slice(i),f=r.directories.slice(i),i=0;i<s.length-1;i++)e+="../";for(i=0;i<f.length-1;i++)e+=f[i]+"/";return e},n.prototype.extractUrlParts=function(n,t){var o=/^((?:[a-z-]+:)?\/+?(?:[^\/\?#]*\/)|([\/\\]))?((?:[^\/\\\?#]*[\/\\])*)([^\/\\\?#]*)([#\?].*)?$/i,i=n.match(o),f={},u=[],r,e;if(!i)throw new Error("Could not parse sheet href - '"+n+"'");if(t&&(!i[1]||i[2])){if(e=t.match(o),!e)throw new Error("Could not parse page url - '"+t+"'");i[1]=i[1]||e[1]||"";i[2]||(i[3]=e[3]+i[3])}if(i[3]){for(u=i[3].replace(/\\/g,"/").split("/"),r=0;r<u.length;r++)u[r]==="."&&(u.splice(r,1),r-=1);for(r=0;r<u.length;r++)u[r]===".."&&r>0&&(u.splice(r-1,2),r-=2)}return f.hostPart=i[1],f.directories=u,f.path=(i[1]||"")+u.join("/"),f.fileUrl=f.path+(i[4]||""),f.url=f.fileUrl+(i[5]||""),f},n},t["/visitors/visitor"]=function(){function t(n){return n}function r(n,t){var u,i;for(u in n)if(n.hasOwnProperty(u)){i=n[u];switch(typeof i){case"function":i.prototype&&i.prototype.type&&(i.prototype.typeIndex=t++);break;case"object":t=r(i,t)}}return t}var f=n("/tree"),e={visitDeeper:!0},i=!1,u=function(n){this._implementation=n;this._visitFnCache=[];i||(r(f,1),i=!0)};return u.prototype={visit:function(n){var o,a;if(!n||(o=n.typeIndex,!o))return n;var u=this._visitFnCache,i=this._implementation,s=o<<1,l=s|1,r=u[s],f=u[l],h=e,c;return h.visitDeeper=!0,r||(c="visit"+n.type,r=i[c]||t,f=i[c+"Out"]||t,u[s]=r,u[l]=f),r!==t&&(a=r.call(i,n,h),i.isReplacing&&(n=a)),h.visitDeeper&&n&&n.accept&&n.accept(this),f!=t&&f.call(i,n),n},visitArray:function(n,t){var f,i,u,r;if(!n)return n;if(f=n.length,t||!this._implementation.isReplacing){for(i=0;i<f;i++)this.visit(n[i]);return n}for(u=[],i=0;i<f;i++)(r=this.visit(n[i]),r!==undefined)&&(r.splice?r.length&&this.flatten(r,u):u.push(r));return u},flatten:function(n,t){t||(t=[]);for(var i,o,f,r,u=0,e=n.length;u<e;u++)if(i=n[u],i!==undefined){if(!i.splice){t.push(i);continue}for(f=0,o=i.length;f<o;f++)(r=i[f],r!==undefined)&&(r.splice?r.length&&this.flatten(r,t):t.push(r))}return t}},u},t["/visitors/import-sequencer"]=function(){function n(n){this.imports=[];this.variableImports=[];this._onSequencerEmpty=n;this._currentDepth=0}return n.prototype.addImport=function(n){var i=this,t={callback:n,args:null,isReady:!1};return this.imports.push(t),function(){t.args=Array.prototype.slice.call(arguments,0);t.isReady=!0;i.tryRun()}},n.prototype.addVariableImport=function(n){this.variableImports.push(n)},n.prototype.tryRun=function(){var n,t;this._currentDepth++;try{for(;;){while(this.imports.length>0){if(n=this.imports[0],!n.isReady)return;this.imports=this.imports.slice(1);n.callback.apply(null,n.args)}if(this.variableImports.length===0)break;t=this.variableImports[0];this.variableImports=this.variableImports.slice(1);t()}}finally{this._currentDepth--}this._currentDepth===0&&this._onSequencerEmpty&&this._onSequencerEmpty()},n},t["/visitors/import-visitor"]=function(){var t=n("/contexts"),r=n("/visitors/visitor"),u=n("/visitors/import-sequencer"),i=function(n,i){this._visitor=new r(this);this._importer=n;this._finish=i;this.context=new t.Eval;this.importCount=0;this.onceFileDetectionMap={};this.recursionDetector={};this._sequencer=new u(this._onSequencerEmpty.bind(this))};return i.prototype={isReplacing:!1,run:function(n){try{this._visitor.visit(n)}catch(t){this.error=t}this.isFinished=!0;this._sequencer.tryRun()},_onSequencerEmpty:function(){this.isFinished&&this._finish(this.error)},visitImport:function(n,i){var f=n.options.inline,r,u;(!n.css||f)&&(r=new t.Eval(this.context,this.context.frames.slice(0)),u=r.frames[0],this.importCount++,n.isVariableImport()?this._sequencer.addVariableImport(this.processImportNode.bind(this,n,r,u)):this.processImportNode(n,r,u));i.visitDeeper=!1},processImportNode:function(n,t,i){var r,h=n.options.inline,e,u,o,s;try{r=n.evalForImport(t)}catch(f){f.filename||(f.index=n.index,f.filename=n.currentFileInfo.filename);n.css=!0;n.error=f}if(r&&(!r.css||h)){for(r.options.multiple&&(t.importMultiple=!0),e=r.css===undefined,u=0;u<i.rules.length;u++)if(i.rules[u]===n){i.rules[u]=r;break}o=this.onImported.bind(this,r,t);s=this._sequencer.addImport(o);this._importer.push(r.getPath(),e,r.currentFileInfo,r.options,s)}else this.importCount--,this.isFinished&&this._sequencer.tryRun()},onImported:function(n,t,i,r,u,f){var s;i&&(i.filename||(i.index=n.index,i.filename=n.currentFileInfo.filename),this.error=i);var e=this,h=n.options.inline,o=u||f in e.recursionDetector;if(t.importMultiple||(n.skip=o?!0:function(){return f in e.onceFileDetectionMap?!0:(e.onceFileDetectionMap[f]=!0,!1)}),r&&(n.root=r,n.importedFilename=f,!h&&(t.importMultiple||!o))){e.recursionDetector[f]=!0;s=this.context;this.context=t;try{this._visitor.visit(r)}catch(i){this.error=i}this.context=s}e.importCount--;e.isFinished&&e._sequencer.tryRun()},visitRule:function(n,t){t.visitDeeper=!1},visitDirective:function(n){this.context.frames.unshift(n)},visitDirectiveOut:function(){this.context.frames.shift()},visitMixinDefinition:function(n){this.context.frames.unshift(n)},visitMixinDefinitionOut:function(){this.context.frames.shift()},visitRuleset:function(n){this.context.frames.unshift(n)},visitRulesetOut:function(){this.context.frames.shift()},visitMedia:function(n){this.context.frames.unshift(n.rules[0])},visitMediaOut:function(){this.context.frames.shift()}},i},t["/visitors/extend-visitor"]=function(){var t=n("/tree"),r=n("/visitors/visitor"),u=function(){this._visitor=new r(this);this.contexts=[];this.allExtendsStack=[[]]},i;return u.prototype={run:function(n){return n=this._visitor.visit(n),n.allExtends=this.allExtendsStack[0],n},visitRule:function(n,t){t.visitDeeper=!1},visitMixinDefinition:function(n,t){t.visitDeeper=!1},visitRuleset:function(n){var s;if(!n.root){for(var u,f,e=[],r,o=n.rules,l=o?o.length:0,i=0;i<l;i++)n.rules[i]instanceof t.Extend&&(e.push(o[i]),n.extendOnEveryPath=!0);for(s=n.paths,i=0;i<s.length;i++){var h=s[i],a=h[h.length-1],c=a.extendList;for(r=c?c.slice(0).concat(e):e,r&&(r=r.map(function(n){return n.clone()})),u=0;u<r.length;u++)this.foundExtends=!0,f=r[u],f.findSelfSelectors(h),f.ruleset=n,u===0&&(f.firstExtendOnThisSelectorPath=!0),this.allExtendsStack[this.allExtendsStack.length-1].push(f)}this.contexts.push(n.selectors)}},visitRulesetOut:function(n){n.root||(this.contexts.length=this.contexts.length-1)},visitMedia:function(n){n.allExtends=[];this.allExtendsStack.push(n.allExtends)},visitMediaOut:function(){this.allExtendsStack.length=this.allExtendsStack.length-1},visitDirective:function(n){n.allExtends=[];this.allExtendsStack.push(n.allExtends)},visitDirectiveOut:function(){this.allExtendsStack.length=this.allExtendsStack.length-1}},i=function(){this._visitor=new r(this)},i.prototype={run:function(n){var t=new u,i;return(this.extendIndicies={},t.run(n),!t.foundExtends)?n:(n.allExtends=n.allExtends.concat(this.doExtendChaining(n.allExtends,n.allExtends)),this.allExtendsStack=[n.allExtends],i=this._visitor.visit(n),this.checkExtendsForNonMatched(n.allExtends),i)},checkExtendsForNonMatched:function(n){var t=this.extendIndicies;n.filter(function(n){return!n.hasFoundMatches&&n.parent_ids.length==1}).forEach(function(n){var i="_unknown_";try{i=n.selector.toCSS({})}catch(r){}t[n.index+" "+i]||(t[n.index+" "+i]=!0)})},doExtendChaining:function(n,i,r){var h,c,l,e=[],s,a=this,v,o,u,f,y,p;for(r=r||0,h=0;h<n.length;h++)for(c=0;c<i.length;c++)(o=n[h],u=i[c],o.parent_ids.indexOf(u.object_id)>=0)||(v=[u.selfSelectors[0]],l=a.findMatch(o,v),l.length&&(o.hasFoundMatches=!0,o.selfSelectors.forEach(function(n){s=a.extendSelector(l,v,n);f=new t.Extend(u.selector,u.option,0);f.selfSelectors=s;s[s.length-1].extendList=[f];e.push(f);f.ruleset=u.ruleset;f.parent_ids=f.parent_ids.concat(u.parent_ids,o.parent_ids);u.firstExtendOnThisSelectorPath&&(f.firstExtendOnThisSelectorPath=!0,u.ruleset.paths.push(s))})));if(e.length){if(this.extendChainCount++,r>100){y="{unable to calculate}";p="{unable to calculate}";try{y=e[0].selfSelectors[0].toCSS();p=e[0].selector.toCSS()}catch(w){}throw{message:"extend circular reference detected. One of the circular extends is currently:"+y+":extend("+p+")"};}return e.concat(a.doExtendChaining(e,i,r+1))}return e},visitRule:function(n,t){t.visitDeeper=!1},visitMixinDefinition:function(n,t){t.visitDeeper=!1},visitSelector:function(n,t){t.visitDeeper=!1},visitRuleset:function(n){var e;if(!n.root){for(var f,r,u=this.allExtendsStack[this.allExtendsStack.length-1],o=[],s=this,i,t=0;t<u.length;t++)for(r=0;r<n.paths.length;r++)(i=n.paths[r],n.extendOnEveryPath)||(e=i[i.length-1].extendList,e&&e.length)||(f=this.findMatch(u[t],i),f.length&&(u[t].hasFoundMatches=!0,u[t].selfSelectors.forEach(function(n){o.push(s.extendSelector(f,i,n))})));n.paths=n.paths.concat(o)}},findMatch:function(n,t){for(var o,r,s,h,f,a=this,c=n.selector.elements,e=[],i,l=[],u=0;u<t.length;u++)for(o=t[u],r=0;r<o.elements.length;r++)for(s=o.elements[r],(n.allowBefore||u===0&&r===0)&&e.push({pathIndex:u,index:r,matched:0,initialCombinator:s.combinator}),f=0;f<e.length;f++)i=e[f],h=s.combinator.value,h===""&&r===0&&(h=" "),!a.isElementValuesEqual(c[i.matched].value,s.value)||i.matched>0&&c[i.matched].combinator.value!==h?i=null:i.matched++,i&&(i.finished=i.matched===c.length,i.finished&&!n.allowAfter&&(r+1<o.elements.length||u+1<t.length)&&(i=null)),i?i.finished&&(i.length=c.length,i.endPathIndex=u,i.endPathElementIndex=r+1,e.length=0,l.push(i)):(e.splice(f,1),f--);return l},isElementValuesEqual:function(n,i){if(typeof n=="string"||typeof i=="string")return n===i;if(n instanceof t.Attribute)return n.op!==i.op||n.key!==i.key?!1:!n.value||!i.value?n.value||i.value?!1:!0:(n=n.value.value||n.value,i=i.value.value||i.value,n===i);if(n=n.value,i=i.value,n instanceof t.Selector){if(!(i instanceof t.Selector)||n.elements.length!==i.elements.length)return!1;for(var r=0;r<n.elements.length;r++)if(n.elements[r].combinator.value!==i.elements[r].combinator.value&&(r!==0||(n.elements[r].combinator.value||" ")!==(i.elements[r].combinator.value||" "))||!this.isElementValuesEqual(n.elements[r].value,i.elements[r].value))return!1;return!0}return!1},extendSelector:function(n,i,r){for(var f=0,e=0,u=[],c,l,o,h,s=0;s<n.length;s++)o=n[s],c=i[o.pathIndex],l=new t.Element(o.initialCombinator,r.elements[0].value,r.elements[0].index,r.elements[0].currentFileInfo),o.pathIndex>f&&e>0&&(u[u.length-1].elements=u[u.length-1].elements.concat(i[f].elements.slice(e)),e=0,f++),h=c.elements.slice(e,o.index).concat([l]).concat(r.elements.slice(1)),f===o.pathIndex&&s>0?u[u.length-1].elements=u[u.length-1].elements.concat(h):(u=u.concat(i.slice(f,o.pathIndex)),u.push(new t.Selector(h))),f=o.endPathIndex,e=o.endPathElementIndex,e>=i[f].elements.length&&(e=0,f++);return f<i.length&&e>0&&(u[u.length-1].elements=u[u.length-1].elements.concat(i[f].elements.slice(e)),f++),u.concat(i.slice(f,i.length))},visitRulesetOut:function(){},visitMedia:function(n){var t=n.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1]);t=t.concat(this.doExtendChaining(t,n.allExtends));this.allExtendsStack.push(t)},visitMediaOut:function(){var n=this.allExtendsStack.length-1;this.checkExtendsForNonMatched(this.allExtendsStack[n]);this.allExtendsStack.length=n},visitDirective:function(n){var t=n.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1]);t=t.concat(this.doExtendChaining(t,n.allExtends));this.allExtendsStack.push(t)},visitDirectiveOut:function(){var n=this.allExtendsStack.length-1;this.checkExtendsForNonMatched(this.allExtendsStack[n]);this.allExtendsStack.length=n}},i},t["/visitors/join-selector-visitor"]=function(){var i=n("/visitors/visitor"),t=function(){this.contexts=[[]];this._visitor=new i(this)};return t.prototype={run:function(n){return this._visitor.visit(n)},visitRule:function(n,t){t.visitDeeper=!1},visitMixinDefinition:function(n,t){t.visitDeeper=!1},visitRuleset:function(n){var r=this.contexts[this.contexts.length-1],i=[],t;this.contexts.push(i);n.root||(t=n.selectors,t&&(t=t.filter(function(n){return n.getIsOutput()}),n.selectors=t.length?t:t=null,t&&n.joinSelectors(i,r,t)),t||(n.rules=null),n.paths=i)},visitRulesetOut:function(){this.contexts.length=this.contexts.length-1},visitMedia:function(n){var t=this.contexts[this.contexts.length-1];n.rules[0].root=t.length===0||t[0].multiMedia}},t},t["/visitors/to-css-visitor"]=function(){var t=n("/tree"),r=n("/visitors/visitor"),i=function(n){this._visitor=new r(this);this._context=n};return i.prototype={isReplacing:!0,run:function(n){return this._visitor.visit(n)},visitRule:function(n){if(!n.variable)return n},visitMixinDefinition:function(n){n.frames=[]},visitExtend:function(){},visitComment:function(n){if(!n.isSilent(this._context))return n},visitMedia:function(n,t){if(n.accept(this._visitor),t.visitDeeper=!1,n.rules.length)return n},visitDirective:function(n,i){var u,r,f;if(n.name==="@charset"){if(!n.getIsReferenced())return;if(this.charset)return n.debugInfo?(u=new t.Comment("/* "+n.toCSS(this._context).replace(/\n/g,"")+" */\n"),u.debugInfo=n.debugInfo,this._visitor.visit(u)):void 0;this.charset=!0}if(n.rules&&n.rules.rules){if(this._mergeRules(n.rules.rules),n.accept(this._visitor),i.visitDeeper=!1,n.getIsReferenced())return n;if(!n.rules.rules)return;for(r=0;r<n.rules.rules.length;r++)if(f=n.rules.rules[r],f.getIsReferenced&&f.getIsReferenced())return n.markReferenced(),n;return}if(n.getIsReferenced())return n},checkPropertiesInRoot:function(n){for(var i,r=0;r<n.length;r++)if(i=n[r],i instanceof t.Rule&&!i.variable)throw{message:"properties must be inside selector blocks, they cannot be in the root.",index:i.index,filename:i.currentFileInfo?i.currentFileInfo.filename:null};},visitRuleset:function(n,i){var e,u=[],r,o,f;if(n.firstRoot&&this.checkPropertiesInRoot(n.rules),n.root)n.accept(this._visitor),i.visitDeeper=!1,(n.firstRoot||n.rules&&n.rules.length>0)&&u.splice(0,0,n);else{for(n.paths&&(n.paths=n.paths.filter(function(n){var i;for(n[0].elements[0].combinator.value===" "&&(n[0].elements[0].combinator=new t.Combinator("")),i=0;i<n.length;i++)if(n[i].getIsReferenced()&&n[i].getIsOutput())return!0;return!1})),r=n.rules,o=r?r.length:0,f=0;f<o;){if(e=r[f],e&&e.rules){u.push(this._visitor.visit(e));r.splice(f,1);o--;continue}f++}o>0?n.accept(this._visitor):n.rules=null;i.visitDeeper=!1;r=n.rules;r&&(this._mergeRules(r),r=n.rules);r&&(this._removeDuplicateRules(r),r=n.rules);r&&r.length>0&&n.paths.length>0&&u.splice(0,0,n)}return u.length===1?u[0]:u},_removeDuplicateRules:function(n){var r,u,i,f,e;if(n)for(r={},f=n.length-1;f>=0;f--)i=n[f],i instanceof t.Rule&&(r[i.name]?(u=r[i.name],u instanceof t.Rule&&(u=r[i.name]=[r[i.name].toCSS(this._context)]),e=i.toCSS(this._context),u.indexOf(e)!==-1?n.splice(f,1):u.push(e)):r[i.name]=i)},_mergeRules:function(n){var r,f,i,e,u;if(n){for(r={},u=0;u<n.length;u++)i=n[u],i instanceof t.Rule&&i.merge&&(e=[i.name,i.important?"!":""].join(","),r[e]?n.splice(u--,1):r[e]=[],r[e].push(i));Object.keys(r).map(function(n){function o(n){return new t.Expression(n.map(function(n){return n.value}))}function s(n){return new t.Value(n.map(function(n){return n}))}if(f=r[n],f.length>1){i=f[0];var e=[],u=[];f.map(function(n){n.merge==="+"&&(u.length>0&&e.push(o(u)),u=[]);u.push(n)});e.push(o(u));i.value=s(e)}})}}},i},t["/visitors"]=function(){return{Visitor:n("/visitors/visitor"),ImportVisitor:n("/visitors/import-visitor"),ExtendVisitor:n("/visitors/extend-visitor"),JoinSelectorVisitor:n("/visitors/join-selector-visitor"),ToCSSVisitor:n("/visitors/to-css-visitor")}},t["/utils"]=function(){var n=n={getLocation:function(n,t){for(var i=n+1,r=null,u=-1;--i>=0&&t.charAt(i)!=="\n";)u++;return typeof n=="number"&&(r=(t.slice(0,n).match(/\n/g)||"").length),{line:r,column:u}}};return n},t["/less-error"]=function(){var r=n("/utils"),t=function(n,t,i){var f;if(Error.call(this),f=n.filename||i,t&&f){var o=t.contents[f],s=r.getLocation(n.index,o),u=s.line,c=s.column,h=n.call&&r.getLocation(n.call,o).line,e=o.split("\n");this.type=n.type||"Syntax";this.filename=f;this.index=n.index;this.line=typeof u=="number"?u+1:null;this.callLine=h+1;this.callExtract=e[h];this.column=c;this.extract=[e[u-1],e[u],e[u+1]]}this.message=n.message;this.stack=n.stack},i;return typeof Object.create=="undefined"?(i=function(){},i.prototype=Error.prototype,t.prototype=new i):t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t},t["/parser/chunker"]=function(){return function(n,t){function v(t){var r=i-l;r<512&&!t||!r||(w.push(n.slice(l,i+1)),l=i+1)}for(var u=n.length,o=0,e=0,s,y,c,p,w=[],l=0,h,f,r,a,i=0;i<u;i++)if(f=n.charCodeAt(i),(!(f>=97)||!(f<=122))&&!(f<34))switch(f){case 40:e++;y=i;continue;case 41:if(--e<0)return t("missing opening `(`",i);continue;case 59:e||v();continue;case 123:o++;s=i;continue;case 125:if(--o<0)return t("missing opening `{`",i);o||e||v();continue;case 92:if(i<u-1){i++;continue}return t("unescaped `\\`",i);case 34:case 39:case 96:for(a=0,h=i,i=i+1;i<u;i++)if(r=n.charCodeAt(i),!(r>96)){if(r==f){a=1;break}if(r==92){if(i==u-1)return t("unescaped `\\`",i);i++}}if(a)continue;return t("unmatched `"+String.fromCharCode(f)+"`",h);case 47:if(e||i==u-1)continue;if(r=n.charCodeAt(i+1),r==47){for(i=i+2;i<u;i++)if(r=n.charCodeAt(i),r<=13&&(r==10||r==13))break}else if(r==42){for(c=h=i,i=i+2;i<u-1;i++)if((r=n.charCodeAt(i),r==125&&(p=i),r==42)&&n.charCodeAt(i+1)==47)break;if(i==u-1)return t("missing closing `*/`",h);i++}continue;case 42:if(i<u-1&&n.charCodeAt(i+1)==47)return t("unmatched `/*`",i);continue}return o!==0?c>s&&p>c?t("missing closing `}` or `*/`",s):t("missing closing `}`",s):e!==0?t("missing closing `)`",y):(v(!0),w)}},t["/parser/parser-input"]=function(){var t=n("/parser/chunker");return function(){function w(){n.i>u&&(i=i.slice(n.i-u),u=n.i)}var r,f,h=[],o,c,s,i,u,n={},e;n.save=function(){u=n.i;h.push({current:i,i:n.i,j:f})};n.restore=function(t){(n.i>o||n.i===o&&t&&!c)&&(o=n.i,c=t);var r=h.pop();i=r.current;u=n.i=r.i;f=r.j};n.forget=function(){h.pop()};n.isWhitespace=function(t){var u=n.i+(t||0),i=r.charCodeAt(u);return i===l||i===y||i===a||i===v};n.$=function(t){var o=typeof t,u,f;return o==="string"?r.charAt(n.i)!==t?null:(e(1),t):(w(),!(u=t.exec(i)))?null:(f=u[0].length,e(f),typeof u=="string"?u:u.length===1?u[0]:u)};n.$re=function(t){n.i>u&&(i=i.slice(n.i-u),u=n.i);var r=t.exec(i);return r?(e(r[0].length),typeof r=="string")?r:r.length===1?r[0]:r:null};n.$char=function(t){return r.charAt(n.i)!==t?null:(e(1),t)};var l=32,a=9,v=10,y=13,b=43,k=44,p=47,d=57;return n.autoCommentAbsorb=!0,n.commentStore=[],n.finished=!1,e=function(t){for(var tt=n.i,it=f,d=n.i-u,g=n.i+i.length-d,rt=n.i+=t,c=r,h,b,o,w,nt,k;n.i<g;n.i++){if(h=c.charCodeAt(n.i),n.autoCommentAbsorb&&h===p){if(b=c.charAt(n.i+1),b==="/"){o={index:n.i,isLineComment:!0};w=c.indexOf("\n",n.i+1);w<0&&(w=g);n.i=w;o.text=c.substr(o.i,n.i-o.i);n.commentStore.push(o);continue}else if(b==="*"&&(nt=c.substr(n.i),k=nt.match(/^\/\*(?:[^*]|\*+[^\/*])*\*+\//),k)){o={index:n.i,text:k[0],isLineComment:!1};n.i+=o.text.length-1;n.commentStore.push(o);continue}break}if(h!==l&&h!==v&&h!==a&&h!==y)break}if(i=i.slice(t+n.i-rt+d),u=n.i,!i.length){if(f<s.length-1)return i=s[++f],e(0),!0;n.finished=!0}return tt!==n.i||it!==f},n.peek=function(t){return typeof t=="string"?r.charAt(n.i)===t:t.test(i)},n.peekChar=function(t){return r.charAt(n.i)===t},n.currentChar=function(){return r.charAt(n.i)},n.getInput=function(){return r},n.peekNotNumeric=function(){var t=r.charCodeAt(n.i);return t>d||t<b||t===p||t===k},n.start=function(h,c,l){r=h;n.i=f=u=o=0;s=c?t(h,l):[h];i=s[0];e(0)},n.end=function(){var t,i=n.i>=r.length;return n.i<o&&(t=c,n.i=o),{isFinished:i,furthest:n.i,furthestPossibleErrorMessage:t,furthestReachedEnd:n.i>=r.length-1,furthestChar:r[n.i]}},n}},t["/parser/parser"]=function(){var i=n("/less-error"),t=n("/tree"),r=n("/visitors"),u=n("/parser/parser-input"),f=n("/utils");return function(n,e,o){function a(n,t){var i=Object.prototype.toString.call(n)==="[object Function]"?n.call(c):s.$(n);if(i)return i;h(t||(typeof n=="string"?"expected '"+n+"' got '"+s.currentChar()+"'":"unexpected token"))}function l(n,t){if(s.$char(n))return n;h(t||"expected '"+n+"' got '"+s.currentChar()+"'")}function h(n,t){throw new i({index:s.i,filename:o.filename,type:t||"Syntax",message:n},e);}function v(n){var t=o.filename;return{lineNumber:f.getLocation(n,s.getInput()).line+1,fileName:t}}var c,s=u();return{parse:function(u,f){var l,v=null,h,c,a;u=u.replace(/\r\n?/g,"\n");u=u.replace(/^\uFEFF/,"");e.contents[o.filename]=u;try{s.start(u,n.chunkInput,function(n,t){throw i({index:t,type:"Parse",message:n,filename:o.filename},e);});l=new t.Ruleset(null,this.parsers.primary());l.root=!0;l.firstRoot=!0}catch(y){return f(new i(y,e,o.filename))}if(h=s.end(),h.isFinished||(c=h.furthestPossibleErrorMessage,c||(c="Unrecognised input",h.furthestChar==="}"?c+=". Possibly missing opening '{'":h.furthestChar===")"?c+=". Possibly missing opening '('":h.furthestReachedEnd&&(c+=". Possibly missing something")),v=new i({type:"Parse",message:c,index:h.furthest,filename:o.filename},e)),a=function(n){return n=v||n||e.error,n?(n instanceof i||(n=new i(n,e,o.filename)),f(n)):f(null,l)},n.processImports!==!1)new r.ImportVisitor(e,a).run(l);else return a()},parsers:c={primary:function(){for(var i=this.mixin,t=[],n;;){for(;;){if(n=this.comment(),!n)break;t.push(n)}if(s.finished)break;if(s.peek("}"))break;if(n=this.extendRule(),n){t=t.concat(n);continue}if(n=i.definition()||this.rule()||this.ruleset()||i.call()||this.rulesetCall()||this.directive(),n)t.push(n);else if(!(s.$re(/^[\s\n]+/)||s.$re(/^;+/)))break}return t},comment:function(){if(s.commentStore.length){var n=s.commentStore.shift();return new t.Comment(n.text,n.isLineComment,n.index,o)}},entities:{quoted:function(){var n,i=s.i;return n=s.$re(/^(~)?("((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)')/),n?new t.Quoted(n[2],n[3]||n[4],Boolean(n[1]),i,o):void 0},keyword:function(){var n=s.$re(/^%|^[_A-Za-z-][_A-Za-z0-9-]*/);if(n)return t.Color.fromKeyword(n)||new t.Keyword(n)},call:function(){var n,r,u,i,f=s.i;if(!s.peek(/^url\(/i)){if(s.save(),n=s.$re(/^([\w-]+|%|progid:[\w\.]+)\(/),!n){s.forget();return}if(n=n[1],r=n.toLowerCase(),r==="alpha"&&(i=c.alpha(),i))return i;if(u=this.arguments(),!s.$char(")")){s.restore("Could not parse call arguments or missing ')'");return}return s.forget(),new t.Call(n,u,f,o)}},arguments:function(){for(var t=[],n;;){if(n=this.assignment()||c.expression(),!n)break;if(t.push(n),!s.$char(","))break}return t},literal:function(){return this.dimension()||this.color()||this.quoted()||this.unicodeDescriptor()},assignment:function(){var n,i;if(n=s.$re(/^\w+(?=\s?=)/i),n)return s.$char("=")?(i=c.entity(),i?new t.Assignment(n,i):void 0):void 0},url:function(){var n,i=s.i;if(s.autoCommentAbsorb=!1,s.currentChar()!=="u"||!s.$re(/^url\(/)){s.autoCommentAbsorb=!0;return}return n=this.quoted()||this.variable()||s.$re(/^(?:(?:\\[\(\)'"])|[^\(\)'"])+/)||"",s.autoCommentAbsorb=!0,l(")"),new t.URL(n.value!=null||n instanceof t.Variable?n:new t.Anonymous(n),i,o)},variable:function(){var n,i=s.i;if(s.currentChar()==="@"&&(n=s.$re(/^@@?[\w-]+/)))return new t.Variable(n,i,o)},variableCurly:function(){var n,i=s.i;if(s.currentChar()==="@"&&(n=s.$re(/^@\{([\w-]+)\}/)))return new t.Variable("@"+n[1],i,o)},color:function(){var i,n;if(s.currentChar()==="#"&&(i=s.$re(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/)))return n=i.input.match(/^#([\w]+).*/),n=n[1],n.match(/^[A-Fa-f0-9]+$/)||h("Invalid HEX color code"),new t.Color(i[1])},dimension:function(){if(!s.peekNotNumeric()){var n=s.$re(/^([+-]?\d*\.?\d+)(%|[a-z]+)?/i);if(n)return new t.Dimension(n[1],n[2])}},unicodeDescriptor:function(){var n;return n=s.$re(/^U\+[0-9a-fA-F?]+(\-[0-9a-fA-F?]+)?/),n?new t.UnicodeDescriptor(n[0]):void 0},javascript:function(){var n,i=s.i;return n=s.$re(/^(~)?`([^`]*)`/),n?new t.JavaScript(n[2],Boolean(n[1]),i,o):void 0}},variable:function(){var n;if(s.currentChar()==="@"&&(n=s.$re(/^(@[\w-]+)\s*:/)))return n[1]},rulesetCall:function(){var n;if(s.currentChar()==="@"&&(n=s.$re(/^(@[\w-]+)\s*\(\s*\)\s*;/)))return new t.RulesetCall(n[1])},extend:function(n){var i,u,o=s.i,r,f,e;if(n?s.$re(/^&:extend\(/):s.$re(/^:extend\(/)){do{for(r=null,i=null;!(r=s.$re(/^(all)(?=\s*(\)|,))/));){if(u=this.element(),!u)break;i?i.push(u):i=[u]}r=r&&r[1];i||h("Missing target selector for :extend().");e=new t.Extend(new t.Selector(i),r,o);f?f.push(e):f=[e]}while(s.$char(","));return a(/^\)/),n&&a(/^;/),f}},extendRule:function(){return this.extend(!0)},mixin:{call:function(){var u=s.currentChar(),f=!1,v=s.i,e,n,i,r,h,a;if(u==="."||u==="#"){for(s.save();;){if(e=s.i,r=s.$re(/^[#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/),!r)break;i=new t.Element(h,r,e,o);n?n.push(i):n=[i];h=s.$char(">")}if(n&&(s.$char("(")&&(a=this.args(!0).args,l(")")),c.important()&&(f=!0),c.end()))return s.forget(),new t.mixin.Call(n,a,v,o,f);s.restore()}},args:function(n){var p=c.entities,e={args:null,variadic:!1},o=[],l=[],a=[],r,w,v,y,u,i,f;for(s.save();;){if(n)i=c.detachedRuleset()||c.expression();else{if(s.commentStore.length=0,s.currentChar()==="."&&s.$re(/^\.{3}/)){e.variadic=!0;s.$char(";")&&!r&&(r=!0);(r?l:a).push({variadic:!0});break}i=p.variable()||p.literal()||p.keyword()}if(!i)break;if(y=null,i.throwAwayComments&&i.throwAwayComments(),u=i,f=null,n?i.value&&i.value.length==1&&(f=i.value[0]):f=i,f&&f instanceof t.Variable)if(s.$char(":")){if(o.length>0&&(r&&h("Cannot mix ; and , as delimiter types"),w=!0),u=n&&c.detachedRuleset()||c.expression(),!u)if(n)h("could not understand value for named argument");else return s.restore(),e.args=[],e;y=v=f.name}else if(!n&&s.$re(/^\.{3}/)){e.variadic=!0;s.$char(";")&&!r&&(r=!0);(r?l:a).push({name:i.name,variadic:!0});break}else n||(v=y=f.name,u=null);(u&&o.push(u),a.push({name:y,value:u}),s.$char(","))||(s.$char(";")||r)&&(w&&h("Cannot mix ; and , as delimiter types"),r=!0,o.length>1&&(u=new t.Value(o)),l.push({name:v,value:u}),v=null,o=[],w=!1)}return s.forget(),e.args=r?l:a,e},definition:function(){var u,f=[],n,i,e,o=!1,r;if((s.currentChar()==="."||s.currentChar()==="#")&&!s.peek(/^[^{]*\}/))if(s.save(),n=s.$re(/^([#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\s*\(/),n){if(u=n[1],r=this.args(!1),f=r.args,o=r.variadic,!s.$char(")")){s.restore("Missing closing ')'");return}if(s.commentStore.length=0,s.$re(/^when/)&&(e=a(c.conditions,"expected condition")),i=c.block(),i)return s.forget(),new t.mixin.Definition(u,f,i,e,o);s.restore()}else s.forget()}},entity:function(){var n=this.entities;return this.comment()||n.literal()||n.variable()||n.url()||n.call()||n.keyword()||n.javascript()},end:function(){return s.$char(";")||s.peek("}")},alpha:function(){var n;if(s.$re(/^opacity=/i))return n=s.$re(/^\d+/),n||(n=a(this.entities.variable,"Could not parse alpha")),l(")"),new t.Alpha(n)},element:function(){var n,i,r,u=s.i;return i=this.combinator(),n=s.$re(/^(?:\d+\.\d+|\d+)%/)||s.$re(/^(?:[.#]?|:*)(?:[\w-]|[^\x00-\x9f]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)||s.$char("*")||s.$char("&")||this.attribute()||s.$re(/^\([^&()@]+\)/)||s.$re(/^[\.#:](?=@)/)||this.entities.variableCurly(),n||(s.save(),s.$char("(")?(r=this.selector())&&s.$char(")")?(n=new t.Paren(r),s.forget()):s.restore("Missing closing ')'"):s.forget()),n?new t.Element(i,n,u,o):void 0},combinator:function(){var n=s.currentChar(),i;if(n==="/"){if(s.save(),i=s.$re(/^\/[a-z]+\//i),i)return s.forget(),new t.Combinator(i);s.restore()}if(n===">"||n==="+"||n==="~"||n==="|"||n==="^"){for(s.i++,n==="^"&&s.currentChar()==="^"&&(n="^^",s.i++);s.isWhitespace();)s.i++;return new t.Combinator(n)}return s.isWhitespace(-1)?new t.Combinator(" "):new t.Combinator(null)},lessSelector:function(){return this.selector(!0)},selector:function(n){for(var v=s.i,u,f,i,e,r,l,c;n&&(f=this.extend())||n&&(l=s.$re(/^when/))||(e=this.element());)if(l?c=a(this.conditions,"expected condition"):c?h("CSS guard can only be used at the end of selector"):f?r=r?r.concat(f):f:(r&&h("Extend can only be used at the end of selector"),i=s.currentChar(),u?u.push(e):u=[e],e=null),i==="{"||i==="}"||i===";"||i===","||i===")")break;if(u)return new t.Selector(u,r,c,v,o);r&&h("Extend must be used to extend a selector, it cannot be used on its own")},attribute:function(){if(s.$char("[")){var n=this.entities,i,u,r;return(i=n.variableCurly())||(i=a(/^(?:[_A-Za-z0-9-\*]*\|)?(?:[_A-Za-z0-9-]|\\.)+/)),r=s.$re(/^[|~*$^]?=/),r&&(u=n.quoted()||s.$re(/^[0-9]+%/)||s.$re(/^[\w-]+/)||n.variableCurly()),l("]"),new t.Attribute(i,r,u)}},block:function(){var n;if(s.$char("{")&&(n=this.primary())&&s.$char("}"))return n},blockRuleset:function(){var n=this.block();return n&&(n=new t.Ruleset(null,n)),n},detachedRuleset:function(){var n=this.blockRuleset();if(n)return new t.DetachedRuleset(n)},ruleset:function(){var i,r,f,e,u;for(s.save(),n.dumpLineNumbers&&(e=v(s.i));;){if(r=this.lessSelector(),!r)break;if(i?i.push(r):i=[r],s.commentStore.length=0,r.condition&&i.length>1&&h("Guards are only currently allowed on a single selector."),!s.$char(","))break;r.condition&&h("Guards are only currently allowed on a single selector.");s.commentStore.length=0}if(i&&(f=this.block()))return s.forget(),u=new t.Ruleset(i,f,n.strictImports),n.dumpLineNumbers&&(u.debugInfo=e),u;s.restore()},rule:function(i){var u,r,l=s.i,e=s.currentChar(),a,h,f,c;if(e!=="."&&e!=="#"&&e!=="&")if(s.save(),u=this.variable()||this.ruleProperty(),u){if(f=typeof u=="string",f&&(r=this.detachedRuleset()),s.commentStore.length=0,!r){if(h=!f&&u.pop().value,c=!i&&(n.compress||f),c&&(r=this.value()),!r&&(r=this.anonymousValue(),r))return s.forget(),new t.Rule(u,r,!1,h,l,o);c||r||(r=this.value());a=this.important()}if(r&&this.end())return s.forget(),new t.Rule(u,r,a,h,l,o);if(s.restore(),r&&!i)return this.rule(!0)}else s.forget()},anonymousValue:function(){var n=s.$re(/^([^@+\/'"*`(;{}-]*);/);if(n)return new t.Anonymous(n[1])},"import":function(){var r,n,i=s.i,u=s.$re(/^@import?\s+/),f;if(u){if(f=(u?this.importOptions():null)||{},r=this.entities.quoted()||this.entities.url())return n=this.mediaFeatures(),s.$(";")||(s.i=i,h("missing semi-colon or unrecognised media features on import")),n=n&&new t.Value(n),new t.Import(r,n,f,i,o);s.i=i;h("malformed import statement")}},importOptions:function(){var t,r={},n,i;if(!s.$char("("))return null;do if(t=this.importOption(),t){n=t;i=!0;switch(n){case"css":n="less";i=!1;break;case"once":n="multiple";i=!1}if(r[n]=i,!s.$char(","))break}while(t);return l(")"),r},importOption:function(){var n=s.$re(/^(less|css|multiple|once|inline|reference|optional)/);if(n)return n[1]},mediaFeature:function(){var u=this.entities,i=[],n,r;s.save();do if(n=u.keyword()||u.variable(),n)i.push(n);else if(s.$char("("))if(r=this.property(),n=this.value(),s.$char(")"))if(r&&n)i.push(new t.Paren(new t.Rule(r,n,null,null,s.i,o,!0)));else if(n)i.push(new t.Paren(n));else return s.restore("badly formed media feature definition"),null;else return s.restore("Missing closing ')'"),null;while(n);return s.forget(),i.length>0?new t.Expression(i):void 0},mediaFeatures:function(){var i=this.entities,t=[],n;do if(n=this.mediaFeature(),n){if(t.push(n),!s.$char(","))break}else if(n=i.variable(),n&&(t.push(n),!s.$char(",")))break;while(n);return t.length>0?t:null},media:function(){var u,i,r,f;return n.dumpLineNumbers&&(f=v(s.i)),s.$re(/^@media/)&&(u=this.mediaFeatures(),i=this.block(),i)?(r=new t.Media(i,u,s.i,o),n.dumpLineNumbers&&(r.debugInfo=f),r):void 0},directive:function(){var l=s.i,r,i,e,c,f,a,y,u=!0;if(s.currentChar()==="@"){if(i=this["import"]()||this.media(),i)return i;if(s.save(),r=s.$re(/^@[a-z-]+/),r){c=r;r.charAt(1)=="-"&&r.indexOf("-",2)>0&&(c="@"+r.slice(r.indexOf("-",2)+1));switch(c){case"@counter-style":f=!0;u=!0;break;case"@charset":f=!0;u=!1;break;case"@namespace":a=!0;u=!1;break;case"@keyframes":f=!0;break;case"@host":case"@page":case"@document":case"@supports":y=!0}if(s.commentStore.length=0,f?(i=this.entity(),i||h("expected "+r+" identifier")):a?(i=this.expression(),i||h("expected "+r+" expression")):y&&(i=(s.$re(/^[^{;]+/)||"").trim(),i&&(i=new t.Anonymous(i))),u&&(e=this.blockRuleset()),e||!u&&i&&s.$char(";"))return s.forget(),new t.Directive(r,i,e,l,o,n.dumpLineNumbers?v(l):null);s.restore("directive options not recognised")}}},value:function(){var n,i=[];do if(n=this.expression(),n&&(i.push(n),!s.$char(",")))break;while(n);if(i.length>0)return new t.Value(i)},important:function(){if(s.currentChar()==="!")return s.$re(/^! *important/)},sub:function(){var n,i;if(s.save(),s.$char("(")){if(n=this.addition(),n&&s.$char(")"))return s.forget(),i=new t.Expression([n]),i.parens=!0,i;s.restore("Expected ')'");return}s.restore()},multiplication:function(){var n,i,r,u,f;if(n=this.operand(),n){for(f=s.isWhitespace(-1);;){if(s.peek(/^\/[*\/]/))break;if(s.save(),r=s.$char("/")||s.$char("*"),!r){s.forget();break}if(i=this.operand(),!i){s.restore();break}s.forget();n.parensInOp=!0;i.parensInOp=!0;u=new t.Operation(r,[u||n,i],f);f=s.isWhitespace(-1)}return u||n}},addition:function(){var n,i,u,f,r;if(n=this.multiplication(),n){for(r=s.isWhitespace(-1);;){if(u=s.$re(/^[-+]\s+/)||!r&&(s.$char("+")||s.$char("-")),!u)break;if(i=this.multiplication(),!i)break;n.parensInOp=!0;i.parensInOp=!0;f=new t.Operation(u,[f||n,i],r);r=s.isWhitespace(-1)}return f||n}},conditions:function(){var n,i,u=s.i,r;if(n=this.condition(),n){for(;;){if(!s.peek(/^,\s*(not\s*)?\(/)||!s.$char(","))break;if(i=this.condition(),!i)break;r=new t.Condition("or",r||n,i,u)}return r||n}},condition:function(){var n=this.entities,o=s.i,u=!1,i,f,r,e;return s.$re(/^not/)&&(u=!0),l("("),i=this.addition()||n.keyword()||n.quoted(),i?(e=s.$re(/^(?:>=|<=|=<|[<=>])/),e?(f=this.addition()||n.keyword()||n.quoted(),f?r=new t.Condition(e,i,f,o,u):h("expected expression")):r=new t.Condition("=",i,new t.Keyword("true"),o,u),l(")"),s.$re(/^and/)?new t.Condition("and",r,this.condition()):r):void 0},operand:function(){var i=this.entities,r,n;return s.peek(/^-[@\(]/)&&(r=s.$char("-")),n=this.sub()||i.dimension()||i.color()||i.variable()||i.call(),r&&(n.parensInOp=!0,n=new t.Negative(n)),n},expression:function(){var i=[],n,r;do{if(n=this.comment(),n){i.push(n);continue}n=this.addition()||this.entity();n&&(i.push(n),s.peek(/^\/[\/*]/)||(r=s.$char("/"),r&&i.push(new t.Anonymous(r))))}while(n);if(i.length>0)return new t.Expression(i)},property:function(){var n=s.$re(/^(\*?-?[_a-zA-Z0-9-]+)\s*:/);if(n)return n[1]},ruleProperty:function(){function f(t){var r=s.i,i=s.$re(t);if(i)return u.push(r),n.push(i[1])}var n=[],u=[],r,i;for(s.save(),f(/^(\*?)/);;)if(!f(/^((?:[\w-]+)|(?:@\{[\w-]+\}))/))break;if(n.length>1&&f(/^((?:\+_|\+)?)\s*:/)){for(s.forget(),n[0]===""&&(n.shift(),u.shift()),i=0;i<n.length;i++)r=n[i],n[i]=r.charAt(0)!=="@"?new t.Keyword(r):new t.Variable("@"+r.slice(2,-1),u[i],o);return n}s.restore()}}}}},t["/functions/color"]=function(){function u(n){return Math.min(1,Math.max(0,n))}function f(n){return i.hsla(n.h,n.s,n.l,n.a)}function r(n){if(n instanceof t)return parseFloat(n.unit.is("%")?n.value/100:n.value);if(typeof n=="number")return n;throw{type:"Argument",message:"color functions take numbers as parameters"};}function c(n,i){return n instanceof t&&n.unit.is("%")?parseFloat(n.value*i/100):r(n)}var t=n("/tree/dimension"),e=n("/tree/color"),o=n("/tree/quoted"),s=n("/tree/anonymous"),h=n("/functions/function-registry"),i;i={rgb:function(n,t,r){return i.rgba(n,t,r,1)},rgba:function(n,t,i,u){var f=[n,t,i].map(function(n){return c(n,255)});return u=r(u),new e(f,u)},hsl:function(n,t,r){return i.hsla(n,t,r,1)},hsla:function(n,t,f,e){function h(n){return n=n<0?n+1:n>1?n-1:n,n*6<1?o+(s-o)*n*6:n*2<1?s:n*3<2?o+(s-o)*(2/3-n)*6:o}n=r(n)%360/360;t=u(r(t));f=u(r(f));e=u(r(e));var s=f<=.5?f*(t+1):f+t-f*t,o=f*2-s;return i.rgba(h(n+1/3)*255,h(n)*255,h(n-1/3)*255,e)},hsv:function(n,t,r){return i.hsva(n,t,r,1)},hsva:function(n,t,u,f){var e,h,o,s;return n=r(n)%360*1,t=r(t),u=r(u),f=r(f),e=Math.floor(n/60%6),h=n/60-e,o=[u,u*(1-t),u*(1-h*t),u*(1-(1-h)*t)],s=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],i.rgba(o[s[e][0]]*255,o[s[e][1]]*255,o[s[e][2]]*255,f)},hue:function(n){return new t(n.toHSL().h)},saturation:function(n){return new t(n.toHSL().s*100,"%")},lightness:function(n){return new t(n.toHSL().l*100,"%")},hsvhue:function(n){return new t(n.toHSV().h)},hsvsaturation:function(n){return new t(n.toHSV().s*100,"%")},hsvvalue:function(n){return new t(n.toHSV().v*100,"%")},red:function(n){return new t(n.rgb[0])},green:function(n){return new t(n.rgb[1])},blue:function(n){return new t(n.rgb[2])},alpha:function(n){return new t(n.toHSL().a)},luma:function(n){return new t(n.luma()*n.alpha*100,"%")},luminance:function(n){var i=.2126*n.rgb[0]/255+.7152*n.rgb[1]/255+.0722*n.rgb[2]/255;return new t(i*n.alpha*100,"%")},saturate:function(n,t){if(!n.rgb)return null;var i=n.toHSL();return i.s+=t.value/100,i.s=u(i.s),f(i)},desaturate:function(n,t){var i=n.toHSL();return i.s-=t.value/100,i.s=u(i.s),f(i)},lighten:function(n,t){var i=n.toHSL();return i.l+=t.value/100,i.l=u(i.l),f(i)},darken:function(n,t){var i=n.toHSL();return i.l-=t.value/100,i.l=u(i.l),f(i)},fadein:function(n,t){var i=n.toHSL();return i.a+=t.value/100,i.a=u(i.a),f(i)},fadeout:function(n,t){var i=n.toHSL();return i.a-=t.value/100,i.a=u(i.a),f(i)},fade:function(n,t){var i=n.toHSL();return i.a=t.value/100,i.a=u(i.a),f(i)},spin:function(n,t){var i=n.toHSL(),r=(i.h+t.value)%360;return i.h=r<0?360+r:r,f(i)},mix:function(n,i,r){r||(r=new t(50));var o=r.value/100,u=o*2-1,s=n.toHSL().a-i.toHSL().a,f=((u*s==-1?u:(u+s)/(1+u*s))+1)/2,h=1-f,c=[n.rgb[0]*f+i.rgb[0]*h,n.rgb[1]*f+i.rgb[1]*h,n.rgb[2]*f+i.rgb[2]*h],l=n.alpha*o+i.alpha*(1-o);return new e(c,l)},greyscale:function(n){return i.desaturate(n,new t(100))},contrast:function(n,t,u,f){if(!n.rgb)return null;if(typeof u=="undefined"&&(u=i.rgba(255,255,255,1)),typeof t=="undefined"&&(t=i.rgba(0,0,0,1)),t.luma()>u.luma()){var e=u;u=t;t=e}return f=typeof f=="undefined"?.43:r(f),n.luma()<f?u:t},argb:function(n){return new s(n.toARGB())},color:function(n){if(n instanceof o&&/^#([a-f0-9]{6}|[a-f0-9]{3})$/i.test(n.value))return new e(n.value.slice(1));if(n instanceof e||(n=e.fromKeyword(n.value)))return n.value=undefined,n;throw{type:"Argument",message:"argument must be a color keyword or 3/6 digit hex e.g. #FFF"};},tint:function(n,t){return i.mix(i.rgb(255,255,255),n,t)},shade:function(n,t){return i.mix(i.rgb(0,0,0),n,t)}};h.addMultiple(i)},t["/functions/color-blending"]=function(){function i(n,t,i){for(var c=t.alpha,f,e=i.alpha,o,h,l=[],s=e+c*(1-e),r=0;r<3;r++)f=t.rgb[r]/255,o=i.rgb[r]/255,h=n(f,o),s&&(h=(e*o+c*(f-e*(f+o-h)))/s),l[r]=h*255;return new u(l,s)}var u=n("/tree/color"),f=n("/functions/function-registry"),t={multiply:function(n,t){return n*t},screen:function(n,t){return n+t-n*t},overlay:function(n,i){return n*=2,n<=1?t.multiply(n,i):t.screen(n-1,i)},softlight:function(n,t){var i=1,r=n;return t>.5&&(r=1,i=n>.25?Math.sqrt(n):((16*n-12)*n+4)*n),n-(1-2*t)*r*(i-n)},hardlight:function(n,i){return t.overlay(i,n)},difference:function(n,t){return Math.abs(n-t)},exclusion:function(n,t){return n+t-2*n*t},average:function(n,t){return(n+t)/2},negation:function(n,t){return 1-Math.abs(n+t-1)}};for(var r in t)t.hasOwnProperty(r)&&(i[r]=i.bind(null,t[r]));f.addMultiple(i)},t["/functions/data-uri"]=function(){return function(){var t=n("/tree/url"),i=n("/functions/function-registry"),r=function(n,i){return new t(i,n.index,n.currentFileInfo).eval(n.context)};i.add("data-uri",function(n,t){return r(this,t||n)})}},t["/functions/math"]=function(){function u(n,t,i){if(!(i instanceof r))throw{type:"Argument",message:"argument must be a number"};return t==null?t=i.unit:i=i.unify(),new r(n(parseFloat(i.value)),t)}var r=n("/tree/dimension"),f=n("/functions/function-registry"),t={ceil:null,floor:null,sqrt:null,abs:null,tan:"",sin:"",cos:"",atan:"rad",asin:"rad",acos:"rad"};for(var i in t)t.hasOwnProperty(i)&&(t[i]=u.bind(null,Math[i],t[i]));t.round=function(n,t){var i=typeof t=="undefined"?0:t.value;return u(function(n){return n.toFixed(i)},null,n)};f.addMultiple(t)},t["/functions/number"]=function(){var t=n("/tree/dimension"),r=n("/tree/anonymous"),u=n("/functions/function-registry"),i=function(n,i){i=Array.prototype.slice.call(i);switch(i.length){case 0:throw{type:"Argument",message:"one or more arguments required"};}for(var c,e,l,v,u,o,s,f=[],a={},h=0;h<i.length;h++){if(e=i[h],!(e instanceof t)){Array.isArray(i[h].value)&&Array.prototype.push.apply(i,Array.prototype.slice.call(i[h].value));continue}if(l=e.unit.toString()===""&&s!==undefined?new t(e.value,s).unify():e.unify(),u=l.unit.toString()===""&&o!==undefined?o:l.unit.toString(),o=u!==""&&o===undefined||u!==""&&f[0].unify().unit.toString()===""?u:o,s=u!==""&&s===undefined?e.unit.toString():s,c=a[""]!==undefined&&u!==""&&u===o?a[""]:a[u],c===undefined){if(o!==undefined&&u!==o)throw{type:"Argument",message:"incompatible types"};a[u]=f.length;f.push(e);continue}v=f[c].unit.toString()===""&&s!==undefined?new t(f[c].value,s).unify():f[c].unify();(n&&l.value<v.value||!n&&l.value>v.value)&&(f[c]=e)}return f.length==1?f[0]:(i=f.map(function(n){return n.toCSS(this.context)}).join(this.context.compress?",":", "),new r((n?"min":"max")+"("+i+")"))};u.addMultiple({min:function(){return i(!0,arguments)},max:function(){return i(!1,arguments)},convert:function(n,t){return n.convertTo(t.value)},pi:function(){return new t(Math.PI)},mod:function(n,i){return new t(n.value%i.value,n.unit)},pow:function(n,i){if(typeof n=="number"&&typeof i=="number")n=new t(n),i=new t(i);else if(!(n instanceof t)||!(i instanceof t))throw{type:"Argument",message:"arguments must be numbers"};return new t(Math.pow(n.value,i.value),n.unit)},percentage:function(n){return new t(n.value*100,"%")}})},t["/functions/string"]=function(){var t=n("/tree/quoted"),i=n("/tree/anonymous"),r=n("/tree/javascript"),u=n("/functions/function-registry");u.addMultiple({e:function(n){return new i(n instanceof r?n.evaluated:n.value)},escape:function(n){return new i(encodeURI(n.value).replace(/=/g,"%3D").replace(/:/g,"%3A").replace(/#/g,"%23").replace(/;/g,"%3B").replace(/\(/g,"%28").replace(/\)/g,"%29"))},replace:function(n,i,r,u){var f=n.value;return f=f.replace(new RegExp(i.value,u?u.value:""),r.value),new t(n.quote||"",f,n.escaped)},"%":function(n){for(var u=Array.prototype.slice.call(arguments,1),i=n.value,r=0;r<u.length;r++)i=i.replace(/%[sda]/i,function(n){var t=n.match(/s/i)?u[r].value:u[r].toCSS();return n.match(/[A-Z]$/)?encodeURIComponent(t):t});return i=i.replace(/%%/g,"%"),new t(n.quote||"",i,n.escaped)}})},t["/functions/svg"]=function(){return function(){var t=n("/tree/dimension"),i=n("/tree/color"),r=n("/tree/expression"),u=n("/tree/quoted"),f=n("/tree/url"),e=n("/functions/function-registry");e.add("svg-gradient",function(n){function y(){throw{type:"Argument",message:"svg-gradient expects direction, start_color [start_position], [color position,]..., end_color [end_position]"};}arguments.length<3&&y();var s=Array.prototype.slice.call(arguments,1),h,a="linear",p='x="0" y="0" width="1" height="1"',w={compress:!1},o,k=n.toCSS(w),e,l,c,b,v;switch(k){case"to bottom":h='x1="0%" y1="0%" x2="0%" y2="100%"';break;case"to right":h='x1="0%" y1="0%" x2="100%" y2="0%"';break;case"to bottom right":h='x1="0%" y1="0%" x2="100%" y2="100%"';break;case"to top right":h='x1="0%" y1="100%" x2="100%" y2="0%"';break;case"ellipse":case"ellipse at center":a="radial";h='cx="50%" cy="50%" r="75%"';p='x="-50" y="-50" width="101" height="101"';break;default:throw{type:"Argument",message:"svg-gradient direction must be 'to bottom', 'to right', 'to bottom right', 'to top right' or 'ellipse at center'"};}for(o='<?xml version="1.0" ?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none"><'+a+'Gradient id="gradient" gradientUnits="userSpaceOnUse" '+h+">",e=0;e<s.length;e+=1)s[e]instanceof r?(l=s[e].value[0],c=s[e].value[1]):(l=s[e],c=undefined),l instanceof i&&((e===0||e+1===s.length)&&c===undefined||c instanceof t)||y(),b=c?c.toCSS(w):e===0?"0%":"100%",v=l.alpha,o+='<stop offset="'+b+'" stop-color="'+l.toRGB()+'"'+(v<1?' stop-opacity="'+v+'"':"")+"/>";return o+="<\/"+a+"Gradient><rect "+p+' fill="url(#gradient)" /><\/svg>',o=encodeURIComponent(o),o="data:image/svg+xml,"+o,new f(new u("'"+o+"'",o,!1,this.index,this.currentFileInfo),this.index,this.currentFileInfo)})}},t["/functions/types"]=function(){var t=n("/tree/keyword"),e=n("/tree/detached-ruleset"),r=n("/tree/dimension"),o=n("/tree/color"),s=n("/tree/quoted"),h=n("/tree/anonymous"),c=n("/tree/url"),l=n("/tree/operation"),a=n("/functions/function-registry"),i=function(n,i){return n instanceof i?t.True:t.False},u=function(n,i){if(i===undefined)throw{type:"Argument",message:"missing the required second argument to isunit."};if(i=typeof i.value=="string"?i.value:i,typeof i!="string")throw{type:"Argument",message:"Second argument to isunit should be a unit or a string."};return n instanceof r&&n.unit.is(i)?t.True:t.False},f=function(n){var t=Array.isArray(n.value)?n.value:Array(n);return t.filter(function(n){return n.type==="Comment"?!1:!0})};a.addMultiple({isruleset:function(n){return i(n,e)},iscolor:function(n){return i(n,o)},isnumber:function(n){return i(n,r)},isstring:function(n){return i(n,s)},iskeyword:function(n){return i(n,t)},isurl:function(n){return i(n,c)},ispixel:function(n){return u(n,"px")},ispercentage:function(n){return u(n,"%")},isem:function(n){return u(n,"em")},isunit:u,unit:function(n,i){if(!(n instanceof r))throw{type:"Argument",message:"the first argument to unit must be a number"+(n instanceof l?". Have you forgotten parenthesis?":"")};return i=i?i instanceof t?i.value:i.toCSS():"",new r(n.value,i)},"get-unit":function(n){return new h(n.unit)},extract:function(n,t){return t=t.value-1,f(n)[t]},length:function(n){return new r(f(n).length)}})},t["/functions"]=function(){return function(t){var i={functionRegistry:n("/functions/function-registry"),functionCaller:n("/functions/function-caller")};return n("/functions/default"),n("/functions/color"),n("/functions/color-blending"),n("/functions/data-uri")(t),n("/functions/math"),n("/functions/number"),n("/functions/string"),n("/functions/svg")(t),n("/functions/types"),i}},t["/transform-tree"]=function(){var r=n("/contexts"),i=n("/visitors"),t=n("/tree");return function(n,u){var o,e,s,h,c,f;for(u=u||{},e=u.variables,s=new r.Eval(u),typeof e!="object"||Array.isArray(e)||(e=Object.keys(e).map(function(n){var i=e[n];return i instanceof t.Value||(i instanceof t.Expression||(i=new t.Expression([i])),i=new t.Value([i])),new t.Rule("@"+n,i,!1,null,0)}),s.frames=[new t.Ruleset(null,e)]),h=[],c=[new i.JoinSelectorVisitor,new i.ExtendVisitor,new i.ToCSSVisitor({compress:Boolean(u.compress)})],f=0;f<h.length;f++)h[f].run(n);for(o=n.eval(s),f=0;f<c.length;f++)c[f].run(o);return o}},t["/parse-tree"]=function(){var t=n("/less-error"),i=n("/transform-tree");return function(){var n=function(n,t){this.root=n;this.imports=t};return n.prototype.toCSS=function(n){var f,r={},o,s,u;try{f=i(this.root,n)}catch(e){throw new t(e,this.imports);}try{o=Boolean(n.compress);s={compress:o,dumpLineNumbers:n.dumpLineNumbers,strictUnits:Boolean(n.strictUnits),numPrecision:8};r.css=f.toCSS(s)}catch(e){throw new t(e,this.imports);}r.imports=[];for(u in this.imports.files)this.imports.files.hasOwnProperty(u)&&u!==this.imports.rootFilename&&r.imports.push(u);return r},n}},t["/import-manager"]=function(){var t=n("/contexts"),i=n("/parser/parser");return function(n){var r=function(n,t){this.rootFilename=t.filename;this.paths=n.paths||[];this.contents={};this.contentsIgnoredChars={};this.mime=n.mime;this.error=null;this.context=n;this.queue=[];this.files={}};return r.prototype.push=function(r,u,f,e,o){var h=this,a;this.queue.push(r);var l=function(n,t,i){h.queue.splice(h.queue.indexOf(r),1);var u=i===h.rootFilename;e.optional&&n?o(null,{rules:[]},!1,null):(h.files[i]=t,n&&!h.error&&(h.error=n),o(n,t,u,i))},s={relativeUrls:this.context.relativeUrls,entryPath:f.entryPath,rootpath:f.rootpath,rootFilename:f.rootFilename},c=n.getFileManager(r,f.currentDirectory,this.context,n);if(!c){l({message:"Could not find a file-manager for "+r});return}u&&(r=c.tryAppendLessExtension(r));a=function(n){var r=n.filename,u=n.contents.replace(/^\uFEFF/,""),o;s.currentDirectory=c.getPath(r);s.relativeUrls&&(s.rootpath=c.join(h.context.rootpath||"",c.pathDiff(s.currentDirectory,s.entryPath)),!c.isPathAbsolute(s.rootpath)&&c.alwaysMakePathsAbsolute()&&(s.rootpath=c.join(s.entryPath,s.rootpath)));s.filename=r;o=new t.Parse(h.context);o.processImports=!1;h.contents[r]=u;(f.reference||e.reference)&&(s.reference=!0);e.inline?l(null,u,r):new i(o,h,s).parse(u,function(n,t){l(n,t,r)})};c.loadFile(r,f.currentDirectory,this.context,n,function(n,t){n?l(n):a(t)})},r}},t["/render"]=function(){return function(n,t){return function(n,i,r){typeof i=="function"&&(r=i,i={});this.parse(n,i,function(n,i,u,f){var e,o;if(n)return r(n);try{o=new t(i,u);e=o.toCSS(f)}catch(n){return r(n)}r(null,e)})}}},t["/parse"]=function(){var t=n("/contexts"),i=n("/parser/parser");return function(n,r,u){return function(n,r,f){var o,e,s,h,c;r=r||{};typeof r=="function"&&(f=r,r={});o=new t.Parse(r);r.rootFileInfo?e=r.rootFileInfo:(s=r.filename||"input",h=s.replace(/[^\/\\]*$/,""),e={filename:s,relativeUrls:o.relativeUrls,rootpath:o.rootpath||"",currentDirectory:h,entryPath:h,rootFilename:s},e.rootpath&&e.rootpath.slice(-1)!=="/"&&(e.rootpath+="/"));c=new u(o,e);new i(o,c,e).parse(n,function(n,t){if(n)return f(n);f(null,t,c,r)},r)}}},t["/"]=function(){return function(t,i){var r,u,f;return{version:[2,4,0],data:n("/data"),tree:n("/tree"),Environment:f=n("/environment/environment"),AbstractFileManager:n("/environment/abstract-file-manager"),environment:t=new f(t,i),visitors:n("/visitors"),Parser:n("/parser/parser"),functions:n("/functions")(t),contexts:n("/contexts"),ParseTree:r=n("/parse-tree")(),ImportManager:u=n("/import-manager")(t),render:n("/render")(t,r,u),parse:n("/parse")(t,r,u),LessError:n("/less-error"),transformTree:n("/transform-tree"),utils:n("/utils")}}},{AbstractFileManager:n("/environment/abstract-file-manager"),createFromEnvironment:n("/")}}()